webpackHotUpdate_N_E("pages/piano/v2",{

/***/ "./apps/author/piano/v2/App.ts":
/*!*************************************!*\
  !*** ./apps/author/piano/v2/App.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! apps/author/piano/shared/SharpsAndFlatsManager */ \"./apps/author/piano/shared/SharpsAndFlatsManager.ts\");\n/* harmony import */ var apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! apps/author/piano/v2/Highlight */ \"./apps/author/piano/v2/Highlight.ts\");\n/* harmony import */ var apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! apps/author/piano/v2/Music */ \"./apps/author/piano/v2/Music.ts\");\n/* harmony import */ var apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! apps/shared/Constants */ \"./apps/shared/Constants.ts\");\n/* harmony import */ var apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! apps/shared/midi/MIDIFileIO */ \"./apps/shared/midi/MIDIFileIO.ts\");\n/* harmony import */ var apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! apps/shared/midi/MIDIUtils */ \"./apps/shared/midi/MIDIUtils.ts\");\n/* harmony import */ var apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! apps/shared/redux/Actions */ \"./apps/shared/redux/Actions.ts\");\n/* harmony import */ var apps_shared_sound_Instrument__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! apps/shared/sound/Instrument */ \"./apps/shared/sound/Instrument.ts\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash.throttle */ \"./node_modules/lodash.throttle/index.js\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n\n\n\nvar MIDIEvents = __webpack_require__(/*! midievents */ \"./node_modules/midievents/src/MIDIEvents.js\");\n\nvar Keys = apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].StoreKeys;\nvar TIME_THRESHOLD_FOR_GROUPING_NEARBY_NOTES = 0; // Adjust this for parsing MIDI recordings of piano performances by humans (i.e., imprecise timing).\n// Dispatch events and send data to the global store.\n\nvar dispatch = null; /////////////////////////////////////////////////////////////////////////////////\n// declare types that are defined in 3rd party libraries\n// TODO\n/////////////////////////////////////////////////////////////////////////////////\n\nvar TIME_BETWEEN_NOTEGROUPS = 250;\nvar octaveOffset = 0; // piano key numbers % 12\n\nvar blackKeys = [2, -1, 5, 7, -1, 10, 0]; // -1 is for the spaces where there are no black keys\n\nvar whiteKeys = [1, 3, 4, 6, 8, 9, 11];\nvar noteLabels = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"];\nvar sharpOrFlatModifier = 0;\nvar piano = null;\nvar Keyboard;\n\n(function (_Keyboard) {\n  var labels = _Keyboard.labels = [\"z\", \"x\", // G A B\n  \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", // C D E F G A B\n  \"/\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", // C D E F G A B\n  \"j\", \"k\", \"l\", \";\", \"q\", \"w\", \"e\", // C D E F G A B\n  \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", // C D E F G A B\n  \"[\", \"]\", \"\\\\\", \"1\", \"2\", \"3\", \"4\", // C D E F G A B\n  \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \"-\", // C D E F G A B\n  \"=\" // C\n  ];\n  // TODO: Extract \"z\" and \"keyCodeToPianoKeyNumber\" give it a better name!\n  // #TODO: #XKWIALDZA FIGURE THIS OUT\n  // The goal is to match the Apple GarageBand Musical Typing key mapping.\n  // Type A and K should invoke the piano key \"C\".\n  // Z should be one octave lower than A. Comma should be the same as A.\n  // Q should be the same as K. I should be one octave higher than K.\n  // Allowing for a customizable offset means that when we change key signatures, we can change the offset by a couple of semitones.\n  // Anyways... figure this out yo!\n  var z = -2;\n  var keyCodeToPianoKeyNumber = _Keyboard.keyCodeToPianoKeyNumber = {\n    90: 13 + z,\n    // z => A\n    88: 15 + z,\n    // x => B\n    //\n    67: 16 + z,\n    // c => C2\n    86: 18 + z,\n    // v => D\n    66: 20 + z,\n    // b => E\n    78: 21 + z,\n    // n => F\n    77: 23 + z,\n    // m => G\n    188: 25 + z,\n    // , => A\n    190: 27 + z,\n    // . => B\n    //\n    191: 28 + z,\n    // / => C3\n    65: 30 + z,\n    // a => D\n    83: 32 + z,\n    // s => E\n    68: 33 + z,\n    // d => F\n    70: 35 + z,\n    // f => G\n    71: 37 + z,\n    // g => A\n    72: 39 + z,\n    // h => B\n    //\n    74: 40 + z,\n    // j => C4 (Middle C)\n    75: 42 + z,\n    // k => D\n    76: 44 + z,\n    // l => E\n    186: 45 + z,\n    // ; => F in Chrome\n    59: 45 + z,\n    // ; => F in Firefox\n    222: 47 + z,\n    // ' => G\n    81: 47 + z,\n    // q => G\n    87: 49 + z,\n    // w => A\n    69: 51 + z,\n    // e => B\n    //\n    82: 52 + z,\n    // r => C5\n    84: 54 + z,\n    // t => D\n    89: 56 + z,\n    // y => E\n    85: 57 + z,\n    // u => F\n    73: 59 + z,\n    // i => G\n    79: 61 + z,\n    // o => A\n    80: 63 + z,\n    // p => B\n    //\n    219: 64 + z,\n    // [ => C6\n    221: 66 + z,\n    // ] => D\n    220: 68 + z,\n    // \\ => E\n    49: 69 + z,\n    // 1 => F\n    50: 71 + z,\n    // 2 => G\n    51: 73 + z,\n    // 3 => A\n    52: 75 + z,\n    // 4 => B\n    //\n    53: 76 + z,\n    // 5 => C7\n    54: 78 + z,\n    // 6 => D\n    55: 80 + z,\n    // 7 => E\n    56: 81 + z,\n    // 8 => F\n    57: 83 + z,\n    // 9 => G\n    48: 85 + z,\n    // 0 => A\n    189: 87 + z,\n    // - => B\n    //\n    187: 88 + z // = => C8\n\n  };\n})(Keyboard || (Keyboard = {})); // #TODO Use the webmidi module instead!\n// #MIDIAWEIIZAI\n\n\nvar MIDIPianoInput;\n\n(function (_MIDIPianoInput) {\n  var numNotesPressed = 0;\n\n  function setup() {\n    if (navigator[\"requestMIDIAccess\"]) {\n      navigator[\"requestMIDIAccess\"]({\n        sysex: true\n      }).then(onMIDISuccess, onMIDIFailure);\n    } else {\n      alert(\"No MIDI support in your browser.\");\n    }\n  }\n\n  _MIDIPianoInput.setup = setup;\n\n  function onMIDISuccess(midiAccess) {\n    console.log(\"MIDI SUCCESS\");\n    var midi = midiAccess;\n    console.dir(midi);\n    var inputs = midi.inputs.values();\n    var outputs = midi.outputs.values();\n\n    var _iterator = _createForOfIteratorHelper(inputs),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var input = _step.value;\n        console.log(input);\n        input.onmidimessage = onMIDIMessage;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  function onMIDIFailure(error) {\n    console.log(\"No access to MIDI devices or your browser doesn't support WebMIDI API.\" + error);\n  }\n\n  function onMIDIMessage(message) {\n    console.log(\"onMIDIMessage\");\n    var data = message.data; // this gives us our [command/channel, note, velocity] data.\n\n    var cmd = data[0] >> 4;\n    var channel = data[0] & 0xf; // Rightmost 4 bits.\n\n    var type = data[0] & 0xf0; // 4 bits in the second right-most position.\n\n    var note = data[1];\n    var velocity = data[2];\n    var pianoKey = note - 20;\n\n    switch (type) {\n      case 144:\n        // note on\n        console.log(\"piano key down: \" + pianoKey + \" velocity: \" + velocity);\n        App.playOneNote(pianoKey, false); // the second parameter (set to false) will bypass any sharp/flat modifiers.\n\n        numNotesPressed++;\n\n        if (numNotesPressed > 1) {\n          Song.mergeLastTwoGroups();\n        } // #TODO: #RESETACQWIEIFK If we press down the B, C, C# at the same time, we reset the text field to empty!!!!\n\n\n        break;\n\n      case 128:\n        // note off\n        // console.log(\"piano key up: \" + pianoKey);\n        numNotesPressed--;\n        break;\n\n      case 224:\n        // pitch wheel\n        console.log(\"pitch wheel\"); // data[1] and data[2] indicate the amount of pitch bend.\n\n        break;\n\n      default:\n        // ignore for now\n        console.log(\"MIDI data\", data);\n        console.log(\"cmd: \".concat(cmd, \"  channel: \").concat(channel, \"  type: \").concat(type, \"  note: \").concat(note, \"  velocity: \").concat(velocity));\n        break;\n    }\n  }\n})(MIDIPianoInput || (MIDIPianoInput = {})); //////////////////////////////////////////////////////////////////////\n// resets the key offset\n\n\nfunction resetOffset() {\n  console.log(\"Reset Offsets\");\n  octaveOffset = 0;\n  UI.drawPiano();\n}\n\nfunction resetEverything() {\n  console.log(\"Reset Everything!\");\n  octaveOffset = 0;\n  UI.Tracks.setup(1);\n  saveAndShowData();\n  Playback.stop();\n}\n\nfunction saveAndShowData() {\n  LocalStorage.saveCheckBoxes();\n  LocalStorage.saveTracks();\n  UI.showNoteGroupsForTracks();\n  UI.drawPiano();\n} ////////////////////////////////////////////////////////////\n\n\nvar LocalStorage;\n\n(function (_LocalStorage) {\n  function load() {\n    loadTracks();\n    loadVersionToggle();\n  }\n\n  _LocalStorage.load = load;\n\n  function loadVersionToggle() {\n    if (!localStorage.getItem(\"song_version\")) {\n      localStorage.setItem(\"song_version\", \"1\");\n    }\n\n    var songVersion = parseInt(localStorage.getItem(\"song_version\"));\n\n    if (songVersion < apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MIN_SONG_VERSION || songVersion > apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MAX_SONG_VERSION) {\n      songVersion = 1;\n    }\n\n    var payload = {};\n    payload[Keys.SONG_VERSION] = songVersion;\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Toggle.onSongVersionFormatChanged,\n      payload: payload\n    });\n  }\n\n  function loadTracks() {\n    try {\n      var savedTracks = JSON.parse(localStorage.getItem(\"tracks\")); // can throw a SyntaxError\n\n      var numTracks = savedTracks.length;\n      UI.Tracks.setup(numTracks);\n\n      for (var t = 0; t < numTracks; t++) {\n        var savedTrack = savedTracks[t];\n\n        var _iterator2 = _createForOfIteratorHelper(savedTrack),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var noteGroupString = _step2.value;\n            var noteGroup = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](noteGroupString);\n            Song.addNoteGroupToTrack(noteGroup, t);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    } catch (e) {\n      UI.Tracks.setup(1);\n    }\n  }\n\n  function loadCheckboxes() {\n    try {\n      var savedCheckboxState = JSON.parse(localStorage.getItem(\"checkboxes\")); // can throw a SyntaxError\n\n      if (Array.isArray(savedCheckboxState) && savedCheckboxState.length === Song.getNumTracks()) {\n        UI.Tracks.setCheckedStateForAllTracks(savedCheckboxState);\n      } else {\n        throw \"OOPS\";\n      }\n    } catch (e) {\n      UI.Tracks.checkAllNonEmptyTracks();\n      LocalStorage.saveCheckBoxes();\n    }\n  }\n\n  function saveCheckBoxes() {\n    localStorage.setItem(\"checkboxes\", JSON.stringify(UI.Tracks.getCheckedStateForAllTracks()));\n  }\n\n  _LocalStorage.saveCheckBoxes = saveCheckBoxes;\n\n  function saveTracks() {\n    var tracksJSON = Song.getTracksAsJSON();\n    localStorage.setItem(\"tracks\", tracksJSON);\n  }\n\n  _LocalStorage.saveTracks = saveTracks;\n\n  function saveVersionToggle(songVersion) {\n    localStorage.setItem(\"song_version\", songVersion + \"\");\n  }\n\n  _LocalStorage.saveVersionToggle = saveVersionToggle;\n})(LocalStorage || (LocalStorage = {})); /////////////////////////////////////////////////////////////////////////////////\n\n\nvar FakeWorkerClock = /*#__PURE__*/function () {\n  function FakeWorkerClock() {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, FakeWorkerClock);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"isRunning\", false);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"interval\", null);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"delay\", 10);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"onmessage\", void 0);\n  }\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(FakeWorkerClock, [{\n    key: \"postMessage\",\n    value: function postMessage(msg) {\n      var self = this;\n      console.log(self);\n\n      switch (msg) {\n        case \"start\":\n          console.log(\"Piano Clock Worker Started\");\n\n          if (!self.isRunning) {\n            self.isRunning = true;\n            self.interval = setInterval(function () {\n              if (self.onmessage) {\n                self.onmessage(\"tick\");\n              }\n            }, self.delay);\n          }\n\n          break;\n\n        case \"stop\":\n        default:\n          console.log(\"Piano Clock Worker Stopped\");\n          clearInterval(self.interval);\n          self.isRunning = false;\n          break;\n      }\n    }\n  }]);\n\n  return FakeWorkerClock;\n}(); ///////////////////////////////////////////////////////////////////////////\n\n\nvar Playback;\n\n(function (_Playback) {\n  // All times are in milliseconds.\n  var currSongTime = 0; // What time is our playhead pointing to?\n\n  var baseSongTime = 0; // What time did our playhead point to when we started or resumed the song?\n\n  var clockStartTime = 0;\n  var clock = new FakeWorkerClock(); // let clock = new Worker(\"./clock.worker.js\", { type: \"module\" });\n\n  var clockIsTicking = false;\n\n  clock.onmessage = function (e) {\n    playNextEvents(performance.now());\n  };\n\n  var currNoteGroupNumber = 0;\n  var isPaused = false;\n  var nextEventPlayTime = 0;\n\n  function isPlaying() {\n    return clockIsTicking;\n  }\n\n  _Playback.isPlaying = isPlaying;\n\n  function play() {\n    console.log(\"PLAY\");\n\n    if (isPaused) {\n      baseSongTime = currSongTime;\n    } else {\n      if (isPlaying()) {\n        stop();\n      } // Start the MIDI playback.\n\n\n      var _noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n      if (_noteGroupsToPlay.length === 0) {\n        Playback.stop();\n        return; // DONE!\n      }\n\n      currNoteGroupNumber = 0;\n      currSongTime = 0;\n      baseSongTime = 0;\n      determinePlayTimeForNextEvent();\n    }\n\n    isPaused = false;\n    clockStartTime = performance.now();\n    clock.postMessage(\"start\");\n    clockIsTicking = true;\n  }\n\n  _Playback.play = play;\n\n  function pause() {\n    stopTheClock();\n    isPaused = true; // Next time, continue from where we left off.\n  }\n\n  _Playback.pause = pause;\n\n  function togglePlayPause() {\n    if (isPlaying()) {\n      pause();\n    } else {\n      play();\n    }\n  }\n\n  _Playback.togglePlayPause = togglePlayPause;\n\n  function stop() {\n    stopTheClock();\n    currNoteGroupNumber = 0;\n  }\n\n  _Playback.stop = stop;\n\n  function stopTheClock() {\n    if (isPlaying()) {\n      clock.postMessage(\"stop\");\n      clockIsTicking = false;\n    }\n  } // Will be called every ~16.67ms if your display runs at 60 FPS.\n\n\n  function playNextEvents(currTime) {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks(); // Have we reached the end of the song?\n\n    if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n      Playback.stop();\n      return; // DONE!\n    }\n\n    currSongTime = currTime - clockStartTime + baseSongTime;\n\n    while (currSongTime >= nextEventPlayTime) {\n      // Inspect the next event\n      var _noteGroup = noteGroupsToPlay[currNoteGroupNumber];\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(_noteGroup.trackNumber, _noteGroup.noteNumber);\n      playCurrentNoteGroup();\n      currNoteGroupNumber++; // advance\n      // Have we reached the end of the song?\n\n      if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n        Playback.stop();\n        return; // DONE!\n      } else {\n        determinePlayTimeForNextEvent();\n      }\n    }\n  }\n\n  function determinePlayTimeForNextEvent() {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n    nextEventPlayTime = noteGroupsToPlay[currNoteGroupNumber].playTimeMillis;\n\n    if (nextEventPlayTime === -1) {\n      nextEventPlayTime = currSongTime + TIME_BETWEEN_NOTEGROUPS; // If the playTime isn't specified, we play the next note every 200ms!\n    }\n  } /////////////////////////////////////////////////////////////////////////////////\n  // Manual Playback of the song or individual tracks.\n\n\n  function validateCurrNoteGroupNumber() {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n    if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n      currNoteGroupNumber = noteGroupsToPlay.length - 1;\n    } else if (currNoteGroupNumber < 0) {\n      currNoteGroupNumber = 0;\n    }\n  }\n\n  var playNoteAndGoBackwardInTheSong = _Playback.playNoteAndGoBackwardInTheSong = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playNoteAndAdvanceInDirection(-1);\n  }, 150\n  /* ms */\n  );\n  var playNoteAndGoForwardInTheSong = _Playback.playNoteAndGoForwardInTheSong = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playNoteAndAdvanceInDirection(+1);\n  }, 150\n  /* ms */\n  );\n\n  function playNoteAndAdvanceInDirection(direction) {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n    if (noteGroupsToPlay.length === 0) {\n      return;\n    }\n\n    validateCurrNoteGroupNumber();\n    var noteGroup = noteGroupsToPlay[currNoteGroupNumber];\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(noteGroup.trackNumber, noteGroup.noteNumber);\n    playCurrentNoteGroup();\n    currNoteGroupNumber += direction;\n    validateCurrNoteGroupNumber();\n  }\n\n  function playCurrentNoteGroup() {\n    var t = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var n = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentNoteGroupNumber();\n    var noteGroup = Song.getNoteGroupFromTrack(n, t);\n\n    if (!noteGroup) {\n      return;\n    }\n\n    var _iterator3 = _createForOfIteratorHelper(noteGroup.notes),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var _note = _step3.value;\n        App.playPianoNote(apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__[\"default\"].m2p(_note.midiNote), _note.velocity);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    var payload = {};\n    payload[Keys.PLAYED_NOTEGROUP_ID] = Song.getNoteGroupID(t, n);\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Song.onPlayNoteGroup,\n      payload: payload\n    });\n  }\n\n  var playAndGoBackwardOnCurrentTrack = _Playback.playAndGoBackwardOnCurrentTrack = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playCurrentNoteGroup();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevNoteGroup();\n  }, 150\n  /* ms */\n  );\n  var playAndGoForwardOnCurrentTrack = _Playback.playAndGoForwardOnCurrentTrack = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playCurrentNoteGroup();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextNoteGroup();\n  }, 150\n  /* ms */\n  );\n})(Playback || (Playback = {}));\n\nvar UI;\n\n(function (_UI) {\n  function setupCopyHandler() {\n    document.querySelector(\"html\").addEventListener(\"copy\", function (e) {\n      e.preventDefault();\n      console.log(\"COPY\");\n\n      if (e.clipboardData) {\n        var text = UI.Tracks.getTextFileFromTracks();\n        e.clipboardData.setData(\"text/plain\", text);\n      }\n    });\n    document.querySelector(\"html\").addEventListener(\"cut\", function (e) {\n      e.preventDefault();\n      console.log(\"CUT\");\n\n      if (e.clipboardData) {\n        var text = UI.Tracks.getTextFileFromTracks();\n        e.clipboardData.setData(\"text/plain\", text);\n      }\n\n      resetEverything(); // Set the text fields to empty strings.\n    });\n  }\n\n  _UI.setupCopyHandler = setupCopyHandler;\n\n  function showNoteGroupsForTracks() {\n    UI.Tracks.checkAllNonEmptyTracks();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].update();\n    var payload = {};\n    payload[Keys.UPDATED_TRACKS_LIST] = Song.getRecentlyUpdatedTrackNumbersAsArray();\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Song.onTracksUpdated,\n      payload: payload\n    });\n    Song.resetRecentlyUpdatedTrackNumbers();\n  }\n\n  _UI.showNoteGroupsForTracks = showNoteGroupsForTracks;\n\n  function scrollNoteGroupIntoView(trackNumber, noteGroupNumber) {\n    var noteGroupID = Song.getNoteGroupID(trackNumber, noteGroupNumber); // Scroll the divs all the way to the right to make sure the most recent NoteGroups are visible.\n\n    var element = document.querySelector(\"#\".concat(noteGroupID));\n\n    if (element) {\n      element.scrollIntoView();\n    }\n  }\n\n  _UI.scrollNoteGroupIntoView = scrollNoteGroupIntoView;\n\n  function onKeyDown(e) {\n    if (!piano) {\n      console.log(\"UI.onKeyDown: Piano has not been initialized.\");\n      return;\n    }\n\n    var keyCode = e.keyCode;\n    var metaKeyIsDown = e.metaKey; // e.metaKey => CMD (91 is LEFT CMD & 93 is RIGHT CMD)\n\n    var ctrlKeyIsDown = e.ctrlKey;\n    var shiftKeyIsDown = e.shiftKey;\n\n    if (metaKeyIsDown) {\n      if (keyCode == 37 || keyCode == 39) {// DO NOTHING. Fall through so that we can do CMD + LEFT ARROW and CMD + RIGHT ARROW.\n      } else {\n        // Ignore when we have the CMD pressed down, so that we can use the browser's hotkeys.\n        return;\n      }\n    } // CTRL => FLAT and SHIFT => SHARP\n\n\n    sharpOrFlatModifier = 0;\n\n    if (ctrlKeyIsDown) {\n      sharpOrFlatModifier = -1;\n    }\n\n    if (shiftKeyIsDown) {\n      sharpOrFlatModifier = +1;\n    }\n\n    e.preventDefault();\n\n    switch (keyCode) {\n      case 13:\n        // ENTER\n        Playback.togglePlayPause();\n        break;\n\n      case 33:\n        // PAGE UP | fn + UP_ARROW\n        // Up an octave.\n        octaveOffset++;\n\n        if (octaveOffset > 0) {\n          octaveOffset = 0;\n        }\n\n        UI.drawPiano();\n        break;\n\n      case 34:\n        // PAGE DOWN | fn + DOWN_ARROW\n        console.log(\"fn + DOWN\"); // Down an octave.\n\n        octaveOffset--;\n\n        if (octaveOffset < -1) {\n          octaveOffset = -1;\n        }\n\n        UI.drawPiano();\n        break;\n\n      case 36:\n        // HOME | fn + LEFT_ARROW\n        Playback.playNoteAndGoBackwardInTheSong(); // Find the previous note to play via round robin.\n\n        break;\n\n      case 35:\n        // END | fn + RIGHT_ARROW\n        Playback.playNoteAndGoForwardInTheSong(); // Find the next note to play via round robin.\n\n        break;\n\n      case 112:\n        console.log(\"F1\");\n        break;\n\n      case 113:\n        console.log(\"F2\");\n        break;\n\n      case 114:\n        console.log(\"F3\");\n        break;\n\n      case 115:\n        console.log(\"F4\");\n        break;\n\n      case 116:\n        console.log(\"F5\");\n        break;\n\n      case 192:\n        // ~ == SHIFT + `\n        console.log(\"SHIFT + `\");\n        resetEverything();\n        break;\n\n      case 32:\n        // SPACE BAR\n        console.log(\"SPACE\"); // xxx\n\n        break;\n\n      case 27:\n        // ESC\n        console.log(\"ESC\");\n\n        if (shiftKeyIsDown) {\n          // SHIFT + ESC\n          resetEverything();\n        } else {\n          // ESC resets the octave offsets\n          resetOffset();\n        }\n\n        break;\n\n      case 8:\n        // BACKSPACE/DEL\n        Song.deleteLastGroup();\n        break;\n\n      case 9:\n        // TAB\n        Song.mergeLastTwoGroups();\n        break;\n\n      case 38:\n        // UP\n        apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevTrack();\n        break;\n\n      case 40:\n        // DOWN\n        apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextTrack();\n        break;\n\n      case 37:\n        // LEFT\n        if (metaKeyIsDown) {\n          // CMD + LEFT jumps to the first notegroup of the currently highlighted track.\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].firstNoteGroup();\n        } else if (shiftKeyIsDown) {\n          // SHIFT + LEFT\n          Playback.playAndGoBackwardOnCurrentTrack();\n        } else {\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevNoteGroup();\n        }\n\n        break;\n\n      case 39:\n        // RIGHT\n        if (metaKeyIsDown) {\n          // CMD + RIGHT jumps to the last notegroup of the currently highlighted track.\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lastNoteGroup();\n        } else if (shiftKeyIsDown) {\n          // SHIFT + RIGHT\n          Playback.playAndGoForwardOnCurrentTrack();\n        } else {\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextNoteGroup();\n        }\n\n        break;\n\n      default:\n        if (Keyboard.keyCodeToPianoKeyNumber.hasOwnProperty(keyCode)) {\n          App.playOneNote(Keyboard.keyCodeToPianoKeyNumber[keyCode]);\n        }\n\n        break;\n    }\n  }\n\n  _UI.onKeyDown = onKeyDown;\n\n  function onKeyUp(e) {\n    // Released CTRL or SHIFT\n    if (e.ctrlKey) {\n      sharpOrFlatModifier = 0;\n    } else if (e.shiftKey) {\n      sharpOrFlatModifier = 0;\n    }\n  }\n\n  _UI.onKeyUp = onKeyUp;\n  var WHITE_KEY_WIDTH = _UI.WHITE_KEY_WIDTH = 20;\n  var WHITE_KEY_HEIGHT = _UI.WHITE_KEY_HEIGHT = 120;\n  var BLACK_KEY_WIDTH = _UI.BLACK_KEY_WIDTH = 16;\n  var BLACK_KEY_HEIGHT = _UI.BLACK_KEY_HEIGHT = 72;\n  var context2d = null;\n  var context2dWidth = 0;\n  var context2dHeight = 0;\n\n  function setCanvasContext(c2d, c2dWidth, c2dHeight) {\n    context2d = c2d;\n    context2dWidth = c2dWidth;\n    context2dHeight = c2dHeight;\n  }\n\n  _UI.setCanvasContext = setCanvasContext;\n\n  function drawPiano() {\n    if (!context2d) {\n      return;\n    }\n\n    var c = context2d; // clear the background\n\n    c.fillStyle = \"#333\";\n    c.fillRect(0, 0, context2dWidth, context2dHeight);\n    drawWhiteKeys(c);\n    drawBlackKeys(c);\n    drawKeyLabels(c);\n    drawMostRecentGroup(c);\n  }\n\n  _UI.drawPiano = drawPiano;\n\n  function drawWhiteKeys(c) {\n    c.strokeStyle = \"#000\";\n    c.lineWidth = 0.2;\n    c.fillStyle = \"#FFF\";\n\n    for (var k = 0; k < 52; k++) {\n      c.fillRect(k * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n      c.strokeRect(k * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n    } // Highlight Middle C in faint red.\n\n\n    c.fillStyle = \"#FCC\";\n    c.fillRect(23 * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n  }\n\n  function drawBlackKeys(c) {\n    c.fillStyle = \"#323232\";\n\n    for (var octave = 0; octave < 7; octave++) {\n      for (var key = 0; key < 7; key++) {\n        // A# = key 0; C# = key 2; G# = key 6\n        if (key == 1 || key == 4) {\n          continue; // skip B# and E#\n        }\n\n        c.fillRect(12 + 20 * (key + octave * 7), 0, BLACK_KEY_WIDTH, BLACK_KEY_HEIGHT);\n      }\n    } // highest black key\n\n\n    c.fillRect(12 + 7 * 7 * 20, 0, 16, 72);\n  }\n\n  function drawKeyLabels(c) {\n    c.textAlign = \"center\"; // draw the piano key numbers for the white keys\n    // also draw the note name\n\n    for (var k = 1; k <= 88; k++) {\n      var remainder = k % 12;\n\n      if (whiteKeys.includes(remainder)) {\n        var octave = Math.floor(k / 12);\n        var whiteKeyNoteIndex = whiteKeys.indexOf(remainder);\n        var whiteKeyIndex = octave * 7 + whiteKeyNoteIndex;\n        var noteLabel = noteLabels[whiteKeyNoteIndex];\n\n        if (noteLabel == \"c\") {\n          c.font = \"bold 13px Tahoma\";\n        } else {\n          c.font = \"13px Tahoma\";\n        }\n\n        c.fillStyle = \"#777\";\n        c.fillText(noteLabel, whiteKeyIndex * 20 + 10, 100);\n        c.font = \"12px Consolas\";\n        c.fillStyle = \"#999\";\n        c.fillText(k, whiteKeyIndex * 20 + 10, 115);\n      }\n    }\n\n    c.font = \"15px Consolas\";\n    c.fillStyle = \"#FFF\";\n    c.textAlign = \"center\"; // draw the current character to press, under the correct key!\n\n    var offset = (octaveOffset + 1) * 7; // start on A (key 13)\n\n    var len = Keyboard.labels.length;\n\n    for (var i = 0; i < len; i++) {\n      c.fillText(Keyboard.labels[i], (i + offset) * 20 + 10, 140);\n    }\n  } // draw the highlighted group?\n\n\n  function drawMostRecentGroup(c) {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var noteGroupNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentNoteGroupNumber();\n    var lastGroup = Song.getNoteGroupFromTrack(noteGroupNumber, trackNumber);\n\n    if (!lastGroup) {\n      return;\n    }\n\n    var notes = lastGroup.notes;\n\n    var _iterator4 = _createForOfIteratorHelper(notes),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var n = _step4.value;\n        var remainder = n.pianoNote % 12;\n        var octaveIndex = Math.floor((n.pianoNote - 1) / 12);\n        c.beginPath();\n\n        if (blackKeys.includes(remainder)) {\n          // is it a black key?\n          var blackKeyIndex = octaveIndex * 7 + blackKeys.indexOf(remainder); // black keys are 16px wide\n\n          c.arc(blackKeyIndex * 20 + 20, 60, 6, 0, 2 * Math.PI, false);\n        } else {\n          // if white, we map it to one of the 52 white keys\n          var whiteKeyIndex = octaveIndex * 7 + whiteKeys.indexOf(remainder); // white keys are 20px wide\n\n          c.arc(whiteKeyIndex * 20 + 10, 96, 7, 0, 2 * Math.PI, false);\n        }\n\n        c.fillStyle = \"rgba(220,220,10,.82)\"; // fill the yellow circle\n\n        c.fill();\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  } ////////////////////////////////////////////////////////////\n\n\n  var Tracks;\n\n  (function (_Tracks) {\n    // Bindings to our React component state.\n    // We can query whether a track's checkbox isChecked.\n    // We can call setChecked to change the track's checked state.\n    var isCheckedCallbacks = null;\n    var setCheckedCallbacks = null;\n\n    var defaultIsCheckedCB = function defaultIsCheckedCB() {\n      console.log(\"DEFAULT IS-CHECKED. RETURN TRUE.\");\n      return true;\n    };\n\n    var defaultSetCheckedCB = function defaultSetCheckedCB(checked) {\n      console.log(\"DEFAULT SET CHECKED: \" + checked);\n      /* NO-OP */\n    };\n\n    function setup(numTracks) {\n      isCheckedCallbacks = new Array(numTracks);\n      setCheckedCallbacks = new Array(numTracks);\n      isCheckedCallbacks.fill(defaultIsCheckedCB);\n      setCheckedCallbacks.fill(defaultSetCheckedCB);\n      Song.reset();\n\n      for (var t = 0; t < numTracks; t++) {\n        Song.addTrack();\n      }\n\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setupIndexes(numTracks);\n    }\n\n    _Tracks.setup = setup;\n\n    function addNewTrack() {}\n\n    _Tracks.addNewTrack = addNewTrack;\n\n    function getTextFileFromTracks() {\n      console.log(\"getTextFileFromTracks Song Version: \" + App.getSongVersion());\n      var noteGroups = Song.getNoteGroupsFromTracks();\n\n      if (App.getSongVersion() === 1) {\n        var noteGroupV1Strings = [];\n        noteGroups.forEach(function (noteGroup) {\n          noteGroupV1Strings.push(noteGroup.toStringV1());\n        });\n        return noteGroupV1Strings.join(\" \");\n      } else {\n        // songVersion === 2\n        return noteGroups.join(\" \");\n      }\n    }\n\n    _Tracks.getTextFileFromTracks = getTextFileFromTracks;\n\n    function getTrackNumbersToIncludeInMIDIFile() {\n      var trackNumbersToInclude = [];\n      var numTracks = Song.getNumTracks();\n\n      for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n        if (Tracks.isChecked(trackNumber)) {\n          trackNumbersToInclude.push(trackNumber);\n        }\n      }\n\n      return trackNumbersToInclude;\n    }\n\n    _Tracks.getTrackNumbersToIncludeInMIDIFile = getTrackNumbersToIncludeInMIDIFile;\n\n    function setTrackCheckedCallbacks(trackNumber, isTrackChecked, setTrackChecked) {\n      console.log(\"setTrackCheckedCallbacks \" + trackNumber + \" \" + typeof isTrackChecked + \" \" + typeof setTrackChecked);\n\n      if (!isCheckedCallbacks) {\n        isCheckedCallbacks = [];\n      }\n\n      isCheckedCallbacks[trackNumber] = isTrackChecked;\n\n      if (!setCheckedCallbacks) {\n        setCheckedCallbacks = [];\n      }\n\n      setCheckedCallbacks[trackNumber] = setTrackChecked;\n    }\n\n    _Tracks.setTrackCheckedCallbacks = setTrackCheckedCallbacks;\n\n    function setChecked(trackNumber, checked) {\n      console.log(\"setChecked \" + trackNumber + \" => \" + checked);\n      var setCheckedCB = setCheckedCallbacks[trackNumber];\n\n      if (!setCheckedCB) {\n        console.log(\"NULL SETCHECKED CALLBACK\"); // DO NOTHING\n      } else {\n        // #TODO: If the value has not changed, do nothing.\n        setCheckedCB(checked);\n        LocalStorage.saveCheckBoxes();\n        Song.resetCache();\n      }\n    }\n\n    _Tracks.setChecked = setChecked;\n\n    function isChecked(trackNumber) {\n      var isCheckedCB = isCheckedCallbacks[trackNumber];\n\n      if (!isCheckedCB) {\n        // null or undefined\n        return false;\n      } else {\n        return isCheckedCB();\n      }\n    }\n\n    _Tracks.isChecked = isChecked;\n\n    function checkAllNonEmptyTracks() {\n      var numTracks = Song.getNumTracks();\n\n      for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n        if (Song.getNumNoteGroupsInTrack(trackNumber) > 0) {\n          Tracks.setChecked(trackNumber, true);\n        } else {\n          Tracks.setChecked(trackNumber, false);\n        }\n      }\n    }\n\n    _Tracks.checkAllNonEmptyTracks = checkAllNonEmptyTracks;\n\n    function getCheckedStateForAllTracks() {\n      return isCheckedCallbacks.map(function (isCheckedCB) {\n        if (!isCheckedCB) {\n          return false; // If the callback is undefined or null, we consider that track \"NOT CHECKED\".\n        } else {\n          var checked = isCheckedCB();\n          console.log(checked);\n          return checked; // Otherwise, we call the callback to determine the current checked state.\n        }\n      });\n    }\n\n    _Tracks.getCheckedStateForAllTracks = getCheckedStateForAllTracks;\n\n    function setCheckedStateForAllTracks(checkedStateForAllTracks) {\n      for (var trackNumber = 0; trackNumber < checkedStateForAllTracks.length; trackNumber++) {\n        var checkedState = checkedStateForAllTracks[trackNumber];\n        Tracks.setChecked(trackNumber, checkedState);\n      }\n    }\n\n    _Tracks.setCheckedStateForAllTracks = setCheckedStateForAllTracks;\n  })(Tracks || (Tracks = _UI.Tracks || (_UI.Tracks = {})));\n})(UI || (UI = {})); ///////////////////////////////////////////////////////////////////////////\n\n\nvar Song;\n\n(function (_Song) {\n  // Support multi track MIDI songs.\n  // When we compose by hand, stick everything in track 0.\n  var tracks = [];\n  var cachedNoteGroups = null;\n  var recentlyUpdatedTrackNumbers = new Set();\n\n  function reset() {\n    tracks.length = 0;\n    Song.resetRecentlyUpdatedTrackNumbers();\n    Song.resetCache();\n  }\n\n  _Song.reset = reset;\n\n  function resetCache() {\n    cachedNoteGroups = null;\n  }\n\n  _Song.resetCache = resetCache;\n\n  function addTrack() {\n    var track = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Track\"]();\n    track.trackNumber = tracks.length;\n    tracks.push(track);\n    recentlyUpdatedTrackNumbers.add(track.trackNumber);\n  }\n\n  _Song.addTrack = addTrack;\n\n  function addNoteGroupToTrack(noteGroup, trackNumber) {\n    Song.resetCache(); // Every time we modify the tracks, we need to invalidate the cache.\n\n    var track = tracks[trackNumber];\n    noteGroup.trackNumber = trackNumber;\n    noteGroup.noteNumber = track.length;\n    track.push(noteGroup);\n    recentlyUpdatedTrackNumbers.add(trackNumber);\n    return tracks[trackNumber].length; // We call saveAndShowData() elsewhere!\n  }\n\n  _Song.addNoteGroupToTrack = addNoteGroupToTrack;\n\n  function getNumTracks() {\n    return tracks.length;\n  }\n\n  _Song.getNumTracks = getNumTracks;\n\n  function getNumNoteGroupsInTrack(trackNumber) {\n    if (trackNumber < 0 || trackNumber >= tracks.length) {\n      return 0;\n    } else {\n      return tracks[trackNumber].length;\n    }\n  }\n\n  _Song.getNumNoteGroupsInTrack = getNumNoteGroupsInTrack;\n\n  function isTrackEmpty(trackNumber) {\n    return getNumNoteGroupsInTrack(trackNumber) === 0;\n  }\n\n  _Song.isTrackEmpty = isTrackEmpty;\n\n  function getTracksAsJSON() {\n    return JSON.stringify(tracks);\n  }\n\n  _Song.getTracksAsJSON = getTracksAsJSON;\n\n  function mergeLastTwoGroups() {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var currTrack = tracks[trackNumber];\n\n    if (currTrack.length >= 2) {\n      var mergedNoteGroup = apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"].merge(currTrack.pop(), currTrack.pop());\n      Song.addNoteGroupToTrack(mergedNoteGroup, trackNumber);\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, currTrack.length - 1);\n      recentlyUpdatedTrackNumbers.add(trackNumber);\n      saveAndShowData();\n    }\n  }\n\n  _Song.mergeLastTwoGroups = mergeLastTwoGroups;\n\n  function deleteLastGroup() {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    tracks[trackNumber].pop();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, tracks[trackNumber].length - 1);\n    recentlyUpdatedTrackNumbers.add(trackNumber);\n    saveAndShowData();\n  }\n\n  _Song.deleteLastGroup = deleteLastGroup;\n\n  function getNoteGroupFromTrack(noteGroupNumber, trackNumber) {\n    if (trackNumber < 0 || trackNumber >= tracks.length) {\n      return null;\n    }\n\n    var track = tracks[trackNumber];\n\n    if (noteGroupNumber < 0 || noteGroupNumber >= track.length) {\n      return null;\n    }\n\n    return track[noteGroupNumber];\n  }\n\n  _Song.getNoteGroupFromTrack = getNoteGroupFromTrack;\n\n  function getNoteGroupsFromTracks() {\n    if (cachedNoteGroups !== null) {\n      return cachedNoteGroups;\n    }\n\n    console.log(\"Recompute Cached NoteGroups!!!\");\n    var noteGroups = [];\n    var currTimeMillis = 0; // Used when our NoteGroups don't have valid timing information (i.e., manual entry).\n\n    var noteGroupPointerForTrack = []; // Keep pointers to the current NoteGroups we are looking at. One pointer/cursor per track.\n\n    var numTracks = tracks.length;\n\n    for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n      noteGroupPointerForTrack.push(0); // Start a index 0 (the first NoteGroup of each track).\n    } // Round robin between the tracks until we insert all the NoteGroups properly. Always choose the NoteGroup with the minimum playTime.\n\n\n    while (true) {\n      var minPlayTime = Number.MAX_VALUE;\n      var nextNoteGroup = null;\n      var nextNoteGroupTrack = null; // Which track contains the next note group to play?\n      // Loop through all the tracks to find the next NoteGroup to play.\n\n      for (var _trackNumber = 0; _trackNumber < numTracks; _trackNumber++) {\n        var currTrack = tracks[_trackNumber];\n        var currTrackLength = currTrack.length;\n        var currNoteGroupPointer = noteGroupPointerForTrack[_trackNumber];\n\n        if (currTrackLength === 0 || !UI.Tracks.isChecked(_trackNumber) || currNoteGroupPointer >= currTrackLength) {\n          // Ignore this track if:\n          //   it is empty\n          //   it is not checked\n          //   we have already finished looking at it\n          continue;\n        } else {\n          var _noteGroup2 = currTrack[currNoteGroupPointer];\n\n          if (_noteGroup2.playTimeMillis < minPlayTime) {\n            minPlayTime = _noteGroup2.playTimeMillis;\n            nextNoteGroup = _noteGroup2;\n            nextNoteGroupTrack = currTrack;\n          }\n        }\n      } // If we did not find any NoteGroups, we're done!\n\n\n      if (!nextNoteGroup) {\n        break; // break out of the while(true) loop.\n      } else {\n        var ng = nextNoteGroup.copy();\n\n        if (ng.playTimeMillis === -1) {\n          ng.playTimeMillis = currTimeMillis;\n        }\n\n        var t = nextNoteGroupTrack.trackNumber;\n        var noteNumber = noteGroupPointerForTrack[t];\n        ng.noteNumber = noteNumber;\n        noteGroupPointerForTrack[t]++;\n        noteGroups.push(ng);\n        currTimeMillis = ng.playTimeMillis + TIME_BETWEEN_NOTEGROUPS;\n      }\n    }\n\n    cachedNoteGroups = noteGroups;\n    return noteGroups;\n  }\n\n  _Song.getNoteGroupsFromTracks = getNoteGroupsFromTracks;\n\n  function getNoteGroupID(trackNumber, noteGroupNumber) {\n    return \"t\".concat(trackNumber, \"_n\").concat(noteGroupNumber);\n  }\n\n  _Song.getNoteGroupID = getNoteGroupID;\n\n  function getRecentlyUpdatedTrackNumbersAsArray() {\n    return Array.from(recentlyUpdatedTrackNumbers);\n  }\n\n  _Song.getRecentlyUpdatedTrackNumbersAsArray = getRecentlyUpdatedTrackNumbersAsArray;\n\n  function resetRecentlyUpdatedTrackNumbers() {\n    recentlyUpdatedTrackNumbers.clear();\n  }\n\n  _Song.resetRecentlyUpdatedTrackNumbers = resetRecentlyUpdatedTrackNumbers;\n})(Song || (Song = {}));\n\nvar _Playback_NS = Playback;\nvar _Song_NS = Song;\nvar _UI_NS = UI;\nvar _Tracks_NS = UI.Tracks;\nvar App;\n\n(function (_App) {\n  var Playback = _App.Playback = _Playback_NS;\n  var Song = _App.Song = _Song_NS;\n  var UI = _App.UI = _UI_NS;\n  var Tracks = _App.Tracks = _Tracks_NS;\n  var songVersion = apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MIN_SONG_VERSION; // We need to update this every time the redux store changes!\n\n  function getSongVersion() {\n    return songVersion;\n  }\n\n  _App.getSongVersion = getSongVersion;\n\n  function setSongVersion(v) {\n    songVersion = v;\n  }\n\n  _App.setSongVersion = setSongVersion;\n\n  function setDispatchFunction(d) {\n    dispatch = d;\n  }\n\n  _App.setDispatchFunction = setDispatchFunction;\n\n  function start() {\n    console.log(\"App.start()\");\n    MIDIPianoInput.setup();\n    LocalStorage.load();\n    UI.showNoteGroupsForTracks();\n    UI.setupCopyHandler();\n    UI.drawPiano();\n  }\n\n  _App.start = start;\n\n  function startAudio() {\n    piano = new apps_shared_sound_Instrument__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n  }\n\n  _App.startAudio = startAudio;\n\n  function saveSongVersionToLocalStorage(ver) {\n    App.setSongVersion(ver);\n    console.log(\"saveSongVersionToLocalStorage \" + ver);\n    LocalStorage.saveVersionToggle(ver);\n  }\n\n  _App.saveSongVersionToLocalStorage = saveSongVersionToLocalStorage;\n\n  function fillTracksWithNoteGroupsExtractedFromMIDIEvents(midiFile, midiEvents) {\n    console.log(\"MIDI File Passed In: \" + midiFile);\n\n    if (!midiFile) {\n      return;\n    }\n\n    UI.Tracks.setup(midiFile.tracks.length); // Remember the most recently processed event so that we can merge notes that are played at the same time and on the same track.\n\n    var lastNoteGroup = null;\n    var lastPlayTime = -1;\n    var lastTrackNumber = -1; // Convert from MIDI events to NoteGroups\n\n    var _iterator5 = _createForOfIteratorHelper(midiEvents),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var event = _step5.value;\n        var _type = event.type;\n        var subtype = event.subtype; // let status = (event.subtype << 4) + event.channel;\n        // let statusCodeHexString = '0x' + status.toString(16).toUpperCase();\n\n        var playTime = event.playTime; // time in milliseconds\n\n        playTime = Math.round(playTime * 1000) / 1000; // round it to the nearest 0.001\n\n        var midiNoteNum = event.param1;\n        var _velocity = event.param2;\n        var pianoNoteNum = apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__[\"default\"].m2p(midiNoteNum);\n        var noteToPlay = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Note\"](pianoNoteNum, 1.0\n        /* duration */\n        , _velocity); // TODO: Support duration someday?\n\n        console.log(\"VELOCITY \" + _velocity);\n        var trackNumber = event.track; // possibly undefined!\n\n        if (!trackNumber) {\n          trackNumber = 0; // We will assign events with undefined trackNumbers to track 0.\n        }\n\n        if (subtype === MIDIEvents.EVENT_MIDI_NOTE_ON) {\n          if (playTime <= lastPlayTime + TIME_THRESHOLD_FOR_GROUPING_NEARBY_NOTES && trackNumber === lastTrackNumber) {\n            // Merge all notes starting at the same time and on the same track into a single NoteGroup.\n            lastNoteGroup.addNote(noteToPlay);\n          } else {\n            var _noteGroup3 = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](noteToPlay, playTime, trackNumber);\n\n            Song.addNoteGroupToTrack(_noteGroup3, trackNumber);\n            lastNoteGroup = _noteGroup3;\n            lastTrackNumber = trackNumber;\n            lastPlayTime = playTime;\n          }\n        } else {\n          // OTHER EVENTS\n          console.log(\"Unhandled Event:\");\n          apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].printTypeAndSubtype(_type, subtype);\n        }\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n\n    saveAndShowData();\n  }\n\n  _App.fillTracksWithNoteGroupsExtractedFromMIDIEvents = fillTracksWithNoteGroupsExtractedFromMIDIEvents;\n\n  function getDownloadData_TEXT() {\n    // GENERATE THE TEXT FILE FROM OUR TRACKS. BASE 64 ENCODE IT.\n    // A textual representation of the song:\n    //   V1 => e.g., 40 42 44 45 40.47\n    //   V2 => e.g., [24.36 @ 0] [17.29 @ 2730] [36 @ 2904] [41 @ 3029] [44 @ 3152]\n    var text = Tracks.getTextFileFromTracks();\n    var base64Text = btoa(text); // base 64 encoding\n\n    return base64Text;\n  }\n\n  _App.getDownloadData_TEXT = getDownloadData_TEXT;\n\n  function getDownloadData_MIDI() {\n    // GENERATE THE MIDI FILE FROM OUR TRACKS. BASE 64 ENCODE IT.\n    var trackNumbersToInclude = Tracks.getTrackNumbersToIncludeInMIDIFile();\n    var midiFile = apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].createFileFromTracks(trackNumbersToInclude, Song.getNoteGroupsFromTracks());\n    var base64Text = btoa(midiFile); // base 64 encoding\n\n    return base64Text;\n  }\n\n  _App.getDownloadData_MIDI = getDownloadData_MIDI;\n\n  function playOneNote(pianoKeyBeforeModifiers) {\n    var applyModifiers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    // get the name of the note we are about to play\n    var remainder = pianoKeyBeforeModifiers % 12;\n    var whiteKeyNoteIndex = whiteKeys.indexOf(remainder);\n    var noteLabel = noteLabels[whiteKeyNoteIndex];\n    var modifier = 0;\n\n    if (applyModifiers) {\n      modifier = sharpOrFlatModifier; // The user is holding down SHIFT or CTRL\n      // is this note auto-sharped, due to the key signature?\n\n      if (apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isNoteSharp(noteLabel)) {\n        modifier++; // raise the sharp a half-step!\n      } // is this note auto-flatted, due to the key signature?\n\n\n      if (apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isNoteFlat(noteLabel)) {\n        modifier--; // lower the note a half-step!\n      }\n    }\n\n    var pianoKeyNumber = pianoKeyBeforeModifiers + modifier + octaveOffset * 12;\n\n    if (pianoKeyNumber < 1 || pianoKeyNumber > 88) {\n      return;\n    }\n\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var trackLength = Song.addNoteGroupToTrack(new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Note\"](pianoKeyNumber)), trackNumber);\n    Tracks.setChecked(trackNumber, true);\n    App.playPianoNote(pianoKeyNumber);\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, trackLength - 1);\n    saveAndShowData();\n  }\n\n  _App.playOneNote = playOneNote;\n\n  function playPianoNote(pianoKeyNumber) {\n    var velocity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127.0;\n\n    if (piano === null) {\n      console.log(\"playPianoNote: Piano has not been initialized.\");\n      return;\n    }\n\n    var duration = 1.0; // 0.125, 0.25, 0.5, 1.0, 2.0;\n\n    piano.play(pianoKeyNumber, duration, velocity / 127.0);\n  }\n\n  _App.playPianoNote = playPianoNote;\n\n  function loadFirstFile(fileList) {\n    if (fileList.length > 0) {\n      var file = fileList[0]; // Read the first file.\n\n      apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].readFileAsync(file).then(function (fileName) {\n        dispatch({\n          type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].FileChooser.onFileLoaded\n        });\n      });\n    }\n  }\n\n  _App.loadFirstFile = loadFirstFile;\n})(App || (App = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9hdXRob3IvcGlhbm8vdjIvQXBwLnRzPzgxNDIiXSwibmFtZXMiOlsiTUlESUV2ZW50cyIsInJlcXVpcmUiLCJLZXlzIiwiQ29uc3RhbnRzIiwiU3RvcmVLZXlzIiwiVElNRV9USFJFU0hPTERfRk9SX0dST1VQSU5HX05FQVJCWV9OT1RFUyIsImRpc3BhdGNoIiwiVElNRV9CRVRXRUVOX05PVEVHUk9VUFMiLCJvY3RhdmVPZmZzZXQiLCJibGFja0tleXMiLCJ3aGl0ZUtleXMiLCJub3RlTGFiZWxzIiwic2hhcnBPckZsYXRNb2RpZmllciIsInBpYW5vIiwibGFiZWxzIiwieiIsImtleUNvZGVUb1BpYW5vS2V5TnVtYmVyIiwiS2V5Ym9hcmQiLCJudW1Ob3Rlc1ByZXNzZWQiLCJzZXR1cCIsIm5hdmlnYXRvciIsInN5c2V4IiwidGhlbiIsIm9uTUlESVN1Y2Nlc3MiLCJvbk1JRElGYWlsdXJlIiwiYWxlcnQiLCJtaWRpQWNjZXNzIiwiY29uc29sZSIsImxvZyIsIm1pZGkiLCJkaXIiLCJpbnB1dHMiLCJ2YWx1ZXMiLCJvdXRwdXRzIiwiaW5wdXQiLCJvbm1pZGltZXNzYWdlIiwib25NSURJTWVzc2FnZSIsImVycm9yIiwibWVzc2FnZSIsImRhdGEiLCJjbWQiLCJjaGFubmVsIiwidHlwZSIsIm5vdGUiLCJ2ZWxvY2l0eSIsInBpYW5vS2V5IiwiQXBwIiwicGxheU9uZU5vdGUiLCJTb25nIiwibWVyZ2VMYXN0VHdvR3JvdXBzIiwiTUlESVBpYW5vSW5wdXQiLCJyZXNldE9mZnNldCIsIlVJIiwiZHJhd1BpYW5vIiwicmVzZXRFdmVyeXRoaW5nIiwiVHJhY2tzIiwic2F2ZUFuZFNob3dEYXRhIiwiUGxheWJhY2siLCJzdG9wIiwiTG9jYWxTdG9yYWdlIiwic2F2ZUNoZWNrQm94ZXMiLCJzYXZlVHJhY2tzIiwic2hvd05vdGVHcm91cHNGb3JUcmFja3MiLCJsb2FkIiwibG9hZFRyYWNrcyIsImxvYWRWZXJzaW9uVG9nZ2xlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzb25nVmVyc2lvbiIsInBhcnNlSW50IiwiTUlOX1NPTkdfVkVSU0lPTiIsIk1BWF9TT05HX1ZFUlNJT04iLCJwYXlsb2FkIiwiU09OR19WRVJTSU9OIiwiQWN0aW9ucyIsIlRvZ2dsZSIsIm9uU29uZ1ZlcnNpb25Gb3JtYXRDaGFuZ2VkIiwic2F2ZWRUcmFja3MiLCJKU09OIiwicGFyc2UiLCJudW1UcmFja3MiLCJsZW5ndGgiLCJ0Iiwic2F2ZWRUcmFjayIsIm5vdGVHcm91cFN0cmluZyIsIm5vdGVHcm91cCIsIk5vdGVHcm91cCIsImFkZE5vdGVHcm91cFRvVHJhY2siLCJlIiwibG9hZENoZWNrYm94ZXMiLCJzYXZlZENoZWNrYm94U3RhdGUiLCJBcnJheSIsImlzQXJyYXkiLCJnZXROdW1UcmFja3MiLCJzZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MiLCJjaGVja0FsbE5vbkVtcHR5VHJhY2tzIiwic3RyaW5naWZ5IiwiZ2V0Q2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzIiwidHJhY2tzSlNPTiIsImdldFRyYWNrc0FzSlNPTiIsInNhdmVWZXJzaW9uVG9nZ2xlIiwiRmFrZVdvcmtlckNsb2NrIiwibXNnIiwic2VsZiIsImlzUnVubmluZyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJvbm1lc3NhZ2UiLCJkZWxheSIsImNsZWFySW50ZXJ2YWwiLCJjdXJyU29uZ1RpbWUiLCJiYXNlU29uZ1RpbWUiLCJjbG9ja1N0YXJ0VGltZSIsImNsb2NrIiwiY2xvY2tJc1RpY2tpbmciLCJwbGF5TmV4dEV2ZW50cyIsInBlcmZvcm1hbmNlIiwibm93IiwiY3Vyck5vdGVHcm91cE51bWJlciIsImlzUGF1c2VkIiwibmV4dEV2ZW50UGxheVRpbWUiLCJpc1BsYXlpbmciLCJwbGF5Iiwibm90ZUdyb3Vwc1RvUGxheSIsImdldE5vdGVHcm91cHNGcm9tVHJhY2tzIiwiZGV0ZXJtaW5lUGxheVRpbWVGb3JOZXh0RXZlbnQiLCJwb3N0TWVzc2FnZSIsInBhdXNlIiwic3RvcFRoZUNsb2NrIiwidG9nZ2xlUGxheVBhdXNlIiwiY3VyclRpbWUiLCJIaWdobGlnaHQiLCJzZXRUcmFja0FuZE5vdGVHcm91cCIsInRyYWNrTnVtYmVyIiwibm90ZU51bWJlciIsInBsYXlDdXJyZW50Tm90ZUdyb3VwIiwicGxheVRpbWVNaWxsaXMiLCJ2YWxpZGF0ZUN1cnJOb3RlR3JvdXBOdW1iZXIiLCJwbGF5Tm90ZUFuZEdvQmFja3dhcmRJblRoZVNvbmciLCJ0aHJvdHRsZSIsInBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uIiwicGxheU5vdGVBbmRHb0ZvcndhcmRJblRoZVNvbmciLCJkaXJlY3Rpb24iLCJnZXRDdXJyZW50VHJhY2tOdW1iZXIiLCJuIiwiZ2V0Q3VycmVudE5vdGVHcm91cE51bWJlciIsImdldE5vdGVHcm91cEZyb21UcmFjayIsIm5vdGVzIiwicGxheVBpYW5vTm90ZSIsIk1JRElVdGlscyIsIm0ycCIsIm1pZGlOb3RlIiwiUExBWUVEX05PVEVHUk9VUF9JRCIsImdldE5vdGVHcm91cElEIiwib25QbGF5Tm90ZUdyb3VwIiwicGxheUFuZEdvQmFja3dhcmRPbkN1cnJlbnRUcmFjayIsInByZXZOb3RlR3JvdXAiLCJwbGF5QW5kR29Gb3J3YXJkT25DdXJyZW50VHJhY2siLCJuZXh0Tm90ZUdyb3VwIiwic2V0dXBDb3B5SGFuZGxlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImNsaXBib2FyZERhdGEiLCJ0ZXh0IiwiZ2V0VGV4dEZpbGVGcm9tVHJhY2tzIiwic2V0RGF0YSIsInVwZGF0ZSIsIlVQREFURURfVFJBQ0tTX0xJU1QiLCJnZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnNBc0FycmF5Iiwib25UcmFja3NVcGRhdGVkIiwicmVzZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMiLCJzY3JvbGxOb3RlR3JvdXBJbnRvVmlldyIsIm5vdGVHcm91cE51bWJlciIsIm5vdGVHcm91cElEIiwiZWxlbWVudCIsInNjcm9sbEludG9WaWV3Iiwib25LZXlEb3duIiwia2V5Q29kZSIsIm1ldGFLZXlJc0Rvd24iLCJtZXRhS2V5IiwiY3RybEtleUlzRG93biIsImN0cmxLZXkiLCJzaGlmdEtleUlzRG93biIsInNoaWZ0S2V5IiwiZGVsZXRlTGFzdEdyb3VwIiwicHJldlRyYWNrIiwibmV4dFRyYWNrIiwiZmlyc3ROb3RlR3JvdXAiLCJsYXN0Tm90ZUdyb3VwIiwiaGFzT3duUHJvcGVydHkiLCJvbktleVVwIiwiV0hJVEVfS0VZX1dJRFRIIiwiV0hJVEVfS0VZX0hFSUdIVCIsIkJMQUNLX0tFWV9XSURUSCIsIkJMQUNLX0tFWV9IRUlHSFQiLCJjb250ZXh0MmQiLCJjb250ZXh0MmRXaWR0aCIsImNvbnRleHQyZEhlaWdodCIsInNldENhbnZhc0NvbnRleHQiLCJjMmQiLCJjMmRXaWR0aCIsImMyZEhlaWdodCIsImMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImRyYXdXaGl0ZUtleXMiLCJkcmF3QmxhY2tLZXlzIiwiZHJhd0tleUxhYmVscyIsImRyYXdNb3N0UmVjZW50R3JvdXAiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImsiLCJzdHJva2VSZWN0Iiwib2N0YXZlIiwia2V5IiwidGV4dEFsaWduIiwicmVtYWluZGVyIiwiaW5jbHVkZXMiLCJNYXRoIiwiZmxvb3IiLCJ3aGl0ZUtleU5vdGVJbmRleCIsImluZGV4T2YiLCJ3aGl0ZUtleUluZGV4Iiwibm90ZUxhYmVsIiwiZm9udCIsImZpbGxUZXh0Iiwib2Zmc2V0IiwibGVuIiwiaSIsImxhc3RHcm91cCIsInBpYW5vTm90ZSIsIm9jdGF2ZUluZGV4IiwiYmVnaW5QYXRoIiwiYmxhY2tLZXlJbmRleCIsImFyYyIsIlBJIiwiZmlsbCIsImlzQ2hlY2tlZENhbGxiYWNrcyIsInNldENoZWNrZWRDYWxsYmFja3MiLCJkZWZhdWx0SXNDaGVja2VkQ0IiLCJkZWZhdWx0U2V0Q2hlY2tlZENCIiwiY2hlY2tlZCIsInJlc2V0IiwiYWRkVHJhY2siLCJzZXR1cEluZGV4ZXMiLCJhZGROZXdUcmFjayIsImdldFNvbmdWZXJzaW9uIiwibm90ZUdyb3VwcyIsIm5vdGVHcm91cFYxU3RyaW5ncyIsImZvckVhY2giLCJwdXNoIiwidG9TdHJpbmdWMSIsImpvaW4iLCJnZXRUcmFja051bWJlcnNUb0luY2x1ZGVJbk1JRElGaWxlIiwidHJhY2tOdW1iZXJzVG9JbmNsdWRlIiwiaXNDaGVja2VkIiwic2V0VHJhY2tDaGVja2VkQ2FsbGJhY2tzIiwiaXNUcmFja0NoZWNrZWQiLCJzZXRUcmFja0NoZWNrZWQiLCJzZXRDaGVja2VkIiwic2V0Q2hlY2tlZENCIiwicmVzZXRDYWNoZSIsImlzQ2hlY2tlZENCIiwiZ2V0TnVtTm90ZUdyb3Vwc0luVHJhY2siLCJtYXAiLCJjaGVja2VkU3RhdGVGb3JBbGxUcmFja3MiLCJjaGVja2VkU3RhdGUiLCJ0cmFja3MiLCJjYWNoZWROb3RlR3JvdXBzIiwicmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzIiwiU2V0IiwidHJhY2siLCJUcmFjayIsImFkZCIsImlzVHJhY2tFbXB0eSIsImN1cnJUcmFjayIsIm1lcmdlZE5vdGVHcm91cCIsIm1lcmdlIiwicG9wIiwiY3VyclRpbWVNaWxsaXMiLCJub3RlR3JvdXBQb2ludGVyRm9yVHJhY2siLCJtaW5QbGF5VGltZSIsIk51bWJlciIsIk1BWF9WQUxVRSIsIm5leHROb3RlR3JvdXBUcmFjayIsImN1cnJUcmFja0xlbmd0aCIsImN1cnJOb3RlR3JvdXBQb2ludGVyIiwibmciLCJjb3B5IiwiZnJvbSIsImNsZWFyIiwiX1BsYXliYWNrX05TIiwiX1NvbmdfTlMiLCJfVUlfTlMiLCJfVHJhY2tzX05TIiwic2V0U29uZ1ZlcnNpb24iLCJ2Iiwic2V0RGlzcGF0Y2hGdW5jdGlvbiIsImQiLCJzdGFydCIsInN0YXJ0QXVkaW8iLCJJbnN0cnVtZW50Iiwic2F2ZVNvbmdWZXJzaW9uVG9Mb2NhbFN0b3JhZ2UiLCJ2ZXIiLCJmaWxsVHJhY2tzV2l0aE5vdGVHcm91cHNFeHRyYWN0ZWRGcm9tTUlESUV2ZW50cyIsIm1pZGlGaWxlIiwibWlkaUV2ZW50cyIsImxhc3RQbGF5VGltZSIsImxhc3RUcmFja051bWJlciIsImV2ZW50Iiwic3VidHlwZSIsInBsYXlUaW1lIiwicm91bmQiLCJtaWRpTm90ZU51bSIsInBhcmFtMSIsInBhcmFtMiIsInBpYW5vTm90ZU51bSIsIm5vdGVUb1BsYXkiLCJOb3RlIiwiRVZFTlRfTUlESV9OT1RFX09OIiwiYWRkTm90ZSIsIk1JRElGaWxlSU8iLCJwcmludFR5cGVBbmRTdWJ0eXBlIiwiZ2V0RG93bmxvYWREYXRhX1RFWFQiLCJiYXNlNjRUZXh0IiwiYnRvYSIsImdldERvd25sb2FkRGF0YV9NSURJIiwiY3JlYXRlRmlsZUZyb21UcmFja3MiLCJwaWFub0tleUJlZm9yZU1vZGlmaWVycyIsImFwcGx5TW9kaWZpZXJzIiwibW9kaWZpZXIiLCJTaGFycHNBbmRGbGF0c01hbmFnZXIiLCJpc05vdGVTaGFycCIsImlzTm90ZUZsYXQiLCJwaWFub0tleU51bWJlciIsInRyYWNrTGVuZ3RoIiwiZHVyYXRpb24iLCJsb2FkRmlyc3RGaWxlIiwiZmlsZUxpc3QiLCJmaWxlIiwicmVhZEZpbGVBc3luYyIsImZpbGVOYW1lIiwiRmlsZUNob29zZXIiLCJvbkZpbGVMb2FkZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxVQUFVLEdBQUdDLG1CQUFPLENBQUMsK0RBQUQsQ0FBMUI7O0FBRUEsSUFBTUMsSUFBSSxHQUFHQyw2REFBUyxDQUFDQyxTQUF2QjtBQUVBLElBQU1DLHdDQUF3QyxHQUFHLENBQWpELEMsQ0FBb0Q7QUFFcEQ7O0FBQ0EsSUFBSUMsUUFBa0IsR0FBRyxJQUF6QixDLENBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUMsdUJBQXVCLEdBQUcsR0FBaEM7QUFFQSxJQUFJQyxZQUFZLEdBQUcsQ0FBbkIs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UjtBQUNILE9BRkQ7QUFHSDtBQUNKOzs7R0FwS0s1UyxHLEtBQUFBLEc7O0FBeUtLQSxrRUFBZiIsImZpbGUiOiIuL2FwcHMvYXV0aG9yL3BpYW5vL3YyL0FwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFycHNBbmRGbGF0c01hbmFnZXIgZnJvbSBcImFwcHMvYXV0aG9yL3BpYW5vL3NoYXJlZC9TaGFycHNBbmRGbGF0c01hbmFnZXJcIjtcbmltcG9ydCBIaWdobGlnaHQgZnJvbSBcImFwcHMvYXV0aG9yL3BpYW5vL3YyL0hpZ2hsaWdodFwiO1xuaW1wb3J0IHsgTm90ZSwgTm90ZUdyb3VwLCBUcmFjayB9IGZyb20gXCJhcHBzL2F1dGhvci9waWFuby92Mi9NdXNpY1wiO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tIFwiYXBwcy9zaGFyZWQvQ29uc3RhbnRzXCI7XG5pbXBvcnQgTUlESUZpbGVJTyBmcm9tIFwiYXBwcy9zaGFyZWQvbWlkaS9NSURJRmlsZUlPXCI7XG5pbXBvcnQgTUlESVV0aWxzIGZyb20gXCJhcHBzL3NoYXJlZC9taWRpL01JRElVdGlsc1wiO1xuaW1wb3J0IEFjdGlvbnMgZnJvbSBcImFwcHMvc2hhcmVkL3JlZHV4L0FjdGlvbnNcIjtcbmltcG9ydCBJbnN0cnVtZW50IGZyb20gXCJhcHBzL3NoYXJlZC9zb3VuZC9JbnN0cnVtZW50XCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcImxvZGFzaC50aHJvdHRsZVwiO1xuXG5jb25zdCBNSURJRXZlbnRzID0gcmVxdWlyZShcIm1pZGlldmVudHNcIik7XG5cbmNvbnN0IEtleXMgPSBDb25zdGFudHMuU3RvcmVLZXlzO1xuXG5jb25zdCBUSU1FX1RIUkVTSE9MRF9GT1JfR1JPVVBJTkdfTkVBUkJZX05PVEVTID0gMDsgLy8gQWRqdXN0IHRoaXMgZm9yIHBhcnNpbmcgTUlESSByZWNvcmRpbmdzIG9mIHBpYW5vIHBlcmZvcm1hbmNlcyBieSBodW1hbnMgKGkuZS4sIGltcHJlY2lzZSB0aW1pbmcpLlxuXG4vLyBEaXNwYXRjaCBldmVudHMgYW5kIHNlbmQgZGF0YSB0byB0aGUgZ2xvYmFsIHN0b3JlLlxubGV0IGRpc3BhdGNoOiBGdW5jdGlvbiA9IG51bGw7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gZGVjbGFyZSB0eXBlcyB0aGF0IGFyZSBkZWZpbmVkIGluIDNyZCBwYXJ0eSBsaWJyYXJpZXNcbi8vIFRPRE9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBUSU1FX0JFVFdFRU5fTk9URUdST1VQUyA9IDI1MDtcblxubGV0IG9jdGF2ZU9mZnNldCA9IDA7XG5cbi8vIHBpYW5vIGtleSBudW1iZXJzICUgMTJcbmxldCBibGFja0tleXMgPSBbMiwgLTEsIDUsIDcsIC0xLCAxMCwgMF07IC8vIC0xIGlzIGZvciB0aGUgc3BhY2VzIHdoZXJlIHRoZXJlIGFyZSBubyBibGFjayBrZXlzXG5sZXQgd2hpdGVLZXlzID0gWzEsIDMsIDQsIDYsIDgsIDksIDExXTtcbmxldCBub3RlTGFiZWxzID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiXTtcblxubGV0IHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuXG5sZXQgcGlhbm8gPSBudWxsO1xuXG5uYW1lc3BhY2UgS2V5Ym9hcmQge1xuICAgIC8vIHdoaWNoIGNoYXJhY3RlciB0byB0eXBlIHRvIGdldCB0aGUgY29ycmVzcG9uZGluZyB3aGl0ZSBrZXlcbiAgICBleHBvcnQgY29uc3QgbGFiZWxzID0gW1xuICAgICAgICBcInpcIixcbiAgICAgICAgXCJ4XCIsIC8vIEcgQSBCXG4gICAgICAgIFwiY1wiLFxuICAgICAgICBcInZcIixcbiAgICAgICAgXCJiXCIsXG4gICAgICAgIFwiblwiLFxuICAgICAgICBcIm1cIixcbiAgICAgICAgXCIsXCIsXG4gICAgICAgIFwiLlwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwiL1wiLFxuICAgICAgICBcImFcIixcbiAgICAgICAgXCJzXCIsXG4gICAgICAgIFwiZFwiLFxuICAgICAgICBcImZcIixcbiAgICAgICAgXCJnXCIsXG4gICAgICAgIFwiaFwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwialwiLFxuICAgICAgICBcImtcIixcbiAgICAgICAgXCJsXCIsXG4gICAgICAgIFwiO1wiLFxuICAgICAgICBcInFcIixcbiAgICAgICAgXCJ3XCIsXG4gICAgICAgIFwiZVwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwiclwiLFxuICAgICAgICBcInRcIixcbiAgICAgICAgXCJ5XCIsXG4gICAgICAgIFwidVwiLFxuICAgICAgICBcImlcIixcbiAgICAgICAgXCJvXCIsXG4gICAgICAgIFwicFwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwiW1wiLFxuICAgICAgICBcIl1cIixcbiAgICAgICAgXCJcXFxcXCIsXG4gICAgICAgIFwiMVwiLFxuICAgICAgICBcIjJcIixcbiAgICAgICAgXCIzXCIsXG4gICAgICAgIFwiNFwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwiNVwiLFxuICAgICAgICBcIjZcIixcbiAgICAgICAgXCI3XCIsXG4gICAgICAgIFwiOFwiLFxuICAgICAgICBcIjlcIixcbiAgICAgICAgXCIwXCIsXG4gICAgICAgIFwiLVwiLCAvLyBDIEQgRSBGIEcgQSBCXG4gICAgICAgIFwiPVwiLCAvLyBDXG4gICAgXTtcblxuICAgIC8vIFRPRE86IEV4dHJhY3QgXCJ6XCIgYW5kIFwia2V5Q29kZVRvUGlhbm9LZXlOdW1iZXJcIiBnaXZlIGl0IGEgYmV0dGVyIG5hbWUhXG4gICAgLy8gI1RPRE86ICNYS1dJQUxEWkEgRklHVVJFIFRISVMgT1VUXG4gICAgLy8gVGhlIGdvYWwgaXMgdG8gbWF0Y2ggdGhlIEFwcGxlIEdhcmFnZUJhbmQgTXVzaWNhbCBUeXBpbmcga2V5IG1hcHBpbmcuXG4gICAgLy8gVHlwZSBBIGFuZCBLIHNob3VsZCBpbnZva2UgdGhlIHBpYW5vIGtleSBcIkNcIi5cbiAgICAvLyBaIHNob3VsZCBiZSBvbmUgb2N0YXZlIGxvd2VyIHRoYW4gQS4gQ29tbWEgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIEEuXG4gICAgLy8gUSBzaG91bGQgYmUgdGhlIHNhbWUgYXMgSy4gSSBzaG91bGQgYmUgb25lIG9jdGF2ZSBoaWdoZXIgdGhhbiBLLlxuICAgIC8vIEFsbG93aW5nIGZvciBhIGN1c3RvbWl6YWJsZSBvZmZzZXQgbWVhbnMgdGhhdCB3aGVuIHdlIGNoYW5nZSBrZXkgc2lnbmF0dXJlcywgd2UgY2FuIGNoYW5nZSB0aGUgb2Zmc2V0IGJ5IGEgY291cGxlIG9mIHNlbWl0b25lcy5cbiAgICAvLyBBbnl3YXlzLi4uIGZpZ3VyZSB0aGlzIG91dCB5byFcbiAgICBjb25zdCB6ID0gLTI7XG4gICAgZXhwb3J0IGNvbnN0IGtleUNvZGVUb1BpYW5vS2V5TnVtYmVyID0ge1xuICAgICAgICA5MDogMTMgKyB6LCAvLyB6ID0+IEFcbiAgICAgICAgODg6IDE1ICsgeiwgLy8geCA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDY3OiAxNiArIHosIC8vIGMgPT4gQzJcbiAgICAgICAgODY6IDE4ICsgeiwgLy8gdiA9PiBEXG4gICAgICAgIDY2OiAyMCArIHosIC8vIGIgPT4gRVxuICAgICAgICA3ODogMjEgKyB6LCAvLyBuID0+IEZcbiAgICAgICAgNzc6IDIzICsgeiwgLy8gbSA9PiBHXG4gICAgICAgIDE4ODogMjUgKyB6LCAvLyAsID0+IEFcbiAgICAgICAgMTkwOiAyNyArIHosIC8vIC4gPT4gQlxuICAgICAgICAvL1xuICAgICAgICAxOTE6IDI4ICsgeiwgLy8gLyA9PiBDM1xuICAgICAgICA2NTogMzAgKyB6LCAvLyBhID0+IERcbiAgICAgICAgODM6IDMyICsgeiwgLy8gcyA9PiBFXG4gICAgICAgIDY4OiAzMyArIHosIC8vIGQgPT4gRlxuICAgICAgICA3MDogMzUgKyB6LCAvLyBmID0+IEdcbiAgICAgICAgNzE6IDM3ICsgeiwgLy8gZyA9PiBBXG4gICAgICAgIDcyOiAzOSArIHosIC8vIGggPT4gQlxuICAgICAgICAvL1xuICAgICAgICA3NDogNDAgKyB6LCAvLyBqID0+IEM0IChNaWRkbGUgQylcbiAgICAgICAgNzU6IDQyICsgeiwgLy8gayA9PiBEXG4gICAgICAgIDc2OiA0NCArIHosIC8vIGwgPT4gRVxuICAgICAgICAxODY6IDQ1ICsgeiwgLy8gOyA9PiBGIGluIENocm9tZVxuICAgICAgICA1OTogNDUgKyB6LCAvLyA7ID0+IEYgaW4gRmlyZWZveFxuICAgICAgICAyMjI6IDQ3ICsgeiwgLy8gJyA9PiBHXG4gICAgICAgIDgxOiA0NyArIHosIC8vIHEgPT4gR1xuICAgICAgICA4NzogNDkgKyB6LCAvLyB3ID0+IEFcbiAgICAgICAgNjk6IDUxICsgeiwgLy8gZSA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDgyOiA1MiArIHosIC8vIHIgPT4gQzVcbiAgICAgICAgODQ6IDU0ICsgeiwgLy8gdCA9PiBEXG4gICAgICAgIDg5OiA1NiArIHosIC8vIHkgPT4gRVxuICAgICAgICA4NTogNTcgKyB6LCAvLyB1ID0+IEZcbiAgICAgICAgNzM6IDU5ICsgeiwgLy8gaSA9PiBHXG4gICAgICAgIDc5OiA2MSArIHosIC8vIG8gPT4gQVxuICAgICAgICA4MDogNjMgKyB6LCAvLyBwID0+IEJcbiAgICAgICAgLy9cbiAgICAgICAgMjE5OiA2NCArIHosIC8vIFsgPT4gQzZcbiAgICAgICAgMjIxOiA2NiArIHosIC8vIF0gPT4gRFxuICAgICAgICAyMjA6IDY4ICsgeiwgLy8gXFwgPT4gRVxuXG4gICAgICAgIDQ5OiA2OSArIHosIC8vIDEgPT4gRlxuICAgICAgICA1MDogNzEgKyB6LCAvLyAyID0+IEdcbiAgICAgICAgNTE6IDczICsgeiwgLy8gMyA9PiBBXG4gICAgICAgIDUyOiA3NSArIHosIC8vIDQgPT4gQlxuICAgICAgICAvL1xuICAgICAgICA1MzogNzYgKyB6LCAvLyA1ID0+IEM3XG4gICAgICAgIDU0OiA3OCArIHosIC8vIDYgPT4gRFxuICAgICAgICA1NTogODAgKyB6LCAvLyA3ID0+IEVcbiAgICAgICAgNTY6IDgxICsgeiwgLy8gOCA9PiBGXG4gICAgICAgIDU3OiA4MyArIHosIC8vIDkgPT4gR1xuICAgICAgICA0ODogODUgKyB6LCAvLyAwID0+IEFcbiAgICAgICAgMTg5OiA4NyArIHosIC8vIC0gPT4gQlxuICAgICAgICAvL1xuICAgICAgICAxODc6IDg4ICsgeiwgLy8gPSA9PiBDOFxuICAgIH07XG59XG5cbi8vICNUT0RPIFVzZSB0aGUgd2VibWlkaSBtb2R1bGUgaW5zdGVhZCFcbi8vICNNSURJQVdFSUlaQUlcbm5hbWVzcGFjZSBNSURJUGlhbm9JbnB1dCB7XG4gICAgbGV0IG51bU5vdGVzUHJlc3NlZDogbnVtYmVyID0gMDtcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgaWYgKG5hdmlnYXRvcltcInJlcXVlc3RNSURJQWNjZXNzXCJdKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3JbXCJyZXF1ZXN0TUlESUFjY2Vzc1wiXSh7IHN5c2V4OiB0cnVlIH0pLnRoZW4ob25NSURJU3VjY2Vzcywgb25NSURJRmFpbHVyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChcIk5vIE1JREkgc3VwcG9ydCBpbiB5b3VyIGJyb3dzZXIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NSURJU3VjY2VzcyhtaWRpQWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTUlESSBTVUNDRVNTXCIpO1xuICAgICAgICBsZXQgbWlkaSA9IG1pZGlBY2Nlc3M7XG4gICAgICAgIGNvbnNvbGUuZGlyKG1pZGkpO1xuICAgICAgICBsZXQgaW5wdXRzID0gbWlkaS5pbnB1dHMudmFsdWVzKCk7XG4gICAgICAgIGxldCBvdXRwdXRzID0gbWlkaS5vdXRwdXRzLnZhbHVlcygpO1xuICAgICAgICBmb3IgKGxldCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlucHV0KTtcbiAgICAgICAgICAgIGlucHV0Lm9ubWlkaW1lc3NhZ2UgPSBvbk1JRElNZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NSURJRmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGFjY2VzcyB0byBNSURJIGRldmljZXMgb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBXZWJNSURJIEFQSS5cIiArIGVycm9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1JRElNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJvbk1JRElNZXNzYWdlXCIpO1xuICAgICAgICB2YXIgZGF0YSA9IG1lc3NhZ2UuZGF0YTsgLy8gdGhpcyBnaXZlcyB1cyBvdXIgW2NvbW1hbmQvY2hhbm5lbCwgbm90ZSwgdmVsb2NpdHldIGRhdGEuXG5cbiAgICAgICAgdmFyIGNtZCA9IGRhdGFbMF0gPj4gNDtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBkYXRhWzBdICYgMHhmOyAvLyBSaWdodG1vc3QgNCBiaXRzLlxuICAgICAgICB2YXIgdHlwZSA9IGRhdGFbMF0gJiAweGYwOyAvLyA0IGJpdHMgaW4gdGhlIHNlY29uZCByaWdodC1tb3N0IHBvc2l0aW9uLlxuICAgICAgICB2YXIgbm90ZSA9IGRhdGFbMV07XG4gICAgICAgIHZhciB2ZWxvY2l0eSA9IGRhdGFbMl07XG4gICAgICAgIHZhciBwaWFub0tleSA9IG5vdGUgLSAyMDtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTQ0OiAvLyBub3RlIG9uXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwaWFubyBrZXkgZG93bjogXCIgKyBwaWFub0tleSArIFwiIHZlbG9jaXR5OiBcIiArIHZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBBcHAucGxheU9uZU5vdGUocGlhbm9LZXksIGZhbHNlKTsgLy8gdGhlIHNlY29uZCBwYXJhbWV0ZXIgKHNldCB0byBmYWxzZSkgd2lsbCBieXBhc3MgYW55IHNoYXJwL2ZsYXQgbW9kaWZpZXJzLlxuICAgICAgICAgICAgICAgIG51bU5vdGVzUHJlc3NlZCsrO1xuICAgICAgICAgICAgICAgIGlmIChudW1Ob3Rlc1ByZXNzZWQgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIFNvbmcubWVyZ2VMYXN0VHdvR3JvdXBzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICNUT0RPOiAjUkVTRVRBQ1FXSUVJRksgSWYgd2UgcHJlc3MgZG93biB0aGUgQiwgQywgQyMgYXQgdGhlIHNhbWUgdGltZSwgd2UgcmVzZXQgdGhlIHRleHQgZmllbGQgdG8gZW1wdHkhISEhXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEyODogLy8gbm90ZSBvZmZcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInBpYW5vIGtleSB1cDogXCIgKyBwaWFub0tleSk7XG4gICAgICAgICAgICAgICAgbnVtTm90ZXNQcmVzc2VkLS07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIyNDogLy8gcGl0Y2ggd2hlZWxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBpdGNoIHdoZWVsXCIpOyAvLyBkYXRhWzFdIGFuZCBkYXRhWzJdIGluZGljYXRlIHRoZSBhbW91bnQgb2YgcGl0Y2ggYmVuZC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGZvciBub3dcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1JREkgZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgY21kOiAke2NtZH0gIGNoYW5uZWw6ICR7Y2hhbm5lbH0gIHR5cGU6ICR7dHlwZX0gIG5vdGU6ICR7bm90ZX0gIHZlbG9jaXR5OiAke3ZlbG9jaXR5fWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHJlc2V0cyB0aGUga2V5IG9mZnNldFxuZnVuY3Rpb24gcmVzZXRPZmZzZXQoKSB7XG4gICAgY29uc29sZS5sb2coXCJSZXNldCBPZmZzZXRzXCIpO1xuICAgIG9jdGF2ZU9mZnNldCA9IDA7XG4gICAgVUkuZHJhd1BpYW5vKCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0RXZlcnl0aGluZygpIHtcbiAgICBjb25zb2xlLmxvZyhcIlJlc2V0IEV2ZXJ5dGhpbmchXCIpO1xuICAgIG9jdGF2ZU9mZnNldCA9IDA7XG4gICAgVUkuVHJhY2tzLnNldHVwKDEpO1xuICAgIHNhdmVBbmRTaG93RGF0YSgpO1xuICAgIFBsYXliYWNrLnN0b3AoKTtcbn1cblxuZnVuY3Rpb24gc2F2ZUFuZFNob3dEYXRhKCkge1xuICAgIExvY2FsU3RvcmFnZS5zYXZlQ2hlY2tCb3hlcygpO1xuICAgIExvY2FsU3RvcmFnZS5zYXZlVHJhY2tzKCk7XG4gICAgVUkuc2hvd05vdGVHcm91cHNGb3JUcmFja3MoKTtcbiAgICBVSS5kcmF3UGlhbm8oKTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBMb2NhbFN0b3JhZ2Uge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICBsb2FkVHJhY2tzKCk7XG4gICAgICAgIGxvYWRWZXJzaW9uVG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFZlcnNpb25Ub2dnbGUoKSB7XG4gICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzb25nX3ZlcnNpb25cIikpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic29uZ192ZXJzaW9uXCIsIFwiMVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29uZ1ZlcnNpb24gPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNvbmdfdmVyc2lvblwiKSk7XG4gICAgICAgIGlmIChzb25nVmVyc2lvbiA8IENvbnN0YW50cy5NSU5fU09OR19WRVJTSU9OIHx8IHNvbmdWZXJzaW9uID4gQ29uc3RhbnRzLk1BWF9TT05HX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHNvbmdWZXJzaW9uID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5TT05HX1ZFUlNJT05dID0gc29uZ1ZlcnNpb247XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9ucy5Ub2dnbGUub25Tb25nVmVyc2lvbkZvcm1hdENoYW5nZWQsIHBheWxvYWQ6IHBheWxvYWQgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFRyYWNrcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkVHJhY2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRyYWNrc1wiKSk7IC8vIGNhbiB0aHJvdyBhIFN5bnRheEVycm9yXG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBzYXZlZFRyYWNrcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIFVJLlRyYWNrcy5zZXR1cChudW1UcmFja3MpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1UcmFja3M7IHQrKykge1xuICAgICAgICAgICAgICAgIGxldCBzYXZlZFRyYWNrID0gc2F2ZWRUcmFja3NbdF07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm90ZUdyb3VwU3RyaW5nIG9mIHNhdmVkVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdGVHcm91cCA9IG5ldyBOb3RlR3JvdXAobm90ZUdyb3VwU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgU29uZy5hZGROb3RlR3JvdXBUb1RyYWNrKG5vdGVHcm91cCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBVSS5UcmFja3Muc2V0dXAoMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQ2hlY2tib3hlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkQ2hlY2tib3hTdGF0ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjaGVja2JveGVzXCIpKTsgLy8gY2FuIHRocm93IGEgU3ludGF4RXJyb3JcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNhdmVkQ2hlY2tib3hTdGF0ZSkgJiYgc2F2ZWRDaGVja2JveFN0YXRlLmxlbmd0aCA9PT0gU29uZy5nZXROdW1UcmFja3MoKSkge1xuICAgICAgICAgICAgICAgIFVJLlRyYWNrcy5zZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3Moc2F2ZWRDaGVja2JveFN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJPT1BTXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIFVJLlRyYWNrcy5jaGVja0FsbE5vbkVtcHR5VHJhY2tzKCk7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2Uuc2F2ZUNoZWNrQm94ZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlQ2hlY2tCb3hlcygpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjaGVja2JveGVzXCIsIEpTT04uc3RyaW5naWZ5KFVJLlRyYWNrcy5nZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoKSkpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlVHJhY2tzKCkge1xuICAgICAgICBsZXQgdHJhY2tzSlNPTiA9IFNvbmcuZ2V0VHJhY2tzQXNKU09OKCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidHJhY2tzXCIsIHRyYWNrc0pTT04pO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlVmVyc2lvblRvZ2dsZShzb25nVmVyc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic29uZ192ZXJzaW9uXCIsIHNvbmdWZXJzaW9uICsgXCJcIik7XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY2xhc3MgRmFrZVdvcmtlckNsb2NrIHtcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xuICAgIHByaXZhdGUgaW50ZXJ2YWwgPSBudWxsO1xuICAgIHByaXZhdGUgZGVsYXkgPSAxMDsgLy8gbXMgYmV0d2VlbiB0aWNrc1xuXG4gICAgcHVibGljIG9ubWVzc2FnZTogRnVuY3Rpb247XG4gICAgcHVibGljIHBvc3RNZXNzYWdlKG1zZzogc3RyaW5nKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc29sZS5sb2coc2VsZik7XG4gICAgICAgIHN3aXRjaCAobXNnKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBpYW5vIENsb2NrIFdvcmtlciBTdGFydGVkXCIpO1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbm1lc3NhZ2UoXCJ0aWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBzZWxmLmRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RvcFwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBpYW5vIENsb2NrIFdvcmtlciBTdG9wcGVkXCIpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgc2VsZi5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBQbGF5YmFjayB7XG4gICAgLy8gQWxsIHRpbWVzIGFyZSBpbiBtaWxsaXNlY29uZHMuXG4gICAgbGV0IGN1cnJTb25nVGltZSA9IDA7IC8vIFdoYXQgdGltZSBpcyBvdXIgcGxheWhlYWQgcG9pbnRpbmcgdG8/XG4gICAgbGV0IGJhc2VTb25nVGltZSA9IDA7IC8vIFdoYXQgdGltZSBkaWQgb3VyIHBsYXloZWFkIHBvaW50IHRvIHdoZW4gd2Ugc3RhcnRlZCBvciByZXN1bWVkIHRoZSBzb25nP1xuICAgIGxldCBjbG9ja1N0YXJ0VGltZSA9IDA7XG5cbiAgICBsZXQgY2xvY2sgPSBuZXcgRmFrZVdvcmtlckNsb2NrKCk7XG4gICAgLy8gbGV0IGNsb2NrID0gbmV3IFdvcmtlcihcIi4vY2xvY2sud29ya2VyLmpzXCIsIHsgdHlwZTogXCJtb2R1bGVcIiB9KTtcbiAgICBsZXQgY2xvY2tJc1RpY2tpbmcgPSBmYWxzZTtcblxuICAgIGNsb2NrLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHBsYXlOZXh0RXZlbnRzKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9O1xuXG4gICAgbGV0IGN1cnJOb3RlR3JvdXBOdW1iZXI6IG51bWJlciA9IDA7XG5cbiAgICBsZXQgaXNQYXVzZWQgPSBmYWxzZTtcblxuICAgIGxldCBuZXh0RXZlbnRQbGF5VGltZSA9IDA7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNQbGF5aW5nKCkge1xuICAgICAgICByZXR1cm4gY2xvY2tJc1RpY2tpbmc7XG4gICAgfVxuXG4gICAgLy8gc3RhcnRzIG9yIHJlc3VtZXMgcGxheWJhY2tcbiAgICBleHBvcnQgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTEFZXCIpO1xuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIGJhc2VTb25nVGltZSA9IGN1cnJTb25nVGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RhcnQgdGhlIE1JREkgcGxheWJhY2suXG4gICAgICAgICAgICBjb25zdCBub3RlR3JvdXBzVG9QbGF5ID0gU29uZy5nZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpO1xuXG4gICAgICAgICAgICBpZiAobm90ZUdyb3Vwc1RvUGxheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBQbGF5YmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBET05FIVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICAgICAgICAgIGN1cnJTb25nVGltZSA9IDA7XG4gICAgICAgICAgICBiYXNlU29uZ1RpbWUgPSAwO1xuICAgICAgICAgICAgZGV0ZXJtaW5lUGxheVRpbWVGb3JOZXh0RXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICBjbG9ja1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjbG9jay5wb3N0TWVzc2FnZShcInN0YXJ0XCIpO1xuICAgICAgICBjbG9ja0lzVGlja2luZyA9IHRydWU7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBzdG9wVGhlQ2xvY2soKTtcbiAgICAgICAgaXNQYXVzZWQgPSB0cnVlOyAvLyBOZXh0IHRpbWUsIGNvbnRpbnVlIGZyb20gd2hlcmUgd2UgbGVmdCBvZmYuXG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVBsYXlQYXVzZSgpIHtcbiAgICAgICAgaWYgKGlzUGxheWluZygpKSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHN0b3BUaGVDbG9jaygpO1xuICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wVGhlQ2xvY2soKSB7XG4gICAgICAgIGlmIChpc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgY2xvY2sucG9zdE1lc3NhZ2UoXCJzdG9wXCIpO1xuICAgICAgICAgICAgY2xvY2tJc1RpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdpbGwgYmUgY2FsbGVkIGV2ZXJ5IH4xNi42N21zIGlmIHlvdXIgZGlzcGxheSBydW5zIGF0IDYwIEZQUy5cbiAgICBmdW5jdGlvbiBwbGF5TmV4dEV2ZW50cyhjdXJyVGltZSkge1xuICAgICAgICBjb25zdCBub3RlR3JvdXBzVG9QbGF5ID0gU29uZy5nZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpO1xuICAgICAgICAvLyBIYXZlIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgc29uZz9cbiAgICAgICAgaWYgKGN1cnJOb3RlR3JvdXBOdW1iZXIgPj0gbm90ZUdyb3Vwc1RvUGxheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFBsYXliYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gRE9ORSFcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJTb25nVGltZSA9IGN1cnJUaW1lIC0gY2xvY2tTdGFydFRpbWUgKyBiYXNlU29uZ1RpbWU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJTb25nVGltZSA+PSBuZXh0RXZlbnRQbGF5VGltZSkge1xuICAgICAgICAgICAgLy8gSW5zcGVjdCB0aGUgbmV4dCBldmVudFxuICAgICAgICAgICAgbGV0IG5vdGVHcm91cDogTm90ZUdyb3VwID0gbm90ZUdyb3Vwc1RvUGxheVtjdXJyTm90ZUdyb3VwTnVtYmVyXTtcbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cChub3RlR3JvdXAudHJhY2tOdW1iZXIsIG5vdGVHcm91cC5ub3RlTnVtYmVyKTtcbiAgICAgICAgICAgIHBsYXlDdXJyZW50Tm90ZUdyb3VwKCk7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyKys7IC8vIGFkdmFuY2VcblxuICAgICAgICAgICAgLy8gSGF2ZSB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHNvbmc/XG4gICAgICAgICAgICBpZiAoY3Vyck5vdGVHcm91cE51bWJlciA+PSBub3RlR3JvdXBzVG9QbGF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFBsYXliYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIERPTkUhXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRldGVybWluZVBsYXlUaW1lRm9yTmV4dEV2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXRlcm1pbmVQbGF5VGltZUZvck5leHRFdmVudCgpIHtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3Vwc1RvUGxheSA9IFNvbmcuZ2V0Tm90ZUdyb3Vwc0Zyb21UcmFja3MoKTtcbiAgICAgICAgbmV4dEV2ZW50UGxheVRpbWUgPSBub3RlR3JvdXBzVG9QbGF5W2N1cnJOb3RlR3JvdXBOdW1iZXJdLnBsYXlUaW1lTWlsbGlzO1xuICAgICAgICBpZiAobmV4dEV2ZW50UGxheVRpbWUgPT09IC0xKSB7XG4gICAgICAgICAgICBuZXh0RXZlbnRQbGF5VGltZSA9IGN1cnJTb25nVGltZSArIFRJTUVfQkVUV0VFTl9OT1RFR1JPVVBTOyAvLyBJZiB0aGUgcGxheVRpbWUgaXNuJ3Qgc3BlY2lmaWVkLCB3ZSBwbGF5IHRoZSBuZXh0IG5vdGUgZXZlcnkgMjAwbXMhXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBNYW51YWwgUGxheWJhY2sgb2YgdGhlIHNvbmcgb3IgaW5kaXZpZHVhbCB0cmFja3MuXG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUN1cnJOb3RlR3JvdXBOdW1iZXIoKSB7XG4gICAgICAgIGNvbnN0IG5vdGVHcm91cHNUb1BsYXkgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgIGlmIChjdXJyTm90ZUdyb3VwTnVtYmVyID49IG5vdGVHcm91cHNUb1BsYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gbm90ZUdyb3Vwc1RvUGxheS5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJOb3RlR3JvdXBOdW1iZXIgPCAwKSB7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBjb25zdCBwbGF5Tm90ZUFuZEdvQmFja3dhcmRJblRoZVNvbmcgPSB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uKC0xKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xuXG4gICAgZXhwb3J0IGNvbnN0IHBsYXlOb3RlQW5kR29Gb3J3YXJkSW5UaGVTb25nID0gdGhyb3R0bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBwbGF5Tm90ZUFuZEFkdmFuY2VJbkRpcmVjdGlvbigrMSk7XG4gICAgfSwgMTUwIC8qIG1zICovKTtcblxuICAgIGZ1bmN0aW9uIHBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uKGRpcmVjdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG5vdGVHcm91cHNUb1BsYXkgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgIGlmIChub3RlR3JvdXBzVG9QbGF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlQ3Vyck5vdGVHcm91cE51bWJlcigpO1xuXG4gICAgICAgIGxldCBub3RlR3JvdXA6IE5vdGVHcm91cCA9IG5vdGVHcm91cHNUb1BsYXlbY3Vyck5vdGVHcm91cE51bWJlcl07XG4gICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cChub3RlR3JvdXAudHJhY2tOdW1iZXIsIG5vdGVHcm91cC5ub3RlTnVtYmVyKTtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgY3Vyck5vdGVHcm91cE51bWJlciArPSBkaXJlY3Rpb247XG4gICAgICAgIHZhbGlkYXRlQ3Vyck5vdGVHcm91cE51bWJlcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXlDdXJyZW50Tm90ZUdyb3VwKCkge1xuICAgICAgICBjb25zdCB0ID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICBjb25zdCBuID0gSGlnaGxpZ2h0LmdldEN1cnJlbnROb3RlR3JvdXBOdW1iZXIoKTtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwID0gU29uZy5nZXROb3RlR3JvdXBGcm9tVHJhY2sobiwgdCk7XG4gICAgICAgIGlmICghbm90ZUdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIG5vdGVHcm91cC5ub3Rlcykge1xuICAgICAgICAgICAgQXBwLnBsYXlQaWFub05vdGUoTUlESVV0aWxzLm0ycChub3RlLm1pZGlOb3RlKSwgbm90ZS52ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5QTEFZRURfTk9URUdST1VQX0lEXSA9IFNvbmcuZ2V0Tm90ZUdyb3VwSUQodCwgbik7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9ucy5Tb25nLm9uUGxheU5vdGVHcm91cCwgcGF5bG9hZDogcGF5bG9hZCB9KTtcbiAgICB9XG5cbiAgICBleHBvcnQgY29uc3QgcGxheUFuZEdvQmFja3dhcmRPbkN1cnJlbnRUcmFjayA9IHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgSGlnaGxpZ2h0LnByZXZOb3RlR3JvdXAoKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xuXG4gICAgZXhwb3J0IGNvbnN0IHBsYXlBbmRHb0ZvcndhcmRPbkN1cnJlbnRUcmFjayA9IHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgSGlnaGxpZ2h0Lm5leHROb3RlR3JvdXAoKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xufVxuXG5uYW1lc3BhY2UgVUkge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXR1cENvcHlIYW5kbGVyKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBmdW5jdGlvbiAoZTogQ2xpcGJvYXJkRXZlbnQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ09QWVwiKTtcbiAgICAgICAgICAgIGlmIChlLmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gVUkuVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjdXRcIiwgZnVuY3Rpb24gKGU6IENsaXBib2FyZEV2ZW50KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNVVFwiKTtcbiAgICAgICAgICAgIGlmIChlLmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gVUkuVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0RXZlcnl0aGluZygpOyAvLyBTZXQgdGhlIHRleHQgZmllbGRzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaG93Tm90ZUdyb3Vwc0ZvclRyYWNrcygpIHtcbiAgICAgICAgVUkuVHJhY2tzLmNoZWNrQWxsTm9uRW1wdHlUcmFja3MoKTtcbiAgICAgICAgSGlnaGxpZ2h0LnVwZGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5VUERBVEVEX1RSQUNLU19MSVNUXSA9IFNvbmcuZ2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzQXNBcnJheSgpO1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvbnMuU29uZy5vblRyYWNrc1VwZGF0ZWQsIHBheWxvYWQ6IHBheWxvYWQgfSk7XG4gICAgICAgIFNvbmcucmVzZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMoKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2Nyb2xsTm90ZUdyb3VwSW50b1ZpZXcodHJhY2tOdW1iZXI6IG51bWJlciwgbm90ZUdyb3VwTnVtYmVyOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwSUQgPSBTb25nLmdldE5vdGVHcm91cElEKHRyYWNrTnVtYmVyLCBub3RlR3JvdXBOdW1iZXIpO1xuICAgICAgICAvLyBTY3JvbGwgdGhlIGRpdnMgYWxsIHRoZSB3YXkgdG8gdGhlIHJpZ2h0IHRvIG1ha2Ugc3VyZSB0aGUgbW9zdCByZWNlbnQgTm90ZUdyb3VwcyBhcmUgdmlzaWJsZS5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtub3RlR3JvdXBJRH1gKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gTU9VU0UgJiBLRVlCT0FSRFxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIGlmICghcGlhbm8pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVUkub25LZXlEb3duOiBQaWFubyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qga2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgY29uc3QgbWV0YUtleUlzRG93biA9IGUubWV0YUtleTsgLy8gZS5tZXRhS2V5ID0+IENNRCAoOTEgaXMgTEVGVCBDTUQgJiA5MyBpcyBSSUdIVCBDTUQpXG4gICAgICAgIGNvbnN0IGN0cmxLZXlJc0Rvd24gPSBlLmN0cmxLZXk7XG4gICAgICAgIGNvbnN0IHNoaWZ0S2V5SXNEb3duID0gZS5zaGlmdEtleTtcblxuICAgICAgICBpZiAobWV0YUtleUlzRG93bikge1xuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gMzcgfHwga2V5Q29kZSA9PSAzOSkge1xuICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkcuIEZhbGwgdGhyb3VnaCBzbyB0aGF0IHdlIGNhbiBkbyBDTUQgKyBMRUZUIEFSUk9XIGFuZCBDTUQgKyBSSUdIVCBBUlJPVy5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoZW4gd2UgaGF2ZSB0aGUgQ01EIHByZXNzZWQgZG93biwgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZSBicm93c2VyJ3MgaG90a2V5cy5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDVFJMID0+IEZMQVQgYW5kIFNISUZUID0+IFNIQVJQXG4gICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICBpZiAoY3RybEtleUlzRG93bikge1xuICAgICAgICAgICAgc2hhcnBPckZsYXRNb2RpZmllciA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGlmdEtleUlzRG93bikge1xuICAgICAgICAgICAgc2hhcnBPckZsYXRNb2RpZmllciA9ICsxO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTM6IC8vIEVOVEVSXG4gICAgICAgICAgICAgICAgUGxheWJhY2sudG9nZ2xlUGxheVBhdXNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMzOiAvLyBQQUdFIFVQIHwgZm4gKyBVUF9BUlJPV1xuICAgICAgICAgICAgICAgIC8vIFVwIGFuIG9jdGF2ZS5cbiAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQrKztcbiAgICAgICAgICAgICAgICBpZiAob2N0YXZlT2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBVSS5kcmF3UGlhbm8oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzQ6IC8vIFBBR0UgRE9XTiB8IGZuICsgRE9XTl9BUlJPV1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZm4gKyBET1dOXCIpO1xuICAgICAgICAgICAgICAgIC8vIERvd24gYW4gb2N0YXZlLlxuICAgICAgICAgICAgICAgIG9jdGF2ZU9mZnNldC0tO1xuICAgICAgICAgICAgICAgIGlmIChvY3RhdmVPZmZzZXQgPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVUkuZHJhd1BpYW5vKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM2OiAvLyBIT01FIHwgZm4gKyBMRUZUX0FSUk9XXG4gICAgICAgICAgICAgICAgUGxheWJhY2sucGxheU5vdGVBbmRHb0JhY2t3YXJkSW5UaGVTb25nKCk7IC8vIEZpbmQgdGhlIHByZXZpb3VzIG5vdGUgdG8gcGxheSB2aWEgcm91bmQgcm9iaW4uXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM1OiAvLyBFTkQgfCBmbiArIFJJR0hUX0FSUk9XXG4gICAgICAgICAgICAgICAgUGxheWJhY2sucGxheU5vdGVBbmRHb0ZvcndhcmRJblRoZVNvbmcoKTsgLy8gRmluZCB0aGUgbmV4dCBub3RlIHRvIHBsYXkgdmlhIHJvdW5kIHJvYmluLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTI6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGMVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTEzOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRjJcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExNDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkYzXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGNFwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTE2OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRjVcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE5MjogLy8gfiA9PSBTSElGVCArIGBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNISUZUICsgYFwiKTtcbiAgICAgICAgICAgICAgICByZXNldEV2ZXJ5dGhpbmcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzI6IC8vIFNQQUNFIEJBUlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU1BBQ0VcIik7XG4gICAgICAgICAgICAgICAgLy8geHh4XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI3OiAvLyBFU0NcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVTQ1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hpZnRLZXlJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU0hJRlQgKyBFU0NcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRFdmVyeXRoaW5nKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRVNDIHJlc2V0cyB0aGUgb2N0YXZlIG9mZnNldHNcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDg6IC8vIEJBQ0tTUEFDRS9ERUxcbiAgICAgICAgICAgICAgICBTb25nLmRlbGV0ZUxhc3RHcm91cCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5OiAvLyBUQUJcbiAgICAgICAgICAgICAgICBTb25nLm1lcmdlTGFzdFR3b0dyb3VwcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzODogLy8gVVBcbiAgICAgICAgICAgICAgICBIaWdobGlnaHQucHJldlRyYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwOiAvLyBET1dOXG4gICAgICAgICAgICAgICAgSGlnaGxpZ2h0Lm5leHRUcmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzNzogLy8gTEVGVFxuICAgICAgICAgICAgICAgIGlmIChtZXRhS2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENNRCArIExFRlQganVtcHMgdG8gdGhlIGZpcnN0IG5vdGVncm91cCBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIHRyYWNrLlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQuZmlyc3ROb3RlR3JvdXAoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0S2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNISUZUICsgTEVGVFxuICAgICAgICAgICAgICAgICAgICBQbGF5YmFjay5wbGF5QW5kR29CYWNrd2FyZE9uQ3VycmVudFRyYWNrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0LnByZXZOb3RlR3JvdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OiAvLyBSSUdIVFxuICAgICAgICAgICAgICAgIGlmIChtZXRhS2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENNRCArIFJJR0hUIGp1bXBzIHRvIHRoZSBsYXN0IG5vdGVncm91cCBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIHRyYWNrLlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQubGFzdE5vdGVHcm91cCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpZnRLZXlJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU0hJRlQgKyBSSUdIVFxuICAgICAgICAgICAgICAgICAgICBQbGF5YmFjay5wbGF5QW5kR29Gb3J3YXJkT25DdXJyZW50VHJhY2soKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQubmV4dE5vdGVHcm91cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKEtleWJvYXJkLmtleUNvZGVUb1BpYW5vS2V5TnVtYmVyLmhhc093blByb3BlcnR5KGtleUNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIEFwcC5wbGF5T25lTm90ZShLZXlib2FyZC5rZXlDb2RlVG9QaWFub0tleU51bWJlcltrZXlDb2RlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9uS2V5VXAoZSkge1xuICAgICAgICAvLyBSZWxlYXNlZCBDVFJMIG9yIFNISUZUXG4gICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBUaGUgUGlhbm8gVmlzdWFsaXphdGlvbiAoQ2FudmFzIDJEKVxuICAgIGV4cG9ydCBjb25zdCBXSElURV9LRVlfV0lEVEggPSAyMDtcbiAgICBleHBvcnQgY29uc3QgV0hJVEVfS0VZX0hFSUdIVCA9IDEyMDtcbiAgICBleHBvcnQgY29uc3QgQkxBQ0tfS0VZX1dJRFRIID0gMTY7XG4gICAgZXhwb3J0IGNvbnN0IEJMQUNLX0tFWV9IRUlHSFQgPSA3MjtcblxuICAgIGxldCBjb250ZXh0MmQgPSBudWxsO1xuICAgIGxldCBjb250ZXh0MmRXaWR0aCA9IDA7XG4gICAgbGV0IGNvbnRleHQyZEhlaWdodCA9IDA7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0Q2FudmFzQ29udGV4dChjMmQsIGMyZFdpZHRoOiBudW1iZXIsIGMyZEhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnRleHQyZCA9IGMyZDtcbiAgICAgICAgY29udGV4dDJkV2lkdGggPSBjMmRXaWR0aDtcbiAgICAgICAgY29udGV4dDJkSGVpZ2h0ID0gYzJkSGVpZ2h0O1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkcmF3UGlhbm8oKSB7XG4gICAgICAgIGlmICghY29udGV4dDJkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGMgPSBjb250ZXh0MmQ7XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIGJhY2tncm91bmRcbiAgICAgICAgYy5maWxsU3R5bGUgPSBcIiMzMzNcIjtcbiAgICAgICAgYy5maWxsUmVjdCgwLCAwLCBjb250ZXh0MmRXaWR0aCwgY29udGV4dDJkSGVpZ2h0KTtcblxuICAgICAgICBkcmF3V2hpdGVLZXlzKGMpO1xuICAgICAgICBkcmF3QmxhY2tLZXlzKGMpO1xuICAgICAgICBkcmF3S2V5TGFiZWxzKGMpO1xuICAgICAgICBkcmF3TW9zdFJlY2VudEdyb3VwKGMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdXaGl0ZUtleXMoYykge1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gXCIjMDAwXCI7XG4gICAgICAgIGMubGluZVdpZHRoID0gMC4yO1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZGRlwiO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNTI7IGsrKykge1xuICAgICAgICAgICAgYy5maWxsUmVjdChrICogV0hJVEVfS0VZX1dJRFRILCAwLCBXSElURV9LRVlfV0lEVEgsIFdISVRFX0tFWV9IRUlHSFQpO1xuICAgICAgICAgICAgYy5zdHJva2VSZWN0KGsgKiBXSElURV9LRVlfV0lEVEgsIDAsIFdISVRFX0tFWV9XSURUSCwgV0hJVEVfS0VZX0hFSUdIVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWdobGlnaHQgTWlkZGxlIEMgaW4gZmFpbnQgcmVkLlxuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZDQ1wiO1xuICAgICAgICBjLmZpbGxSZWN0KDIzICogV0hJVEVfS0VZX1dJRFRILCAwLCBXSElURV9LRVlfV0lEVEgsIFdISVRFX0tFWV9IRUlHSFQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdCbGFja0tleXMoYykge1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiIzMyMzIzMlwiO1xuXG4gICAgICAgIGZvciAobGV0IG9jdGF2ZSA9IDA7IG9jdGF2ZSA8IDc7IG9jdGF2ZSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCA3OyBrZXkrKykge1xuICAgICAgICAgICAgICAgIC8vIEEjID0ga2V5IDA7IEMjID0ga2V5IDI7IEcjID0ga2V5IDZcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IDEgfHwga2V5ID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHNraXAgQiMgYW5kIEUjXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5maWxsUmVjdCgxMiArIDIwICogKGtleSArIG9jdGF2ZSAqIDcpLCAwLCBCTEFDS19LRVlfV0lEVEgsIEJMQUNLX0tFWV9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGlnaGVzdCBibGFjayBrZXlcbiAgICAgICAgYy5maWxsUmVjdCgxMiArIDcgKiA3ICogMjAsIDAsIDE2LCA3Mik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhd0tleUxhYmVscyhjKSB7XG4gICAgICAgIGMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAvLyBkcmF3IHRoZSBwaWFubyBrZXkgbnVtYmVycyBmb3IgdGhlIHdoaXRlIGtleXNcbiAgICAgICAgLy8gYWxzbyBkcmF3IHRoZSBub3RlIG5hbWVcbiAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPD0gODg7IGsrKykge1xuICAgICAgICAgICAgbGV0IHJlbWFpbmRlciA9IGsgJSAxMjtcbiAgICAgICAgICAgIGlmICh3aGl0ZUtleXMuaW5jbHVkZXMocmVtYWluZGVyKSkge1xuICAgICAgICAgICAgICAgIGxldCBvY3RhdmUgPSBNYXRoLmZsb29yKGsgLyAxMik7XG4gICAgICAgICAgICAgICAgbGV0IHdoaXRlS2V5Tm90ZUluZGV4ID0gd2hpdGVLZXlzLmluZGV4T2YocmVtYWluZGVyKTtcbiAgICAgICAgICAgICAgICBsZXQgd2hpdGVLZXlJbmRleCA9IG9jdGF2ZSAqIDcgKyB3aGl0ZUtleU5vdGVJbmRleDtcbiAgICAgICAgICAgICAgICBsZXQgbm90ZUxhYmVsID0gbm90ZUxhYmVsc1t3aGl0ZUtleU5vdGVJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG5vdGVMYWJlbCA9PSBcImNcIikge1xuICAgICAgICAgICAgICAgICAgICBjLmZvbnQgPSBcImJvbGQgMTNweCBUYWhvbWFcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLmZvbnQgPSBcIjEzcHggVGFob21hXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gXCIjNzc3XCI7XG4gICAgICAgICAgICAgICAgYy5maWxsVGV4dChub3RlTGFiZWwsIHdoaXRlS2V5SW5kZXggKiAyMCArIDEwLCAxMDApO1xuICAgICAgICAgICAgICAgIGMuZm9udCA9IFwiMTJweCBDb25zb2xhc1wiO1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gXCIjOTk5XCI7XG4gICAgICAgICAgICAgICAgYy5maWxsVGV4dChrLCB3aGl0ZUtleUluZGV4ICogMjAgKyAxMCwgMTE1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGMuZm9udCA9IFwiMTVweCBDb25zb2xhc1wiO1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZGRlwiO1xuICAgICAgICBjLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgY3VycmVudCBjaGFyYWN0ZXIgdG8gcHJlc3MsIHVuZGVyIHRoZSBjb3JyZWN0IGtleSFcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKG9jdGF2ZU9mZnNldCArIDEpICogNzsgLy8gc3RhcnQgb24gQSAoa2V5IDEzKVxuICAgICAgICBjb25zdCBsZW4gPSBLZXlib2FyZC5sYWJlbHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjLmZpbGxUZXh0KEtleWJvYXJkLmxhYmVsc1tpXSwgKGkgKyBvZmZzZXQpICogMjAgKyAxMCwgMTQwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRyYXcgdGhlIGhpZ2hsaWdodGVkIGdyb3VwP1xuICAgIGZ1bmN0aW9uIGRyYXdNb3N0UmVjZW50R3JvdXAoYykge1xuICAgICAgICBjb25zdCB0cmFja051bWJlciA9IEhpZ2hsaWdodC5nZXRDdXJyZW50VHJhY2tOdW1iZXIoKTtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwTnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnROb3RlR3JvdXBOdW1iZXIoKTtcblxuICAgICAgICBjb25zdCBsYXN0R3JvdXAgPSBTb25nLmdldE5vdGVHcm91cEZyb21UcmFjayhub3RlR3JvdXBOdW1iZXIsIHRyYWNrTnVtYmVyKTtcbiAgICAgICAgaWYgKCFsYXN0R3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBub3RlczogQXJyYXk8Tm90ZT4gPSBsYXN0R3JvdXAubm90ZXM7XG4gICAgICAgIGZvciAobGV0IG4gb2Ygbm90ZXMpIHtcbiAgICAgICAgICAgIGxldCByZW1haW5kZXIgPSBuLnBpYW5vTm90ZSAlIDEyO1xuXG4gICAgICAgICAgICBsZXQgb2N0YXZlSW5kZXggPSBNYXRoLmZsb29yKChuLnBpYW5vTm90ZSAtIDEpIC8gMTIpO1xuXG4gICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgaWYgKGJsYWNrS2V5cy5pbmNsdWRlcyhyZW1haW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gaXMgaXQgYSBibGFjayBrZXk/XG4gICAgICAgICAgICAgICAgbGV0IGJsYWNrS2V5SW5kZXggPSBvY3RhdmVJbmRleCAqIDcgKyBibGFja0tleXMuaW5kZXhPZihyZW1haW5kZXIpO1xuICAgICAgICAgICAgICAgIC8vIGJsYWNrIGtleXMgYXJlIDE2cHggd2lkZVxuICAgICAgICAgICAgICAgIGMuYXJjKGJsYWNrS2V5SW5kZXggKiAyMCArIDIwLCA2MCwgNiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2hpdGUsIHdlIG1hcCBpdCB0byBvbmUgb2YgdGhlIDUyIHdoaXRlIGtleXNcbiAgICAgICAgICAgICAgICBsZXQgd2hpdGVLZXlJbmRleCA9IG9jdGF2ZUluZGV4ICogNyArIHdoaXRlS2V5cy5pbmRleE9mKHJlbWFpbmRlcik7XG5cbiAgICAgICAgICAgICAgICAvLyB3aGl0ZSBrZXlzIGFyZSAyMHB4IHdpZGVcbiAgICAgICAgICAgICAgICBjLmFyYyh3aGl0ZUtleUluZGV4ICogMjAgKyAxMCwgOTYsIDcsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9IFwicmdiYSgyMjAsMjIwLDEwLC44MilcIjsgLy8gZmlsbCB0aGUgeWVsbG93IGNpcmNsZVxuICAgICAgICAgICAgYy5maWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVHJhY2tzIHtcbiAgICAgICAgLy8gQmluZGluZ3MgdG8gb3VyIFJlYWN0IGNvbXBvbmVudCBzdGF0ZS5cbiAgICAgICAgLy8gV2UgY2FuIHF1ZXJ5IHdoZXRoZXIgYSB0cmFjaydzIGNoZWNrYm94IGlzQ2hlY2tlZC5cbiAgICAgICAgLy8gV2UgY2FuIGNhbGwgc2V0Q2hlY2tlZCB0byBjaGFuZ2UgdGhlIHRyYWNrJ3MgY2hlY2tlZCBzdGF0ZS5cbiAgICAgICAgbGV0IGlzQ2hlY2tlZENhbGxiYWNrczogRnVuY3Rpb25bXSA9IG51bGw7XG4gICAgICAgIGxldCBzZXRDaGVja2VkQ2FsbGJhY2tzOiBGdW5jdGlvbltdID0gbnVsbDtcblxuICAgICAgICBjb25zdCBkZWZhdWx0SXNDaGVja2VkQ0IgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRFRkFVTFQgSVMtQ0hFQ0tFRC4gUkVUVVJOIFRSVUUuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTZXRDaGVja2VkQ0IgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJERUZBVUxUIFNFVCBDSEVDS0VEOiBcIiArIGNoZWNrZWQpO1xuICAgICAgICAgICAgLyogTk8tT1AgKi9cbiAgICAgICAgfTtcblxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gc2V0dXAobnVtVHJhY2tzOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlzQ2hlY2tlZENhbGxiYWNrcyA9IG5ldyBBcnJheShudW1UcmFja3MpO1xuICAgICAgICAgICAgc2V0Q2hlY2tlZENhbGxiYWNrcyA9IG5ldyBBcnJheShudW1UcmFja3MpO1xuICAgICAgICAgICAgaXNDaGVja2VkQ2FsbGJhY2tzLmZpbGwoZGVmYXVsdElzQ2hlY2tlZENCKTtcbiAgICAgICAgICAgIHNldENoZWNrZWRDYWxsYmFja3MuZmlsbChkZWZhdWx0U2V0Q2hlY2tlZENCKTtcblxuICAgICAgICAgICAgU29uZy5yZXNldCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1UcmFja3M7IHQrKykge1xuICAgICAgICAgICAgICAgIFNvbmcuYWRkVHJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXR1cEluZGV4ZXMobnVtVHJhY2tzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBhZGROZXdUcmFjaygpIHt9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRGaWxlRnJvbVRyYWNrcygpOiBzdHJpbmcge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRUZXh0RmlsZUZyb21UcmFja3MgU29uZyBWZXJzaW9uOiBcIiArIEFwcC5nZXRTb25nVmVyc2lvbigpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVHcm91cHMgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgICAgICBpZiAoQXBwLmdldFNvbmdWZXJzaW9uKCkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbm90ZUdyb3VwVjFTdHJpbmdzID0gW107XG4gICAgICAgICAgICAgICAgbm90ZUdyb3Vwcy5mb3JFYWNoKChub3RlR3JvdXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUdyb3VwVjFTdHJpbmdzLnB1c2gobm90ZUdyb3VwLnRvU3RyaW5nVjEoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVHcm91cFYxU3RyaW5ncy5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc29uZ1ZlcnNpb24gPT09IDJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90ZUdyb3Vwcy5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0VHJhY2tOdW1iZXJzVG9JbmNsdWRlSW5NSURJRmlsZSgpOiBudW1iZXJbXSB7XG4gICAgICAgICAgICBjb25zdCB0cmFja051bWJlcnNUb0luY2x1ZGU6IG51bWJlcltdID0gW107XG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBTb25nLmdldE51bVRyYWNrcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdHJhY2tOdW1iZXIgPSAwOyB0cmFja051bWJlciA8IG51bVRyYWNrczsgdHJhY2tOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGlmIChUcmFja3MuaXNDaGVja2VkKHRyYWNrTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja051bWJlcnNUb0luY2x1ZGUucHVzaCh0cmFja051bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrTnVtYmVyc1RvSW5jbHVkZTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gc2V0VHJhY2tDaGVja2VkQ2FsbGJhY2tzKHRyYWNrTnVtYmVyOiBudW1iZXIsIGlzVHJhY2tDaGVja2VkOiBGdW5jdGlvbiwgc2V0VHJhY2tDaGVja2VkOiBGdW5jdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZXRUcmFja0NoZWNrZWRDYWxsYmFja3MgXCIgKyB0cmFja051bWJlciArIFwiIFwiICsgdHlwZW9mIGlzVHJhY2tDaGVja2VkICsgXCIgXCIgKyB0eXBlb2Ygc2V0VHJhY2tDaGVja2VkKTtcbiAgICAgICAgICAgIGlmICghaXNDaGVja2VkQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgaXNDaGVja2VkQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0NoZWNrZWRDYWxsYmFja3NbdHJhY2tOdW1iZXJdID0gaXNUcmFja0NoZWNrZWQ7XG4gICAgICAgICAgICBpZiAoIXNldENoZWNrZWRDYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICBzZXRDaGVja2VkQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDaGVja2VkQ2FsbGJhY2tzW3RyYWNrTnVtYmVyXSA9IHNldFRyYWNrQ2hlY2tlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRDaGVja2VkKHRyYWNrTnVtYmVyOiBudW1iZXIsIGNoZWNrZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2V0Q2hlY2tlZCBcIiArIHRyYWNrTnVtYmVyICsgXCIgPT4gXCIgKyBjaGVja2VkKTtcblxuICAgICAgICAgICAgY29uc3Qgc2V0Q2hlY2tlZENCID0gc2V0Q2hlY2tlZENhbGxiYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgICAgICBpZiAoIXNldENoZWNrZWRDQikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTlVMTCBTRVRDSEVDS0VEIENBTExCQUNLXCIpO1xuICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gI1RPRE86IElmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgc2V0Q2hlY2tlZENCKGNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZS5zYXZlQ2hlY2tCb3hlcygpO1xuICAgICAgICAgICAgICAgIFNvbmcucmVzZXRDYWNoZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGlzQ2hlY2tlZCh0cmFja051bWJlcjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBjb25zdCBpc0NoZWNrZWRDQiA9IGlzQ2hlY2tlZENhbGxiYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgICAgICBpZiAoIWlzQ2hlY2tlZENCKSB7XG4gICAgICAgICAgICAgICAgLy8gbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWRDQigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQWxsTm9uRW1wdHlUcmFja3MoKSB7XG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBTb25nLmdldE51bVRyYWNrcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdHJhY2tOdW1iZXIgPSAwOyB0cmFja051bWJlciA8IG51bVRyYWNrczsgdHJhY2tOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGlmIChTb25nLmdldE51bU5vdGVHcm91cHNJblRyYWNrKHRyYWNrTnVtYmVyKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhY2tzLnNldENoZWNrZWQodHJhY2tOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYWNrcy5zZXRDaGVja2VkKHRyYWNrTnVtYmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoKTogYm9vbGVhbltdIHtcbiAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWRDYWxsYmFja3MubWFwKChpc0NoZWNrZWRDQikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNDaGVja2VkQ0IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBJZiB0aGUgY2FsbGJhY2sgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHdlIGNvbnNpZGVyIHRoYXQgdHJhY2sgXCJOT1QgQ0hFQ0tFRFwiLlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVja2VkID0gaXNDaGVja2VkQ0IoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVja2VkOyAvLyBPdGhlcndpc2UsIHdlIGNhbGwgdGhlIGNhbGxiYWNrIHRvIGRldGVybWluZSB0aGUgY3VycmVudCBjaGVja2VkIHN0YXRlLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoY2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzOiBib29sZWFuW10pOiB2b2lkIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRyYWNrTnVtYmVyID0gMDsgdHJhY2tOdW1iZXIgPCBjaGVja2VkU3RhdGVGb3JBbGxUcmFja3MubGVuZ3RoOyB0cmFja051bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZFN0YXRlID0gY2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBUcmFja3Muc2V0Q2hlY2tlZCh0cmFja051bWJlciwgY2hlY2tlZFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBTb25nIHtcbiAgICAvLyBTdXBwb3J0IG11bHRpIHRyYWNrIE1JREkgc29uZ3MuXG4gICAgLy8gV2hlbiB3ZSBjb21wb3NlIGJ5IGhhbmQsIHN0aWNrIGV2ZXJ5dGhpbmcgaW4gdHJhY2sgMC5cbiAgICBjb25zdCB0cmFja3M6IEFycmF5PFRyYWNrPiA9IFtdO1xuXG4gICAgbGV0IGNhY2hlZE5vdGVHcm91cHM6IE5vdGVHcm91cFtdID0gbnVsbDtcblxuICAgIGNvbnN0IHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVyczogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRyYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICBTb25nLnJlc2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzKCk7XG4gICAgICAgIFNvbmcucmVzZXRDYWNoZSgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZXNldENhY2hlKCkge1xuICAgICAgICBjYWNoZWROb3RlR3JvdXBzID0gbnVsbDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkVHJhY2soKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gbmV3IFRyYWNrKCk7XG4gICAgICAgIHRyYWNrLnRyYWNrTnVtYmVyID0gdHJhY2tzLmxlbmd0aDtcbiAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICByZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMuYWRkKHRyYWNrLnRyYWNrTnVtYmVyKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm46IHRoZSBuZXcgbGVuZ3RoIG9mIHRoZSBzcGVjaWZpZWQgdHJhY2suXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZE5vdGVHcm91cFRvVHJhY2sobm90ZUdyb3VwOiBOb3RlR3JvdXAsIHRyYWNrTnVtYmVyOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBTb25nLnJlc2V0Q2FjaGUoKTsgLy8gRXZlcnkgdGltZSB3ZSBtb2RpZnkgdGhlIHRyYWNrcywgd2UgbmVlZCB0byBpbnZhbGlkYXRlIHRoZSBjYWNoZS5cblxuICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgIG5vdGVHcm91cC50cmFja051bWJlciA9IHRyYWNrTnVtYmVyO1xuICAgICAgICBub3RlR3JvdXAubm90ZU51bWJlciA9IHRyYWNrLmxlbmd0aDtcbiAgICAgICAgdHJhY2sucHVzaChub3RlR3JvdXApO1xuXG4gICAgICAgIHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycy5hZGQodHJhY2tOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdHJhY2tzW3RyYWNrTnVtYmVyXS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2UgY2FsbCBzYXZlQW5kU2hvd0RhdGEoKSBlbHNld2hlcmUhXG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldE51bVRyYWNrcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdHJhY2tzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TnVtTm90ZUdyb3Vwc0luVHJhY2sodHJhY2tOdW1iZXI6IG51bWJlcikge1xuICAgICAgICBpZiAodHJhY2tOdW1iZXIgPCAwIHx8IHRyYWNrTnVtYmVyID49IHRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrc1t0cmFja051bWJlcl0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzVHJhY2tFbXB0eSh0cmFja051bWJlcjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBnZXROdW1Ob3RlR3JvdXBzSW5UcmFjayh0cmFja051bWJlcikgPT09IDA7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFRyYWNrc0FzSlNPTigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodHJhY2tzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gbWVyZ2VMYXN0VHdvR3JvdXBzKCkge1xuICAgICAgICBjb25zdCB0cmFja051bWJlciA9IEhpZ2hsaWdodC5nZXRDdXJyZW50VHJhY2tOdW1iZXIoKTtcbiAgICAgICAgY29uc3QgY3VyclRyYWNrID0gdHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgaWYgKGN1cnJUcmFjay5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgbGV0IG1lcmdlZE5vdGVHcm91cDogTm90ZUdyb3VwID0gTm90ZUdyb3VwLm1lcmdlKGN1cnJUcmFjay5wb3AoKSwgY3VyclRyYWNrLnBvcCgpKTtcbiAgICAgICAgICAgIFNvbmcuYWRkTm90ZUdyb3VwVG9UcmFjayhtZXJnZWROb3RlR3JvdXAsIHRyYWNrTnVtYmVyKTtcbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cCh0cmFja051bWJlciwgY3VyclRyYWNrLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzLmFkZCh0cmFja051bWJlcik7XG4gICAgICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkZWxldGVMYXN0R3JvdXAoKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrTnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICB0cmFja3NbdHJhY2tOdW1iZXJdLnBvcCgpO1xuICAgICAgICBIaWdobGlnaHQuc2V0VHJhY2tBbmROb3RlR3JvdXAodHJhY2tOdW1iZXIsIHRyYWNrc1t0cmFja051bWJlcl0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycy5hZGQodHJhY2tOdW1iZXIpO1xuICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Tm90ZUdyb3VwRnJvbVRyYWNrKG5vdGVHcm91cE51bWJlcjogbnVtYmVyLCB0cmFja051bWJlcjogbnVtYmVyKTogTm90ZUdyb3VwIHtcbiAgICAgICAgaWYgKHRyYWNrTnVtYmVyIDwgMCB8fCB0cmFja051bWJlciA+PSB0cmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgIGlmIChub3RlR3JvdXBOdW1iZXIgPCAwIHx8IG5vdGVHcm91cE51bWJlciA+PSB0cmFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFja1tub3RlR3JvdXBOdW1iZXJdO1xuICAgIH1cblxuICAgIC8vIFJldHJpZXZlIHRoZSBub3RlZ3JvdXBzIHRvIHBsYXkgb3Igc2F2ZSB0byBmaWxlLlxuICAgIC8vIFRoZSByZXN1bHRzIGFyZSBjYWNoZWQhIFdlIGludmFsaWRhdGUgdGhlIGNhY2hlIGFueXRpbWUgd2UgYWRkIG9yIHN1YnRyYWN0IG5vdGVzLCBvciBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBjaGVja2JveGVzLlxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpOiBOb3RlR3JvdXBbXSB7XG4gICAgICAgIGlmIChjYWNoZWROb3RlR3JvdXBzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkTm90ZUdyb3VwcztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlY29tcHV0ZSBDYWNoZWQgTm90ZUdyb3VwcyEhIVwiKTtcblxuICAgICAgICBjb25zdCBub3RlR3JvdXBzOiBOb3RlR3JvdXBbXSA9IFtdO1xuICAgICAgICBsZXQgY3VyclRpbWVNaWxsaXMgPSAwOyAvLyBVc2VkIHdoZW4gb3VyIE5vdGVHcm91cHMgZG9uJ3QgaGF2ZSB2YWxpZCB0aW1pbmcgaW5mb3JtYXRpb24gKGkuZS4sIG1hbnVhbCBlbnRyeSkuXG5cbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrOiBudW1iZXJbXSA9IFtdOyAvLyBLZWVwIHBvaW50ZXJzIHRvIHRoZSBjdXJyZW50IE5vdGVHcm91cHMgd2UgYXJlIGxvb2tpbmcgYXQuIE9uZSBwb2ludGVyL2N1cnNvciBwZXIgdHJhY2suXG4gICAgICAgIGNvbnN0IG51bVRyYWNrcyA9IHRyYWNrcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IHRyYWNrTnVtYmVyID0gMDsgdHJhY2tOdW1iZXIgPCBudW1UcmFja3M7IHRyYWNrTnVtYmVyKyspIHtcbiAgICAgICAgICAgIG5vdGVHcm91cFBvaW50ZXJGb3JUcmFjay5wdXNoKDApOyAvLyBTdGFydCBhIGluZGV4IDAgKHRoZSBmaXJzdCBOb3RlR3JvdXAgb2YgZWFjaCB0cmFjaykuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBSb3VuZCByb2JpbiBiZXR3ZWVuIHRoZSB0cmFja3MgdW50aWwgd2UgaW5zZXJ0IGFsbCB0aGUgTm90ZUdyb3VwcyBwcm9wZXJseS4gQWx3YXlzIGNob29zZSB0aGUgTm90ZUdyb3VwIHdpdGggdGhlIG1pbmltdW0gcGxheVRpbWUuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgbWluUGxheVRpbWUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgbGV0IG5leHROb3RlR3JvdXA6IE5vdGVHcm91cCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dE5vdGVHcm91cFRyYWNrOiBUcmFjayA9IG51bGw7IC8vIFdoaWNoIHRyYWNrIGNvbnRhaW5zIHRoZSBuZXh0IG5vdGUgZ3JvdXAgdG8gcGxheT9cblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgdHJhY2tzIHRvIGZpbmQgdGhlIG5leHQgTm90ZUdyb3VwIHRvIHBsYXkuXG4gICAgICAgICAgICBmb3IgKGxldCB0cmFja051bWJlciA9IDA7IHRyYWNrTnVtYmVyIDwgbnVtVHJhY2tzOyB0cmFja051bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyclRyYWNrID0gdHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyVHJhY2tMZW5ndGggPSBjdXJyVHJhY2subGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJOb3RlR3JvdXBQb2ludGVyID0gbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RyYWNrTnVtYmVyXTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyVHJhY2tMZW5ndGggPT09IDAgfHwgIVVJLlRyYWNrcy5pc0NoZWNrZWQodHJhY2tOdW1iZXIpIHx8IGN1cnJOb3RlR3JvdXBQb2ludGVyID49IGN1cnJUcmFja0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhpcyB0cmFjayBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gICBpdCBpcyBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAvLyAgIGl0IGlzIG5vdCBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIC8vICAgd2UgaGF2ZSBhbHJlYWR5IGZpbmlzaGVkIGxvb2tpbmcgYXQgaXRcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90ZUdyb3VwID0gY3VyclRyYWNrW2N1cnJOb3RlR3JvdXBQb2ludGVyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGVHcm91cC5wbGF5VGltZU1pbGxpcyA8IG1pblBsYXlUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5QbGF5VGltZSA9IG5vdGVHcm91cC5wbGF5VGltZU1pbGxpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb3RlR3JvdXAgPSBub3RlR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm90ZUdyb3VwVHJhY2sgPSBjdXJyVHJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGRpZCBub3QgZmluZCBhbnkgTm90ZUdyb3Vwcywgd2UncmUgZG9uZSFcbiAgICAgICAgICAgIGlmICghbmV4dE5vdGVHcm91cCkge1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBicmVhayBvdXQgb2YgdGhlIHdoaWxlKHRydWUpIGxvb3AuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5nOiBOb3RlR3JvdXAgPSBuZXh0Tm90ZUdyb3VwLmNvcHkoKTtcbiAgICAgICAgICAgICAgICBpZiAobmcucGxheVRpbWVNaWxsaXMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nLnBsYXlUaW1lTWlsbGlzID0gY3VyclRpbWVNaWxsaXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5leHROb3RlR3JvdXBUcmFjay50cmFja051bWJlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlTnVtYmVyID0gbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RdO1xuICAgICAgICAgICAgICAgIG5nLm5vdGVOdW1iZXIgPSBub3RlTnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RdKys7XG5cbiAgICAgICAgICAgICAgICBub3RlR3JvdXBzLnB1c2gobmcpO1xuICAgICAgICAgICAgICAgIGN1cnJUaW1lTWlsbGlzID0gbmcucGxheVRpbWVNaWxsaXMgKyBUSU1FX0JFVFdFRU5fTk9URUdST1VQUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhY2hlZE5vdGVHcm91cHMgPSBub3RlR3JvdXBzO1xuICAgICAgICByZXR1cm4gbm90ZUdyb3VwcztcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Tm90ZUdyb3VwSUQodHJhY2tOdW1iZXIsIG5vdGVHcm91cE51bWJlcikge1xuICAgICAgICByZXR1cm4gYHQke3RyYWNrTnVtYmVyfV9uJHtub3RlR3JvdXBOdW1iZXJ9YDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzQXNBcnJheSgpOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycyk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzKCkge1xuICAgICAgICByZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMuY2xlYXIoKTtcbiAgICB9XG59XG5cbmNvbnN0IF9QbGF5YmFja19OUyA9IFBsYXliYWNrO1xuY29uc3QgX1NvbmdfTlMgPSBTb25nO1xuY29uc3QgX1VJX05TID0gVUk7XG5jb25zdCBfVHJhY2tzX05TID0gVUkuVHJhY2tzO1xuXG5uYW1lc3BhY2UgQXBwIHtcbiAgICBleHBvcnQgY29uc3QgUGxheWJhY2sgPSBfUGxheWJhY2tfTlM7XG4gICAgZXhwb3J0IGNvbnN0IFNvbmcgPSBfU29uZ19OUztcbiAgICBleHBvcnQgY29uc3QgVUkgPSBfVUlfTlM7XG4gICAgZXhwb3J0IGNvbnN0IFRyYWNrcyA9IF9UcmFja3NfTlM7XG5cbiAgICBsZXQgc29uZ1ZlcnNpb246IG51bWJlciA9IENvbnN0YW50cy5NSU5fU09OR19WRVJTSU9OOyAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGlzIGV2ZXJ5IHRpbWUgdGhlIHJlZHV4IHN0b3JlIGNoYW5nZXMhXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFNvbmdWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gc29uZ1ZlcnNpb247XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRTb25nVmVyc2lvbih2OiBudW1iZXIpIHtcbiAgICAgICAgc29uZ1ZlcnNpb24gPSB2O1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIGV2ZW50cyB0byBtb2RpZnkgUmVkdXggc3RvcmUuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldERpc3BhdGNoRnVuY3Rpb24oZDogRnVuY3Rpb24pIHtcbiAgICAgICAgZGlzcGF0Y2ggPSBkO1xuICAgIH1cblxuICAgIC8vIE9uY2UgdGhlIERPTSBpcyByZWFkeSwgY2FsbCBBcHAuc3RhcnQoKVxuICAgIGV4cG9ydCBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcHAuc3RhcnQoKVwiKTtcbiAgICAgICAgTUlESVBpYW5vSW5wdXQuc2V0dXAoKTtcbiAgICAgICAgTG9jYWxTdG9yYWdlLmxvYWQoKTtcbiAgICAgICAgVUkuc2hvd05vdGVHcm91cHNGb3JUcmFja3MoKTtcbiAgICAgICAgVUkuc2V0dXBDb3B5SGFuZGxlcigpO1xuICAgICAgICBVSS5kcmF3UGlhbm8oKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc3RhcnRBdWRpbygpIHtcbiAgICAgICAgcGlhbm8gPSBuZXcgSW5zdHJ1bWVudCgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlU29uZ1ZlcnNpb25Ub0xvY2FsU3RvcmFnZSh2ZXI6IG51bWJlcikge1xuICAgICAgICBBcHAuc2V0U29uZ1ZlcnNpb24odmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJzYXZlU29uZ1ZlcnNpb25Ub0xvY2FsU3RvcmFnZSBcIiArIHZlcik7XG4gICAgICAgIExvY2FsU3RvcmFnZS5zYXZlVmVyc2lvblRvZ2dsZSh2ZXIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBmaWxsVHJhY2tzV2l0aE5vdGVHcm91cHNFeHRyYWN0ZWRGcm9tTUlESUV2ZW50cyhtaWRpRmlsZSwgbWlkaUV2ZW50cykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1JREkgRmlsZSBQYXNzZWQgSW46IFwiICsgbWlkaUZpbGUpO1xuICAgICAgICBpZiAoIW1pZGlGaWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBVSS5UcmFja3Muc2V0dXAobWlkaUZpbGUudHJhY2tzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG1vc3QgcmVjZW50bHkgcHJvY2Vzc2VkIGV2ZW50IHNvIHRoYXQgd2UgY2FuIG1lcmdlIG5vdGVzIHRoYXQgYXJlIHBsYXllZCBhdCB0aGUgc2FtZSB0aW1lIGFuZCBvbiB0aGUgc2FtZSB0cmFjay5cbiAgICAgICAgbGV0IGxhc3ROb3RlR3JvdXA6IE5vdGVHcm91cCA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0UGxheVRpbWUgPSAtMTtcbiAgICAgICAgbGV0IGxhc3RUcmFja051bWJlciA9IC0xO1xuXG4gICAgICAgIC8vIENvbnZlcnQgZnJvbSBNSURJIGV2ZW50cyB0byBOb3RlR3JvdXBzXG4gICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgbWlkaUV2ZW50cykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgICAgICBjb25zdCBzdWJ0eXBlID0gZXZlbnQuc3VidHlwZTtcbiAgICAgICAgICAgIC8vIGxldCBzdGF0dXMgPSAoZXZlbnQuc3VidHlwZSA8PCA0KSArIGV2ZW50LmNoYW5uZWw7XG4gICAgICAgICAgICAvLyBsZXQgc3RhdHVzQ29kZUhleFN0cmluZyA9ICcweCcgKyBzdGF0dXMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBsZXQgcGxheVRpbWUgPSBldmVudC5wbGF5VGltZTsgLy8gdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHBsYXlUaW1lID0gTWF0aC5yb3VuZChwbGF5VGltZSAqIDEwMDApIC8gMTAwMDsgLy8gcm91bmQgaXQgdG8gdGhlIG5lYXJlc3QgMC4wMDFcbiAgICAgICAgICAgIGNvbnN0IG1pZGlOb3RlTnVtID0gZXZlbnQucGFyYW0xO1xuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBldmVudC5wYXJhbTI7XG4gICAgICAgICAgICBjb25zdCBwaWFub05vdGVOdW0gPSBNSURJVXRpbHMubTJwKG1pZGlOb3RlTnVtKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVUb1BsYXkgPSBuZXcgTm90ZShwaWFub05vdGVOdW0sIDEuMCAvKiBkdXJhdGlvbiAqLywgdmVsb2NpdHkpOyAvLyBUT0RPOiBTdXBwb3J0IGR1cmF0aW9uIHNvbWVkYXk/XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZFTE9DSVRZIFwiICsgdmVsb2NpdHkpO1xuICAgICAgICAgICAgbGV0IHRyYWNrTnVtYmVyID0gZXZlbnQudHJhY2s7IC8vIHBvc3NpYmx5IHVuZGVmaW5lZCFcbiAgICAgICAgICAgIGlmICghdHJhY2tOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja051bWJlciA9IDA7IC8vIFdlIHdpbGwgYXNzaWduIGV2ZW50cyB3aXRoIHVuZGVmaW5lZCB0cmFja051bWJlcnMgdG8gdHJhY2sgMC5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN1YnR5cGUgPT09IE1JRElFdmVudHMuRVZFTlRfTUlESV9OT1RFX09OKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXlUaW1lIDw9IGxhc3RQbGF5VGltZSArIFRJTUVfVEhSRVNIT0xEX0ZPUl9HUk9VUElOR19ORUFSQllfTk9URVMgJiYgdHJhY2tOdW1iZXIgPT09IGxhc3RUcmFja051bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSBhbGwgbm90ZXMgc3RhcnRpbmcgYXQgdGhlIHNhbWUgdGltZSBhbmQgb24gdGhlIHNhbWUgdHJhY2sgaW50byBhIHNpbmdsZSBOb3RlR3JvdXAuXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlR3JvdXAuYWRkTm90ZShub3RlVG9QbGF5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm90ZUdyb3VwID0gbmV3IE5vdGVHcm91cChub3RlVG9QbGF5LCBwbGF5VGltZSwgdHJhY2tOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBTb25nLmFkZE5vdGVHcm91cFRvVHJhY2sobm90ZUdyb3VwLCB0cmFja051bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlR3JvdXAgPSBub3RlR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUcmFja051bWJlciA9IHRyYWNrTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGxheVRpbWUgPSBwbGF5VGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9USEVSIEVWRU5UU1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5oYW5kbGVkIEV2ZW50OlwiKTtcbiAgICAgICAgICAgICAgICBNSURJRmlsZUlPLnByaW50VHlwZUFuZFN1YnR5cGUodHlwZSwgc3VidHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHdlIGhvdmVyIG92ZXIgdGhlIERvd25sb2FkIE1JREkgfCBURVhUIGxpbmtzLCB3ZSB1cGRhdGVcbiAgICAvLyB0aGUgaHJlZiBhdHRyaWJ1dGVzIHNvIHRoYXQgd2UgZG93bmxvYWQgdGhlIGNvcnJlY3QgZGF0YS5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0RG93bmxvYWREYXRhX1RFWFQoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR0VORVJBVEUgVEhFIFRFWFQgRklMRSBGUk9NIE9VUiBUUkFDS1MuIEJBU0UgNjQgRU5DT0RFIElULlxuICAgICAgICAvLyBBIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNvbmc6XG4gICAgICAgIC8vICAgVjEgPT4gZS5nLiwgNDAgNDIgNDQgNDUgNDAuNDdcbiAgICAgICAgLy8gICBWMiA9PiBlLmcuLCBbMjQuMzYgQCAwXSBbMTcuMjkgQCAyNzMwXSBbMzYgQCAyOTA0XSBbNDEgQCAzMDI5XSBbNDQgQCAzMTUyXVxuICAgICAgICBjb25zdCB0ZXh0ID0gVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICBjb25zdCBiYXNlNjRUZXh0ID0gYnRvYSh0ZXh0KTsgLy8gYmFzZSA2NCBlbmNvZGluZ1xuICAgICAgICByZXR1cm4gYmFzZTY0VGV4dDtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHdlIGhvdmVyIG92ZXIgdGhlIERvd25sb2FkIE1JREkgfCBURVhUIGxpbmtzLCB3ZSB1cGRhdGVcbiAgICAvLyB0aGUgaHJlZiBhdHRyaWJ1dGVzIHNvIHRoYXQgd2UgZG93bmxvYWQgdGhlIGNvcnJlY3QgZGF0YS5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0RG93bmxvYWREYXRhX01JREkoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR0VORVJBVEUgVEhFIE1JREkgRklMRSBGUk9NIE9VUiBUUkFDS1MuIEJBU0UgNjQgRU5DT0RFIElULlxuICAgICAgICBjb25zdCB0cmFja051bWJlcnNUb0luY2x1ZGUgPSBUcmFja3MuZ2V0VHJhY2tOdW1iZXJzVG9JbmNsdWRlSW5NSURJRmlsZSgpO1xuICAgICAgICBjb25zdCBtaWRpRmlsZSA9IE1JRElGaWxlSU8uY3JlYXRlRmlsZUZyb21UcmFja3ModHJhY2tOdW1iZXJzVG9JbmNsdWRlLCBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCkpO1xuICAgICAgICBjb25zdCBiYXNlNjRUZXh0ID0gYnRvYShtaWRpRmlsZSk7IC8vIGJhc2UgNjQgZW5jb2RpbmdcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRleHQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBsYXlPbmVOb3RlKHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzLCBhcHBseU1vZGlmaWVyczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBuYW1lIG9mIHRoZSBub3RlIHdlIGFyZSBhYm91dCB0byBwbGF5XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzICUgMTI7XG4gICAgICAgIGNvbnN0IHdoaXRlS2V5Tm90ZUluZGV4ID0gd2hpdGVLZXlzLmluZGV4T2YocmVtYWluZGVyKTtcbiAgICAgICAgY29uc3Qgbm90ZUxhYmVsID0gbm90ZUxhYmVsc1t3aGl0ZUtleU5vdGVJbmRleF07XG5cbiAgICAgICAgbGV0IG1vZGlmaWVyID0gMDtcbiAgICAgICAgaWYgKGFwcGx5TW9kaWZpZXJzKSB7XG4gICAgICAgICAgICBtb2RpZmllciA9IHNoYXJwT3JGbGF0TW9kaWZpZXI7IC8vIFRoZSB1c2VyIGlzIGhvbGRpbmcgZG93biBTSElGVCBvciBDVFJMXG5cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgbm90ZSBhdXRvLXNoYXJwZWQsIGR1ZSB0byB0aGUga2V5IHNpZ25hdHVyZT9cbiAgICAgICAgICAgIGlmIChTaGFycHNBbmRGbGF0c01hbmFnZXIuaXNOb3RlU2hhcnAobm90ZUxhYmVsKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyKys7IC8vIHJhaXNlIHRoZSBzaGFycCBhIGhhbGYtc3RlcCFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgbm90ZSBhdXRvLWZsYXR0ZWQsIGR1ZSB0byB0aGUga2V5IHNpZ25hdHVyZT9cbiAgICAgICAgICAgIGlmIChTaGFycHNBbmRGbGF0c01hbmFnZXIuaXNOb3RlRmxhdChub3RlTGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXItLTsgLy8gbG93ZXIgdGhlIG5vdGUgYSBoYWxmLXN0ZXAhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwaWFub0tleU51bWJlciA9IHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzICsgbW9kaWZpZXIgKyBvY3RhdmVPZmZzZXQgKiAxMjtcbiAgICAgICAgaWYgKHBpYW5vS2V5TnVtYmVyIDwgMSB8fCBwaWFub0tleU51bWJlciA+IDg4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFja051bWJlcjogbnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICBjb25zdCB0cmFja0xlbmd0aDogbnVtYmVyID0gU29uZy5hZGROb3RlR3JvdXBUb1RyYWNrKG5ldyBOb3RlR3JvdXAobmV3IE5vdGUocGlhbm9LZXlOdW1iZXIpKSwgdHJhY2tOdW1iZXIpO1xuICAgICAgICBUcmFja3Muc2V0Q2hlY2tlZCh0cmFja051bWJlciwgdHJ1ZSk7XG5cbiAgICAgICAgQXBwLnBsYXlQaWFub05vdGUocGlhbm9LZXlOdW1iZXIpO1xuXG4gICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cCh0cmFja051bWJlciwgdHJhY2tMZW5ndGggLSAxKTtcbiAgICAgICAgc2F2ZUFuZFNob3dEYXRhKCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBsYXlQaWFub05vdGUocGlhbm9LZXlOdW1iZXIsIHZlbG9jaXR5ID0gMTI3LjApIHtcbiAgICAgICAgaWYgKHBpYW5vID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInBsYXlQaWFub05vdGU6IFBpYW5vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAxLjA7IC8vIDAuMTI1LCAwLjI1LCAwLjUsIDEuMCwgMi4wO1xuICAgICAgICBwaWFuby5wbGF5KHBpYW5vS2V5TnVtYmVyLCBkdXJhdGlvbiwgdmVsb2NpdHkgLyAxMjcuMCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGxvYWRGaXJzdEZpbGUoZmlsZUxpc3Q6IGFueSkge1xuICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVMaXN0WzBdOyAvLyBSZWFkIHRoZSBmaXJzdCBmaWxlLlxuICAgICAgICAgICAgTUlESUZpbGVJTy5yZWFkRmlsZUFzeW5jKGZpbGUpLnRoZW4oKGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25zLkZpbGVDaG9vc2VyLm9uRmlsZUxvYWRlZCB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apps/author/piano/v2/App.ts\n");

/***/ })

})