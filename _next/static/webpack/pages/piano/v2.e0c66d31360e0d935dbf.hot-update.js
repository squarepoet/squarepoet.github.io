webpackHotUpdate_N_E("pages/piano/v2",{

/***/ "./apps/author/piano/v2/App.ts":
/*!*************************************!*\
  !*** ./apps/author/piano/v2/App.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! apps/author/piano/shared/SharpsAndFlatsManager */ \"./apps/author/piano/shared/SharpsAndFlatsManager.ts\");\n/* harmony import */ var apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! apps/author/piano/v2/Highlight */ \"./apps/author/piano/v2/Highlight.ts\");\n/* harmony import */ var apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! apps/author/piano/v2/Music */ \"./apps/author/piano/v2/Music.ts\");\n/* harmony import */ var apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! apps/shared/Constants */ \"./apps/shared/Constants.ts\");\n/* harmony import */ var apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! apps/shared/midi/MIDIFileIO */ \"./apps/shared/midi/MIDIFileIO.ts\");\n/* harmony import */ var apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! apps/shared/midi/MIDIUtils */ \"./apps/shared/midi/MIDIUtils.ts\");\n/* harmony import */ var apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! apps/shared/redux/Actions */ \"./apps/shared/redux/Actions.ts\");\n/* harmony import */ var apps_shared_sound_Instrument__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! apps/shared/sound/Instrument */ \"./apps/shared/sound/Instrument.ts\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash.throttle */ \"./node_modules/lodash.throttle/index.js\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n\n\n\nvar MIDIEvents = __webpack_require__(/*! midievents */ \"./node_modules/midievents/src/MIDIEvents.js\");\n\nvar Keys = apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].StoreKeys;\nvar TIME_THRESHOLD_FOR_GROUPING_NEARBY_NOTES = 0; // Adjust this for parsing MIDI recordings of piano performances by humans (i.e., imprecise timing).\n// Dispatch events and send data to the global store.\n\nvar dispatch = null; /////////////////////////////////////////////////////////////////////////////////\n// declare types that are defined in 3rd party libraries\n// TODO\n/////////////////////////////////////////////////////////////////////////////////\n\nvar TIME_BETWEEN_NOTEGROUPS = 250;\nvar octaveOffset = 0; // piano key numbers % 12\n\nvar blackKeys = [2, -1, 5, 7, -1, 10, 0]; // -1 is for the spaces where there are no black keys\n\nvar whiteKeys = [1, 3, 4, 6, 8, 9, 11];\nvar noteLabels = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"];\nvar sharpOrFlatModifier = 0;\nvar piano = null;\nvar Keyboard;\n\n(function (_Keyboard) {\n  var labels = _Keyboard.labels = [\"z\", \"x\", // G A B\n  \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", // C D E F G A B\n  \"/\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", // C D E F G A B\n  \"j\", \"k\", \"l\", \";\", \"q\", \"w\", \"e\", // C D E F G A B\n  \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", // C D E F G A B\n  \"[\", \"]\", \"\\\\\", \"1\", \"2\", \"3\", \"4\", // C D E F G A B\n  \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \"-\", // C D E F G A B\n  \"=\" // C\n  ];\n  // TODO: Extract \"z\" and \"keyCodeToPianoKeyNumber\" give it a better name!\n  // #TODO: #XKWIALDZA FIGURE THIS OUT\n  // The goal is to match the Apple GarageBand Musical Typing key mapping.\n  // Type A and K should invoke the piano key \"C\".\n  // Z should be one octave lower than A. Comma should be the same as A.\n  // Q should be the same as K. I should be one octave higher than K.\n  // Allowing for a customizable offset means that when we change key signatures, we can change the offset by a couple of semitones.\n  // Anyways... figure this out yo!\n  var z = -2;\n  var keyCodeToPianoKeyNumber = _Keyboard.keyCodeToPianoKeyNumber = {\n    90: 13 + z,\n    // z => A\n    88: 15 + z,\n    // x => B\n    //\n    67: 16 + z,\n    // c => C2\n    86: 18 + z,\n    // v => D\n    66: 20 + z,\n    // b => E\n    78: 21 + z,\n    // n => F\n    77: 23 + z,\n    // m => G\n    188: 25 + z,\n    // , => A\n    190: 27 + z,\n    // . => B\n    //\n    191: 28 + z,\n    // / => C3\n    65: 30 + z,\n    // a => D\n    83: 32 + z,\n    // s => E\n    68: 33 + z,\n    // d => F\n    70: 35 + z,\n    // f => G\n    71: 37 + z,\n    // g => A\n    72: 39 + z,\n    // h => B\n    //\n    74: 40 + z,\n    // j => C4 (Middle C)\n    75: 42 + z,\n    // k => D\n    76: 44 + z,\n    // l => E\n    186: 45 + z,\n    // ; => F in Chrome\n    59: 45 + z,\n    // ; => F in Firefox\n    222: 47 + z,\n    // ' => G\n    81: 47 + z,\n    // q => G\n    87: 49 + z,\n    // w => A\n    69: 51 + z,\n    // e => B\n    //\n    82: 52 + z,\n    // r => C5\n    84: 54 + z,\n    // t => D\n    89: 56 + z,\n    // y => E\n    85: 57 + z,\n    // u => F\n    73: 59 + z,\n    // i => G\n    79: 61 + z,\n    // o => A\n    80: 63 + z,\n    // p => B\n    //\n    219: 64 + z,\n    // [ => C6\n    221: 66 + z,\n    // ] => D\n    220: 68 + z,\n    // \\ => E\n    49: 69 + z,\n    // 1 => F\n    50: 71 + z,\n    // 2 => G\n    51: 73 + z,\n    // 3 => A\n    52: 75 + z,\n    // 4 => B\n    //\n    53: 76 + z,\n    // 5 => C7\n    54: 78 + z,\n    // 6 => D\n    55: 80 + z,\n    // 7 => E\n    56: 81 + z,\n    // 8 => F\n    57: 83 + z,\n    // 9 => G\n    48: 85 + z,\n    // 0 => A\n    189: 87 + z,\n    // - => B\n    //\n    187: 88 + z // = => C8\n\n  };\n})(Keyboard || (Keyboard = {})); // #TODO Use the webmidi module instead!\n// #MIDIAWEIIZAI\n\n\nvar MIDIPianoInput;\n\n(function (_MIDIPianoInput) {\n  var numNotesPressed = 0;\n\n  function setup() {\n    if (navigator[\"requestMIDIAccess\"]) {\n      navigator[\"requestMIDIAccess\"]({\n        sysex: true\n      }).then(onMIDISuccess, onMIDIFailure);\n    } else {\n      alert(\"No MIDI support in your browser.\");\n    }\n  }\n\n  _MIDIPianoInput.setup = setup;\n\n  function onMIDISuccess(midiAccess) {\n    console.log(\"MIDI SUCCESS\");\n    var midi = midiAccess;\n    var inputs = midi.inputs.values();\n    console.log(inputs);\n\n    for (var input = inputs.next(); input && !input.done; input = inputs.next()) {\n      input.value.onmidimessage = onMIDIMessage;\n    }\n  }\n\n  function onMIDIFailure(error) {\n    console.log(\"No access to MIDI devices or your browser doesn't support WebMIDI API.\" + error);\n  }\n\n  function onMIDIMessage(message) {\n    var data = message.data; // this gives us our [command/channel, note, velocity] data.\n\n    var cmd = data[0] >> 4;\n    var channel = data[0] & 0xf; // Rightmost 4 bits.\n\n    var type = data[0] & 0xf0; // 4 bits in the second right-most position.\n\n    var note = data[1];\n    var velocity = data[2];\n    var pianoKey = note - 20;\n\n    switch (type) {\n      case 144:\n        // note on\n        console.log(\"piano key down: \" + pianoKey + \" velocity: \" + velocity);\n        App.playOneNote(pianoKey, false); // the second parameter (set to false) will bypass any sharp/flat modifiers.\n\n        numNotesPressed++;\n\n        if (numNotesPressed > 1) {\n          Song.mergeLastTwoGroups();\n        }\n\n        break;\n\n      case 128:\n        // note off\n        // console.log(\"piano key up: \" + pianoKey);\n        numNotesPressed--;\n        break;\n\n      case 224:\n        // pitch wheel\n        console.log(\"pitch wheel\"); // data[1] and data[2] indicate the amount of pitch bend.\n\n        break;\n\n      default:\n        // ignore for now\n        // console.log('MIDI data', data);\n        // console.log(`cmd: ${cmd}  channel: ${channel}  type: ${type}  note: ${note}  velocity: ${velocity}`);\n        break;\n    }\n  }\n})(MIDIPianoInput || (MIDIPianoInput = {})); //////////////////////////////////////////////////////////////////////\n// resets the key offset\n\n\nfunction resetOffset() {\n  console.log(\"Reset Offsets\");\n  octaveOffset = 0;\n  UI.drawPiano();\n}\n\nfunction resetEverything() {\n  console.log(\"Reset Everything!\");\n  octaveOffset = 0;\n  UI.Tracks.setup(1);\n  saveAndShowData();\n  Playback.stop();\n}\n\nfunction saveAndShowData() {\n  LocalStorage.saveCheckBoxes();\n  LocalStorage.saveTracks();\n  UI.showNoteGroupsForTracks();\n  UI.drawPiano();\n} ////////////////////////////////////////////////////////////\n\n\nvar LocalStorage;\n\n(function (_LocalStorage) {\n  function load() {\n    loadTracks();\n    loadVersionToggle();\n  }\n\n  _LocalStorage.load = load;\n\n  function loadVersionToggle() {\n    if (!localStorage.getItem(\"song_version\")) {\n      localStorage.setItem(\"song_version\", \"1\");\n    }\n\n    var songVersion = parseInt(localStorage.getItem(\"song_version\"));\n\n    if (songVersion < apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MIN_SONG_VERSION || songVersion > apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MAX_SONG_VERSION) {\n      songVersion = 1;\n    }\n\n    var payload = {};\n    payload[Keys.SONG_VERSION] = songVersion;\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Toggle.onSongVersionFormatChanged,\n      payload: payload\n    });\n  }\n\n  function loadTracks() {\n    try {\n      var savedTracks = JSON.parse(localStorage.getItem(\"tracks\")); // can throw a SyntaxError\n\n      var numTracks = savedTracks.length;\n      UI.Tracks.setup(numTracks);\n\n      for (var t = 0; t < numTracks; t++) {\n        var savedTrack = savedTracks[t];\n\n        var _iterator = _createForOfIteratorHelper(savedTrack),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var noteGroupString = _step.value;\n            var noteGroup = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](noteGroupString);\n            Song.addNoteGroupToTrack(noteGroup, t);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    } catch (e) {\n      UI.Tracks.setup(1);\n    }\n  }\n\n  function loadCheckboxes() {\n    try {\n      var savedCheckboxState = JSON.parse(localStorage.getItem(\"checkboxes\")); // can throw a SyntaxError\n\n      if (Array.isArray(savedCheckboxState) && savedCheckboxState.length === Song.getNumTracks()) {\n        UI.Tracks.setCheckedStateForAllTracks(savedCheckboxState);\n      } else {\n        throw \"OOPS\";\n      }\n    } catch (e) {\n      UI.Tracks.checkAllNonEmptyTracks();\n      LocalStorage.saveCheckBoxes();\n    }\n  }\n\n  function saveCheckBoxes() {\n    localStorage.setItem(\"checkboxes\", JSON.stringify(UI.Tracks.getCheckedStateForAllTracks()));\n  }\n\n  _LocalStorage.saveCheckBoxes = saveCheckBoxes;\n\n  function saveTracks() {\n    var tracksJSON = Song.getTracksAsJSON();\n    localStorage.setItem(\"tracks\", tracksJSON);\n  }\n\n  _LocalStorage.saveTracks = saveTracks;\n\n  function saveVersionToggle(songVersion) {\n    localStorage.setItem(\"song_version\", songVersion + \"\");\n  }\n\n  _LocalStorage.saveVersionToggle = saveVersionToggle;\n})(LocalStorage || (LocalStorage = {})); /////////////////////////////////////////////////////////////////////////////////\n\n\nvar FakeWorkerClock = /*#__PURE__*/function () {\n  function FakeWorkerClock() {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, FakeWorkerClock);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"isRunning\", false);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"interval\", null);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"delay\", 10);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"onmessage\", void 0);\n  }\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(FakeWorkerClock, [{\n    key: \"postMessage\",\n    value: function postMessage(msg) {\n      var self = this;\n      console.log(self);\n\n      switch (msg) {\n        case \"start\":\n          console.log(\"Piano Clock Worker Started\");\n\n          if (!self.isRunning) {\n            self.isRunning = true;\n            self.interval = setInterval(function () {\n              if (self.onmessage) {\n                self.onmessage(\"tick\");\n              }\n            }, self.delay);\n          }\n\n          break;\n\n        case \"stop\":\n        default:\n          console.log(\"Piano Clock Worker Stopped\");\n          clearInterval(self.interval);\n          self.isRunning = false;\n          break;\n      }\n    }\n  }]);\n\n  return FakeWorkerClock;\n}(); ///////////////////////////////////////////////////////////////////////////\n\n\nvar Playback;\n\n(function (_Playback) {\n  // All times are in milliseconds.\n  var currSongTime = 0; // What time is our playhead pointing to?\n\n  var baseSongTime = 0; // What time did our playhead point to when we started or resumed the song?\n\n  var clockStartTime = 0;\n  var clock = new FakeWorkerClock(); // let clock = new Worker(\"./clock.worker.js\", { type: \"module\" });\n\n  var clockIsTicking = false;\n\n  clock.onmessage = function (e) {\n    playNextEvents(performance.now());\n  };\n\n  var currNoteGroupNumber = 0;\n  var isPaused = false;\n  var nextEventPlayTime = 0;\n\n  function isPlaying() {\n    return clockIsTicking;\n  }\n\n  _Playback.isPlaying = isPlaying;\n\n  function play() {\n    console.log(\"PLAY\");\n\n    if (isPaused) {\n      baseSongTime = currSongTime;\n    } else {\n      if (isPlaying()) {\n        stop();\n      } // Start the MIDI playback.\n\n\n      var _noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n      if (_noteGroupsToPlay.length === 0) {\n        Playback.stop();\n        return; // DONE!\n      }\n\n      currNoteGroupNumber = 0;\n      currSongTime = 0;\n      baseSongTime = 0;\n      determinePlayTimeForNextEvent();\n    }\n\n    isPaused = false;\n    clockStartTime = performance.now();\n    clock.postMessage(\"start\");\n    clockIsTicking = true;\n  }\n\n  _Playback.play = play;\n\n  function pause() {\n    stopTheClock();\n    isPaused = true; // Next time, continue from where we left off.\n  }\n\n  _Playback.pause = pause;\n\n  function togglePlayPause() {\n    if (isPlaying()) {\n      pause();\n    } else {\n      play();\n    }\n  }\n\n  _Playback.togglePlayPause = togglePlayPause;\n\n  function stop() {\n    stopTheClock();\n    currNoteGroupNumber = 0;\n  }\n\n  _Playback.stop = stop;\n\n  function stopTheClock() {\n    if (isPlaying()) {\n      clock.postMessage(\"stop\");\n      clockIsTicking = false;\n    }\n  } // Will be called every ~16.67ms if your display runs at 60 FPS.\n\n\n  function playNextEvents(currTime) {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks(); // Have we reached the end of the song?\n\n    if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n      Playback.stop();\n      return; // DONE!\n    }\n\n    currSongTime = currTime - clockStartTime + baseSongTime;\n\n    while (currSongTime >= nextEventPlayTime) {\n      // Inspect the next event\n      var _noteGroup = noteGroupsToPlay[currNoteGroupNumber];\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(_noteGroup.trackNumber, _noteGroup.noteNumber);\n      playCurrentNoteGroup();\n      currNoteGroupNumber++; // advance\n      // Have we reached the end of the song?\n\n      if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n        Playback.stop();\n        return; // DONE!\n      } else {\n        determinePlayTimeForNextEvent();\n      }\n    }\n  }\n\n  function determinePlayTimeForNextEvent() {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n    nextEventPlayTime = noteGroupsToPlay[currNoteGroupNumber].playTimeMillis;\n\n    if (nextEventPlayTime === -1) {\n      nextEventPlayTime = currSongTime + TIME_BETWEEN_NOTEGROUPS; // If the playTime isn't specified, we play the next note every 200ms!\n    }\n  } /////////////////////////////////////////////////////////////////////////////////\n  // Manual Playback of the song or individual tracks.\n\n\n  function validateCurrNoteGroupNumber() {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n    if (currNoteGroupNumber >= noteGroupsToPlay.length) {\n      currNoteGroupNumber = noteGroupsToPlay.length - 1;\n    } else if (currNoteGroupNumber < 0) {\n      currNoteGroupNumber = 0;\n    }\n  }\n\n  var playNoteAndGoBackwardInTheSong = _Playback.playNoteAndGoBackwardInTheSong = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playNoteAndAdvanceInDirection(-1);\n  }, 150\n  /* ms */\n  );\n  var playNoteAndGoForwardInTheSong = _Playback.playNoteAndGoForwardInTheSong = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playNoteAndAdvanceInDirection(+1);\n  }, 150\n  /* ms */\n  );\n\n  function playNoteAndAdvanceInDirection(direction) {\n    var noteGroupsToPlay = Song.getNoteGroupsFromTracks();\n\n    if (noteGroupsToPlay.length === 0) {\n      return;\n    }\n\n    validateCurrNoteGroupNumber();\n    var noteGroup = noteGroupsToPlay[currNoteGroupNumber];\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(noteGroup.trackNumber, noteGroup.noteNumber);\n    playCurrentNoteGroup();\n    currNoteGroupNumber += direction;\n    validateCurrNoteGroupNumber();\n  }\n\n  function playCurrentNoteGroup() {\n    var t = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var n = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentNoteGroupNumber();\n    var noteGroup = Song.getNoteGroupFromTrack(n, t);\n\n    if (!noteGroup) {\n      return;\n    }\n\n    var _iterator2 = _createForOfIteratorHelper(noteGroup.notes),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var note = _step2.value;\n        App.playPianoNote(apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__[\"default\"].m2p(note.midiNote), note.velocity);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    var payload = {};\n    payload[Keys.PLAYED_NOTEGROUP_ID] = Song.getNoteGroupID(t, n);\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Song.onPlayNoteGroup,\n      payload: payload\n    });\n  }\n\n  var playAndGoBackwardOnCurrentTrack = _Playback.playAndGoBackwardOnCurrentTrack = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playCurrentNoteGroup();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevNoteGroup();\n  }, 150\n  /* ms */\n  );\n  var playAndGoForwardOnCurrentTrack = _Playback.playAndGoForwardOnCurrentTrack = lodash_throttle__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n    playCurrentNoteGroup();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextNoteGroup();\n  }, 150\n  /* ms */\n  );\n})(Playback || (Playback = {}));\n\nvar UI;\n\n(function (_UI) {\n  function setupCopyHandler() {\n    document.querySelector(\"html\").addEventListener(\"copy\", function (e) {\n      e.preventDefault();\n      console.log(\"COPY\");\n\n      if (e.clipboardData) {\n        var text = UI.Tracks.getTextFileFromTracks();\n        e.clipboardData.setData(\"text/plain\", text);\n      }\n    });\n    document.querySelector(\"html\").addEventListener(\"cut\", function (e) {\n      e.preventDefault();\n      console.log(\"CUT\");\n\n      if (e.clipboardData) {\n        var text = UI.Tracks.getTextFileFromTracks();\n        e.clipboardData.setData(\"text/plain\", text);\n      }\n\n      resetEverything(); // Set the text fields to empty strings.\n    });\n  }\n\n  _UI.setupCopyHandler = setupCopyHandler;\n\n  function showNoteGroupsForTracks() {\n    UI.Tracks.checkAllNonEmptyTracks();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].update();\n    var payload = {};\n    payload[Keys.UPDATED_TRACKS_LIST] = Song.getRecentlyUpdatedTrackNumbersAsArray();\n    dispatch({\n      type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Song.onTracksUpdated,\n      payload: payload\n    });\n    Song.resetRecentlyUpdatedTrackNumbers();\n  }\n\n  _UI.showNoteGroupsForTracks = showNoteGroupsForTracks;\n\n  function scrollNoteGroupIntoView(trackNumber, noteGroupNumber) {\n    var noteGroupID = Song.getNoteGroupID(trackNumber, noteGroupNumber); // Scroll the divs all the way to the right to make sure the most recent NoteGroups are visible.\n\n    var element = document.querySelector(\"#\".concat(noteGroupID));\n\n    if (element) {\n      element.scrollIntoView();\n    }\n  }\n\n  _UI.scrollNoteGroupIntoView = scrollNoteGroupIntoView;\n\n  function onKeyDown(e) {\n    if (!piano) {\n      console.log(\"UI.onKeyDown: Piano has not been initialized.\");\n      return;\n    }\n\n    var keyCode = e.keyCode;\n    var metaKeyIsDown = e.metaKey; // e.metaKey => CMD (91 is LEFT CMD & 93 is RIGHT CMD)\n\n    var ctrlKeyIsDown = e.ctrlKey;\n    var shiftKeyIsDown = e.shiftKey;\n\n    if (metaKeyIsDown) {\n      if (keyCode == 37 || keyCode == 39) {// DO NOTHING. Fall through so that we can do CMD + LEFT ARROW and CMD + RIGHT ARROW.\n      } else {\n        // Ignore when we have the CMD pressed down, so that we can use the browser's hotkeys.\n        return;\n      }\n    } // CTRL => FLAT and SHIFT => SHARP\n\n\n    sharpOrFlatModifier = 0;\n\n    if (ctrlKeyIsDown) {\n      sharpOrFlatModifier = -1;\n    }\n\n    if (shiftKeyIsDown) {\n      sharpOrFlatModifier = +1;\n    }\n\n    e.preventDefault();\n\n    switch (keyCode) {\n      case 13:\n        // ENTER\n        Playback.togglePlayPause();\n        break;\n\n      case 33:\n        // PAGE UP | fn + UP_ARROW\n        // Up an octave.\n        octaveOffset++;\n\n        if (octaveOffset > 0) {\n          octaveOffset = 0;\n        }\n\n        UI.drawPiano();\n        break;\n\n      case 34:\n        // PAGE DOWN | fn + DOWN_ARROW\n        console.log(\"fn + DOWN\"); // Down an octave.\n\n        octaveOffset--;\n\n        if (octaveOffset < -1) {\n          octaveOffset = -1;\n        }\n\n        UI.drawPiano();\n        break;\n\n      case 36:\n        // HOME | fn + LEFT_ARROW\n        Playback.playNoteAndGoBackwardInTheSong(); // Find the previous note to play via round robin.\n\n        break;\n\n      case 35:\n        // END | fn + RIGHT_ARROW\n        Playback.playNoteAndGoForwardInTheSong(); // Find the next note to play via round robin.\n\n        break;\n\n      case 112:\n        console.log(\"F1\");\n        break;\n\n      case 113:\n        console.log(\"F2\");\n        break;\n\n      case 114:\n        console.log(\"F3\");\n        break;\n\n      case 115:\n        console.log(\"F4\");\n        break;\n\n      case 116:\n        console.log(\"F5\");\n        break;\n\n      case 192:\n        // ~ == SHIFT + `\n        console.log(\"SHIFT + `\");\n        resetEverything();\n        break;\n\n      case 32:\n        // SPACE BAR\n        console.log(\"SPACE\"); // xxx\n\n        break;\n\n      case 27:\n        // ESC\n        console.log(\"ESC\");\n\n        if (shiftKeyIsDown) {\n          // SHIFT + ESC\n          resetEverything();\n        } else {\n          // ESC resets the octave offsets\n          resetOffset();\n        }\n\n        break;\n\n      case 8:\n        // BACKSPACE/DEL\n        Song.deleteLastGroup();\n        break;\n\n      case 9:\n        // TAB\n        Song.mergeLastTwoGroups();\n        break;\n\n      case 38:\n        // UP\n        apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevTrack();\n        break;\n\n      case 40:\n        // DOWN\n        apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextTrack();\n        break;\n\n      case 37:\n        // LEFT\n        if (metaKeyIsDown) {\n          // CMD + LEFT jumps to the first notegroup of the currently highlighted track.\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].firstNoteGroup();\n        } else if (shiftKeyIsDown) {\n          // SHIFT + LEFT\n          Playback.playAndGoBackwardOnCurrentTrack();\n        } else {\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prevNoteGroup();\n        }\n\n        break;\n\n      case 39:\n        // RIGHT\n        if (metaKeyIsDown) {\n          // CMD + RIGHT jumps to the last notegroup of the currently highlighted track.\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lastNoteGroup();\n        } else if (shiftKeyIsDown) {\n          // SHIFT + RIGHT\n          Playback.playAndGoForwardOnCurrentTrack();\n        } else {\n          apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].nextNoteGroup();\n        }\n\n        break;\n\n      default:\n        if (Keyboard.keyCodeToPianoKeyNumber.hasOwnProperty(keyCode)) {\n          App.playOneNote(Keyboard.keyCodeToPianoKeyNumber[keyCode]);\n        }\n\n        break;\n    }\n  }\n\n  _UI.onKeyDown = onKeyDown;\n\n  function onKeyUp(e) {\n    // Released CTRL or SHIFT\n    if (e.ctrlKey) {\n      sharpOrFlatModifier = 0;\n    } else if (e.shiftKey) {\n      sharpOrFlatModifier = 0;\n    }\n  }\n\n  _UI.onKeyUp = onKeyUp;\n  var WHITE_KEY_WIDTH = _UI.WHITE_KEY_WIDTH = 20;\n  var WHITE_KEY_HEIGHT = _UI.WHITE_KEY_HEIGHT = 120;\n  var BLACK_KEY_WIDTH = _UI.BLACK_KEY_WIDTH = 16;\n  var BLACK_KEY_HEIGHT = _UI.BLACK_KEY_HEIGHT = 72;\n  var context2d = null;\n  var context2dWidth = 0;\n  var context2dHeight = 0;\n\n  function setCanvasContext(c2d, c2dWidth, c2dHeight) {\n    context2d = c2d;\n    context2dWidth = c2dWidth;\n    context2dHeight = c2dHeight;\n  }\n\n  _UI.setCanvasContext = setCanvasContext;\n\n  function drawPiano() {\n    if (!context2d) {\n      return;\n    }\n\n    var c = context2d; // clear the background\n\n    c.fillStyle = \"#333\";\n    c.fillRect(0, 0, context2dWidth, context2dHeight);\n    drawWhiteKeys(c);\n    drawBlackKeys(c);\n    drawKeyLabels(c);\n    drawMostRecentGroup(c);\n  }\n\n  _UI.drawPiano = drawPiano;\n\n  function drawWhiteKeys(c) {\n    c.strokeStyle = \"#000\";\n    c.lineWidth = 0.2;\n    c.fillStyle = \"#FFF\";\n\n    for (var k = 0; k < 52; k++) {\n      c.fillRect(k * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n      c.strokeRect(k * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n    } // Highlight Middle C in faint red.\n\n\n    c.fillStyle = \"#FCC\";\n    c.fillRect(23 * WHITE_KEY_WIDTH, 0, WHITE_KEY_WIDTH, WHITE_KEY_HEIGHT);\n  }\n\n  function drawBlackKeys(c) {\n    c.fillStyle = \"#323232\";\n\n    for (var octave = 0; octave < 7; octave++) {\n      for (var key = 0; key < 7; key++) {\n        // A# = key 0; C# = key 2; G# = key 6\n        if (key == 1 || key == 4) {\n          continue; // skip B# and E#\n        }\n\n        c.fillRect(12 + 20 * (key + octave * 7), 0, BLACK_KEY_WIDTH, BLACK_KEY_HEIGHT);\n      }\n    } // highest black key\n\n\n    c.fillRect(12 + 7 * 7 * 20, 0, 16, 72);\n  }\n\n  function drawKeyLabels(c) {\n    c.textAlign = \"center\"; // draw the piano key numbers for the white keys\n    // also draw the note name\n\n    for (var k = 1; k <= 88; k++) {\n      var remainder = k % 12;\n\n      if (whiteKeys.includes(remainder)) {\n        var octave = Math.floor(k / 12);\n        var whiteKeyNoteIndex = whiteKeys.indexOf(remainder);\n        var whiteKeyIndex = octave * 7 + whiteKeyNoteIndex;\n        var noteLabel = noteLabels[whiteKeyNoteIndex];\n\n        if (noteLabel == \"c\") {\n          c.font = \"bold 13px Tahoma\";\n        } else {\n          c.font = \"13px Tahoma\";\n        }\n\n        c.fillStyle = \"#777\";\n        c.fillText(noteLabel, whiteKeyIndex * 20 + 10, 100);\n        c.font = \"12px Consolas\";\n        c.fillStyle = \"#999\";\n        c.fillText(k, whiteKeyIndex * 20 + 10, 115);\n      }\n    }\n\n    c.font = \"15px Consolas\";\n    c.fillStyle = \"#FFF\";\n    c.textAlign = \"center\"; // draw the current character to press, under the correct key!\n\n    var offset = (octaveOffset + 1) * 7; // start on A (key 13)\n\n    var len = Keyboard.labels.length;\n\n    for (var i = 0; i < len; i++) {\n      c.fillText(Keyboard.labels[i], (i + offset) * 20 + 10, 140);\n    }\n  } // draw the highlighted group?\n\n\n  function drawMostRecentGroup(c) {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var noteGroupNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentNoteGroupNumber();\n    var lastGroup = Song.getNoteGroupFromTrack(noteGroupNumber, trackNumber);\n\n    if (!lastGroup) {\n      return;\n    }\n\n    var notes = lastGroup.notes;\n\n    var _iterator3 = _createForOfIteratorHelper(notes),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var n = _step3.value;\n        var remainder = n.pianoNote % 12;\n        var octaveIndex = Math.floor((n.pianoNote - 1) / 12);\n        c.beginPath();\n\n        if (blackKeys.includes(remainder)) {\n          // is it a black key?\n          var blackKeyIndex = octaveIndex * 7 + blackKeys.indexOf(remainder); // black keys are 16px wide\n\n          c.arc(blackKeyIndex * 20 + 20, 60, 6, 0, 2 * Math.PI, false);\n        } else {\n          // if white, we map it to one of the 52 white keys\n          var whiteKeyIndex = octaveIndex * 7 + whiteKeys.indexOf(remainder); // white keys are 20px wide\n\n          c.arc(whiteKeyIndex * 20 + 10, 96, 7, 0, 2 * Math.PI, false);\n        }\n\n        c.fillStyle = \"rgba(220,220,10,.82)\"; // fill the yellow circle\n\n        c.fill();\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  } ////////////////////////////////////////////////////////////\n\n\n  var Tracks;\n\n  (function (_Tracks) {\n    // Bindings to our React component state.\n    // We can query whether a track's checkbox isChecked.\n    // We can call setChecked to change the track's checked state.\n    var isCheckedCallbacks = null;\n    var setCheckedCallbacks = null;\n\n    var defaultIsCheckedCB = function defaultIsCheckedCB() {\n      console.log(\"DEFAULT IS-CHECKED. RETURN TRUE.\");\n      return true;\n    };\n\n    var defaultSetCheckedCB = function defaultSetCheckedCB(checked) {\n      console.log(\"DEFAULT SET CHECKED: \" + checked);\n      /* NO-OP */\n    };\n\n    function setup(numTracks) {\n      isCheckedCallbacks = new Array(numTracks);\n      setCheckedCallbacks = new Array(numTracks);\n      isCheckedCallbacks.fill(defaultIsCheckedCB);\n      setCheckedCallbacks.fill(defaultSetCheckedCB);\n      Song.reset();\n\n      for (var t = 0; t < numTracks; t++) {\n        Song.addTrack();\n      }\n\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setupIndexes(numTracks);\n    }\n\n    _Tracks.setup = setup;\n\n    function addNewTrack() {}\n\n    _Tracks.addNewTrack = addNewTrack;\n\n    function getTextFileFromTracks() {\n      console.log(\"getTextFileFromTracks Song Version: \" + App.getSongVersion());\n      var noteGroups = Song.getNoteGroupsFromTracks();\n\n      if (App.getSongVersion() === 1) {\n        var noteGroupV1Strings = [];\n        noteGroups.forEach(function (noteGroup) {\n          noteGroupV1Strings.push(noteGroup.toStringV1());\n        });\n        return noteGroupV1Strings.join(\" \");\n      } else {\n        // songVersion === 2\n        return noteGroups.join(\" \");\n      }\n    }\n\n    _Tracks.getTextFileFromTracks = getTextFileFromTracks;\n\n    function getTrackNumbersToIncludeInMIDIFile() {\n      var trackNumbersToInclude = [];\n      var numTracks = Song.getNumTracks();\n\n      for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n        if (Tracks.isChecked(trackNumber)) {\n          trackNumbersToInclude.push(trackNumber);\n        }\n      }\n\n      return trackNumbersToInclude;\n    }\n\n    _Tracks.getTrackNumbersToIncludeInMIDIFile = getTrackNumbersToIncludeInMIDIFile;\n\n    function setTrackCheckedCallbacks(trackNumber, isTrackChecked, setTrackChecked) {\n      console.log(\"setTrackCheckedCallbacks \" + trackNumber + \" \" + typeof isTrackChecked + \" \" + typeof setTrackChecked);\n\n      if (!isCheckedCallbacks) {\n        isCheckedCallbacks = [];\n      }\n\n      isCheckedCallbacks[trackNumber] = isTrackChecked;\n\n      if (!setCheckedCallbacks) {\n        setCheckedCallbacks = [];\n      }\n\n      setCheckedCallbacks[trackNumber] = setTrackChecked;\n    }\n\n    _Tracks.setTrackCheckedCallbacks = setTrackCheckedCallbacks;\n\n    function setChecked(trackNumber, checked) {\n      console.log(\"setChecked \" + trackNumber + \" => \" + checked);\n      var setCheckedCB = setCheckedCallbacks[trackNumber];\n\n      if (!setCheckedCB) {\n        console.log(\"NULL SETCHECKED CALLBACK\"); // DO NOTHING\n      } else {\n        // #TODO: If the value has not changed, do nothing.\n        setCheckedCB(checked);\n        LocalStorage.saveCheckBoxes();\n        Song.resetCache();\n      }\n    }\n\n    _Tracks.setChecked = setChecked;\n\n    function isChecked(trackNumber) {\n      var isCheckedCB = isCheckedCallbacks[trackNumber];\n\n      if (!isCheckedCB) {\n        // null or undefined\n        return false;\n      } else {\n        return isCheckedCB();\n      }\n    }\n\n    _Tracks.isChecked = isChecked;\n\n    function checkAllNonEmptyTracks() {\n      var numTracks = Song.getNumTracks();\n\n      for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n        if (Song.getNumNoteGroupsInTrack(trackNumber) > 0) {\n          Tracks.setChecked(trackNumber, true);\n        } else {\n          Tracks.setChecked(trackNumber, false);\n        }\n      }\n    }\n\n    _Tracks.checkAllNonEmptyTracks = checkAllNonEmptyTracks;\n\n    function getCheckedStateForAllTracks() {\n      return isCheckedCallbacks.map(function (isCheckedCB) {\n        if (!isCheckedCB) {\n          return false; // If the callback is undefined or null, we consider that track \"NOT CHECKED\".\n        } else {\n          var checked = isCheckedCB();\n          console.log(checked);\n          return checked; // Otherwise, we call the callback to determine the current checked state.\n        }\n      });\n    }\n\n    _Tracks.getCheckedStateForAllTracks = getCheckedStateForAllTracks;\n\n    function setCheckedStateForAllTracks(checkedStateForAllTracks) {\n      for (var trackNumber = 0; trackNumber < checkedStateForAllTracks.length; trackNumber++) {\n        var checkedState = checkedStateForAllTracks[trackNumber];\n        Tracks.setChecked(trackNumber, checkedState);\n      }\n    }\n\n    _Tracks.setCheckedStateForAllTracks = setCheckedStateForAllTracks;\n  })(Tracks || (Tracks = _UI.Tracks || (_UI.Tracks = {})));\n})(UI || (UI = {})); ///////////////////////////////////////////////////////////////////////////\n\n\nvar Song;\n\n(function (_Song) {\n  // Support multi track MIDI songs.\n  // When we compose by hand, stick everything in track 0.\n  var tracks = [];\n  var cachedNoteGroups = null;\n  var recentlyUpdatedTrackNumbers = new Set();\n\n  function reset() {\n    tracks.length = 0;\n    Song.resetRecentlyUpdatedTrackNumbers();\n    Song.resetCache();\n  }\n\n  _Song.reset = reset;\n\n  function resetCache() {\n    cachedNoteGroups = null;\n  }\n\n  _Song.resetCache = resetCache;\n\n  function addTrack() {\n    var track = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Track\"]();\n    track.trackNumber = tracks.length;\n    tracks.push(track);\n    recentlyUpdatedTrackNumbers.add(track.trackNumber);\n  }\n\n  _Song.addTrack = addTrack;\n\n  function addNoteGroupToTrack(noteGroup, trackNumber) {\n    Song.resetCache(); // Every time we modify the tracks, we need to invalidate the cache.\n\n    var track = tracks[trackNumber];\n    noteGroup.trackNumber = trackNumber;\n    noteGroup.noteNumber = track.length;\n    track.push(noteGroup);\n    recentlyUpdatedTrackNumbers.add(trackNumber);\n    return tracks[trackNumber].length; // We call saveAndShowData() elsewhere!\n  }\n\n  _Song.addNoteGroupToTrack = addNoteGroupToTrack;\n\n  function getNumTracks() {\n    return tracks.length;\n  }\n\n  _Song.getNumTracks = getNumTracks;\n\n  function getNumNoteGroupsInTrack(trackNumber) {\n    if (trackNumber < 0 || trackNumber >= tracks.length) {\n      return 0;\n    } else {\n      return tracks[trackNumber].length;\n    }\n  }\n\n  _Song.getNumNoteGroupsInTrack = getNumNoteGroupsInTrack;\n\n  function isTrackEmpty(trackNumber) {\n    return getNumNoteGroupsInTrack(trackNumber) === 0;\n  }\n\n  _Song.isTrackEmpty = isTrackEmpty;\n\n  function getTracksAsJSON() {\n    return JSON.stringify(tracks);\n  }\n\n  _Song.getTracksAsJSON = getTracksAsJSON;\n\n  function mergeLastTwoGroups() {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var currTrack = tracks[trackNumber];\n\n    if (currTrack.length >= 2) {\n      var mergedNoteGroup = apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"].merge(currTrack.pop(), currTrack.pop());\n      Song.addNoteGroupToTrack(mergedNoteGroup, trackNumber);\n      apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, currTrack.length - 1);\n      recentlyUpdatedTrackNumbers.add(trackNumber);\n      saveAndShowData();\n    }\n  }\n\n  _Song.mergeLastTwoGroups = mergeLastTwoGroups;\n\n  function deleteLastGroup() {\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    tracks[trackNumber].pop();\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, tracks[trackNumber].length - 1);\n    recentlyUpdatedTrackNumbers.add(trackNumber);\n    saveAndShowData();\n  }\n\n  _Song.deleteLastGroup = deleteLastGroup;\n\n  function getNoteGroupFromTrack(noteGroupNumber, trackNumber) {\n    if (trackNumber < 0 || trackNumber >= tracks.length) {\n      return null;\n    }\n\n    var track = tracks[trackNumber];\n\n    if (noteGroupNumber < 0 || noteGroupNumber >= track.length) {\n      return null;\n    }\n\n    return track[noteGroupNumber];\n  }\n\n  _Song.getNoteGroupFromTrack = getNoteGroupFromTrack;\n\n  function getNoteGroupsFromTracks() {\n    if (cachedNoteGroups !== null) {\n      return cachedNoteGroups;\n    }\n\n    console.log(\"Recompute Cached NoteGroups!!!\");\n    var noteGroups = [];\n    var currTimeMillis = 0; // Used when our NoteGroups don't have valid timing information (i.e., manual entry).\n\n    var noteGroupPointerForTrack = []; // Keep pointers to the current NoteGroups we are looking at. One pointer/cursor per track.\n\n    var numTracks = tracks.length;\n\n    for (var trackNumber = 0; trackNumber < numTracks; trackNumber++) {\n      noteGroupPointerForTrack.push(0); // Start a index 0 (the first NoteGroup of each track).\n    } // Round robin between the tracks until we insert all the NoteGroups properly. Always choose the NoteGroup with the minimum playTime.\n\n\n    while (true) {\n      var minPlayTime = Number.MAX_VALUE;\n      var nextNoteGroup = null;\n      var nextNoteGroupTrack = null; // Which track contains the next note group to play?\n      // Loop through all the tracks to find the next NoteGroup to play.\n\n      for (var _trackNumber = 0; _trackNumber < numTracks; _trackNumber++) {\n        var currTrack = tracks[_trackNumber];\n        var currTrackLength = currTrack.length;\n        var currNoteGroupPointer = noteGroupPointerForTrack[_trackNumber];\n\n        if (currTrackLength === 0 || !UI.Tracks.isChecked(_trackNumber) || currNoteGroupPointer >= currTrackLength) {\n          // Ignore this track if:\n          //   it is empty\n          //   it is not checked\n          //   we have already finished looking at it\n          continue;\n        } else {\n          var _noteGroup2 = currTrack[currNoteGroupPointer];\n\n          if (_noteGroup2.playTimeMillis < minPlayTime) {\n            minPlayTime = _noteGroup2.playTimeMillis;\n            nextNoteGroup = _noteGroup2;\n            nextNoteGroupTrack = currTrack;\n          }\n        }\n      } // If we did not find any NoteGroups, we're done!\n\n\n      if (!nextNoteGroup) {\n        break; // break out of the while(true) loop.\n      } else {\n        var ng = nextNoteGroup.copy();\n\n        if (ng.playTimeMillis === -1) {\n          ng.playTimeMillis = currTimeMillis;\n        }\n\n        var t = nextNoteGroupTrack.trackNumber;\n        var noteNumber = noteGroupPointerForTrack[t];\n        ng.noteNumber = noteNumber;\n        noteGroupPointerForTrack[t]++;\n        noteGroups.push(ng);\n        currTimeMillis = ng.playTimeMillis + TIME_BETWEEN_NOTEGROUPS;\n      }\n    }\n\n    cachedNoteGroups = noteGroups;\n    return noteGroups;\n  }\n\n  _Song.getNoteGroupsFromTracks = getNoteGroupsFromTracks;\n\n  function getNoteGroupID(trackNumber, noteGroupNumber) {\n    return \"t\".concat(trackNumber, \"_n\").concat(noteGroupNumber);\n  }\n\n  _Song.getNoteGroupID = getNoteGroupID;\n\n  function getRecentlyUpdatedTrackNumbersAsArray() {\n    return Array.from(recentlyUpdatedTrackNumbers);\n  }\n\n  _Song.getRecentlyUpdatedTrackNumbersAsArray = getRecentlyUpdatedTrackNumbersAsArray;\n\n  function resetRecentlyUpdatedTrackNumbers() {\n    recentlyUpdatedTrackNumbers.clear();\n  }\n\n  _Song.resetRecentlyUpdatedTrackNumbers = resetRecentlyUpdatedTrackNumbers;\n})(Song || (Song = {}));\n\nvar _Playback_NS = Playback;\nvar _Song_NS = Song;\nvar _UI_NS = UI;\nvar _Tracks_NS = UI.Tracks;\nvar App;\n\n(function (_App) {\n  var Playback = _App.Playback = _Playback_NS;\n  var Song = _App.Song = _Song_NS;\n  var UI = _App.UI = _UI_NS;\n  var Tracks = _App.Tracks = _Tracks_NS;\n  var songVersion = apps_shared_Constants__WEBPACK_IMPORTED_MODULE_6__[\"default\"].MIN_SONG_VERSION; // We need to update this every time the redux store changes!\n\n  function getSongVersion() {\n    return songVersion;\n  }\n\n  _App.getSongVersion = getSongVersion;\n\n  function setSongVersion(v) {\n    songVersion = v;\n  }\n\n  _App.setSongVersion = setSongVersion;\n\n  function setDispatchFunction(d) {\n    dispatch = d;\n  }\n\n  _App.setDispatchFunction = setDispatchFunction;\n\n  function start() {\n    console.log(\"App.start()\");\n    MIDIPianoInput.setup();\n    LocalStorage.load();\n    UI.showNoteGroupsForTracks();\n    UI.setupCopyHandler();\n    UI.drawPiano();\n  }\n\n  _App.start = start;\n\n  function startAudio() {\n    piano = new apps_shared_sound_Instrument__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n  }\n\n  _App.startAudio = startAudio;\n\n  function saveSongVersionToLocalStorage(ver) {\n    App.setSongVersion(ver);\n    console.log(\"saveSongVersionToLocalStorage \" + ver);\n    LocalStorage.saveVersionToggle(ver);\n  }\n\n  _App.saveSongVersionToLocalStorage = saveSongVersionToLocalStorage;\n\n  function fillTracksWithNoteGroupsExtractedFromMIDIEvents(midiFile, midiEvents) {\n    console.log(\"MIDI File Passed In: \" + midiFile);\n\n    if (!midiFile) {\n      return;\n    }\n\n    UI.Tracks.setup(midiFile.tracks.length); // Remember the most recently processed event so that we can merge notes that are played at the same time and on the same track.\n\n    var lastNoteGroup = null;\n    var lastPlayTime = -1;\n    var lastTrackNumber = -1; // Convert from MIDI events to NoteGroups\n\n    var _iterator4 = _createForOfIteratorHelper(midiEvents),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var event = _step4.value;\n        var _type = event.type;\n        var subtype = event.subtype; // let status = (event.subtype << 4) + event.channel;\n        // let statusCodeHexString = '0x' + status.toString(16).toUpperCase();\n\n        var playTime = event.playTime; // time in milliseconds\n\n        playTime = Math.round(playTime * 1000) / 1000; // round it to the nearest 0.001\n\n        var midiNoteNum = event.param1;\n        var _velocity = event.param2;\n        var pianoNoteNum = apps_shared_midi_MIDIUtils__WEBPACK_IMPORTED_MODULE_8__[\"default\"].m2p(midiNoteNum);\n        var noteToPlay = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Note\"](pianoNoteNum, 1.0\n        /* duration */\n        , _velocity); // TODO: Support duration someday?\n\n        console.log(\"VELOCITY \" + _velocity);\n        var trackNumber = event.track; // possibly undefined!\n\n        if (!trackNumber) {\n          trackNumber = 0; // We will assign events with undefined trackNumbers to track 0.\n        }\n\n        if (subtype === MIDIEvents.EVENT_MIDI_NOTE_ON) {\n          if (playTime <= lastPlayTime + TIME_THRESHOLD_FOR_GROUPING_NEARBY_NOTES && trackNumber === lastTrackNumber) {\n            // Merge all notes starting at the same time and on the same track into a single NoteGroup.\n            lastNoteGroup.addNote(noteToPlay);\n          } else {\n            var _noteGroup3 = new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](noteToPlay, playTime, trackNumber);\n\n            Song.addNoteGroupToTrack(_noteGroup3, trackNumber);\n            lastNoteGroup = _noteGroup3;\n            lastTrackNumber = trackNumber;\n            lastPlayTime = playTime;\n          }\n        } else {\n          // OTHER EVENTS\n          console.log(\"Unhandled Event:\");\n          apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].printTypeAndSubtype(_type, subtype);\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    saveAndShowData();\n  }\n\n  _App.fillTracksWithNoteGroupsExtractedFromMIDIEvents = fillTracksWithNoteGroupsExtractedFromMIDIEvents;\n\n  function getDownloadData_TEXT() {\n    // GENERATE THE TEXT FILE FROM OUR TRACKS. BASE 64 ENCODE IT.\n    // A textual representation of the song:\n    //   V1 => e.g., 40 42 44 45 40.47\n    //   V2 => e.g., [24.36 @ 0] [17.29 @ 2730] [36 @ 2904] [41 @ 3029] [44 @ 3152]\n    var text = Tracks.getTextFileFromTracks();\n    var base64Text = btoa(text); // base 64 encoding\n\n    return base64Text;\n  }\n\n  _App.getDownloadData_TEXT = getDownloadData_TEXT;\n\n  function getDownloadData_MIDI() {\n    // GENERATE THE MIDI FILE FROM OUR TRACKS. BASE 64 ENCODE IT.\n    var trackNumbersToInclude = Tracks.getTrackNumbersToIncludeInMIDIFile();\n    var midiFile = apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].createFileFromTracks(trackNumbersToInclude, Song.getNoteGroupsFromTracks());\n    var base64Text = btoa(midiFile); // base 64 encoding\n\n    return base64Text;\n  }\n\n  _App.getDownloadData_MIDI = getDownloadData_MIDI;\n\n  function playOneNote(pianoKeyBeforeModifiers) {\n    var applyModifiers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    // get the name of the note we are about to play\n    var remainder = pianoKeyBeforeModifiers % 12;\n    var whiteKeyNoteIndex = whiteKeys.indexOf(remainder);\n    var noteLabel = noteLabels[whiteKeyNoteIndex];\n    var modifier = 0;\n\n    if (applyModifiers) {\n      modifier = sharpOrFlatModifier; // The user is holding down SHIFT or CTRL\n      // is this note auto-sharped, due to the key signature?\n\n      if (apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isNoteSharp(noteLabel)) {\n        modifier++; // raise the sharp a half-step!\n      } // is this note auto-flatted, due to the key signature?\n\n\n      if (apps_author_piano_shared_SharpsAndFlatsManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isNoteFlat(noteLabel)) {\n        modifier--; // lower the note a half-step!\n      }\n    }\n\n    var pianoKeyNumber = pianoKeyBeforeModifiers + modifier + octaveOffset * 12;\n\n    if (pianoKeyNumber < 1 || pianoKeyNumber > 88) {\n      return;\n    }\n\n    var trackNumber = apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentTrackNumber();\n    var trackLength = Song.addNoteGroupToTrack(new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"NoteGroup\"](new apps_author_piano_v2_Music__WEBPACK_IMPORTED_MODULE_5__[\"Note\"](pianoKeyNumber)), trackNumber);\n    Tracks.setChecked(trackNumber, true);\n    App.playPianoNote(pianoKeyNumber);\n    apps_author_piano_v2_Highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setTrackAndNoteGroup(trackNumber, trackLength - 1);\n    saveAndShowData();\n  }\n\n  _App.playOneNote = playOneNote;\n\n  function playPianoNote(pianoKeyNumber) {\n    var velocity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127.0;\n\n    if (piano === null) {\n      console.log(\"playPianoNote: Piano has not been initialized.\");\n      return;\n    }\n\n    var duration = 1.0; // 0.125, 0.25, 0.5, 1.0, 2.0;\n\n    piano.play(pianoKeyNumber, duration, velocity / 127.0);\n  }\n\n  _App.playPianoNote = playPianoNote;\n\n  function loadFirstFile(fileList) {\n    if (fileList.length > 0) {\n      var file = fileList[0]; // Read the first file.\n\n      apps_shared_midi_MIDIFileIO__WEBPACK_IMPORTED_MODULE_7__[\"default\"].readFileAsync(file).then(function (fileName) {\n        dispatch({\n          type: apps_shared_redux_Actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"].FileChooser.onFileLoaded\n        });\n      });\n    }\n  }\n\n  _App.loadFirstFile = loadFirstFile;\n})(App || (App = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9hdXRob3IvcGlhbm8vdjIvQXBwLnRzPzgxNDIiXSwibmFtZXMiOlsiTUlESUV2ZW50cyIsInJlcXVpcmUiLCJLZXlzIiwiQ29uc3RhbnRzIiwiU3RvcmVLZXlzIiwiVElNRV9USFJFU0hPTERfRk9SX0dST1VQSU5HX05FQVJCWV9OT1RFUyIsImRpc3BhdGNoIiwiVElNRV9CRVRXRUVOX05PVEVHUk9VUFMiLCJvY3RhdmVPZmZzZXQiLCJibGFja0tleXMiLCJ3aGl0ZUtleXMiLCJub3RlTGFiZWxzIiwic2hhcnBPckZsYXRNb2RpZmllciIsInBpYW5vIiwibGFiZWxzIiwieiIsImtleUNvZGVUb1BpYW5vS2V5TnVtYmVyIiwiS2V5Ym9hcmQiLCJudW1Ob3Rlc1ByZXNzZWQiLCJzZXR1cCIsIm5hdmlnYXRvciIsInN5c2V4IiwidGhlbiIsIm9uTUlESVN1Y2Nlc3MiLCJvbk1JRElGYWlsdXJlIiwiYWxlcnQiLCJtaWRpQWNjZXNzIiwiY29uc29sZSIsImxvZyIsIm1pZGkiLCJpbnB1dHMiLCJ2YWx1ZXMiLCJpbnB1dCIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJvbm1pZGltZXNzYWdlIiwib25NSURJTWVzc2FnZSIsImVycm9yIiwibWVzc2FnZSIsImRhdGEiLCJjbWQiLCJjaGFubmVsIiwidHlwZSIsIm5vdGUiLCJ2ZWxvY2l0eSIsInBpYW5vS2V5IiwiQXBwIiwicGxheU9uZU5vdGUiLCJTb25nIiwibWVyZ2VMYXN0VHdvR3JvdXBzIiwiTUlESVBpYW5vSW5wdXQiLCJyZXNldE9mZnNldCIsIlVJIiwiZHJhd1BpYW5vIiwicmVzZXRFdmVyeXRoaW5nIiwiVHJhY2tzIiwic2F2ZUFuZFNob3dEYXRhIiwiUGxheWJhY2siLCJzdG9wIiwiTG9jYWxTdG9yYWdlIiwic2F2ZUNoZWNrQm94ZXMiLCJzYXZlVHJhY2tzIiwic2hvd05vdGVHcm91cHNGb3JUcmFja3MiLCJsb2FkIiwibG9hZFRyYWNrcyIsImxvYWRWZXJzaW9uVG9nZ2xlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzb25nVmVyc2lvbiIsInBhcnNlSW50IiwiTUlOX1NPTkdfVkVSU0lPTiIsIk1BWF9TT05HX1ZFUlNJT04iLCJwYXlsb2FkIiwiU09OR19WRVJTSU9OIiwiQWN0aW9ucyIsIlRvZ2dsZSIsIm9uU29uZ1ZlcnNpb25Gb3JtYXRDaGFuZ2VkIiwic2F2ZWRUcmFja3MiLCJKU09OIiwicGFyc2UiLCJudW1UcmFja3MiLCJsZW5ndGgiLCJ0Iiwic2F2ZWRUcmFjayIsIm5vdGVHcm91cFN0cmluZyIsIm5vdGVHcm91cCIsIk5vdGVHcm91cCIsImFkZE5vdGVHcm91cFRvVHJhY2siLCJlIiwibG9hZENoZWNrYm94ZXMiLCJzYXZlZENoZWNrYm94U3RhdGUiLCJBcnJheSIsImlzQXJyYXkiLCJnZXROdW1UcmFja3MiLCJzZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MiLCJjaGVja0FsbE5vbkVtcHR5VHJhY2tzIiwic3RyaW5naWZ5IiwiZ2V0Q2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzIiwidHJhY2tzSlNPTiIsImdldFRyYWNrc0FzSlNPTiIsInNhdmVWZXJzaW9uVG9nZ2xlIiwiRmFrZVdvcmtlckNsb2NrIiwibXNnIiwic2VsZiIsImlzUnVubmluZyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJvbm1lc3NhZ2UiLCJkZWxheSIsImNsZWFySW50ZXJ2YWwiLCJjdXJyU29uZ1RpbWUiLCJiYXNlU29uZ1RpbWUiLCJjbG9ja1N0YXJ0VGltZSIsImNsb2NrIiwiY2xvY2tJc1RpY2tpbmciLCJwbGF5TmV4dEV2ZW50cyIsInBlcmZvcm1hbmNlIiwibm93IiwiY3Vyck5vdGVHcm91cE51bWJlciIsImlzUGF1c2VkIiwibmV4dEV2ZW50UGxheVRpbWUiLCJpc1BsYXlpbmciLCJwbGF5Iiwibm90ZUdyb3Vwc1RvUGxheSIsImdldE5vdGVHcm91cHNGcm9tVHJhY2tzIiwiZGV0ZXJtaW5lUGxheVRpbWVGb3JOZXh0RXZlbnQiLCJwb3N0TWVzc2FnZSIsInBhdXNlIiwic3RvcFRoZUNsb2NrIiwidG9nZ2xlUGxheVBhdXNlIiwiY3VyclRpbWUiLCJIaWdobGlnaHQiLCJzZXRUcmFja0FuZE5vdGVHcm91cCIsInRyYWNrTnVtYmVyIiwibm90ZU51bWJlciIsInBsYXlDdXJyZW50Tm90ZUdyb3VwIiwicGxheVRpbWVNaWxsaXMiLCJ2YWxpZGF0ZUN1cnJOb3RlR3JvdXBOdW1iZXIiLCJwbGF5Tm90ZUFuZEdvQmFja3dhcmRJblRoZVNvbmciLCJ0aHJvdHRsZSIsInBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uIiwicGxheU5vdGVBbmRHb0ZvcndhcmRJblRoZVNvbmciLCJkaXJlY3Rpb24iLCJnZXRDdXJyZW50VHJhY2tOdW1iZXIiLCJuIiwiZ2V0Q3VycmVudE5vdGVHcm91cE51bWJlciIsImdldE5vdGVHcm91cEZyb21UcmFjayIsIm5vdGVzIiwicGxheVBpYW5vTm90ZSIsIk1JRElVdGlscyIsIm0ycCIsIm1pZGlOb3RlIiwiUExBWUVEX05PVEVHUk9VUF9JRCIsImdldE5vdGVHcm91cElEIiwib25QbGF5Tm90ZUdyb3VwIiwicGxheUFuZEdvQmFja3dhcmRPbkN1cnJlbnRUcmFjayIsInByZXZOb3RlR3JvdXAiLCJwbGF5QW5kR29Gb3J3YXJkT25DdXJyZW50VHJhY2siLCJuZXh0Tm90ZUdyb3VwIiwic2V0dXBDb3B5SGFuZGxlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImNsaXBib2FyZERhdGEiLCJ0ZXh0IiwiZ2V0VGV4dEZpbGVGcm9tVHJhY2tzIiwic2V0RGF0YSIsInVwZGF0ZSIsIlVQREFURURfVFJBQ0tTX0xJU1QiLCJnZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnNBc0FycmF5Iiwib25UcmFja3NVcGRhdGVkIiwicmVzZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMiLCJzY3JvbGxOb3RlR3JvdXBJbnRvVmlldyIsIm5vdGVHcm91cE51bWJlciIsIm5vdGVHcm91cElEIiwiZWxlbWVudCIsInNjcm9sbEludG9WaWV3Iiwib25LZXlEb3duIiwia2V5Q29kZSIsIm1ldGFLZXlJc0Rvd24iLCJtZXRhS2V5IiwiY3RybEtleUlzRG93biIsImN0cmxLZXkiLCJzaGlmdEtleUlzRG93biIsInNoaWZ0S2V5IiwiZGVsZXRlTGFzdEdyb3VwIiwicHJldlRyYWNrIiwibmV4dFRyYWNrIiwiZmlyc3ROb3RlR3JvdXAiLCJsYXN0Tm90ZUdyb3VwIiwiaGFzT3duUHJvcGVydHkiLCJvbktleVVwIiwiV0hJVEVfS0VZX1dJRFRIIiwiV0hJVEVfS0VZX0hFSUdIVCIsIkJMQUNLX0tFWV9XSURUSCIsIkJMQUNLX0tFWV9IRUlHSFQiLCJjb250ZXh0MmQiLCJjb250ZXh0MmRXaWR0aCIsImNvbnRleHQyZEhlaWdodCIsInNldENhbnZhc0NvbnRleHQiLCJjMmQiLCJjMmRXaWR0aCIsImMyZEhlaWdodCIsImMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImRyYXdXaGl0ZUtleXMiLCJkcmF3QmxhY2tLZXlzIiwiZHJhd0tleUxhYmVscyIsImRyYXdNb3N0UmVjZW50R3JvdXAiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImsiLCJzdHJva2VSZWN0Iiwib2N0YXZlIiwia2V5IiwidGV4dEFsaWduIiwicmVtYWluZGVyIiwiaW5jbHVkZXMiLCJNYXRoIiwiZmxvb3IiLCJ3aGl0ZUtleU5vdGVJbmRleCIsImluZGV4T2YiLCJ3aGl0ZUtleUluZGV4Iiwibm90ZUxhYmVsIiwiZm9udCIsImZpbGxUZXh0Iiwib2Zmc2V0IiwibGVuIiwiaSIsImxhc3RHcm91cCIsInBpYW5vTm90ZSIsIm9jdGF2ZUluZGV4IiwiYmVnaW5QYXRoIiwiYmxhY2tLZXlJbmRleCIsImFyYyIsIlBJIiwiZmlsbCIsImlzQ2hlY2tlZENhbGxiYWNrcyIsInNldENoZWNrZWRDYWxsYmFja3MiLCJkZWZhdWx0SXNDaGVja2VkQ0IiLCJkZWZhdWx0U2V0Q2hlY2tlZENCIiwiY2hlY2tlZCIsInJlc2V0IiwiYWRkVHJhY2siLCJzZXR1cEluZGV4ZXMiLCJhZGROZXdUcmFjayIsImdldFNvbmdWZXJzaW9uIiwibm90ZUdyb3VwcyIsIm5vdGVHcm91cFYxU3RyaW5ncyIsImZvckVhY2giLCJwdXNoIiwidG9TdHJpbmdWMSIsImpvaW4iLCJnZXRUcmFja051bWJlcnNUb0luY2x1ZGVJbk1JRElGaWxlIiwidHJhY2tOdW1iZXJzVG9JbmNsdWRlIiwiaXNDaGVja2VkIiwic2V0VHJhY2tDaGVja2VkQ2FsbGJhY2tzIiwiaXNUcmFja0NoZWNrZWQiLCJzZXRUcmFja0NoZWNrZWQiLCJzZXRDaGVja2VkIiwic2V0Q2hlY2tlZENCIiwicmVzZXRDYWNoZSIsImlzQ2hlY2tlZENCIiwiZ2V0TnVtTm90ZUdyb3Vwc0luVHJhY2siLCJtYXAiLCJjaGVja2VkU3RhdGVGb3JBbGxUcmFja3MiLCJjaGVja2VkU3RhdGUiLCJ0cmFja3MiLCJjYWNoZWROb3RlR3JvdXBzIiwicmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzIiwiU2V0IiwidHJhY2siLCJUcmFjayIsImFkZCIsImlzVHJhY2tFbXB0eSIsImN1cnJUcmFjayIsIm1lcmdlZE5vdGVHcm91cCIsIm1lcmdlIiwicG9wIiwiY3VyclRpbWVNaWxsaXMiLCJub3RlR3JvdXBQb2ludGVyRm9yVHJhY2siLCJtaW5QbGF5VGltZSIsIk51bWJlciIsIk1BWF9WQUxVRSIsIm5leHROb3RlR3JvdXBUcmFjayIsImN1cnJUcmFja0xlbmd0aCIsImN1cnJOb3RlR3JvdXBQb2ludGVyIiwibmciLCJjb3B5IiwiZnJvbSIsImNsZWFyIiwiX1BsYXliYWNrX05TIiwiX1NvbmdfTlMiLCJfVUlfTlMiLCJfVHJhY2tzX05TIiwic2V0U29uZ1ZlcnNpb24iLCJ2Iiwic2V0RGlzcGF0Y2hGdW5jdGlvbiIsImQiLCJzdGFydCIsInN0YXJ0QXVkaW8iLCJJbnN0cnVtZW50Iiwic2F2ZVNvbmdWZXJzaW9uVG9Mb2NhbFN0b3JhZ2UiLCJ2ZXIiLCJmaWxsVHJhY2tzV2l0aE5vdGVHcm91cHNFeHRyYWN0ZWRGcm9tTUlESUV2ZW50cyIsIm1pZGlGaWxlIiwibWlkaUV2ZW50cyIsImxhc3RQbGF5VGltZSIsImxhc3RUcmFja051bWJlciIsImV2ZW50Iiwic3VidHlwZSIsInBsYXlUaW1lIiwicm91bmQiLCJtaWRpTm90ZU51bSIsInBhcmFtMSIsInBhcmFtMiIsInBpYW5vTm90ZU51bSIsIm5vdGVUb1BsYXkiLCJOb3RlIiwiRVZFTlRfTUlESV9OT1RFX09OIiwiYWRkTm90ZSIsIk1JRElGaWxlSU8iLCJwcmludFR5cGVBbmRTdWJ0eXBlIiwiZ2V0RG93bmxvYWREYXRhX1RFWFQiLCJiYXNlNjRUZXh0IiwiYnRvYSIsImdldERvd25sb2FkRGF0YV9NSURJIiwiY3JlYXRlRmlsZUZyb21UcmFja3MiLCJwaWFub0tleUJlZm9yZU1vZGlmaWVycyIsImFwcGx5TW9kaWZpZXJzIiwibW9kaWZpZXIiLCJTaGFycHNBbmRGbGF0c01hbmFnZXIiLCJpc05vdGVTaGFycCIsImlzTm90ZUZsYXQiLCJwaWFub0tleU51bWJlciIsInRyYWNrTGVuZ3RoIiwiZHVyYXRpb24iLCJsb2FkRmlyc3RGaWxlIiwiZmlsZUxpc3QiLCJmaWxlIiwicmVhZEZpbGVBc3luYyIsImZpbGVOYW1lIiwiRmlsZUNob29zZXIiLCJvbkZpbGVMb2FkZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxVQUFVLEdBQUdDLG1CQUFPLENBQUMsK0RBQUQsQ0FBMUI7O0FBRUEsSUFBTUMsSUFBSSxHQUFHQyw2REFBUyxDQUFDQyxTQUF2QjtBQUVBLElBQU1DLHdDQUF3QyxHQUFHLENBQWpELEMsQ0FBb0Q7QUFFcEQ7O0FBQ0EsSUFBSUMsUUFBa0IsR0FBRyxJQUF6QixDLENBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUMsdUJBQXVCLEdBQUcsR0FBaEM7QUFFQSxJQUFJQyxZQUFZLEdBQUcs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QUFrQmhJLFdBQWxCLEVBQStCLElBQS9CO0FBRUF4RixPQUFHLENBQUN1RyxhQUFKLENBQWtCNEwsY0FBbEI7QUFFQTdNLDBFQUFTLENBQUNDLG9CQUFWLENBQStCQyxXQUEvQixFQUE0QzRNLFdBQVcsR0FBRyxDQUExRDtBQUNBMVIsbUJBQWU7QUFDbEI7Ozs7QUFFTSxXQUFTNkYsYUFBVCxDQUF1QjRMLGNBQXZCLEVBQXlEO0FBQUEsUUFBbEJyUyxRQUFrQix1RUFBUCxLQUFPOztBQUM1RCxRQUFJaEMsS0FBSyxLQUFLLElBQWQsRUFBb0I7QUFDaEJjLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLGdEQUFaO0FBQ0E7QUFDSDs7QUFDRCxRQUFNd1QsUUFBUSxHQUFHLEdBQWpCLENBTDRELENBS3RDOztBQUN0QnZVLFNBQUssQ0FBQytHLElBQU4sQ0FBV3NOLGNBQVgsRUFBMkJFLFFBQTNCLEVBQXFDdlMsUUFBUSxHQUFHLEtBQWhEO0FBQ0g7Ozs7QUFFTSxXQUFTd1MsYUFBVCxDQUF1QkMsUUFBdkIsRUFBc0M7QUFDekMsUUFBSUEsUUFBUSxDQUFDblEsTUFBVCxHQUFrQixDQUF0QixFQUF5QjtBQUNyQixVQUFNb1EsSUFBSSxHQUFHRCxRQUFRLENBQUMsQ0FBRCxDQUFyQixDQURxQixDQUNLOztBQUMxQmpCLHlFQUFVLENBQUNtQixhQUFYLENBQXlCRCxJQUF6QixFQUErQmpVLElBQS9CLENBQW9DLFVBQUNtVSxRQUFELEVBQWM7QUFDOUNuVixnQkFBUSxDQUFDO0FBQUVxQyxjQUFJLEVBQUVpQyxpRUFBTyxDQUFDOFEsV0FBUixDQUFvQkM7QUFBNUIsU0FBRCxDQUFSO0FBQ0gsT0FGRDtBQUdIO0FBQ0o7OztHQXBLSzVTLEcsS0FBQUEsRzs7QUF5S0tBLGtFQUFmIiwiZmlsZSI6Ii4vYXBwcy9hdXRob3IvcGlhbm8vdjIvQXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoYXJwc0FuZEZsYXRzTWFuYWdlciBmcm9tIFwiYXBwcy9hdXRob3IvcGlhbm8vc2hhcmVkL1NoYXJwc0FuZEZsYXRzTWFuYWdlclwiO1xuaW1wb3J0IEhpZ2hsaWdodCBmcm9tIFwiYXBwcy9hdXRob3IvcGlhbm8vdjIvSGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBOb3RlLCBOb3RlR3JvdXAsIFRyYWNrIH0gZnJvbSBcImFwcHMvYXV0aG9yL3BpYW5vL3YyL011c2ljXCI7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gXCJhcHBzL3NoYXJlZC9Db25zdGFudHNcIjtcbmltcG9ydCBNSURJRmlsZUlPIGZyb20gXCJhcHBzL3NoYXJlZC9taWRpL01JRElGaWxlSU9cIjtcbmltcG9ydCBNSURJVXRpbHMgZnJvbSBcImFwcHMvc2hhcmVkL21pZGkvTUlESVV0aWxzXCI7XG5pbXBvcnQgQWN0aW9ucyBmcm9tIFwiYXBwcy9zaGFyZWQvcmVkdXgvQWN0aW9uc1wiO1xuaW1wb3J0IEluc3RydW1lbnQgZnJvbSBcImFwcHMvc2hhcmVkL3NvdW5kL0luc3RydW1lbnRcIjtcbmltcG9ydCB0aHJvdHRsZSBmcm9tIFwibG9kYXNoLnRocm90dGxlXCI7XG5cbmNvbnN0IE1JRElFdmVudHMgPSByZXF1aXJlKFwibWlkaWV2ZW50c1wiKTtcblxuY29uc3QgS2V5cyA9IENvbnN0YW50cy5TdG9yZUtleXM7XG5cbmNvbnN0IFRJTUVfVEhSRVNIT0xEX0ZPUl9HUk9VUElOR19ORUFSQllfTk9URVMgPSAwOyAvLyBBZGp1c3QgdGhpcyBmb3IgcGFyc2luZyBNSURJIHJlY29yZGluZ3Mgb2YgcGlhbm8gcGVyZm9ybWFuY2VzIGJ5IGh1bWFucyAoaS5lLiwgaW1wcmVjaXNlIHRpbWluZykuXG5cbi8vIERpc3BhdGNoIGV2ZW50cyBhbmQgc2VuZCBkYXRhIHRvIHRoZSBnbG9iYWwgc3RvcmUuXG5sZXQgZGlzcGF0Y2g6IEZ1bmN0aW9uID0gbnVsbDtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBkZWNsYXJlIHR5cGVzIHRoYXQgYXJlIGRlZmluZWQgaW4gM3JkIHBhcnR5IGxpYnJhcmllc1xuLy8gVE9ET1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmNvbnN0IFRJTUVfQkVUV0VFTl9OT1RFR1JPVVBTID0gMjUwO1xuXG5sZXQgb2N0YXZlT2Zmc2V0ID0gMDtcblxuLy8gcGlhbm8ga2V5IG51bWJlcnMgJSAxMlxubGV0IGJsYWNrS2V5cyA9IFsyLCAtMSwgNSwgNywgLTEsIDEwLCAwXTsgLy8gLTEgaXMgZm9yIHRoZSBzcGFjZXMgd2hlcmUgdGhlcmUgYXJlIG5vIGJsYWNrIGtleXNcbmxldCB3aGl0ZUtleXMgPSBbMSwgMywgNCwgNiwgOCwgOSwgMTFdO1xubGV0IG5vdGVMYWJlbHMgPSBbXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFwiZVwiLCBcImZcIiwgXCJnXCJdO1xuXG5sZXQgc2hhcnBPckZsYXRNb2RpZmllciA9IDA7XG5cbmxldCBwaWFubyA9IG51bGw7XG5cbm5hbWVzcGFjZSBLZXlib2FyZCB7XG4gICAgLy8gd2hpY2ggY2hhcmFjdGVyIHRvIHR5cGUgdG8gZ2V0IHRoZSBjb3JyZXNwb25kaW5nIHdoaXRlIGtleVxuICAgIGV4cG9ydCBjb25zdCBsYWJlbHMgPSBbXG4gICAgICAgIFwielwiLFxuICAgICAgICBcInhcIiwgLy8gRyBBIEJcbiAgICAgICAgXCJjXCIsXG4gICAgICAgIFwidlwiLFxuICAgICAgICBcImJcIixcbiAgICAgICAgXCJuXCIsXG4gICAgICAgIFwibVwiLFxuICAgICAgICBcIixcIixcbiAgICAgICAgXCIuXCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCIvXCIsXG4gICAgICAgIFwiYVwiLFxuICAgICAgICBcInNcIixcbiAgICAgICAgXCJkXCIsXG4gICAgICAgIFwiZlwiLFxuICAgICAgICBcImdcIixcbiAgICAgICAgXCJoXCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCJqXCIsXG4gICAgICAgIFwia1wiLFxuICAgICAgICBcImxcIixcbiAgICAgICAgXCI7XCIsXG4gICAgICAgIFwicVwiLFxuICAgICAgICBcIndcIixcbiAgICAgICAgXCJlXCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCJyXCIsXG4gICAgICAgIFwidFwiLFxuICAgICAgICBcInlcIixcbiAgICAgICAgXCJ1XCIsXG4gICAgICAgIFwiaVwiLFxuICAgICAgICBcIm9cIixcbiAgICAgICAgXCJwXCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCJbXCIsXG4gICAgICAgIFwiXVwiLFxuICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgXCIxXCIsXG4gICAgICAgIFwiMlwiLFxuICAgICAgICBcIjNcIixcbiAgICAgICAgXCI0XCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCI1XCIsXG4gICAgICAgIFwiNlwiLFxuICAgICAgICBcIjdcIixcbiAgICAgICAgXCI4XCIsXG4gICAgICAgIFwiOVwiLFxuICAgICAgICBcIjBcIixcbiAgICAgICAgXCItXCIsIC8vIEMgRCBFIEYgRyBBIEJcbiAgICAgICAgXCI9XCIsIC8vIENcbiAgICBdO1xuXG4gICAgLy8gVE9ETzogRXh0cmFjdCBcInpcIiBhbmQgXCJrZXlDb2RlVG9QaWFub0tleU51bWJlclwiIGdpdmUgaXQgYSBiZXR0ZXIgbmFtZSFcbiAgICAvLyAjVE9ETzogI1hLV0lBTERaQSBGSUdVUkUgVEhJUyBPVVRcbiAgICAvLyBUaGUgZ29hbCBpcyB0byBtYXRjaCB0aGUgQXBwbGUgR2FyYWdlQmFuZCBNdXNpY2FsIFR5cGluZyBrZXkgbWFwcGluZy5cbiAgICAvLyBUeXBlIEEgYW5kIEsgc2hvdWxkIGludm9rZSB0aGUgcGlhbm8ga2V5IFwiQ1wiLlxuICAgIC8vIFogc2hvdWxkIGJlIG9uZSBvY3RhdmUgbG93ZXIgdGhhbiBBLiBDb21tYSBzaG91bGQgYmUgdGhlIHNhbWUgYXMgQS5cbiAgICAvLyBRIHNob3VsZCBiZSB0aGUgc2FtZSBhcyBLLiBJIHNob3VsZCBiZSBvbmUgb2N0YXZlIGhpZ2hlciB0aGFuIEsuXG4gICAgLy8gQWxsb3dpbmcgZm9yIGEgY3VzdG9taXphYmxlIG9mZnNldCBtZWFucyB0aGF0IHdoZW4gd2UgY2hhbmdlIGtleSBzaWduYXR1cmVzLCB3ZSBjYW4gY2hhbmdlIHRoZSBvZmZzZXQgYnkgYSBjb3VwbGUgb2Ygc2VtaXRvbmVzLlxuICAgIC8vIEFueXdheXMuLi4gZmlndXJlIHRoaXMgb3V0IHlvIVxuICAgIGNvbnN0IHogPSAtMjtcbiAgICBleHBvcnQgY29uc3Qga2V5Q29kZVRvUGlhbm9LZXlOdW1iZXIgPSB7XG4gICAgICAgIDkwOiAxMyArIHosIC8vIHogPT4gQVxuICAgICAgICA4ODogMTUgKyB6LCAvLyB4ID0+IEJcbiAgICAgICAgLy9cbiAgICAgICAgNjc6IDE2ICsgeiwgLy8gYyA9PiBDMlxuICAgICAgICA4NjogMTggKyB6LCAvLyB2ID0+IERcbiAgICAgICAgNjY6IDIwICsgeiwgLy8gYiA9PiBFXG4gICAgICAgIDc4OiAyMSArIHosIC8vIG4gPT4gRlxuICAgICAgICA3NzogMjMgKyB6LCAvLyBtID0+IEdcbiAgICAgICAgMTg4OiAyNSArIHosIC8vICwgPT4gQVxuICAgICAgICAxOTA6IDI3ICsgeiwgLy8gLiA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDE5MTogMjggKyB6LCAvLyAvID0+IEMzXG4gICAgICAgIDY1OiAzMCArIHosIC8vIGEgPT4gRFxuICAgICAgICA4MzogMzIgKyB6LCAvLyBzID0+IEVcbiAgICAgICAgNjg6IDMzICsgeiwgLy8gZCA9PiBGXG4gICAgICAgIDcwOiAzNSArIHosIC8vIGYgPT4gR1xuICAgICAgICA3MTogMzcgKyB6LCAvLyBnID0+IEFcbiAgICAgICAgNzI6IDM5ICsgeiwgLy8gaCA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDc0OiA0MCArIHosIC8vIGogPT4gQzQgKE1pZGRsZSBDKVxuICAgICAgICA3NTogNDIgKyB6LCAvLyBrID0+IERcbiAgICAgICAgNzY6IDQ0ICsgeiwgLy8gbCA9PiBFXG4gICAgICAgIDE4NjogNDUgKyB6LCAvLyA7ID0+IEYgaW4gQ2hyb21lXG4gICAgICAgIDU5OiA0NSArIHosIC8vIDsgPT4gRiBpbiBGaXJlZm94XG4gICAgICAgIDIyMjogNDcgKyB6LCAvLyAnID0+IEdcbiAgICAgICAgODE6IDQ3ICsgeiwgLy8gcSA9PiBHXG4gICAgICAgIDg3OiA0OSArIHosIC8vIHcgPT4gQVxuICAgICAgICA2OTogNTEgKyB6LCAvLyBlID0+IEJcbiAgICAgICAgLy9cbiAgICAgICAgODI6IDUyICsgeiwgLy8gciA9PiBDNVxuICAgICAgICA4NDogNTQgKyB6LCAvLyB0ID0+IERcbiAgICAgICAgODk6IDU2ICsgeiwgLy8geSA9PiBFXG4gICAgICAgIDg1OiA1NyArIHosIC8vIHUgPT4gRlxuICAgICAgICA3MzogNTkgKyB6LCAvLyBpID0+IEdcbiAgICAgICAgNzk6IDYxICsgeiwgLy8gbyA9PiBBXG4gICAgICAgIDgwOiA2MyArIHosIC8vIHAgPT4gQlxuICAgICAgICAvL1xuICAgICAgICAyMTk6IDY0ICsgeiwgLy8gWyA9PiBDNlxuICAgICAgICAyMjE6IDY2ICsgeiwgLy8gXSA9PiBEXG4gICAgICAgIDIyMDogNjggKyB6LCAvLyBcXCA9PiBFXG5cbiAgICAgICAgNDk6IDY5ICsgeiwgLy8gMSA9PiBGXG4gICAgICAgIDUwOiA3MSArIHosIC8vIDIgPT4gR1xuICAgICAgICA1MTogNzMgKyB6LCAvLyAzID0+IEFcbiAgICAgICAgNTI6IDc1ICsgeiwgLy8gNCA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDUzOiA3NiArIHosIC8vIDUgPT4gQzdcbiAgICAgICAgNTQ6IDc4ICsgeiwgLy8gNiA9PiBEXG4gICAgICAgIDU1OiA4MCArIHosIC8vIDcgPT4gRVxuICAgICAgICA1NjogODEgKyB6LCAvLyA4ID0+IEZcbiAgICAgICAgNTc6IDgzICsgeiwgLy8gOSA9PiBHXG4gICAgICAgIDQ4OiA4NSArIHosIC8vIDAgPT4gQVxuICAgICAgICAxODk6IDg3ICsgeiwgLy8gLSA9PiBCXG4gICAgICAgIC8vXG4gICAgICAgIDE4NzogODggKyB6LCAvLyA9ID0+IEM4XG4gICAgfTtcbn1cblxuLy8gI1RPRE8gVXNlIHRoZSB3ZWJtaWRpIG1vZHVsZSBpbnN0ZWFkIVxuLy8gI01JRElBV0VJSVpBSVxubmFtZXNwYWNlIE1JRElQaWFub0lucHV0IHtcbiAgICBsZXQgbnVtTm90ZXNQcmVzc2VkOiBudW1iZXIgPSAwO1xuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAgICBpZiAobmF2aWdhdG9yW1wicmVxdWVzdE1JRElBY2Nlc3NcIl0pIHtcbiAgICAgICAgICAgIG5hdmlnYXRvcltcInJlcXVlc3RNSURJQWNjZXNzXCJdKHsgc3lzZXg6IHRydWUgfSkudGhlbihvbk1JRElTdWNjZXNzLCBvbk1JRElGYWlsdXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiTm8gTUlESSBzdXBwb3J0IGluIHlvdXIgYnJvd3Nlci5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1JRElTdWNjZXNzKG1pZGlBY2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNSURJIFNVQ0NFU1NcIik7XG4gICAgICAgIGxldCBtaWRpID0gbWlkaUFjY2VzcztcbiAgICAgICAgbGV0IGlucHV0cyA9IG1pZGkuaW5wdXRzLnZhbHVlcygpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbnB1dHMpO1xuICAgICAgICBmb3IgKHZhciBpbnB1dCA9IGlucHV0cy5uZXh0KCk7IGlucHV0ICYmICFpbnB1dC5kb25lOyBpbnB1dCA9IGlucHV0cy5uZXh0KCkpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlLm9ubWlkaW1lc3NhZ2UgPSBvbk1JRElNZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NSURJRmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGFjY2VzcyB0byBNSURJIGRldmljZXMgb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBXZWJNSURJIEFQSS5cIiArIGVycm9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1JRElNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtZXNzYWdlLmRhdGE7IC8vIHRoaXMgZ2l2ZXMgdXMgb3VyIFtjb21tYW5kL2NoYW5uZWwsIG5vdGUsIHZlbG9jaXR5XSBkYXRhLlxuXG4gICAgICAgIHZhciBjbWQgPSBkYXRhWzBdID4+IDQ7XG4gICAgICAgIHZhciBjaGFubmVsID0gZGF0YVswXSAmIDB4ZjsgLy8gUmlnaHRtb3N0IDQgYml0cy5cbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhWzBdICYgMHhmMDsgLy8gNCBiaXRzIGluIHRoZSBzZWNvbmQgcmlnaHQtbW9zdCBwb3NpdGlvbi5cbiAgICAgICAgdmFyIG5vdGUgPSBkYXRhWzFdO1xuICAgICAgICB2YXIgdmVsb2NpdHkgPSBkYXRhWzJdO1xuICAgICAgICB2YXIgcGlhbm9LZXkgPSBub3RlIC0gMjA7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE0NDogLy8gbm90ZSBvblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGlhbm8ga2V5IGRvd246IFwiICsgcGlhbm9LZXkgKyBcIiB2ZWxvY2l0eTogXCIgKyB2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgQXBwLnBsYXlPbmVOb3RlKHBpYW5vS2V5LCBmYWxzZSk7IC8vIHRoZSBzZWNvbmQgcGFyYW1ldGVyIChzZXQgdG8gZmFsc2UpIHdpbGwgYnlwYXNzIGFueSBzaGFycC9mbGF0IG1vZGlmaWVycy5cbiAgICAgICAgICAgICAgICBudW1Ob3Rlc1ByZXNzZWQrKztcbiAgICAgICAgICAgICAgICBpZiAobnVtTm90ZXNQcmVzc2VkID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBTb25nLm1lcmdlTGFzdFR3b0dyb3VwcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTI4OiAvLyBub3RlIG9mZlxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGlhbm8ga2V5IHVwOiBcIiArIHBpYW5vS2V5KTtcbiAgICAgICAgICAgICAgICBudW1Ob3Rlc1ByZXNzZWQtLTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjI0OiAvLyBwaXRjaCB3aGVlbFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGl0Y2ggd2hlZWxcIik7IC8vIGRhdGFbMV0gYW5kIGRhdGFbMl0gaW5kaWNhdGUgdGhlIGFtb3VudCBvZiBwaXRjaCBiZW5kLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZm9yIG5vd1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdNSURJIGRhdGEnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY21kOiAke2NtZH0gIGNoYW5uZWw6ICR7Y2hhbm5lbH0gIHR5cGU6ICR7dHlwZX0gIG5vdGU6ICR7bm90ZX0gIHZlbG9jaXR5OiAke3ZlbG9jaXR5fWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHJlc2V0cyB0aGUga2V5IG9mZnNldFxuZnVuY3Rpb24gcmVzZXRPZmZzZXQoKSB7XG4gICAgY29uc29sZS5sb2coXCJSZXNldCBPZmZzZXRzXCIpO1xuICAgIG9jdGF2ZU9mZnNldCA9IDA7XG4gICAgVUkuZHJhd1BpYW5vKCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0RXZlcnl0aGluZygpIHtcbiAgICBjb25zb2xlLmxvZyhcIlJlc2V0IEV2ZXJ5dGhpbmchXCIpO1xuICAgIG9jdGF2ZU9mZnNldCA9IDA7XG4gICAgVUkuVHJhY2tzLnNldHVwKDEpO1xuICAgIHNhdmVBbmRTaG93RGF0YSgpO1xuICAgIFBsYXliYWNrLnN0b3AoKTtcbn1cblxuZnVuY3Rpb24gc2F2ZUFuZFNob3dEYXRhKCkge1xuICAgIExvY2FsU3RvcmFnZS5zYXZlQ2hlY2tCb3hlcygpO1xuICAgIExvY2FsU3RvcmFnZS5zYXZlVHJhY2tzKCk7XG4gICAgVUkuc2hvd05vdGVHcm91cHNGb3JUcmFja3MoKTtcbiAgICBVSS5kcmF3UGlhbm8oKTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBMb2NhbFN0b3JhZ2Uge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICBsb2FkVHJhY2tzKCk7XG4gICAgICAgIGxvYWRWZXJzaW9uVG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFZlcnNpb25Ub2dnbGUoKSB7XG4gICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzb25nX3ZlcnNpb25cIikpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic29uZ192ZXJzaW9uXCIsIFwiMVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29uZ1ZlcnNpb24gPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNvbmdfdmVyc2lvblwiKSk7XG4gICAgICAgIGlmIChzb25nVmVyc2lvbiA8IENvbnN0YW50cy5NSU5fU09OR19WRVJTSU9OIHx8IHNvbmdWZXJzaW9uID4gQ29uc3RhbnRzLk1BWF9TT05HX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHNvbmdWZXJzaW9uID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5TT05HX1ZFUlNJT05dID0gc29uZ1ZlcnNpb247XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9ucy5Ub2dnbGUub25Tb25nVmVyc2lvbkZvcm1hdENoYW5nZWQsIHBheWxvYWQ6IHBheWxvYWQgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFRyYWNrcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkVHJhY2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRyYWNrc1wiKSk7IC8vIGNhbiB0aHJvdyBhIFN5bnRheEVycm9yXG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBzYXZlZFRyYWNrcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIFVJLlRyYWNrcy5zZXR1cChudW1UcmFja3MpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1UcmFja3M7IHQrKykge1xuICAgICAgICAgICAgICAgIGxldCBzYXZlZFRyYWNrID0gc2F2ZWRUcmFja3NbdF07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm90ZUdyb3VwU3RyaW5nIG9mIHNhdmVkVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdGVHcm91cCA9IG5ldyBOb3RlR3JvdXAobm90ZUdyb3VwU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgU29uZy5hZGROb3RlR3JvdXBUb1RyYWNrKG5vdGVHcm91cCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBVSS5UcmFja3Muc2V0dXAoMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQ2hlY2tib3hlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkQ2hlY2tib3hTdGF0ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjaGVja2JveGVzXCIpKTsgLy8gY2FuIHRocm93IGEgU3ludGF4RXJyb3JcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNhdmVkQ2hlY2tib3hTdGF0ZSkgJiYgc2F2ZWRDaGVja2JveFN0YXRlLmxlbmd0aCA9PT0gU29uZy5nZXROdW1UcmFja3MoKSkge1xuICAgICAgICAgICAgICAgIFVJLlRyYWNrcy5zZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3Moc2F2ZWRDaGVja2JveFN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJPT1BTXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIFVJLlRyYWNrcy5jaGVja0FsbE5vbkVtcHR5VHJhY2tzKCk7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2Uuc2F2ZUNoZWNrQm94ZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlQ2hlY2tCb3hlcygpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjaGVja2JveGVzXCIsIEpTT04uc3RyaW5naWZ5KFVJLlRyYWNrcy5nZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoKSkpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlVHJhY2tzKCkge1xuICAgICAgICBsZXQgdHJhY2tzSlNPTiA9IFNvbmcuZ2V0VHJhY2tzQXNKU09OKCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidHJhY2tzXCIsIHRyYWNrc0pTT04pO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlVmVyc2lvblRvZ2dsZShzb25nVmVyc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic29uZ192ZXJzaW9uXCIsIHNvbmdWZXJzaW9uICsgXCJcIik7XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY2xhc3MgRmFrZVdvcmtlckNsb2NrIHtcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xuICAgIHByaXZhdGUgaW50ZXJ2YWwgPSBudWxsO1xuICAgIHByaXZhdGUgZGVsYXkgPSAxMDsgLy8gbXMgYmV0d2VlbiB0aWNrc1xuXG4gICAgcHVibGljIG9ubWVzc2FnZTogRnVuY3Rpb247XG4gICAgcHVibGljIHBvc3RNZXNzYWdlKG1zZzogc3RyaW5nKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc29sZS5sb2coc2VsZik7XG4gICAgICAgIHN3aXRjaCAobXNnKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBpYW5vIENsb2NrIFdvcmtlciBTdGFydGVkXCIpO1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbm1lc3NhZ2UoXCJ0aWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBzZWxmLmRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RvcFwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBpYW5vIENsb2NrIFdvcmtlciBTdG9wcGVkXCIpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgc2VsZi5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBQbGF5YmFjayB7XG4gICAgLy8gQWxsIHRpbWVzIGFyZSBpbiBtaWxsaXNlY29uZHMuXG4gICAgbGV0IGN1cnJTb25nVGltZSA9IDA7IC8vIFdoYXQgdGltZSBpcyBvdXIgcGxheWhlYWQgcG9pbnRpbmcgdG8/XG4gICAgbGV0IGJhc2VTb25nVGltZSA9IDA7IC8vIFdoYXQgdGltZSBkaWQgb3VyIHBsYXloZWFkIHBvaW50IHRvIHdoZW4gd2Ugc3RhcnRlZCBvciByZXN1bWVkIHRoZSBzb25nP1xuICAgIGxldCBjbG9ja1N0YXJ0VGltZSA9IDA7XG5cbiAgICBsZXQgY2xvY2sgPSBuZXcgRmFrZVdvcmtlckNsb2NrKCk7XG4gICAgLy8gbGV0IGNsb2NrID0gbmV3IFdvcmtlcihcIi4vY2xvY2sud29ya2VyLmpzXCIsIHsgdHlwZTogXCJtb2R1bGVcIiB9KTtcbiAgICBsZXQgY2xvY2tJc1RpY2tpbmcgPSBmYWxzZTtcblxuICAgIGNsb2NrLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHBsYXlOZXh0RXZlbnRzKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9O1xuXG4gICAgbGV0IGN1cnJOb3RlR3JvdXBOdW1iZXI6IG51bWJlciA9IDA7XG5cbiAgICBsZXQgaXNQYXVzZWQgPSBmYWxzZTtcblxuICAgIGxldCBuZXh0RXZlbnRQbGF5VGltZSA9IDA7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNQbGF5aW5nKCkge1xuICAgICAgICByZXR1cm4gY2xvY2tJc1RpY2tpbmc7XG4gICAgfVxuXG4gICAgLy8gc3RhcnRzIG9yIHJlc3VtZXMgcGxheWJhY2tcbiAgICBleHBvcnQgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTEFZXCIpO1xuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIGJhc2VTb25nVGltZSA9IGN1cnJTb25nVGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RhcnQgdGhlIE1JREkgcGxheWJhY2suXG4gICAgICAgICAgICBjb25zdCBub3RlR3JvdXBzVG9QbGF5ID0gU29uZy5nZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpO1xuXG4gICAgICAgICAgICBpZiAobm90ZUdyb3Vwc1RvUGxheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBQbGF5YmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBET05FIVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICAgICAgICAgIGN1cnJTb25nVGltZSA9IDA7XG4gICAgICAgICAgICBiYXNlU29uZ1RpbWUgPSAwO1xuICAgICAgICAgICAgZGV0ZXJtaW5lUGxheVRpbWVGb3JOZXh0RXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICBjbG9ja1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjbG9jay5wb3N0TWVzc2FnZShcInN0YXJ0XCIpO1xuICAgICAgICBjbG9ja0lzVGlja2luZyA9IHRydWU7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBzdG9wVGhlQ2xvY2soKTtcbiAgICAgICAgaXNQYXVzZWQgPSB0cnVlOyAvLyBOZXh0IHRpbWUsIGNvbnRpbnVlIGZyb20gd2hlcmUgd2UgbGVmdCBvZmYuXG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVBsYXlQYXVzZSgpIHtcbiAgICAgICAgaWYgKGlzUGxheWluZygpKSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHN0b3BUaGVDbG9jaygpO1xuICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wVGhlQ2xvY2soKSB7XG4gICAgICAgIGlmIChpc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgY2xvY2sucG9zdE1lc3NhZ2UoXCJzdG9wXCIpO1xuICAgICAgICAgICAgY2xvY2tJc1RpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdpbGwgYmUgY2FsbGVkIGV2ZXJ5IH4xNi42N21zIGlmIHlvdXIgZGlzcGxheSBydW5zIGF0IDYwIEZQUy5cbiAgICBmdW5jdGlvbiBwbGF5TmV4dEV2ZW50cyhjdXJyVGltZSkge1xuICAgICAgICBjb25zdCBub3RlR3JvdXBzVG9QbGF5ID0gU29uZy5nZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpO1xuICAgICAgICAvLyBIYXZlIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgc29uZz9cbiAgICAgICAgaWYgKGN1cnJOb3RlR3JvdXBOdW1iZXIgPj0gbm90ZUdyb3Vwc1RvUGxheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFBsYXliYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gRE9ORSFcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJTb25nVGltZSA9IGN1cnJUaW1lIC0gY2xvY2tTdGFydFRpbWUgKyBiYXNlU29uZ1RpbWU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJTb25nVGltZSA+PSBuZXh0RXZlbnRQbGF5VGltZSkge1xuICAgICAgICAgICAgLy8gSW5zcGVjdCB0aGUgbmV4dCBldmVudFxuICAgICAgICAgICAgbGV0IG5vdGVHcm91cDogTm90ZUdyb3VwID0gbm90ZUdyb3Vwc1RvUGxheVtjdXJyTm90ZUdyb3VwTnVtYmVyXTtcbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cChub3RlR3JvdXAudHJhY2tOdW1iZXIsIG5vdGVHcm91cC5ub3RlTnVtYmVyKTtcbiAgICAgICAgICAgIHBsYXlDdXJyZW50Tm90ZUdyb3VwKCk7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyKys7IC8vIGFkdmFuY2VcblxuICAgICAgICAgICAgLy8gSGF2ZSB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHNvbmc/XG4gICAgICAgICAgICBpZiAoY3Vyck5vdGVHcm91cE51bWJlciA+PSBub3RlR3JvdXBzVG9QbGF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFBsYXliYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIERPTkUhXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRldGVybWluZVBsYXlUaW1lRm9yTmV4dEV2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXRlcm1pbmVQbGF5VGltZUZvck5leHRFdmVudCgpIHtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3Vwc1RvUGxheSA9IFNvbmcuZ2V0Tm90ZUdyb3Vwc0Zyb21UcmFja3MoKTtcbiAgICAgICAgbmV4dEV2ZW50UGxheVRpbWUgPSBub3RlR3JvdXBzVG9QbGF5W2N1cnJOb3RlR3JvdXBOdW1iZXJdLnBsYXlUaW1lTWlsbGlzO1xuICAgICAgICBpZiAobmV4dEV2ZW50UGxheVRpbWUgPT09IC0xKSB7XG4gICAgICAgICAgICBuZXh0RXZlbnRQbGF5VGltZSA9IGN1cnJTb25nVGltZSArIFRJTUVfQkVUV0VFTl9OT1RFR1JPVVBTOyAvLyBJZiB0aGUgcGxheVRpbWUgaXNuJ3Qgc3BlY2lmaWVkLCB3ZSBwbGF5IHRoZSBuZXh0IG5vdGUgZXZlcnkgMjAwbXMhXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBNYW51YWwgUGxheWJhY2sgb2YgdGhlIHNvbmcgb3IgaW5kaXZpZHVhbCB0cmFja3MuXG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUN1cnJOb3RlR3JvdXBOdW1iZXIoKSB7XG4gICAgICAgIGNvbnN0IG5vdGVHcm91cHNUb1BsYXkgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgIGlmIChjdXJyTm90ZUdyb3VwTnVtYmVyID49IG5vdGVHcm91cHNUb1BsYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gbm90ZUdyb3Vwc1RvUGxheS5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJOb3RlR3JvdXBOdW1iZXIgPCAwKSB7XG4gICAgICAgICAgICBjdXJyTm90ZUdyb3VwTnVtYmVyID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBjb25zdCBwbGF5Tm90ZUFuZEdvQmFja3dhcmRJblRoZVNvbmcgPSB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uKC0xKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xuXG4gICAgZXhwb3J0IGNvbnN0IHBsYXlOb3RlQW5kR29Gb3J3YXJkSW5UaGVTb25nID0gdGhyb3R0bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBwbGF5Tm90ZUFuZEFkdmFuY2VJbkRpcmVjdGlvbigrMSk7XG4gICAgfSwgMTUwIC8qIG1zICovKTtcblxuICAgIGZ1bmN0aW9uIHBsYXlOb3RlQW5kQWR2YW5jZUluRGlyZWN0aW9uKGRpcmVjdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG5vdGVHcm91cHNUb1BsYXkgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgIGlmIChub3RlR3JvdXBzVG9QbGF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlQ3Vyck5vdGVHcm91cE51bWJlcigpO1xuXG4gICAgICAgIGxldCBub3RlR3JvdXA6IE5vdGVHcm91cCA9IG5vdGVHcm91cHNUb1BsYXlbY3Vyck5vdGVHcm91cE51bWJlcl07XG4gICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cChub3RlR3JvdXAudHJhY2tOdW1iZXIsIG5vdGVHcm91cC5ub3RlTnVtYmVyKTtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgY3Vyck5vdGVHcm91cE51bWJlciArPSBkaXJlY3Rpb247XG4gICAgICAgIHZhbGlkYXRlQ3Vyck5vdGVHcm91cE51bWJlcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXlDdXJyZW50Tm90ZUdyb3VwKCkge1xuICAgICAgICBjb25zdCB0ID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICBjb25zdCBuID0gSGlnaGxpZ2h0LmdldEN1cnJlbnROb3RlR3JvdXBOdW1iZXIoKTtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwID0gU29uZy5nZXROb3RlR3JvdXBGcm9tVHJhY2sobiwgdCk7XG4gICAgICAgIGlmICghbm90ZUdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIG5vdGVHcm91cC5ub3Rlcykge1xuICAgICAgICAgICAgQXBwLnBsYXlQaWFub05vdGUoTUlESVV0aWxzLm0ycChub3RlLm1pZGlOb3RlKSwgbm90ZS52ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5QTEFZRURfTk9URUdST1VQX0lEXSA9IFNvbmcuZ2V0Tm90ZUdyb3VwSUQodCwgbik7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9ucy5Tb25nLm9uUGxheU5vdGVHcm91cCwgcGF5bG9hZDogcGF5bG9hZCB9KTtcbiAgICB9XG5cbiAgICBleHBvcnQgY29uc3QgcGxheUFuZEdvQmFja3dhcmRPbkN1cnJlbnRUcmFjayA9IHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgSGlnaGxpZ2h0LnByZXZOb3RlR3JvdXAoKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xuXG4gICAgZXhwb3J0IGNvbnN0IHBsYXlBbmRHb0ZvcndhcmRPbkN1cnJlbnRUcmFjayA9IHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGxheUN1cnJlbnROb3RlR3JvdXAoKTtcbiAgICAgICAgSGlnaGxpZ2h0Lm5leHROb3RlR3JvdXAoKTtcbiAgICB9LCAxNTAgLyogbXMgKi8pO1xufVxuXG5uYW1lc3BhY2UgVUkge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXR1cENvcHlIYW5kbGVyKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBmdW5jdGlvbiAoZTogQ2xpcGJvYXJkRXZlbnQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ09QWVwiKTtcbiAgICAgICAgICAgIGlmIChlLmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gVUkuVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjdXRcIiwgZnVuY3Rpb24gKGU6IENsaXBib2FyZEV2ZW50KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNVVFwiKTtcbiAgICAgICAgICAgIGlmIChlLmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gVUkuVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0RXZlcnl0aGluZygpOyAvLyBTZXQgdGhlIHRleHQgZmllbGRzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaG93Tm90ZUdyb3Vwc0ZvclRyYWNrcygpIHtcbiAgICAgICAgVUkuVHJhY2tzLmNoZWNrQWxsTm9uRW1wdHlUcmFja3MoKTtcbiAgICAgICAgSGlnaGxpZ2h0LnVwZGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge307XG4gICAgICAgIHBheWxvYWRbS2V5cy5VUERBVEVEX1RSQUNLU19MSVNUXSA9IFNvbmcuZ2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzQXNBcnJheSgpO1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvbnMuU29uZy5vblRyYWNrc1VwZGF0ZWQsIHBheWxvYWQ6IHBheWxvYWQgfSk7XG4gICAgICAgIFNvbmcucmVzZXRSZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMoKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2Nyb2xsTm90ZUdyb3VwSW50b1ZpZXcodHJhY2tOdW1iZXI6IG51bWJlciwgbm90ZUdyb3VwTnVtYmVyOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwSUQgPSBTb25nLmdldE5vdGVHcm91cElEKHRyYWNrTnVtYmVyLCBub3RlR3JvdXBOdW1iZXIpO1xuICAgICAgICAvLyBTY3JvbGwgdGhlIGRpdnMgYWxsIHRoZSB3YXkgdG8gdGhlIHJpZ2h0IHRvIG1ha2Ugc3VyZSB0aGUgbW9zdCByZWNlbnQgTm90ZUdyb3VwcyBhcmUgdmlzaWJsZS5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtub3RlR3JvdXBJRH1gKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gTU9VU0UgJiBLRVlCT0FSRFxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIGlmICghcGlhbm8pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVUkub25LZXlEb3duOiBQaWFubyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qga2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgY29uc3QgbWV0YUtleUlzRG93biA9IGUubWV0YUtleTsgLy8gZS5tZXRhS2V5ID0+IENNRCAoOTEgaXMgTEVGVCBDTUQgJiA5MyBpcyBSSUdIVCBDTUQpXG4gICAgICAgIGNvbnN0IGN0cmxLZXlJc0Rvd24gPSBlLmN0cmxLZXk7XG4gICAgICAgIGNvbnN0IHNoaWZ0S2V5SXNEb3duID0gZS5zaGlmdEtleTtcblxuICAgICAgICBpZiAobWV0YUtleUlzRG93bikge1xuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gMzcgfHwga2V5Q29kZSA9PSAzOSkge1xuICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkcuIEZhbGwgdGhyb3VnaCBzbyB0aGF0IHdlIGNhbiBkbyBDTUQgKyBMRUZUIEFSUk9XIGFuZCBDTUQgKyBSSUdIVCBBUlJPVy5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoZW4gd2UgaGF2ZSB0aGUgQ01EIHByZXNzZWQgZG93biwgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZSBicm93c2VyJ3MgaG90a2V5cy5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDVFJMID0+IEZMQVQgYW5kIFNISUZUID0+IFNIQVJQXG4gICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICBpZiAoY3RybEtleUlzRG93bikge1xuICAgICAgICAgICAgc2hhcnBPckZsYXRNb2RpZmllciA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGlmdEtleUlzRG93bikge1xuICAgICAgICAgICAgc2hhcnBPckZsYXRNb2RpZmllciA9ICsxO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTM6IC8vIEVOVEVSXG4gICAgICAgICAgICAgICAgUGxheWJhY2sudG9nZ2xlUGxheVBhdXNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMzOiAvLyBQQUdFIFVQIHwgZm4gKyBVUF9BUlJPV1xuICAgICAgICAgICAgICAgIC8vIFVwIGFuIG9jdGF2ZS5cbiAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQrKztcbiAgICAgICAgICAgICAgICBpZiAob2N0YXZlT2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBVSS5kcmF3UGlhbm8oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzQ6IC8vIFBBR0UgRE9XTiB8IGZuICsgRE9XTl9BUlJPV1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZm4gKyBET1dOXCIpO1xuICAgICAgICAgICAgICAgIC8vIERvd24gYW4gb2N0YXZlLlxuICAgICAgICAgICAgICAgIG9jdGF2ZU9mZnNldC0tO1xuICAgICAgICAgICAgICAgIGlmIChvY3RhdmVPZmZzZXQgPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICBvY3RhdmVPZmZzZXQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVUkuZHJhd1BpYW5vKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM2OiAvLyBIT01FIHwgZm4gKyBMRUZUX0FSUk9XXG4gICAgICAgICAgICAgICAgUGxheWJhY2sucGxheU5vdGVBbmRHb0JhY2t3YXJkSW5UaGVTb25nKCk7IC8vIEZpbmQgdGhlIHByZXZpb3VzIG5vdGUgdG8gcGxheSB2aWEgcm91bmQgcm9iaW4uXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM1OiAvLyBFTkQgfCBmbiArIFJJR0hUX0FSUk9XXG4gICAgICAgICAgICAgICAgUGxheWJhY2sucGxheU5vdGVBbmRHb0ZvcndhcmRJblRoZVNvbmcoKTsgLy8gRmluZCB0aGUgbmV4dCBub3RlIHRvIHBsYXkgdmlhIHJvdW5kIHJvYmluLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTI6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGMVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTEzOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRjJcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExNDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkYzXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGNFwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTE2OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRjVcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE5MjogLy8gfiA9PSBTSElGVCArIGBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNISUZUICsgYFwiKTtcbiAgICAgICAgICAgICAgICByZXNldEV2ZXJ5dGhpbmcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzI6IC8vIFNQQUNFIEJBUlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU1BBQ0VcIik7XG4gICAgICAgICAgICAgICAgLy8geHh4XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI3OiAvLyBFU0NcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVTQ1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hpZnRLZXlJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU0hJRlQgKyBFU0NcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRFdmVyeXRoaW5nKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRVNDIHJlc2V0cyB0aGUgb2N0YXZlIG9mZnNldHNcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDg6IC8vIEJBQ0tTUEFDRS9ERUxcbiAgICAgICAgICAgICAgICBTb25nLmRlbGV0ZUxhc3RHcm91cCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5OiAvLyBUQUJcbiAgICAgICAgICAgICAgICBTb25nLm1lcmdlTGFzdFR3b0dyb3VwcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzODogLy8gVVBcbiAgICAgICAgICAgICAgICBIaWdobGlnaHQucHJldlRyYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwOiAvLyBET1dOXG4gICAgICAgICAgICAgICAgSGlnaGxpZ2h0Lm5leHRUcmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzNzogLy8gTEVGVFxuICAgICAgICAgICAgICAgIGlmIChtZXRhS2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENNRCArIExFRlQganVtcHMgdG8gdGhlIGZpcnN0IG5vdGVncm91cCBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIHRyYWNrLlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQuZmlyc3ROb3RlR3JvdXAoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0S2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNISUZUICsgTEVGVFxuICAgICAgICAgICAgICAgICAgICBQbGF5YmFjay5wbGF5QW5kR29CYWNrd2FyZE9uQ3VycmVudFRyYWNrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0LnByZXZOb3RlR3JvdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OiAvLyBSSUdIVFxuICAgICAgICAgICAgICAgIGlmIChtZXRhS2V5SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENNRCArIFJJR0hUIGp1bXBzIHRvIHRoZSBsYXN0IG5vdGVncm91cCBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIHRyYWNrLlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQubGFzdE5vdGVHcm91cCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpZnRLZXlJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU0hJRlQgKyBSSUdIVFxuICAgICAgICAgICAgICAgICAgICBQbGF5YmFjay5wbGF5QW5kR29Gb3J3YXJkT25DdXJyZW50VHJhY2soKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQubmV4dE5vdGVHcm91cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKEtleWJvYXJkLmtleUNvZGVUb1BpYW5vS2V5TnVtYmVyLmhhc093blByb3BlcnR5KGtleUNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIEFwcC5wbGF5T25lTm90ZShLZXlib2FyZC5rZXlDb2RlVG9QaWFub0tleU51bWJlcltrZXlDb2RlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9uS2V5VXAoZSkge1xuICAgICAgICAvLyBSZWxlYXNlZCBDVFJMIG9yIFNISUZUXG4gICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHNoYXJwT3JGbGF0TW9kaWZpZXIgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBUaGUgUGlhbm8gVmlzdWFsaXphdGlvbiAoQ2FudmFzIDJEKVxuICAgIGV4cG9ydCBjb25zdCBXSElURV9LRVlfV0lEVEggPSAyMDtcbiAgICBleHBvcnQgY29uc3QgV0hJVEVfS0VZX0hFSUdIVCA9IDEyMDtcbiAgICBleHBvcnQgY29uc3QgQkxBQ0tfS0VZX1dJRFRIID0gMTY7XG4gICAgZXhwb3J0IGNvbnN0IEJMQUNLX0tFWV9IRUlHSFQgPSA3MjtcblxuICAgIGxldCBjb250ZXh0MmQgPSBudWxsO1xuICAgIGxldCBjb250ZXh0MmRXaWR0aCA9IDA7XG4gICAgbGV0IGNvbnRleHQyZEhlaWdodCA9IDA7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0Q2FudmFzQ29udGV4dChjMmQsIGMyZFdpZHRoOiBudW1iZXIsIGMyZEhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnRleHQyZCA9IGMyZDtcbiAgICAgICAgY29udGV4dDJkV2lkdGggPSBjMmRXaWR0aDtcbiAgICAgICAgY29udGV4dDJkSGVpZ2h0ID0gYzJkSGVpZ2h0O1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkcmF3UGlhbm8oKSB7XG4gICAgICAgIGlmICghY29udGV4dDJkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGMgPSBjb250ZXh0MmQ7XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIGJhY2tncm91bmRcbiAgICAgICAgYy5maWxsU3R5bGUgPSBcIiMzMzNcIjtcbiAgICAgICAgYy5maWxsUmVjdCgwLCAwLCBjb250ZXh0MmRXaWR0aCwgY29udGV4dDJkSGVpZ2h0KTtcblxuICAgICAgICBkcmF3V2hpdGVLZXlzKGMpO1xuICAgICAgICBkcmF3QmxhY2tLZXlzKGMpO1xuICAgICAgICBkcmF3S2V5TGFiZWxzKGMpO1xuICAgICAgICBkcmF3TW9zdFJlY2VudEdyb3VwKGMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdXaGl0ZUtleXMoYykge1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gXCIjMDAwXCI7XG4gICAgICAgIGMubGluZVdpZHRoID0gMC4yO1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZGRlwiO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNTI7IGsrKykge1xuICAgICAgICAgICAgYy5maWxsUmVjdChrICogV0hJVEVfS0VZX1dJRFRILCAwLCBXSElURV9LRVlfV0lEVEgsIFdISVRFX0tFWV9IRUlHSFQpO1xuICAgICAgICAgICAgYy5zdHJva2VSZWN0KGsgKiBXSElURV9LRVlfV0lEVEgsIDAsIFdISVRFX0tFWV9XSURUSCwgV0hJVEVfS0VZX0hFSUdIVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWdobGlnaHQgTWlkZGxlIEMgaW4gZmFpbnQgcmVkLlxuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZDQ1wiO1xuICAgICAgICBjLmZpbGxSZWN0KDIzICogV0hJVEVfS0VZX1dJRFRILCAwLCBXSElURV9LRVlfV0lEVEgsIFdISVRFX0tFWV9IRUlHSFQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdCbGFja0tleXMoYykge1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiIzMyMzIzMlwiO1xuXG4gICAgICAgIGZvciAobGV0IG9jdGF2ZSA9IDA7IG9jdGF2ZSA8IDc7IG9jdGF2ZSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCA3OyBrZXkrKykge1xuICAgICAgICAgICAgICAgIC8vIEEjID0ga2V5IDA7IEMjID0ga2V5IDI7IEcjID0ga2V5IDZcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IDEgfHwga2V5ID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHNraXAgQiMgYW5kIEUjXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5maWxsUmVjdCgxMiArIDIwICogKGtleSArIG9jdGF2ZSAqIDcpLCAwLCBCTEFDS19LRVlfV0lEVEgsIEJMQUNLX0tFWV9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGlnaGVzdCBibGFjayBrZXlcbiAgICAgICAgYy5maWxsUmVjdCgxMiArIDcgKiA3ICogMjAsIDAsIDE2LCA3Mik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhd0tleUxhYmVscyhjKSB7XG4gICAgICAgIGMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAvLyBkcmF3IHRoZSBwaWFubyBrZXkgbnVtYmVycyBmb3IgdGhlIHdoaXRlIGtleXNcbiAgICAgICAgLy8gYWxzbyBkcmF3IHRoZSBub3RlIG5hbWVcbiAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPD0gODg7IGsrKykge1xuICAgICAgICAgICAgbGV0IHJlbWFpbmRlciA9IGsgJSAxMjtcbiAgICAgICAgICAgIGlmICh3aGl0ZUtleXMuaW5jbHVkZXMocmVtYWluZGVyKSkge1xuICAgICAgICAgICAgICAgIGxldCBvY3RhdmUgPSBNYXRoLmZsb29yKGsgLyAxMik7XG4gICAgICAgICAgICAgICAgbGV0IHdoaXRlS2V5Tm90ZUluZGV4ID0gd2hpdGVLZXlzLmluZGV4T2YocmVtYWluZGVyKTtcbiAgICAgICAgICAgICAgICBsZXQgd2hpdGVLZXlJbmRleCA9IG9jdGF2ZSAqIDcgKyB3aGl0ZUtleU5vdGVJbmRleDtcbiAgICAgICAgICAgICAgICBsZXQgbm90ZUxhYmVsID0gbm90ZUxhYmVsc1t3aGl0ZUtleU5vdGVJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG5vdGVMYWJlbCA9PSBcImNcIikge1xuICAgICAgICAgICAgICAgICAgICBjLmZvbnQgPSBcImJvbGQgMTNweCBUYWhvbWFcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLmZvbnQgPSBcIjEzcHggVGFob21hXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gXCIjNzc3XCI7XG4gICAgICAgICAgICAgICAgYy5maWxsVGV4dChub3RlTGFiZWwsIHdoaXRlS2V5SW5kZXggKiAyMCArIDEwLCAxMDApO1xuICAgICAgICAgICAgICAgIGMuZm9udCA9IFwiMTJweCBDb25zb2xhc1wiO1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gXCIjOTk5XCI7XG4gICAgICAgICAgICAgICAgYy5maWxsVGV4dChrLCB3aGl0ZUtleUluZGV4ICogMjAgKyAxMCwgMTE1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGMuZm9udCA9IFwiMTVweCBDb25zb2xhc1wiO1xuICAgICAgICBjLmZpbGxTdHlsZSA9IFwiI0ZGRlwiO1xuICAgICAgICBjLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgY3VycmVudCBjaGFyYWN0ZXIgdG8gcHJlc3MsIHVuZGVyIHRoZSBjb3JyZWN0IGtleSFcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKG9jdGF2ZU9mZnNldCArIDEpICogNzsgLy8gc3RhcnQgb24gQSAoa2V5IDEzKVxuICAgICAgICBjb25zdCBsZW4gPSBLZXlib2FyZC5sYWJlbHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjLmZpbGxUZXh0KEtleWJvYXJkLmxhYmVsc1tpXSwgKGkgKyBvZmZzZXQpICogMjAgKyAxMCwgMTQwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRyYXcgdGhlIGhpZ2hsaWdodGVkIGdyb3VwP1xuICAgIGZ1bmN0aW9uIGRyYXdNb3N0UmVjZW50R3JvdXAoYykge1xuICAgICAgICBjb25zdCB0cmFja051bWJlciA9IEhpZ2hsaWdodC5nZXRDdXJyZW50VHJhY2tOdW1iZXIoKTtcbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwTnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnROb3RlR3JvdXBOdW1iZXIoKTtcblxuICAgICAgICBjb25zdCBsYXN0R3JvdXAgPSBTb25nLmdldE5vdGVHcm91cEZyb21UcmFjayhub3RlR3JvdXBOdW1iZXIsIHRyYWNrTnVtYmVyKTtcbiAgICAgICAgaWYgKCFsYXN0R3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBub3RlczogQXJyYXk8Tm90ZT4gPSBsYXN0R3JvdXAubm90ZXM7XG4gICAgICAgIGZvciAobGV0IG4gb2Ygbm90ZXMpIHtcbiAgICAgICAgICAgIGxldCByZW1haW5kZXIgPSBuLnBpYW5vTm90ZSAlIDEyO1xuXG4gICAgICAgICAgICBsZXQgb2N0YXZlSW5kZXggPSBNYXRoLmZsb29yKChuLnBpYW5vTm90ZSAtIDEpIC8gMTIpO1xuXG4gICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgaWYgKGJsYWNrS2V5cy5pbmNsdWRlcyhyZW1haW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gaXMgaXQgYSBibGFjayBrZXk/XG4gICAgICAgICAgICAgICAgbGV0IGJsYWNrS2V5SW5kZXggPSBvY3RhdmVJbmRleCAqIDcgKyBibGFja0tleXMuaW5kZXhPZihyZW1haW5kZXIpO1xuICAgICAgICAgICAgICAgIC8vIGJsYWNrIGtleXMgYXJlIDE2cHggd2lkZVxuICAgICAgICAgICAgICAgIGMuYXJjKGJsYWNrS2V5SW5kZXggKiAyMCArIDIwLCA2MCwgNiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2hpdGUsIHdlIG1hcCBpdCB0byBvbmUgb2YgdGhlIDUyIHdoaXRlIGtleXNcbiAgICAgICAgICAgICAgICBsZXQgd2hpdGVLZXlJbmRleCA9IG9jdGF2ZUluZGV4ICogNyArIHdoaXRlS2V5cy5pbmRleE9mKHJlbWFpbmRlcik7XG5cbiAgICAgICAgICAgICAgICAvLyB3aGl0ZSBrZXlzIGFyZSAyMHB4IHdpZGVcbiAgICAgICAgICAgICAgICBjLmFyYyh3aGl0ZUtleUluZGV4ICogMjAgKyAxMCwgOTYsIDcsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9IFwicmdiYSgyMjAsMjIwLDEwLC44MilcIjsgLy8gZmlsbCB0aGUgeWVsbG93IGNpcmNsZVxuICAgICAgICAgICAgYy5maWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVHJhY2tzIHtcbiAgICAgICAgLy8gQmluZGluZ3MgdG8gb3VyIFJlYWN0IGNvbXBvbmVudCBzdGF0ZS5cbiAgICAgICAgLy8gV2UgY2FuIHF1ZXJ5IHdoZXRoZXIgYSB0cmFjaydzIGNoZWNrYm94IGlzQ2hlY2tlZC5cbiAgICAgICAgLy8gV2UgY2FuIGNhbGwgc2V0Q2hlY2tlZCB0byBjaGFuZ2UgdGhlIHRyYWNrJ3MgY2hlY2tlZCBzdGF0ZS5cbiAgICAgICAgbGV0IGlzQ2hlY2tlZENhbGxiYWNrczogRnVuY3Rpb25bXSA9IG51bGw7XG4gICAgICAgIGxldCBzZXRDaGVja2VkQ2FsbGJhY2tzOiBGdW5jdGlvbltdID0gbnVsbDtcblxuICAgICAgICBjb25zdCBkZWZhdWx0SXNDaGVja2VkQ0IgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRFRkFVTFQgSVMtQ0hFQ0tFRC4gUkVUVVJOIFRSVUUuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTZXRDaGVja2VkQ0IgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJERUZBVUxUIFNFVCBDSEVDS0VEOiBcIiArIGNoZWNrZWQpO1xuICAgICAgICAgICAgLyogTk8tT1AgKi9cbiAgICAgICAgfTtcblxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gc2V0dXAobnVtVHJhY2tzOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlzQ2hlY2tlZENhbGxiYWNrcyA9IG5ldyBBcnJheShudW1UcmFja3MpO1xuICAgICAgICAgICAgc2V0Q2hlY2tlZENhbGxiYWNrcyA9IG5ldyBBcnJheShudW1UcmFja3MpO1xuICAgICAgICAgICAgaXNDaGVja2VkQ2FsbGJhY2tzLmZpbGwoZGVmYXVsdElzQ2hlY2tlZENCKTtcbiAgICAgICAgICAgIHNldENoZWNrZWRDYWxsYmFja3MuZmlsbChkZWZhdWx0U2V0Q2hlY2tlZENCKTtcblxuICAgICAgICAgICAgU29uZy5yZXNldCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1UcmFja3M7IHQrKykge1xuICAgICAgICAgICAgICAgIFNvbmcuYWRkVHJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXR1cEluZGV4ZXMobnVtVHJhY2tzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBhZGROZXdUcmFjaygpIHt9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRGaWxlRnJvbVRyYWNrcygpOiBzdHJpbmcge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRUZXh0RmlsZUZyb21UcmFja3MgU29uZyBWZXJzaW9uOiBcIiArIEFwcC5nZXRTb25nVmVyc2lvbigpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVHcm91cHMgPSBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCk7XG4gICAgICAgICAgICBpZiAoQXBwLmdldFNvbmdWZXJzaW9uKCkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbm90ZUdyb3VwVjFTdHJpbmdzID0gW107XG4gICAgICAgICAgICAgICAgbm90ZUdyb3Vwcy5mb3JFYWNoKChub3RlR3JvdXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUdyb3VwVjFTdHJpbmdzLnB1c2gobm90ZUdyb3VwLnRvU3RyaW5nVjEoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVHcm91cFYxU3RyaW5ncy5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc29uZ1ZlcnNpb24gPT09IDJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90ZUdyb3Vwcy5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0VHJhY2tOdW1iZXJzVG9JbmNsdWRlSW5NSURJRmlsZSgpOiBudW1iZXJbXSB7XG4gICAgICAgICAgICBjb25zdCB0cmFja051bWJlcnNUb0luY2x1ZGU6IG51bWJlcltdID0gW107XG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBTb25nLmdldE51bVRyYWNrcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdHJhY2tOdW1iZXIgPSAwOyB0cmFja051bWJlciA8IG51bVRyYWNrczsgdHJhY2tOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGlmIChUcmFja3MuaXNDaGVja2VkKHRyYWNrTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja051bWJlcnNUb0luY2x1ZGUucHVzaCh0cmFja051bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrTnVtYmVyc1RvSW5jbHVkZTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gc2V0VHJhY2tDaGVja2VkQ2FsbGJhY2tzKHRyYWNrTnVtYmVyOiBudW1iZXIsIGlzVHJhY2tDaGVja2VkOiBGdW5jdGlvbiwgc2V0VHJhY2tDaGVja2VkOiBGdW5jdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZXRUcmFja0NoZWNrZWRDYWxsYmFja3MgXCIgKyB0cmFja051bWJlciArIFwiIFwiICsgdHlwZW9mIGlzVHJhY2tDaGVja2VkICsgXCIgXCIgKyB0eXBlb2Ygc2V0VHJhY2tDaGVja2VkKTtcbiAgICAgICAgICAgIGlmICghaXNDaGVja2VkQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgaXNDaGVja2VkQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0NoZWNrZWRDYWxsYmFja3NbdHJhY2tOdW1iZXJdID0gaXNUcmFja0NoZWNrZWQ7XG4gICAgICAgICAgICBpZiAoIXNldENoZWNrZWRDYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICBzZXRDaGVja2VkQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDaGVja2VkQ2FsbGJhY2tzW3RyYWNrTnVtYmVyXSA9IHNldFRyYWNrQ2hlY2tlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRDaGVja2VkKHRyYWNrTnVtYmVyOiBudW1iZXIsIGNoZWNrZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2V0Q2hlY2tlZCBcIiArIHRyYWNrTnVtYmVyICsgXCIgPT4gXCIgKyBjaGVja2VkKTtcblxuICAgICAgICAgICAgY29uc3Qgc2V0Q2hlY2tlZENCID0gc2V0Q2hlY2tlZENhbGxiYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgICAgICBpZiAoIXNldENoZWNrZWRDQikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTlVMTCBTRVRDSEVDS0VEIENBTExCQUNLXCIpO1xuICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gI1RPRE86IElmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgc2V0Q2hlY2tlZENCKGNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZS5zYXZlQ2hlY2tCb3hlcygpO1xuICAgICAgICAgICAgICAgIFNvbmcucmVzZXRDYWNoZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGlzQ2hlY2tlZCh0cmFja051bWJlcjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBjb25zdCBpc0NoZWNrZWRDQiA9IGlzQ2hlY2tlZENhbGxiYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgICAgICBpZiAoIWlzQ2hlY2tlZENCKSB7XG4gICAgICAgICAgICAgICAgLy8gbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWRDQigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQWxsTm9uRW1wdHlUcmFja3MoKSB7XG4gICAgICAgICAgICBjb25zdCBudW1UcmFja3MgPSBTb25nLmdldE51bVRyYWNrcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdHJhY2tOdW1iZXIgPSAwOyB0cmFja051bWJlciA8IG51bVRyYWNrczsgdHJhY2tOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGlmIChTb25nLmdldE51bU5vdGVHcm91cHNJblRyYWNrKHRyYWNrTnVtYmVyKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhY2tzLnNldENoZWNrZWQodHJhY2tOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYWNrcy5zZXRDaGVja2VkKHRyYWNrTnVtYmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoKTogYm9vbGVhbltdIHtcbiAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWRDYWxsYmFja3MubWFwKChpc0NoZWNrZWRDQikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNDaGVja2VkQ0IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBJZiB0aGUgY2FsbGJhY2sgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHdlIGNvbnNpZGVyIHRoYXQgdHJhY2sgXCJOT1QgQ0hFQ0tFRFwiLlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVja2VkID0gaXNDaGVja2VkQ0IoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVja2VkOyAvLyBPdGhlcndpc2UsIHdlIGNhbGwgdGhlIGNhbGxiYWNrIHRvIGRldGVybWluZSB0aGUgY3VycmVudCBjaGVja2VkIHN0YXRlLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRDaGVja2VkU3RhdGVGb3JBbGxUcmFja3MoY2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzOiBib29sZWFuW10pOiB2b2lkIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRyYWNrTnVtYmVyID0gMDsgdHJhY2tOdW1iZXIgPCBjaGVja2VkU3RhdGVGb3JBbGxUcmFja3MubGVuZ3RoOyB0cmFja051bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZFN0YXRlID0gY2hlY2tlZFN0YXRlRm9yQWxsVHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBUcmFja3Muc2V0Q2hlY2tlZCh0cmFja051bWJlciwgY2hlY2tlZFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbm5hbWVzcGFjZSBTb25nIHtcbiAgICAvLyBTdXBwb3J0IG11bHRpIHRyYWNrIE1JREkgc29uZ3MuXG4gICAgLy8gV2hlbiB3ZSBjb21wb3NlIGJ5IGhhbmQsIHN0aWNrIGV2ZXJ5dGhpbmcgaW4gdHJhY2sgMC5cbiAgICBjb25zdCB0cmFja3M6IEFycmF5PFRyYWNrPiA9IFtdO1xuXG4gICAgbGV0IGNhY2hlZE5vdGVHcm91cHM6IE5vdGVHcm91cFtdID0gbnVsbDtcblxuICAgIGNvbnN0IHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVyczogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRyYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICBTb25nLnJlc2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzKCk7XG4gICAgICAgIFNvbmcucmVzZXRDYWNoZSgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZXNldENhY2hlKCkge1xuICAgICAgICBjYWNoZWROb3RlR3JvdXBzID0gbnVsbDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkVHJhY2soKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gbmV3IFRyYWNrKCk7XG4gICAgICAgIHRyYWNrLnRyYWNrTnVtYmVyID0gdHJhY2tzLmxlbmd0aDtcbiAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICByZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMuYWRkKHRyYWNrLnRyYWNrTnVtYmVyKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm46IHRoZSBuZXcgbGVuZ3RoIG9mIHRoZSBzcGVjaWZpZWQgdHJhY2suXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZE5vdGVHcm91cFRvVHJhY2sobm90ZUdyb3VwOiBOb3RlR3JvdXAsIHRyYWNrTnVtYmVyOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBTb25nLnJlc2V0Q2FjaGUoKTsgLy8gRXZlcnkgdGltZSB3ZSBtb2RpZnkgdGhlIHRyYWNrcywgd2UgbmVlZCB0byBpbnZhbGlkYXRlIHRoZSBjYWNoZS5cblxuICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgIG5vdGVHcm91cC50cmFja051bWJlciA9IHRyYWNrTnVtYmVyO1xuICAgICAgICBub3RlR3JvdXAubm90ZU51bWJlciA9IHRyYWNrLmxlbmd0aDtcbiAgICAgICAgdHJhY2sucHVzaChub3RlR3JvdXApO1xuXG4gICAgICAgIHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycy5hZGQodHJhY2tOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdHJhY2tzW3RyYWNrTnVtYmVyXS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2UgY2FsbCBzYXZlQW5kU2hvd0RhdGEoKSBlbHNld2hlcmUhXG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldE51bVRyYWNrcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdHJhY2tzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TnVtTm90ZUdyb3Vwc0luVHJhY2sodHJhY2tOdW1iZXI6IG51bWJlcikge1xuICAgICAgICBpZiAodHJhY2tOdW1iZXIgPCAwIHx8IHRyYWNrTnVtYmVyID49IHRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrc1t0cmFja051bWJlcl0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzVHJhY2tFbXB0eSh0cmFja051bWJlcjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBnZXROdW1Ob3RlR3JvdXBzSW5UcmFjayh0cmFja051bWJlcikgPT09IDA7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFRyYWNrc0FzSlNPTigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodHJhY2tzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gbWVyZ2VMYXN0VHdvR3JvdXBzKCkge1xuICAgICAgICBjb25zdCB0cmFja051bWJlciA9IEhpZ2hsaWdodC5nZXRDdXJyZW50VHJhY2tOdW1iZXIoKTtcbiAgICAgICAgY29uc3QgY3VyclRyYWNrID0gdHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgaWYgKGN1cnJUcmFjay5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgbGV0IG1lcmdlZE5vdGVHcm91cDogTm90ZUdyb3VwID0gTm90ZUdyb3VwLm1lcmdlKGN1cnJUcmFjay5wb3AoKSwgY3VyclRyYWNrLnBvcCgpKTtcbiAgICAgICAgICAgIFNvbmcuYWRkTm90ZUdyb3VwVG9UcmFjayhtZXJnZWROb3RlR3JvdXAsIHRyYWNrTnVtYmVyKTtcbiAgICAgICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cCh0cmFja051bWJlciwgY3VyclRyYWNrLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzLmFkZCh0cmFja051bWJlcik7XG4gICAgICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkZWxldGVMYXN0R3JvdXAoKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrTnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICB0cmFja3NbdHJhY2tOdW1iZXJdLnBvcCgpO1xuICAgICAgICBIaWdobGlnaHQuc2V0VHJhY2tBbmROb3RlR3JvdXAodHJhY2tOdW1iZXIsIHRyYWNrc1t0cmFja051bWJlcl0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycy5hZGQodHJhY2tOdW1iZXIpO1xuICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Tm90ZUdyb3VwRnJvbVRyYWNrKG5vdGVHcm91cE51bWJlcjogbnVtYmVyLCB0cmFja051bWJlcjogbnVtYmVyKTogTm90ZUdyb3VwIHtcbiAgICAgICAgaWYgKHRyYWNrTnVtYmVyIDwgMCB8fCB0cmFja051bWJlciA+PSB0cmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1t0cmFja051bWJlcl07XG4gICAgICAgIGlmIChub3RlR3JvdXBOdW1iZXIgPCAwIHx8IG5vdGVHcm91cE51bWJlciA+PSB0cmFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFja1tub3RlR3JvdXBOdW1iZXJdO1xuICAgIH1cblxuICAgIC8vIFJldHJpZXZlIHRoZSBub3RlZ3JvdXBzIHRvIHBsYXkgb3Igc2F2ZSB0byBmaWxlLlxuICAgIC8vIFRoZSByZXN1bHRzIGFyZSBjYWNoZWQhIFdlIGludmFsaWRhdGUgdGhlIGNhY2hlIGFueXRpbWUgd2UgYWRkIG9yIHN1YnRyYWN0IG5vdGVzLCBvciBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBjaGVja2JveGVzLlxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXROb3RlR3JvdXBzRnJvbVRyYWNrcygpOiBOb3RlR3JvdXBbXSB7XG4gICAgICAgIGlmIChjYWNoZWROb3RlR3JvdXBzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkTm90ZUdyb3VwcztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlY29tcHV0ZSBDYWNoZWQgTm90ZUdyb3VwcyEhIVwiKTtcblxuICAgICAgICBjb25zdCBub3RlR3JvdXBzOiBOb3RlR3JvdXBbXSA9IFtdO1xuICAgICAgICBsZXQgY3VyclRpbWVNaWxsaXMgPSAwOyAvLyBVc2VkIHdoZW4gb3VyIE5vdGVHcm91cHMgZG9uJ3QgaGF2ZSB2YWxpZCB0aW1pbmcgaW5mb3JtYXRpb24gKGkuZS4sIG1hbnVhbCBlbnRyeSkuXG5cbiAgICAgICAgY29uc3Qgbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrOiBudW1iZXJbXSA9IFtdOyAvLyBLZWVwIHBvaW50ZXJzIHRvIHRoZSBjdXJyZW50IE5vdGVHcm91cHMgd2UgYXJlIGxvb2tpbmcgYXQuIE9uZSBwb2ludGVyL2N1cnNvciBwZXIgdHJhY2suXG4gICAgICAgIGNvbnN0IG51bVRyYWNrcyA9IHRyYWNrcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IHRyYWNrTnVtYmVyID0gMDsgdHJhY2tOdW1iZXIgPCBudW1UcmFja3M7IHRyYWNrTnVtYmVyKyspIHtcbiAgICAgICAgICAgIG5vdGVHcm91cFBvaW50ZXJGb3JUcmFjay5wdXNoKDApOyAvLyBTdGFydCBhIGluZGV4IDAgKHRoZSBmaXJzdCBOb3RlR3JvdXAgb2YgZWFjaCB0cmFjaykuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBSb3VuZCByb2JpbiBiZXR3ZWVuIHRoZSB0cmFja3MgdW50aWwgd2UgaW5zZXJ0IGFsbCB0aGUgTm90ZUdyb3VwcyBwcm9wZXJseS4gQWx3YXlzIGNob29zZSB0aGUgTm90ZUdyb3VwIHdpdGggdGhlIG1pbmltdW0gcGxheVRpbWUuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgbWluUGxheVRpbWUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgbGV0IG5leHROb3RlR3JvdXA6IE5vdGVHcm91cCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dE5vdGVHcm91cFRyYWNrOiBUcmFjayA9IG51bGw7IC8vIFdoaWNoIHRyYWNrIGNvbnRhaW5zIHRoZSBuZXh0IG5vdGUgZ3JvdXAgdG8gcGxheT9cblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgdHJhY2tzIHRvIGZpbmQgdGhlIG5leHQgTm90ZUdyb3VwIHRvIHBsYXkuXG4gICAgICAgICAgICBmb3IgKGxldCB0cmFja051bWJlciA9IDA7IHRyYWNrTnVtYmVyIDwgbnVtVHJhY2tzOyB0cmFja051bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyclRyYWNrID0gdHJhY2tzW3RyYWNrTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyVHJhY2tMZW5ndGggPSBjdXJyVHJhY2subGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJOb3RlR3JvdXBQb2ludGVyID0gbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RyYWNrTnVtYmVyXTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyVHJhY2tMZW5ndGggPT09IDAgfHwgIVVJLlRyYWNrcy5pc0NoZWNrZWQodHJhY2tOdW1iZXIpIHx8IGN1cnJOb3RlR3JvdXBQb2ludGVyID49IGN1cnJUcmFja0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhpcyB0cmFjayBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gICBpdCBpcyBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAvLyAgIGl0IGlzIG5vdCBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIC8vICAgd2UgaGF2ZSBhbHJlYWR5IGZpbmlzaGVkIGxvb2tpbmcgYXQgaXRcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90ZUdyb3VwID0gY3VyclRyYWNrW2N1cnJOb3RlR3JvdXBQb2ludGVyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGVHcm91cC5wbGF5VGltZU1pbGxpcyA8IG1pblBsYXlUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5QbGF5VGltZSA9IG5vdGVHcm91cC5wbGF5VGltZU1pbGxpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb3RlR3JvdXAgPSBub3RlR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm90ZUdyb3VwVHJhY2sgPSBjdXJyVHJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGRpZCBub3QgZmluZCBhbnkgTm90ZUdyb3Vwcywgd2UncmUgZG9uZSFcbiAgICAgICAgICAgIGlmICghbmV4dE5vdGVHcm91cCkge1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBicmVhayBvdXQgb2YgdGhlIHdoaWxlKHRydWUpIGxvb3AuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5nOiBOb3RlR3JvdXAgPSBuZXh0Tm90ZUdyb3VwLmNvcHkoKTtcbiAgICAgICAgICAgICAgICBpZiAobmcucGxheVRpbWVNaWxsaXMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nLnBsYXlUaW1lTWlsbGlzID0gY3VyclRpbWVNaWxsaXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5leHROb3RlR3JvdXBUcmFjay50cmFja051bWJlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlTnVtYmVyID0gbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RdO1xuICAgICAgICAgICAgICAgIG5nLm5vdGVOdW1iZXIgPSBub3RlTnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgbm90ZUdyb3VwUG9pbnRlckZvclRyYWNrW3RdKys7XG5cbiAgICAgICAgICAgICAgICBub3RlR3JvdXBzLnB1c2gobmcpO1xuICAgICAgICAgICAgICAgIGN1cnJUaW1lTWlsbGlzID0gbmcucGxheVRpbWVNaWxsaXMgKyBUSU1FX0JFVFdFRU5fTk9URUdST1VQUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhY2hlZE5vdGVHcm91cHMgPSBub3RlR3JvdXBzO1xuICAgICAgICByZXR1cm4gbm90ZUdyb3VwcztcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Tm90ZUdyb3VwSUQodHJhY2tOdW1iZXIsIG5vdGVHcm91cE51bWJlcikge1xuICAgICAgICByZXR1cm4gYHQke3RyYWNrTnVtYmVyfV9uJHtub3RlR3JvdXBOdW1iZXJ9YDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzQXNBcnJheSgpOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHJlY2VudGx5VXBkYXRlZFRyYWNrTnVtYmVycyk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UmVjZW50bHlVcGRhdGVkVHJhY2tOdW1iZXJzKCkge1xuICAgICAgICByZWNlbnRseVVwZGF0ZWRUcmFja051bWJlcnMuY2xlYXIoKTtcbiAgICB9XG59XG5cbmNvbnN0IF9QbGF5YmFja19OUyA9IFBsYXliYWNrO1xuY29uc3QgX1NvbmdfTlMgPSBTb25nO1xuY29uc3QgX1VJX05TID0gVUk7XG5jb25zdCBfVHJhY2tzX05TID0gVUkuVHJhY2tzO1xuXG5uYW1lc3BhY2UgQXBwIHtcbiAgICBleHBvcnQgY29uc3QgUGxheWJhY2sgPSBfUGxheWJhY2tfTlM7XG4gICAgZXhwb3J0IGNvbnN0IFNvbmcgPSBfU29uZ19OUztcbiAgICBleHBvcnQgY29uc3QgVUkgPSBfVUlfTlM7XG4gICAgZXhwb3J0IGNvbnN0IFRyYWNrcyA9IF9UcmFja3NfTlM7XG5cbiAgICBsZXQgc29uZ1ZlcnNpb246IG51bWJlciA9IENvbnN0YW50cy5NSU5fU09OR19WRVJTSU9OOyAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGlzIGV2ZXJ5IHRpbWUgdGhlIHJlZHV4IHN0b3JlIGNoYW5nZXMhXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFNvbmdWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gc29uZ1ZlcnNpb247XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRTb25nVmVyc2lvbih2OiBudW1iZXIpIHtcbiAgICAgICAgc29uZ1ZlcnNpb24gPSB2O1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIGV2ZW50cyB0byBtb2RpZnkgUmVkdXggc3RvcmUuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldERpc3BhdGNoRnVuY3Rpb24oZDogRnVuY3Rpb24pIHtcbiAgICAgICAgZGlzcGF0Y2ggPSBkO1xuICAgIH1cblxuICAgIC8vIE9uY2UgdGhlIERPTSBpcyByZWFkeSwgY2FsbCBBcHAuc3RhcnQoKVxuICAgIGV4cG9ydCBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcHAuc3RhcnQoKVwiKTtcbiAgICAgICAgTUlESVBpYW5vSW5wdXQuc2V0dXAoKTtcbiAgICAgICAgTG9jYWxTdG9yYWdlLmxvYWQoKTtcbiAgICAgICAgVUkuc2hvd05vdGVHcm91cHNGb3JUcmFja3MoKTtcbiAgICAgICAgVUkuc2V0dXBDb3B5SGFuZGxlcigpO1xuICAgICAgICBVSS5kcmF3UGlhbm8oKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc3RhcnRBdWRpbygpIHtcbiAgICAgICAgcGlhbm8gPSBuZXcgSW5zdHJ1bWVudCgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzYXZlU29uZ1ZlcnNpb25Ub0xvY2FsU3RvcmFnZSh2ZXI6IG51bWJlcikge1xuICAgICAgICBBcHAuc2V0U29uZ1ZlcnNpb24odmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJzYXZlU29uZ1ZlcnNpb25Ub0xvY2FsU3RvcmFnZSBcIiArIHZlcik7XG4gICAgICAgIExvY2FsU3RvcmFnZS5zYXZlVmVyc2lvblRvZ2dsZSh2ZXIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBmaWxsVHJhY2tzV2l0aE5vdGVHcm91cHNFeHRyYWN0ZWRGcm9tTUlESUV2ZW50cyhtaWRpRmlsZSwgbWlkaUV2ZW50cykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1JREkgRmlsZSBQYXNzZWQgSW46IFwiICsgbWlkaUZpbGUpO1xuICAgICAgICBpZiAoIW1pZGlGaWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBVSS5UcmFja3Muc2V0dXAobWlkaUZpbGUudHJhY2tzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG1vc3QgcmVjZW50bHkgcHJvY2Vzc2VkIGV2ZW50IHNvIHRoYXQgd2UgY2FuIG1lcmdlIG5vdGVzIHRoYXQgYXJlIHBsYXllZCBhdCB0aGUgc2FtZSB0aW1lIGFuZCBvbiB0aGUgc2FtZSB0cmFjay5cbiAgICAgICAgbGV0IGxhc3ROb3RlR3JvdXA6IE5vdGVHcm91cCA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0UGxheVRpbWUgPSAtMTtcbiAgICAgICAgbGV0IGxhc3RUcmFja051bWJlciA9IC0xO1xuXG4gICAgICAgIC8vIENvbnZlcnQgZnJvbSBNSURJIGV2ZW50cyB0byBOb3RlR3JvdXBzXG4gICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgbWlkaUV2ZW50cykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgICAgICBjb25zdCBzdWJ0eXBlID0gZXZlbnQuc3VidHlwZTtcbiAgICAgICAgICAgIC8vIGxldCBzdGF0dXMgPSAoZXZlbnQuc3VidHlwZSA8PCA0KSArIGV2ZW50LmNoYW5uZWw7XG4gICAgICAgICAgICAvLyBsZXQgc3RhdHVzQ29kZUhleFN0cmluZyA9ICcweCcgKyBzdGF0dXMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBsZXQgcGxheVRpbWUgPSBldmVudC5wbGF5VGltZTsgLy8gdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHBsYXlUaW1lID0gTWF0aC5yb3VuZChwbGF5VGltZSAqIDEwMDApIC8gMTAwMDsgLy8gcm91bmQgaXQgdG8gdGhlIG5lYXJlc3QgMC4wMDFcbiAgICAgICAgICAgIGNvbnN0IG1pZGlOb3RlTnVtID0gZXZlbnQucGFyYW0xO1xuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBldmVudC5wYXJhbTI7XG4gICAgICAgICAgICBjb25zdCBwaWFub05vdGVOdW0gPSBNSURJVXRpbHMubTJwKG1pZGlOb3RlTnVtKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVUb1BsYXkgPSBuZXcgTm90ZShwaWFub05vdGVOdW0sIDEuMCAvKiBkdXJhdGlvbiAqLywgdmVsb2NpdHkpOyAvLyBUT0RPOiBTdXBwb3J0IGR1cmF0aW9uIHNvbWVkYXk/XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZFTE9DSVRZIFwiICsgdmVsb2NpdHkpO1xuICAgICAgICAgICAgbGV0IHRyYWNrTnVtYmVyID0gZXZlbnQudHJhY2s7IC8vIHBvc3NpYmx5IHVuZGVmaW5lZCFcbiAgICAgICAgICAgIGlmICghdHJhY2tOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja051bWJlciA9IDA7IC8vIFdlIHdpbGwgYXNzaWduIGV2ZW50cyB3aXRoIHVuZGVmaW5lZCB0cmFja051bWJlcnMgdG8gdHJhY2sgMC5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN1YnR5cGUgPT09IE1JRElFdmVudHMuRVZFTlRfTUlESV9OT1RFX09OKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXlUaW1lIDw9IGxhc3RQbGF5VGltZSArIFRJTUVfVEhSRVNIT0xEX0ZPUl9HUk9VUElOR19ORUFSQllfTk9URVMgJiYgdHJhY2tOdW1iZXIgPT09IGxhc3RUcmFja051bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSBhbGwgbm90ZXMgc3RhcnRpbmcgYXQgdGhlIHNhbWUgdGltZSBhbmQgb24gdGhlIHNhbWUgdHJhY2sgaW50byBhIHNpbmdsZSBOb3RlR3JvdXAuXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlR3JvdXAuYWRkTm90ZShub3RlVG9QbGF5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm90ZUdyb3VwID0gbmV3IE5vdGVHcm91cChub3RlVG9QbGF5LCBwbGF5VGltZSwgdHJhY2tOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBTb25nLmFkZE5vdGVHcm91cFRvVHJhY2sobm90ZUdyb3VwLCB0cmFja051bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlR3JvdXAgPSBub3RlR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUcmFja051bWJlciA9IHRyYWNrTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGxheVRpbWUgPSBwbGF5VGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9USEVSIEVWRU5UU1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5oYW5kbGVkIEV2ZW50OlwiKTtcbiAgICAgICAgICAgICAgICBNSURJRmlsZUlPLnByaW50VHlwZUFuZFN1YnR5cGUodHlwZSwgc3VidHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlQW5kU2hvd0RhdGEoKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHdlIGhvdmVyIG92ZXIgdGhlIERvd25sb2FkIE1JREkgfCBURVhUIGxpbmtzLCB3ZSB1cGRhdGVcbiAgICAvLyB0aGUgaHJlZiBhdHRyaWJ1dGVzIHNvIHRoYXQgd2UgZG93bmxvYWQgdGhlIGNvcnJlY3QgZGF0YS5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0RG93bmxvYWREYXRhX1RFWFQoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR0VORVJBVEUgVEhFIFRFWFQgRklMRSBGUk9NIE9VUiBUUkFDS1MuIEJBU0UgNjQgRU5DT0RFIElULlxuICAgICAgICAvLyBBIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNvbmc6XG4gICAgICAgIC8vICAgVjEgPT4gZS5nLiwgNDAgNDIgNDQgNDUgNDAuNDdcbiAgICAgICAgLy8gICBWMiA9PiBlLmcuLCBbMjQuMzYgQCAwXSBbMTcuMjkgQCAyNzMwXSBbMzYgQCAyOTA0XSBbNDEgQCAzMDI5XSBbNDQgQCAzMTUyXVxuICAgICAgICBjb25zdCB0ZXh0ID0gVHJhY2tzLmdldFRleHRGaWxlRnJvbVRyYWNrcygpO1xuICAgICAgICBjb25zdCBiYXNlNjRUZXh0ID0gYnRvYSh0ZXh0KTsgLy8gYmFzZSA2NCBlbmNvZGluZ1xuICAgICAgICByZXR1cm4gYmFzZTY0VGV4dDtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHdlIGhvdmVyIG92ZXIgdGhlIERvd25sb2FkIE1JREkgfCBURVhUIGxpbmtzLCB3ZSB1cGRhdGVcbiAgICAvLyB0aGUgaHJlZiBhdHRyaWJ1dGVzIHNvIHRoYXQgd2UgZG93bmxvYWQgdGhlIGNvcnJlY3QgZGF0YS5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0RG93bmxvYWREYXRhX01JREkoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR0VORVJBVEUgVEhFIE1JREkgRklMRSBGUk9NIE9VUiBUUkFDS1MuIEJBU0UgNjQgRU5DT0RFIElULlxuICAgICAgICBjb25zdCB0cmFja051bWJlcnNUb0luY2x1ZGUgPSBUcmFja3MuZ2V0VHJhY2tOdW1iZXJzVG9JbmNsdWRlSW5NSURJRmlsZSgpO1xuICAgICAgICBjb25zdCBtaWRpRmlsZSA9IE1JRElGaWxlSU8uY3JlYXRlRmlsZUZyb21UcmFja3ModHJhY2tOdW1iZXJzVG9JbmNsdWRlLCBTb25nLmdldE5vdGVHcm91cHNGcm9tVHJhY2tzKCkpO1xuICAgICAgICBjb25zdCBiYXNlNjRUZXh0ID0gYnRvYShtaWRpRmlsZSk7IC8vIGJhc2UgNjQgZW5jb2RpbmdcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRleHQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBsYXlPbmVOb3RlKHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzLCBhcHBseU1vZGlmaWVyczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBuYW1lIG9mIHRoZSBub3RlIHdlIGFyZSBhYm91dCB0byBwbGF5XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzICUgMTI7XG4gICAgICAgIGNvbnN0IHdoaXRlS2V5Tm90ZUluZGV4ID0gd2hpdGVLZXlzLmluZGV4T2YocmVtYWluZGVyKTtcbiAgICAgICAgY29uc3Qgbm90ZUxhYmVsID0gbm90ZUxhYmVsc1t3aGl0ZUtleU5vdGVJbmRleF07XG5cbiAgICAgICAgbGV0IG1vZGlmaWVyID0gMDtcbiAgICAgICAgaWYgKGFwcGx5TW9kaWZpZXJzKSB7XG4gICAgICAgICAgICBtb2RpZmllciA9IHNoYXJwT3JGbGF0TW9kaWZpZXI7IC8vIFRoZSB1c2VyIGlzIGhvbGRpbmcgZG93biBTSElGVCBvciBDVFJMXG5cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgbm90ZSBhdXRvLXNoYXJwZWQsIGR1ZSB0byB0aGUga2V5IHNpZ25hdHVyZT9cbiAgICAgICAgICAgIGlmIChTaGFycHNBbmRGbGF0c01hbmFnZXIuaXNOb3RlU2hhcnAobm90ZUxhYmVsKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyKys7IC8vIHJhaXNlIHRoZSBzaGFycCBhIGhhbGYtc3RlcCFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgbm90ZSBhdXRvLWZsYXR0ZWQsIGR1ZSB0byB0aGUga2V5IHNpZ25hdHVyZT9cbiAgICAgICAgICAgIGlmIChTaGFycHNBbmRGbGF0c01hbmFnZXIuaXNOb3RlRmxhdChub3RlTGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXItLTsgLy8gbG93ZXIgdGhlIG5vdGUgYSBoYWxmLXN0ZXAhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwaWFub0tleU51bWJlciA9IHBpYW5vS2V5QmVmb3JlTW9kaWZpZXJzICsgbW9kaWZpZXIgKyBvY3RhdmVPZmZzZXQgKiAxMjtcbiAgICAgICAgaWYgKHBpYW5vS2V5TnVtYmVyIDwgMSB8fCBwaWFub0tleU51bWJlciA+IDg4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFja051bWJlcjogbnVtYmVyID0gSGlnaGxpZ2h0LmdldEN1cnJlbnRUcmFja051bWJlcigpO1xuICAgICAgICBjb25zdCB0cmFja0xlbmd0aDogbnVtYmVyID0gU29uZy5hZGROb3RlR3JvdXBUb1RyYWNrKG5ldyBOb3RlR3JvdXAobmV3IE5vdGUocGlhbm9LZXlOdW1iZXIpKSwgdHJhY2tOdW1iZXIpO1xuICAgICAgICBUcmFja3Muc2V0Q2hlY2tlZCh0cmFja051bWJlciwgdHJ1ZSk7XG5cbiAgICAgICAgQXBwLnBsYXlQaWFub05vdGUocGlhbm9LZXlOdW1iZXIpO1xuXG4gICAgICAgIEhpZ2hsaWdodC5zZXRUcmFja0FuZE5vdGVHcm91cCh0cmFja051bWJlciwgdHJhY2tMZW5ndGggLSAxKTtcbiAgICAgICAgc2F2ZUFuZFNob3dEYXRhKCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBsYXlQaWFub05vdGUocGlhbm9LZXlOdW1iZXIsIHZlbG9jaXR5ID0gMTI3LjApIHtcbiAgICAgICAgaWYgKHBpYW5vID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInBsYXlQaWFub05vdGU6IFBpYW5vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAxLjA7IC8vIDAuMTI1LCAwLjI1LCAwLjUsIDEuMCwgMi4wO1xuICAgICAgICBwaWFuby5wbGF5KHBpYW5vS2V5TnVtYmVyLCBkdXJhdGlvbiwgdmVsb2NpdHkgLyAxMjcuMCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGxvYWRGaXJzdEZpbGUoZmlsZUxpc3Q6IGFueSkge1xuICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVMaXN0WzBdOyAvLyBSZWFkIHRoZSBmaXJzdCBmaWxlLlxuICAgICAgICAgICAgTUlESUZpbGVJTy5yZWFkRmlsZUFzeW5jKGZpbGUpLnRoZW4oKGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25zLkZpbGVDaG9vc2VyLm9uRmlsZUxvYWRlZCB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apps/author/piano/v2/App.ts\n");

/***/ })

})