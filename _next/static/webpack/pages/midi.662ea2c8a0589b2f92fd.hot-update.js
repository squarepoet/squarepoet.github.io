webpackHotUpdate_N_E("pages/midi",{

/***/ "./apps/shared/sound/Musical.ts":
/*!**************************************!*\
  !*** ./apps/shared/sound/Musical.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\n\n\n// musical.js\n// https://github.com/PencilCode/musical.js\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// WAVETABLE-BUILDER\n// wavetable is a table of names for nonstandard waveforms.\n// The table maps names to objects that have wave: and freq:\n// properties. The wave: property is a PeriodicWave to use\n// for the oscillator.  The freq: property, if present,\n// is a map from higher frequencies to more PeriodicWave\n// objects; when a frequency higher than the given threshold\n// is requested, the alternate PeriodicWave is used.\nvar makeWavetable = function makeWavetable(ac) {\n  return function (wavedata) {\n    function makePeriodicWave(data) {\n      var n = data.real.length,\n          real = new Float32Array(n),\n          imag = new Float32Array(n),\n          j;\n\n      for (j = 0; j < n; ++j) {\n        real[j] = data.real[j];\n        imag[j] = data.imag[j];\n      }\n\n      try {\n        // Latest API naming.\n        return ac.createPeriodicWave(real, imag);\n      } catch (e) {}\n\n      try {\n        // Earlier API naming.\n        return ac.createWaveTable(real, imag);\n      } catch (e) {}\n\n      return null;\n    }\n\n    function makeMultiple(data, mult, amt) {\n      var result = {\n        real: [],\n        imag: []\n      },\n          j,\n          n = data.real.length,\n          m;\n\n      for (j = 0; j < n; ++j) {\n        m = Math.log(mult[Math.min(j, mult.length - 1)]);\n        result.real.push(data.real[j] * Math.exp(amt * m));\n        result.imag.push(data.imag[j] * Math.exp(amt * m));\n      }\n\n      return result;\n    }\n\n    var result = {},\n        k,\n        d,\n        n,\n        j,\n        ff,\n        record,\n        wave,\n        pw;\n\n    for (k in wavedata) {\n      d = wavedata[k];\n      wave = makePeriodicWave(d);\n\n      if (!wave) {\n        continue;\n      }\n\n      record = {\n        wave: wave\n      }; // A strategy for computing higher frequency waveforms: apply\n      // multipliers to each harmonic according to d.mult.  These\n      // multipliers can be interpolated and applied at any number\n      // of transition frequencies.\n\n      if (d.mult) {\n        ff = wavedata[k].freq;\n        record.freq = {};\n\n        for (j = 0; j < ff.length; ++j) {\n          wave = makePeriodicWave(makeMultiple(d, d.mult, (j + 1) / ff.length));\n\n          if (wave) {\n            record.freq[ff[j]] = wave;\n          }\n        }\n      } // This wave has some default filter settings.\n\n\n      if (d.defs) {\n        record.defs = d.defs;\n      }\n\n      result[k] = record;\n    }\n\n    return result;\n  }({\n    // Currently the only nonstandard waveform is \"piano\".\n    // It is based on the first 32 harmonics from the example:\n    // https://github.com/GoogleChrome/web-audio-samples\n    // /blob/gh-pages/samples/audio/wave-tables/Piano\n    // That is a terrific sound for the lowest piano tones.\n    // For higher tones, interpolate to a customzed wave\n    // shape created by hand, and apply a lowpass filter.\n    piano: {\n      real: [0, 0, -0.203569, 0.5, -0.401676, 0.137128, -0.104117, 0.115965, -0.004413, 0.067884, -0.00888, 0.0793, -0.038756, 0.011882, -0.030883, 0.027608, -0.013429, 0.00393, -0.014029, 0.00972, -0.007653, 0.007866, -0.032029, 0.046127, -0.024155, 0.023095, -0.005522, 0.004511, -0.003593, 0.011248, -0.004919, 0.008505],\n      imag: [0, 0.147621, 0, 0.000007, -0.00001, 0.000005, -0.000006, 0.000009, 0, 0.000008, -0.000001, 0.000014, -0.000008, 0.000003, -0.000009, 0.000009, -0.000005, 0.000002, -0.000007, 0.000005, -0.000005, 0.000005, -0.000023, 0.000037, -0.000021, 0.000022, -0.000006, 0.000005, -0.000004, 0.000014, -0.000007, 0.000012],\n      // How to adjust the harmonics for the higest notes.\n      mult: [1, 1, 0.18, 0.016, 0.01, 0.01, 0.01, 0.004, 0.014, 0.02, 0.014, 0.004, 0.002, 0.00001],\n      // The frequencies at which to interpolate the harmonics.\n      freq: [65, 80, 100, 135, 180, 240, 620, 1360],\n      // The default filter settings to use for the piano wave.\n      // TODO: this approach attenuates low notes too much -\n      // this should be fixed.\n      defs: {\n        wave: \"piano\",\n        gain: 0.5,\n        attack: 0.002,\n        decay: 0.25,\n        sustain: 0.03,\n        release: 0.1,\n        decayfollow: 0.7,\n        cutoff: 800,\n        cutfollow: 0.1,\n        resonance: 1,\n        detune: 0.9994\n      }\n    }\n  });\n}; // END WAVETABLE-BUILDER\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// UTILS\n\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Utils);\n  }\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Utils, null, [{\n    key: \"isAudioPresent\",\n    // Tests for the presence of HTML5 Web Audio (or webkit's version).\n    value: function isAudioPresent() {\n      return !!(global.AudioContext || global.webkitAudioContext);\n    } // All our audio funnels through the same AudioContext with a\n    // DynamicsCompressorNode used as the main output, to compress the\n    // dynamic range of all audio.  getAudioTop sets this up.\n\n  }, {\n    key: \"getAudioTop\",\n    value: function getAudioTop() {\n      if (Utils._audioTop) {\n        return Utils._audioTop;\n      }\n\n      if (!Utils.isAudioPresent()) {\n        return null;\n      }\n\n      var ac = new (global.AudioContext || global.webkitAudioContext)();\n      Utils._audioTop = {\n        ac: ac,\n        wavetable: makeWavetable(ac),\n        out: null,\n        currentStart: null\n      };\n      Utils.resetAudio();\n      return Utils._audioTop;\n    } // When audio needs to be interrupted globally (e.g., when you press the\n    // stop button in the IDE), resetAudio does the job.\n\n  }, {\n    key: \"resetAudio\",\n    value: function resetAudio() {\n      if (Utils._audioTop) {\n        var atop = Utils._audioTop; // Disconnect the top-level node and make a new one.\n\n        if (atop.out) {\n          atop.out.disconnect();\n          atop.out = null;\n          atop.currentStart = null;\n        }\n\n        var dcn = atop.ac.createDynamicsCompressor();\n        dcn.ratio.setValueAtTime(16, 0);\n        dcn.attack.setValueAtTime(0.0005, 0); // dcn.ratio = 16; // RONYEH: .ratio is a READ ONLY property.\n        // dcn.attack = 0.0005; // RONYEH: .ratio is a READ ONLY property.\n\n        dcn.connect(atop.ac.destination);\n        atop.out = dcn;\n      }\n    } // For precise scheduling of future notes, the AudioContext currentTime is\n    // cached and is held constant until the script releases to the event loop.\n\n  }, {\n    key: \"audioCurrentStartTime\",\n    value: function audioCurrentStartTime() {\n      var atop = Utils.getAudioTop();\n\n      if (atop.currentStart != null) {\n        return atop.currentStart;\n      } // A delay could be added below to introduce a universal delay in\n      // all beginning sounds (without skewing durations for scheduled\n      // sequences).\n\n\n      atop.currentStart = Math.max(0.25, atop.ac.currentTime\n      /* + 0.0 delay */\n      );\n      setTimeout(function () {\n        atop.currentStart = null;\n      }, 0);\n      return atop.currentStart;\n    } // Converts a midi note number to a frequency in Hz.\n\n  }, {\n    key: \"midiToFrequency\",\n    value: function midiToFrequency(midi) {\n      return 440 * Math.pow(2, (midi - 69) / 12);\n    } // Some constants.\n\n  }, {\n    key: \"frequencyToMidi\",\n    // Converts a frequency in Hz to the closest midi number.\n    value: function frequencyToMidi(freq) {\n      return Math.round(69 + Math.log(freq / 440) * 12 / Math.LN2);\n    } // Converts an ABC pitch (such as \"^G,,\") to a midi note number.\n\n  }, {\n    key: \"pitchToMidi\",\n    value: function pitchToMidi(pitch) {\n      var m = /^(\\^+|_+|=|)([A-Ga-g])([,']*)$/.exec(pitch);\n\n      if (!m) {\n        return null;\n      }\n\n      var octave = m[3].replace(/,/g, \"\").length - m[3].replace(/'/g, \"\").length;\n      var semitone = Utils.noteNum[m[2]] + Utils.accSym[m[1].charAt(0)] * m[1].length + 12 * octave;\n      return semitone + 60; // 60 = midi code middle \"C\".\n    } // Converts a midi number to an ABC notation pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(midi) {\n      var index = (midi - 72) % 12;\n\n      if (midi > 60 || index != 0) {\n        index += 12;\n      }\n\n      var octaves = Math.round((midi - index - 60) / 12),\n          result = Utils.noteName[index];\n\n      while (octaves != 0) {\n        result += octaves > 0 ? \"'\" : \",\";\n        octaves += octaves > 0 ? -1 : 1;\n      }\n\n      return result;\n    } // Converts an ABC pitch to a frequency in Hz.\n\n  }, {\n    key: \"pitchToFrequency\",\n    value: function pitchToFrequency(pitch) {\n      return Utils.midiToFrequency(Utils.pitchToMidi(pitch));\n    } // The default sound is a square wave with a pretty quick decay to zero.\n\n  }, {\n    key: \"makeTimbre\",\n    // Norrmalizes a timbre object by making a copy that has exactly\n    // the right set of timbre fields, defaulting when needed.\n    // A timbre can specify any of the fields of defaultTimbre; any\n    // unspecified fields are treated as they are set in defaultTimbre.\n    value: function makeTimbre(options, atop) {\n      if (!options) {\n        options = {};\n      }\n\n      if (typeof options == \"string\") {\n        // Abbreviation: name a wave to get a default timbre for that wave.\n        options = {\n          wave: options\n        };\n      }\n\n      var result = {},\n          key,\n          wt = atop && atop.wavetable && atop.wavetable[options.wave];\n\n      for (key in Utils.defaultTimbre) {\n        if (options.hasOwnProperty(key)) {\n          result[key] = options[key];\n        } else if (wt && wt.defs && wt.defs.hasOwnProperty(key)) {\n          result[key] = wt.defs[key];\n        } else {\n          result[key] = Utils.defaultTimbre[key];\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getWhiteNoiseBuf\",\n    // cache\n    value: function getWhiteNoiseBuf() {\n      if (whiteNoiseBuf == null) {\n        var ac = Utils.getAudioTop().ac,\n            bufferSize = 2 * ac.sampleRate,\n            whiteNoiseBuf = ac.createBuffer(1, bufferSize, ac.sampleRate),\n            output = whiteNoiseBuf.getChannelData(0);\n\n        for (var i = 0; i < bufferSize; i++) {\n          output[i] = Math.random() * 2 - 1;\n        }\n      }\n\n      return whiteNoiseBuf;\n    } // This utility function creates an oscillator at the given frequency\n    // and the given wavename.  It supports lookups in a static wavetable,\n    // defined right below.\n\n  }, {\n    key: \"makeOscillator\",\n    value: function makeOscillator(atop, wavename, freq) {\n      if (wavename == \"noise\") {\n        var whiteNoise = atop.ac.createBufferSource();\n        whiteNoise.buffer = Utils.getWhiteNoiseBuf();\n        whiteNoise.loop = true;\n        return whiteNoise;\n      }\n\n      var wavetable = atop.wavetable,\n          o = atop.ac.createOscillator(),\n          k,\n          pwave,\n          bwf,\n          wf;\n\n      try {\n        if (wavetable.hasOwnProperty(wavename)) {\n          // Use a customized wavetable.\n          pwave = wavetable[wavename].wave;\n\n          if (wavetable[wavename].freq) {\n            bwf = 0; // Look for a higher-frequency variant.\n\n            for (k in wavetable[wavename].freq) {\n              wf = Number(k);\n\n              if (freq > wf && wf > bwf) {\n                bwf = wf;\n                pwave = wavetable[wavename].freq[bwf];\n              }\n            }\n          }\n\n          if (!o.setPeriodicWave && o.setWaveTable) {\n            // The old API name: Safari 7 still uses this.\n            o.setWaveTable(pwave);\n          } else {\n            // The new API name.\n            o.setPeriodicWave(pwave);\n          }\n        } else {\n          o.type = wavename;\n        }\n      } catch (e) {\n        if (window.console) {\n          window.console.log(e);\n        } // If unrecognized, just use square.\n        // TODO: support \"noise\" or other wave shapes.\n\n\n        o.type = \"square\";\n      } // o.frequency.value = freq; // RONYEH REMOVED DUE TO SOME BUG.\n\n\n      o.frequency.setTargetAtTime(freq, atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n      return o;\n    }\n  }]);\n\n  return Utils;\n}(); // END UTILS\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Parses an ABC file to an object with the following structure:\n// {\n//   X: value from the X: lines in header (\\n separated for multiple values)\n//   V: value from the V:myname lines that appear before K:\n//   (etc): for all the one-letter header-names.\n//   K: value from the K: lines in header.\n//   tempo: Q: line parsed as beatsecs\n//   timbre: ... I:timbre line as parsed by makeTimbre\n//   voice: {\n//     myname: { // voice with id \"myname\"\n//       V: value from the V:myname lines (from the body)\n//       stems: [...] as parsed by parseABCstems\n//    }\n//  }\n// }\n// ABC files are idiosyncratic to parse: the written specifications\n// do not necessarily reflect the defacto standard implemented by\n// ABC content on the web.  This implementation is designed to be\n// practical, working on content as it appears on the web, and only\n// using the written standard as a guideline.\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"_audioTop\", null);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteNum\", {\n  C: 0,\n  D: 2,\n  E: 4,\n  F: 5,\n  G: 7,\n  A: 9,\n  B: 11,\n  c: 12,\n  d: 14,\n  e: 16,\n  f: 17,\n  g: 19,\n  a: 21,\n  b: 23\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"accSym\", {\n  \"^\": 1,\n  \"\": 0,\n  \"=\": 0,\n  _: -1\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteName\", [\"C\", \"^C\", \"D\", \"_E\", \"E\", \"F\", \"^F\", \"G\", \"_A\", \"A\", \"_B\", \"B\", \"c\", \"^c\", \"d\", \"_e\", \"e\", \"f\", \"^f\", \"g\", \"_a\", \"a\", \"_b\", \"b\"]);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"defaultTimbre\", {\n  wave: \"square\",\n  // Oscillator type.\n  gain: 0.1,\n  // Overall gain at maximum attack.\n  attack: 0.002,\n  // Attack time at the beginning of a tone.\n  decay: 0.4,\n  // Rate of exponential decay after attack.\n  decayfollow: 0,\n  // Amount of decay shortening for higher notes.\n  sustain: 0,\n  // Portion of gain to sustain indefinitely.\n  release: 0.1,\n  // Release time after a tone is done.\n  cutoff: 0,\n  // Low-pass filter cutoff frequency.\n  cutfollow: 0,\n  // Cutoff adjustment, a multiple of oscillator freq.\n  resonance: 0,\n  // Low-pass filter resonance.\n  detune: 0 // Detune factor for a second oscillator.\n\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"whiteNoiseBuf\", null);\n\nvar ABCheader = /^([A-Za-z]):\\s*(.*)$/;\nvar ABCtoken = /(?:\\[[A-Za-z]:[^\\]]*\\])|\\s+|%[^\\n]*|![^\\s!:|\\[\\]]*!|\\+[^+|!]*\\+|[_<>@^]?\"[^\"]*\"|\\[|\\]|>+|<+|(?:(?:\\^+|_+|=|)[A-Ga-g](?:,+|'+|))|\\(\\d+(?::\\d+){0,2}|\\d*\\/\\d+|\\d+\\/?|\\/+|[xzXZ]|\\[?\\|\\]?|:?\\|:?|::|./g;\n\nfunction parseABCFile(str) {\n  var lines = str.split(\"\\n\"),\n      result = {},\n      context = result,\n      timbre,\n      j,\n      k,\n      header,\n      stems,\n      key = {},\n      accent = {\n    slurred: 0\n  },\n      voiceid,\n      out; // ABC files are parsed one line at a time.\n\n  for (j = 0; j < lines.length; ++j) {\n    // First, check to see if the line is a header line.\n    header = ABCheader.exec(lines[j]);\n\n    if (header) {\n      handleInformation(header[1], header[2].trim());\n    } else if (/^\\s*(?:%.*)?$/.test(lines[j])) {\n      // Skip blank and comment lines.\n      continue;\n    } else {\n      // Parse the notes.\n      parseABCNotes(lines[j]);\n    }\n  }\n\n  var infer = [\"unitnote\", \"unitbeat\", \"tempo\"];\n\n  if (result.hasOwnProperty(\"voice\") && result.voice !== null) {\n    out = [];\n\n    for (j in result.voice) {\n      if (result.voice[j].stems && result.voice[j].stems.length) {\n        // Calculate times for all the tied notes.  This happens at the end\n        // because in principle, the first note of a song could be tied all\n        // the way through to the last note.\n        processTies(result.voice[j].stems); // Bring up inferred tempo values from voices if not specified\n        // in the header.\n\n        for (k = 0; k < infer.length; ++k) {\n          if (!(infer[k] in result) && infer[k] in result.voice[j]) {\n            result[infer[k]] = result.voice[j][infer[k]];\n          }\n        } // Remove this internal state variable;\n\n\n        delete result.voice[j].accent;\n      } else {\n        out.push(j);\n      }\n    } // Delete any voices that had no stems.\n\n\n    for (j = 0; j < out.length; ++j) {\n      delete result.voice[out[j]];\n    }\n  }\n\n  return result; ////////////////////////////////////////////////////////////////////////\n  // Parsing helper functions below.\n  ////////////////////////////////////////////////////////////////////////\n  // Processes header fields such as V: voice, which may appear at the\n  // top of the ABC file, or in the ABC body in a [V:voice] directive.\n\n  function handleInformation(field, value) {\n    // The following headers are recognized and processed.\n    switch (field) {\n      case \"V\":\n        // A V: header switches voices if in the body.\n        // If in the header, then it is just advisory.\n        if (context !== result) {\n          startVoiceContext(value.split(\" \")[0]);\n        }\n\n        break;\n\n      case \"M\":\n        parseMeter(value, context);\n        break;\n\n      case \"L\":\n        parseUnitNote(value, context);\n        break;\n\n      case \"Q\":\n        parseTempo(value, context);\n        break;\n    } // All headers (including unrecognized ones) are\n    // just accumulated as properties. Repeated header\n    // lines are accumulated as multiline properties.\n\n\n    if (context.hasOwnProperty(field)) {\n      context[field] += \"\\n\" + value;\n    } else {\n      context[field] = value;\n    } // The K header is special: it should be the last one\n    // before the voices and notes begin.\n\n\n    if (field == \"K\") {\n      key = keysig(value);\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n    }\n  } // Shifts context to a voice with the given id given.  If no id\n  // given, then just sticks with the current voice.  If the current\n  // voice is unnamed and empty, renames the current voice.\n\n\n  function startVoiceContext(id) {\n    id = id || \"\";\n\n    if (!id && context !== result) {\n      return;\n    }\n\n    if (!result.voice) {\n      result.voice = {};\n    }\n\n    if (result.voice.hasOwnProperty(id)) {\n      // Resume a named voice.\n      context = result.voice[id];\n      accent = context.accent;\n    } else {\n      // Start a new voice.\n      context = {\n        id: id,\n        accent: {\n          slurred: 0\n        }\n      };\n      result.voice[id] = context;\n      accent = context.accent;\n    }\n  } // For picking a default voice, looks for the first voice name.\n\n\n  function firstVoiceName() {\n    if (result.V) {\n      return result.V.split(/\\s+/)[0];\n    } else {\n      return \"\";\n    }\n  } // Parses a single line of ABC notes (i.e., not a header line).\n  //\n  // We process an ABC song stream by dividing it into tokens, each of\n  // which is a pitch, duration, or special decoration symbol; then\n  // we process each decoration individually, and we process each\n  // stem as a group using parseStem.\n  // The structure of a single ABC note is something like this:\n  //\n  // NOTE -> STACCATO? PITCH DURATION? TIE?\n  //\n  // I.e., it always has a pitch, and it is prefixed by some optional\n  // decorations such as a (.) staccato marking, and it is suffixed by\n  // an optional duration and an optional tie (-) marking.\n  //\n  // A stem is either a note or a bracketed series of notes, followed\n  // by duration and tie.\n  //\n  // STEM -> NOTE   OR    '[' NOTE * ']' DURAITON? TIE?\n  //\n  // Then a song is just a sequence of stems interleaved with other\n  // decorations such as dynamics markings and measure delimiters.\n\n\n  function parseABCNotes(str) {\n    var tokens = str.match(ABCtoken),\n        parsed = null,\n        index = 0,\n        dotted = 0,\n        beatlet = null,\n        t;\n\n    if (!tokens) {\n      return null;\n    }\n\n    while (index < tokens.length) {\n      // Ignore %comments and !markings!\n      if (/^[\\s%]/.test(tokens[index])) {\n        index++;\n        continue;\n      } // Handle inline [X:...] information fields\n\n\n      if (/^\\[[A-Za-z]:[^\\]]*\\]$/.test(tokens[index])) {\n        handleInformation(tokens[index].substring(1, 2), tokens[index].substring(3, tokens[index].length - 1).trim());\n        index++;\n        continue;\n      } // Handled dotted notation abbreviations.\n\n\n      if (/</.test(tokens[index])) {\n        dotted = -tokens[index++].length;\n        continue;\n      }\n\n      if (/>/.test(tokens[index])) {\n        dotted = tokens[index++].length;\n        continue;\n      }\n\n      if (/^\\(\\d+(?::\\d+)*/.test(tokens[index])) {\n        beatlet = parseBeatlet(tokens[index++]);\n        continue;\n      }\n\n      if (/^[!+].*[!+]$/.test(tokens[index])) {\n        parseDecoration(tokens[index++], accent);\n        continue;\n      }\n\n      if (/^.?\".*\"$/.test(tokens[index])) {\n        // Ignore double-quoted tokens (chords and general text annotations).\n        index++;\n        continue;\n      }\n\n      if (/^[()]$/.test(tokens[index])) {\n        if (tokens[index++] == \"(\") {\n          accent.slurred += 1;\n        } else {\n          accent.slurred -= 1;\n\n          if (accent.slurred <= 0) {\n            accent.slurred = 0;\n\n            if (context.stems && context.stems.length >= 1) {\n              // The last notes in a slur are not slurred.\n              slurStem(context.stems[context.stems.length - 1], false);\n            }\n          }\n        }\n\n        continue;\n      } // Handle measure markings by clearing accidentals.\n\n\n      if (/\\|/.test(tokens[index])) {\n        for (t in accent) {\n          if (t.length == 1) {\n            // Single-letter accent properties are note accidentals.\n            delete accent[t];\n          }\n        }\n\n        index++;\n        continue;\n      }\n\n      parsed = parseStem(tokens, index, key, accent); // Skip unparsable bits\n\n      if (parsed === null) {\n        index++;\n        continue;\n      } // Process a parsed stem.\n\n\n      if (beatlet) {\n        scaleStem(parsed.stem, beatlet.time);\n        beatlet.count -= 1;\n\n        if (!beatlet.count) {\n          beatlet = null;\n        }\n      } // If syncopated with > or < notation, shift part of a beat\n      // between this stem and the previous one.\n\n\n      if (dotted && context.stems && context.stems.length) {\n        if (dotted > 0) {\n          t = (1 - Math.pow(0.5, dotted)) * parsed.stem.time;\n        } else {\n          t = (Math.pow(0.5, -dotted) - 1) * context.stems[context.stems.length - 1].time;\n        }\n\n        syncopateStem(context.stems[context.stems.length - 1], t);\n        syncopateStem(parsed.stem, -t);\n      }\n\n      dotted = 0; // Slur all the notes contained within a strem.\n\n      if (accent.slurred) {\n        slurStem(parsed.stem, true);\n      } // Start a default voice if we're not in a voice yet.\n\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n\n      if (!(\"stems\" in context)) {\n        context.stems = [];\n      } // Add the stem to the sequence of stems for this voice.\n\n\n      context.stems.push(parsed.stem); // Advance the parsing index since a stem is multiple tokens.\n\n      index = parsed.index;\n    }\n  } // Parse M: lines.  \"3/4\" is 3/4 time and \"C\" is 4/4 (common) time.\n\n\n  function parseMeter(mline, beatinfo) {\n    var d = /^C/.test(mline) ? 4 / 4 : durationToTime(mline);\n\n    if (!d) {\n      return;\n    }\n\n    if (!beatinfo.unitnote) {\n      if (d < 0.75) {\n        beatinfo.unitnote = 1 / 16;\n      } else {\n        beatinfo.unitnote = 1 / 8;\n      }\n    }\n  } // Parse L: lines, e.g., \"1/8\".\n\n\n  function parseUnitNote(lline, beatinfo) {\n    var d = durationToTime(lline);\n\n    if (!d) {\n      return;\n    }\n\n    beatinfo.unitnote = d;\n  } // Parse Q: line, e.g., \"1/4=66\".\n\n\n  function parseTempo(qline, beatinfo) {\n    var parts = qline.split(/\\s+|=/),\n        j,\n        unit = null,\n        tempo = null;\n\n    for (j = 0; j < parts.length; ++j) {\n      // It could be reversed, like \"66=1/4\", or just \"120\", so\n      // determine what is going on by looking for a slash etc.\n      if (parts[j].indexOf(\"/\") >= 0 || /^[1-4]$/.test(parts[j])) {\n        // The note-unit (e.g., 1/4).\n        unit = unit || durationToTime(parts[j]);\n      } else {\n        // The tempo-number (e.g., 120)\n        tempo = tempo || Number(parts[j]);\n      }\n    }\n\n    if (unit) {\n      beatinfo.unitbeat = unit;\n    }\n\n    if (tempo) {\n      beatinfo.tempo = tempo;\n    }\n  } // Run through all the notes, adding up time for tied notes,\n  // and marking notes that were held over with holdover = true.\n\n\n  function processTies(stems) {\n    var tied = {},\n        nextTied,\n        j,\n        k,\n        note,\n        firstNote;\n\n    for (j = 0; j < stems.length; ++j) {\n      nextTied = {};\n\n      for (k = 0; k < stems[j].notes.length; ++k) {\n        firstNote = note = stems[j].notes[k];\n\n        if (tied.hasOwnProperty(note.pitch)) {\n          // Pitch was tied from before.\n          firstNote = tied[note.pitch]; // Get the earliest note in the tie.\n\n          firstNote.time += note.time; // Extend its time.\n\n          note.holdover = true; // Silence this note as a holdover.\n        }\n\n        if (note.tie) {\n          // This note is tied with the next.\n          nextTied[note.pitch] = firstNote; // Save it away.\n        }\n      }\n\n      tied = nextTied;\n    }\n  } // Returns a map of A-G -> accidentals, according to the key signature.\n  // When n is zero, there are no accidentals (e.g., C major or A minor).\n  // When n is positive, there are n sharps (e.g., for G major, n = 1).\n  // When n is negative, there are -n flats (e.g., for F major, n = -1).\n\n\n  function accidentals(n) {\n    var sharps = \"FCGDAEB\",\n        result = {},\n        j;\n\n    if (!n) {\n      return result;\n    }\n\n    if (n > 0) {\n      // Handle sharps.\n      for (j = 0; j < n && j < 7; ++j) {\n        result[sharps.charAt(j)] = \"^\";\n      }\n    } else {\n      // Flats are in the opposite order.\n      for (j = 0; j > n && j > -7; --j) {\n        result[sharps.charAt(6 + j)] = \"_\";\n      }\n    }\n\n    return result;\n  } // Decodes the key signature line (e.g., K: C#m) at the front of an ABC tune.\n  // Supports the whole range of scale systems listed in the ABC spec.\n\n\n  function keysig(keyname) {\n    if (!keyname) {\n      return {};\n    }\n\n    var kkey,\n        sigcodes = {\n      // Major\n      \"c#\": 7,\n      \"f#\": 6,\n      b: 5,\n      e: 4,\n      a: 3,\n      d: 2,\n      g: 1,\n      c: 0,\n      f: -1,\n      bb: -2,\n      eb: -3,\n      ab: -4,\n      db: -5,\n      gb: -6,\n      cb: -7,\n      // Minor\n      \"a#m\": 7,\n      \"d#m\": 6,\n      \"g#m\": 5,\n      \"c#m\": 4,\n      \"f#m\": 3,\n      bm: 2,\n      em: 1,\n      am: 0,\n      dm: -1,\n      gm: -2,\n      cm: -3,\n      fm: -4,\n      bbm: -5,\n      ebm: -6,\n      abm: -7,\n      // Mixolydian\n      \"g#mix\": 7,\n      \"c#mix\": 6,\n      \"f#mix\": 5,\n      bmix: 4,\n      emix: 3,\n      amix: 2,\n      dmix: 1,\n      gmix: 0,\n      cmix: -1,\n      fmix: -2,\n      bbmix: -3,\n      ebmix: -4,\n      abmix: -5,\n      dbmix: -6,\n      gbmix: -7,\n      // Dorian\n      \"d#dor\": 7,\n      \"g#dor\": 6,\n      \"c#dor\": 5,\n      \"f#dor\": 4,\n      bdor: 3,\n      edor: 2,\n      ador: 1,\n      ddor: 0,\n      gdor: -1,\n      cdor: -2,\n      fdor: -3,\n      bbdor: -4,\n      ebdor: -5,\n      abdor: -6,\n      dbdor: -7,\n      // Phrygian\n      \"e#phr\": 7,\n      \"a#phr\": 6,\n      \"d#phr\": 5,\n      \"g#phr\": 4,\n      \"c#phr\": 3,\n      \"f#phr\": 2,\n      bphr: 1,\n      ephr: 0,\n      aphr: -1,\n      dphr: -2,\n      gphr: -3,\n      cphr: -4,\n      fphr: -5,\n      bbphr: -6,\n      ebphr: -7,\n      // Lydian\n      \"f#lyd\": 7,\n      blyd: 6,\n      elyd: 5,\n      alyd: 4,\n      dlyd: 3,\n      glyd: 2,\n      clyd: 1,\n      flyd: 0,\n      bblyd: -1,\n      eblyd: -2,\n      ablyd: -3,\n      dblyd: -4,\n      gblyd: -5,\n      cblyd: -6,\n      fblyd: -7,\n      // Locrian\n      \"b#loc\": 7,\n      \"e#loc\": 6,\n      \"a#loc\": 5,\n      \"d#loc\": 4,\n      \"g#loc\": 3,\n      \"c#loc\": 2,\n      \"f#loc\": 1,\n      bloc: 0,\n      eloc: -1,\n      aloc: -2,\n      dloc: -3,\n      gloc: -4,\n      cloc: -5,\n      floc: -6,\n      bbloc: -7\n    };\n    var k = keyname.replace(/\\s+/g, \"\").toLowerCase().substr(0, 5);\n    var scale = k.match(/maj|min|mix|dor|phr|lyd|loc|m/);\n\n    if (scale) {\n      if (scale == \"maj\") {\n        kkey = k.substr(0, scale.index);\n      } else if (scale == \"min\") {\n        kkey = k.substr(0, scale.index + 1);\n      } else {\n        kkey = k.substr(0, scale.index + scale[0].length);\n      }\n    } else {\n      kkey = /^[a-g][#b]?/.exec(k) || \"\";\n    }\n\n    var result = accidentals(sigcodes[kkey]);\n    var extras = keyname.substr(kkey.length).match(/(_+|=|\\^+)[a-g]/gi);\n\n    if (extras) {\n      for (var j = 0; j < extras.length; ++j) {\n        var note = extras[j].charAt(extras[j].length - 1).toUpperCase();\n\n        if (extras[j].charAt(0) == \"=\") {\n          delete result[note];\n        } else {\n          result[note] = extras[j].substr(0, extras[j].length - 1);\n        }\n      }\n    }\n\n    return result;\n  } // Additively adjusts the beats for a stem and the contained notes.\n\n\n  function syncopateStem(stem, t) {\n    var j,\n        note,\n        stemtime = stem.time,\n        newtime = stemtime + t;\n    stem.time = newtime;\n    syncopateStem;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j]; // Only adjust a note's duration if it matched the stem's duration.\n\n      if (note.time == stemtime) {\n        note.time = newtime;\n      }\n    }\n  } // Marks everything in the stem with the slur attribute (or deletes it).\n\n\n  function slurStem(stem, addSlur) {\n    var j, note;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j];\n\n      if (addSlur) {\n        note.slurred = true;\n      } else if (note.slurred) {\n        delete note.slurred;\n      }\n    }\n  } // Scales the beats for a stem and the contained notes.\n\n\n  function scaleStem(stem, s) {\n    var j;\n    stem.time *= s;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      stem.notes[j].time *= s;\n    }\n  } // Parses notation of the form (3 or (5:2:10, which means to do\n  // the following 3 notes in the space of 2 notes, or to do the following\n  // 10 notes at the rate of 5 notes per 2 beats.\n\n\n  function parseBeatlet(token) {\n    var m = /^\\((\\d+)(?::(\\d+)(?::(\\d+))?)?$/.exec(token);\n\n    if (!m) {\n      return null;\n    }\n\n    var count = Number(m[1]),\n        beats = Number(m[2]) || 2,\n        duration = Number(m[3]) || count;\n    return {\n      time: beats / count,\n      count: duration\n    };\n  } // Parse !ppp! markings.\n\n\n  function parseDecoration(token, accent) {\n    if (token.length < 2) {\n      return;\n    }\n\n    token = token.substring(1, token.length - 1);\n\n    switch (token) {\n      case \"pppp\":\n      case \"ppp\":\n        accent.dynamics = 0.2;\n        break;\n\n      case \"pp\":\n        accent.dynamics = 0.4;\n        break;\n\n      case \"p\":\n        accent.dynamics = 0.6;\n        break;\n\n      case \"mp\":\n        accent.dynamics = 0.8;\n        break;\n\n      case \"mf\":\n        accent.dynamics = 1.0;\n        break;\n\n      case \"f\":\n        accent.dynamics = 1.2;\n        break;\n\n      case \"ff\":\n        accent.dynamics = 1.4;\n        break;\n\n      case \"fff\":\n      case \"ffff\":\n        accent.dynamics = 1.5;\n        break;\n    }\n  } // Parses a stem, which may be a single note, or which may be\n  // a chorded note.\n\n\n  function parseStem(tokens, index, key, accent) {\n    var notes = [],\n        duration = \"\",\n        staccato = false,\n        noteDuration,\n        noteTime,\n        velocity,\n        lastNote = null,\n        minStemTime = Infinity,\n        j; // A single staccato marking applies to the entire stem.\n\n    if (index < tokens.length && \".\" == tokens[index]) {\n      staccato = true;\n      index++;\n    }\n\n    if (index < tokens.length && tokens[index] == \"[\") {\n      // Deal with [CEG] chorded notation.\n      index++; // Scan notes within the chord.\n\n      while (index < tokens.length) {\n        // Ignore and space and %comments.\n        if (/^[\\s%]/.test(tokens[index])) {\n          index++;\n          continue;\n        }\n\n        if (/[A-Ga-g]/.test(tokens[index])) {\n          // Grab a pitch.\n          lastNote = {\n            pitch: applyAccent(tokens[index++], key, accent),\n            tie: false\n          };\n          lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n          notes.push(lastNote);\n        } else if (/[xzXZ]/.test(tokens[index])) {\n          // Grab a rest.\n          lastNote = null;\n          index++;\n        } else if (\".\" == tokens[index]) {\n          // A staccato mark applies to the entire stem.\n          staccato = true;\n          index++;\n          continue;\n        } else {\n          // Stop parsing the stem if something is unrecognized.\n          break;\n        } // After a pitch or rest, look for a duration.\n\n\n        if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n          noteDuration = tokens[index++];\n          noteTime = durationToTime(noteDuration);\n        } else {\n          noteDuration = \"\";\n          noteTime = 1;\n        } // If it's a note (not a rest), store the duration\n\n\n        if (lastNote) {\n          lastNote.duration = noteDuration;\n          lastNote.time = noteTime;\n        } // When a stem has more than one duration, use the shortest\n        // one for timing. The standard says to pick the first one,\n        // but in practice, transcribed music online seems to\n        // follow the rule that the stem's duration is determined\n        // by the shortest contained duration.\n\n\n        if (noteTime && noteTime < minStemTime) {\n          duration = noteDuration;\n          minStemTime = noteTime;\n        } // After a duration, look for a tie mark.  Individual notes\n        // within a stem can be tied.\n\n\n        if (index < tokens.length && \"-\" == tokens[index]) {\n          if (lastNote) {\n            notes[notes.length - 1].tie = true;\n          }\n\n          index++;\n        }\n      } // The last thing in a chord should be a ].  If it isn't, then\n      // this doesn't look like a stem after all, and return null.\n\n\n      if (tokens[index] != \"]\") {\n        return null;\n      }\n\n      index++;\n    } else if (index < tokens.length && /[A-Ga-g]/.test(tokens[index])) {\n      // Grab a single note.\n      lastNote = {\n        pitch: applyAccent(tokens[index++], key, accent),\n        tie: false,\n        duration: \"\",\n        time: 1\n      };\n      lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n      notes.push(lastNote);\n    } else if (index < tokens.length && /^[xzXZ]$/.test(tokens[index])) {\n      // Grab a rest - no pitch.\n      index++;\n    } else {\n      // Something we don't recognize - not a stem.\n      return null;\n    } // Right after a [chord], note, or rest, look for a duration marking.\n\n\n    if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n      duration = tokens[index++];\n      noteTime = durationToTime(duration); // Apply the duration to all the ntoes in the stem.\n      // NOTE: spec suggests multiplying this duration, but that\n      // idiom is not seen (so far) in practice.\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].duration = duration;\n        notes[j].time = noteTime;\n      }\n    } // Then look for a trailing tie marking.  Will tie every note in a chord.\n\n\n    if (index < tokens.length && \"-\" == tokens[index]) {\n      index++;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].tie = true;\n      }\n    }\n\n    if (accent.dynamics) {\n      velocity = accent.dynamics;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].velocity = velocity;\n      }\n    }\n\n    return {\n      index: index,\n      stem: {\n        notes: notes,\n        duration: duration,\n        staccato: staccato,\n        time: durationToTime(duration)\n      }\n    };\n  } // Normalizes pitch markings by stripping leading = if present.\n\n\n  function stripNatural(pitch) {\n    if (pitch.length > 0 && pitch.charAt(0) == \"=\") {\n      return pitch.substr(1);\n    }\n\n    return pitch;\n  } // Processes an accented pitch, automatically applying accidentals\n  // that have accumulated within the measure, and also saving\n  // explicit accidentals to continue to apply in the measure.\n\n\n  function applyAccent(pitch, key, accent) {\n    var m = /^(\\^+|_+|=|)([A-Ga-g])(.*)$/.exec(pitch),\n        letter;\n\n    if (!m) {\n      return pitch;\n    } // Note that an accidental in one octave applies in other octaves.\n\n\n    letter = m[2].toUpperCase();\n\n    if (m[1].length > 0) {\n      // When there is an explicit accidental, then remember it for\n      // the rest of the measure.\n      accent[letter] = m[1];\n      return stripNatural(pitch);\n    }\n\n    if (accent.hasOwnProperty(letter)) {\n      // Accidentals from this measure apply to unaccented notes.\n      return stripNatural(accent[letter] + m[2] + m[3]);\n    }\n\n    if (key.hasOwnProperty(letter)) {\n      // Key signatures apply by default.\n      return stripNatural(key[letter] + m[2] + m[3]);\n    }\n\n    return stripNatural(pitch);\n  } // Converts an ABC duration to a number (e.g., \"/3\"->0.333 or \"11/2\"->1.5).\n\n\n  function durationToTime(duration) {\n    var m = /^(\\d*)(?:\\/(\\d*))?$|^(\\/+)$/.exec(duration),\n        n,\n        d,\n        i = 0,\n        ilen;\n    if (!m) return;\n    if (m[3]) return Math.pow(0.5, m[3].length);\n    d = m[2] ? parseFloat(m[2]) : /\\//.test(duration) ? 2 : 1; // Handle mixed frations:\n\n    ilen = 0;\n    n = m[1] ? parseFloat(m[1]) : 1;\n\n    if (m[2]) {\n      while (ilen + 1 < m[1].length && n > d) {\n        ilen += 1;\n        i = parseFloat(m[1].substring(0, ilen));\n        n = parseFloat(m[1].substring(ilen));\n      }\n    }\n\n    return i + n / d;\n  }\n} //////////////////////////////////////////////////////////////////////////////////////////////////\n// INSTRUMENTS\n//\n// All further details of audio handling are encapsulated in the Instrument\n// class, which knows how to synthesize a basic timbre; how to play and\n// schedule a tone; and how to parse and sequence a song written in ABC\n// notation.\n// The constructor accepts a timbre string or object, specifying\n// its default sound.  The main mechanisms in Instrument are for handling\n// sequencing of a (potentially large) set of notes over a (potentially\n// long) period of time.  The overall strategy:\n//\n//                       Events:      'noteon'        'noteoff'\n//                                      |               |\n// tone()-(quick tones)->| _startSet -->| _finishSet -->| _cleanupSet -->|\n//   \\                   |  /           | Playing tones | Done tones     |\n//    \\---- _queue ------|-/                                             |\n//      of future tones  |3 secs ahead sent to WebAudio, removed when done\n//\n// The reason for this queuing is to reduce the complexity of the\n// node graph sent to WebAudio: at any time, WebAudio is only\n// responsible for about 2 seconds of music.  If a graph with too\n// too many nodes is sent to WebAudio at once, output distorts badly.\n\n\nvar Instrument = /*#__PURE__*/function () {\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, null, [{\n    key: \"pitchToMidi\",\n    // Seconds to delay all audiable timing.\n    // Seconds before an event to reexamine queue.\n    // Seconds ahead to put notes in WebAudio.\n    // Default duration of a tone.\n    // Silent time before disconnecting nodes.\n    // Accepts either an ABC pitch or a midi number and converts to midi.\n    value: function pitchToMidi(n) {\n      if (typeof n == \"string\") {\n        return Utils.pitchToMidi(n);\n      }\n\n      return n;\n    } // Accepts either an ABC pitch or a midi number and converts to ABC pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(n) {\n      if (typeof n == \"number\") {\n        return Utils.midiToPitch(n);\n      }\n\n      return n;\n    }\n  }]);\n\n  function Instrument(options) {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Instrument);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_out\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_atop\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_timbre\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_queue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_minQueueTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_maxScheduledTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_unsortedQueue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_startSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_finishSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_cleanupSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_callbackSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_handlers\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_now\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_pollTimer\", void 0);\n\n    this._atop = Utils.getAudioTop(); // Audio context.\n\n    this._timbre = Utils.makeTimbre(options, this._atop); // The instrument's timbre.\n\n    this._queue = []; // A queue of future tones to play.\n\n    this._minQueueTime = Infinity; // The earliest time in _queue.\n\n    this._maxScheduledTime = 0; // The latest time in _queue.\n\n    this._unsortedQueue = false; // True if _queue is unsorted.\n\n    this._startSet = []; // Unstarted tones already sent to WebAudio.\n\n    this._finishSet = {}; // Started tones playing in WebAudio.\n\n    this._cleanupSet = []; // Tones waiting for cleanup.\n\n    this._callbackSet = []; // A set of scheduled callbacks.\n\n    this._handlers = {}; // 'noteon' and 'noteoff' handlers.\n\n    this._now = null; // A cached current-time value.\n\n    if (Utils.isAudioPresent()) {\n      this.silence(); // Initializes top-level audio node.\n    }\n  } // Sets the default timbre for the instrument.  See defaultTimbre.\n\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, [{\n    key: \"setTimbre\",\n    value: function setTimbre(t) {\n      this._timbre = Utils.makeTimbre(t, this._atop); // Saves a copy.\n    } // Returns the default timbre for the instrument as an object.\n\n  }, {\n    key: \"getTimbre\",\n    value: function getTimbre(t) {\n      return Utils.makeTimbre(this._timbre, this._atop); // Makes a copy.\n    } // Sets the overall volume for the instrument immediately.\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(v) {\n      // Without an audio system, volume cannot be set.\n      if (!this._out) {\n        return;\n      }\n\n      if (!isNaN(v)) {\n        this._out.gain.value = v;\n      }\n    } // Sets the overall volume for the instrument.\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume(v) {\n      // Without an audio system, volume is stuck at zero.\n      if (!this._out) {\n        return 0.0;\n      }\n\n      return this._out.gain.value;\n    } // Silences the instrument immediately by reinitializing the audio\n    // graph for this instrument and emptying or flushing all queues in the\n    // scheduler.  Carefully notifies all notes that have started but not\n    // yet finished, and sequences that are awaiting scheduled callbacks.\n    // Does not notify notes that have not yet started.\n\n  }, {\n    key: \"silence\",\n    value: function silence() {\n      var j,\n          finished,\n          callbacks,\n          initvolume = 1; // Clear future notes.\n\n      this._queue.length = 0;\n      this._minQueueTime = Infinity;\n      this._maxScheduledTime = 0; // Don't notify notes that haven't started yet.\n\n      this._startSet.length = 0; // Flush finish callbacks that are promised.\n\n      finished = this._finishSet;\n      this._finishSet = {}; // Flush one-time callacks that are promised.\n\n      callbacks = this._callbackSet;\n      this._callbackSet = []; // Disconnect the audio graph for this instrument.\n\n      if (this._out) {\n        this._out.disconnect();\n\n        initvolume = this._out.gain.value;\n      } // Reinitialize the audio graph: all audio for the instrument\n      // multiplexes through a single gain node with a master volume.\n\n\n      this._atop = Utils.getAudioTop();\n      this._out = this._atop.ac.createGain(); // this._out.gain.value = initvolume; // RONYEH REMOVED DUE TO BUG.\n\n      this._out.gain.setTargetAtTime(initvolume, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n\n      this._out.connect(this._atop.out); // As a last step, call all promised notifications.\n\n\n      for (j in finished) {\n        this._trigger(\"noteoff\", finished[j]);\n      }\n\n      for (j = 0; j < callbacks.length; ++j) {\n        callbacks[j].callback();\n      }\n    } // Future notes are scheduled relative to now(), which provides\n    // access to audioCurrentStartTime(), a time that holds steady\n    // until the script releases to the event loop.  When _now is\n    // non-null, it indicates that scheduling is already in progress.\n    // The timer-driven _doPoll function clears the cached _now.\n\n  }, {\n    key: \"now\",\n    value: function now() {\n      if (this._now != null) {\n        return this._now;\n      }\n\n      this._startPollTimer(true); // passing (true) sets this._now.\n\n\n      return this._now;\n    } // Register an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"on\",\n    value: function on(eventname, cb) {\n      if (!this._handlers.hasOwnProperty(eventname)) {\n        this._handlers[eventname] = [];\n      }\n\n      this._handlers[eventname].push(cb);\n    } // Unregister an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"off\",\n    value: function off(eventname, cb) {\n      if (this._handlers.hasOwnProperty(eventname)) {\n        if (!cb) {\n          this._handlers[eventname] = [];\n        } else {\n          var j,\n              hunt = this._handlers[eventname];\n\n          for (j = 0; j < hunt.length; ++j) {\n            if (hunt[j] === cb) {\n              hunt.splice(j, 1);\n              j -= 1;\n            }\n          }\n        }\n      }\n    } // Trigger an event, notifying any registered handlers.\n\n  }, {\n    key: \"_trigger\",\n    value: function _trigger(eventname, record) {\n      var cb = this._handlers[eventname],\n          j;\n\n      if (!cb) {\n        return;\n      }\n\n      if (cb.length == 1) {\n        // Special, common case of one handler: no copy needed.\n        cb[0](record);\n        return;\n      } // Copy the array of callbacks before iterating, because the\n      // main this._handlers copy could be changed by a handler.\n      // You get notified if-and-only-if you are registered\n      // at the starting moment of _trigger.\n\n\n      cb = cb.slice();\n\n      for (j = 0; j < cb.length; ++j) {\n        cb[j](record);\n      }\n    } // Tells the WebAudio API to play a tone (now or soon).  The passed\n    // record specifies a start time and release time, an ADSR envelope,\n    // and other timbre parameters.  This function sets up a WebAudio\n    // node graph for the tone generators and filters for the tone.\n\n  }, {\n    key: \"_makeSound\",\n    value: function _makeSound(record) {\n      var timbre = record.timbre || this._timbre,\n          starttime = record.time + Instrument.timeOffset,\n          releasetime = starttime + record.duration,\n          attacktime = Math.min(releasetime, starttime + timbre.attack),\n          decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n          decaystarttime = attacktime,\n          stoptime = releasetime + timbre.release,\n          doubled = timbre.detune && timbre.detune != 1.0,\n          amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n          ac = this._atop.ac,\n          g,\n          f,\n          o,\n          o2,\n          pwave,\n          k,\n          wf,\n          bwf; // Only hook up tone generators if it is an audible sound.\n\n      if (record.duration > 0 && record.velocity > 0) {\n        g = ac.createGain();\n        g.gain.setValueAtTime(0, starttime);\n        g.gain.linearRampToValueAtTime(amp, attacktime); // For the beginning of the decay, use linearRampToValue instead\n        // of setTargetAtTime, because it avoids http://crbug.com/254942.\n\n        while (decaystarttime < attacktime + 1 / 32 && decaystarttime + 1 / 256 < releasetime) {\n          // Just trace out the curve in increments of 1/256 sec\n          // for up to 1/32 seconds.\n          decaystarttime += 1 / 256;\n          g.gain.linearRampToValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - decaystarttime) / decaytime)), decaystarttime);\n        } // For the rest of the decay, use setTargetAtTime.\n\n\n        g.gain.setTargetAtTime(amp * timbre.sustain, decaystarttime, decaytime); // Then at release time, mark the value and ramp to zero.\n\n        g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n        g.gain.linearRampToValueAtTime(0, stoptime);\n        g.connect(this._out); // Hook up a low-pass filter if cutoff is specified.\n\n        if (!timbre.cutoff && !timbre.cutfollow || timbre.cutoff == Infinity) {\n          f = g;\n        } else {\n          // Apply the cutoff frequency adjusted using cutfollow.\n          f = ac.createBiquadFilter(); // f.frequency.value = timbre.cutoff + record.frequency * timbre.cutfollow; // RONYEH REMOVED DUE TO BUG.\n          // f.Q.value = timbre.resonance; // RONYEH REMOVED DUE TO BUG.\n\n          f.frequency.setTargetAtTime(timbre.cutoff + record.frequency * timbre.cutfollow, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.Q.setTargetAtTime(timbre.resonance, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.connect(g);\n        } // Hook up the main oscillator.\n\n\n        o = Utils.makeOscillator(this._atop, timbre.wave, record.frequency);\n        o.connect(f);\n        o.start(starttime);\n        o.stop(stoptime); // Hook up a detuned oscillator.\n\n        if (doubled) {\n          o2 = Utils.makeOscillator(this._atop, timbre.wave, record.frequency * timbre.detune);\n          o2.connect(f);\n          o2.start(starttime);\n          o2.stop(stoptime);\n        } // Store nodes in the record so that they can be modified\n        // in case the tone is truncated later.\n\n\n        record.gainNode = g;\n        record.oscillators = [o];\n\n        if (doubled) {\n          record.oscillators.push(o2);\n        }\n\n        record.cleanuptime = stoptime;\n      } else {\n        // Inaudible sounds are scheduled: their purpose is to truncate\n        // audible tones at the same pitch.  But duration is set to zero\n        // so that they are cleaned up quickly.\n        record.duration = 0;\n      }\n\n      this._startSet.push(record);\n    } // Truncates a sound previously scheduled by _makeSound by using\n    // cancelScheduledValues and directly ramping down to zero.\n    // Can only be used to shorten a sound.\n\n  }, {\n    key: \"_truncateSound\",\n    value: function _truncateSound(record, truncatetime) {\n      if (truncatetime < record.time + record.duration) {\n        record.duration = Math.max(0, truncatetime - record.time);\n\n        if (record.gainNode) {\n          var timbre = record.timbre || this._timbre,\n              starttime = record.time + Instrument.timeOffset,\n              releasetime = truncatetime + Instrument.timeOffset,\n              attacktime = Math.min(releasetime, starttime + timbre.attack),\n              decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n              stoptime = releasetime + timbre.release,\n              cleanuptime = stoptime + Instrument.cleanupDelay,\n              doubled = timbre.detune && timbre.detune != 1.0,\n              amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n              j,\n              g = record.gainNode; // Cancel any envelope points after the new releasetime.\n\n          g.gain.cancelScheduledValues(releasetime);\n\n          if (releasetime <= starttime) {\n            // Release before start?  Totally silence the note.\n            g.gain.setValueAtTime(0, releasetime);\n          } else if (releasetime <= attacktime) {\n            // Release before attack is done?  Interrupt ramp up.\n            // g.gain.linearRampToValueAtTime((amp * (releasetime - starttime)) / (attacktime - starttime));\n            g.gain.linearRampToValueAtTime(amp * (releasetime - starttime) / (attacktime - starttime), starttime); // RONYEH ADDED SECOND PARAM \"starttime\".\n          } else {\n            // Release during decay?  Interrupt decay down.\n            g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n          } // Then ramp down to zero according to record.release.\n\n\n          g.gain.linearRampToValueAtTime(0, stoptime); // After stoptime, stop the oscillators.  This is necessary to\n          // eliminate extra work for WebAudio for no-longer-audible notes.\n\n          if (record.oscillators) {\n            for (j = 0; j < record.oscillators.length; ++j) {\n              record.oscillators[j].stop(stoptime);\n            }\n          } // Schedule disconnect.\n\n\n          record.cleanuptime = cleanuptime;\n        }\n      }\n    } // The core scheduling loop is managed by Instrument._doPoll.  It reads\n    // the audiocontext's current time and pushes tone records from one\n    // stage to the next.\n    //\n    // 1. The first stage is the _queue, which has tones that have not\n    //    yet been given to WebAudio. This loop scans _queue to find\n    //    notes that need to begin in the next few seconds; then it\n    //    sends those to WebAduio and moves them to _startSet. Because\n    //    scheduled songs can be long, _queue can be large.\n    //\n    // 2. Second is _startSet, which has tones that have been given to\n    //    WebAudio, but whose start times have not yet elapsed. When\n    //    the time advances past the start time of a record, a 'noteon'\n    //    notification is fired for the tone, and it is moved to\n    //    _finishSet.\n    //\n    // 3. _finishSet represents the notes that are currently sounding.\n    //    The programming model for Instrument is that only one tone of\n    //    a specific frequency may be played at once within a Instrument,\n    //    so only one tone of a given frequency may exist in _finishSet\n    //    at once.  When there is a conflict, the sooner-to-end-note\n    //    is truncated.\n    //\n    // 4. After a note is released, it may have a litle release time\n    //    (depending on timbre.release), after which the nodes can\n    //    be totally disconnected and cleaned up.  _cleanupSet holds\n    //    notes for which we are awaiting cleanup.\n\n  }, {\n    key: \"_doPoll\",\n    value: function _doPoll() {\n      this._pollTimer = null;\n      this._now = null;\n\n      if (window.hasOwnProperty(\"interrupted\") && window[\"interrupted\"] === true) {\n        this.silence();\n        return;\n      } // The shortest time we can delay is 1 / 1000 secs, so if an event\n      // is within the next 0.5 ms, now is the closest moment, and we go\n      // ahead and process it.\n\n\n      var instant = this._atop.ac.currentTime + 1 / 2000,\n          callbacks = [],\n          j,\n          work,\n          when,\n          freq,\n          record,\n          conflict,\n          save,\n          cb; // Schedule a batch of notes\n\n      if (this._minQueueTime - instant <= Instrument.bufferSecs) {\n        if (this._unsortedQueue) {\n          this._queue.sort(function (a, b) {\n            if (a.time != b.time) {\n              return a.time - b.time;\n            }\n\n            if (a.duration != b.duration) {\n              return a.duration - b.duration;\n            }\n\n            return a.frequency - b.frequency;\n          });\n\n          this._unsortedQueue = false;\n        }\n\n        for (j = 0; j < this._queue.length; ++j) {\n          if (this._queue[j].time - instant > Instrument.bufferSecs) {\n            break;\n          }\n        }\n\n        if (j > 0) {\n          work = this._queue.splice(0, j);\n\n          for (j = 0; j < work.length; ++j) {\n            this._makeSound(work[j]);\n          }\n\n          this._minQueueTime = this._queue.length > 0 ? this._queue[0].time : Infinity;\n        }\n      } // Disconnect notes from the cleanup set.\n\n\n      for (j = 0; j < this._cleanupSet.length; ++j) {\n        record = this._cleanupSet[j];\n\n        if (record.cleanuptime < instant) {\n          if (record.gainNode) {\n            // This explicit disconnect is needed or else Chrome's WebAudio\n            // starts getting overloaded after a couple thousand notes.\n            record.gainNode.disconnect();\n            record.gainNode = null;\n          }\n\n          this._cleanupSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes finishing.\n\n\n      for (freq in this._finishSet) {\n        record = this._finishSet[freq];\n        when = record.time + record.duration;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 0],\n            f: this._trigger,\n            t: this,\n            a: [\"noteoff\", record]\n          });\n\n          if (record.cleanuptime != Infinity) {\n            this._cleanupSet.push(record);\n          }\n\n          delete this._finishSet[freq];\n        }\n      } // Call any specific one-time callbacks that were registered.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        cb = this._callbackSet[j];\n        when = cb.time;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 1],\n            f: cb.callback,\n            t: null,\n            a: []\n          });\n\n          this._callbackSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes starting.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        if (this._startSet[j].time <= instant) {\n          save = record = this._startSet[j];\n          freq = record.frequency;\n          conflict = null;\n\n          if (this._finishSet.hasOwnProperty(freq)) {\n            // If there is already a note at the same frequency playing,\n            // then release the one that starts first, immediately.\n            conflict = this._finishSet[freq];\n\n            if (conflict.time < record.time || conflict.time == record.time && conflict.duration < record.duration) {\n              // Our new sound conflicts with an old one: end the old one\n              // and notify immediately of its noteoff event.\n              this._truncateSound(conflict, record.time);\n\n              callbacks.push({\n                order: [record.time, 0],\n                f: this._trigger,\n                t: this,\n                a: [\"noteoff\", conflict]\n              });\n              delete this._finishSet[freq];\n            } else {\n              // A conflict from the future has already scheduled,\n              // so our own note shouldn't sound.  Truncate ourselves\n              // immediately, and suppress our own noteon and noteoff.\n              this._truncateSound(record, conflict.time);\n\n              conflict = record;\n            }\n          }\n\n          this._startSet.splice(j, 1);\n\n          j -= 1;\n\n          if (record.duration > 0 && record.velocity > 0 && conflict !== record) {\n            this._finishSet[freq] = record;\n            callbacks.push({\n              order: [record.time, 2],\n              f: this._trigger,\n              t: this,\n              a: [\"noteon\", record]\n            });\n          }\n        }\n      } // Schedule the next _doPoll.\n\n\n      this._startPollTimer(); // Sort callbacks according to the \"order\" tuple, so earlier events\n      // are notified first.\n\n\n      callbacks.sort(function (a, b) {\n        if (a.order[0] != b.order[0]) {\n          return a.order[0] - b.order[0];\n        } // tiebreak by notifying 'noteoff' first and 'noteon' last.\n\n\n        return a.order[1] - b.order[1];\n      }); // At the end, call all the callbacks without depending on \"this\" state.\n\n      for (j = 0; j < callbacks.length; ++j) {\n        cb = callbacks[j];\n        cb.f.apply(cb.t, cb.a);\n      }\n    } // Schedules the next _doPoll call by examining times in the various\n    // sets and determining the soonest event that needs _doPoll processing.\n\n  }, {\n    key: \"_startPollTimer\",\n    value: function _startPollTimer() {\n      var setnow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      // If we have already done a \"setnow\", then pollTimer is zero-timeout\n      // and cannot be faster.\n      if (this._pollTimer && this._now != null) {\n        return;\n      }\n\n      var self = this,\n          poll = function poll() {\n        self._doPoll();\n      },\n          earliest = Infinity,\n          j,\n          delay;\n\n      if (this._pollTimer) {\n        // Clear any old timer\n        clearTimeout(this._pollTimer);\n        this._pollTimer = null;\n      }\n\n      if (setnow) {\n        // When scheduling tones, cache _now and keep a zero-timeout poll.\n        // _now will be cleared the next time we execute _doPoll.\n        this._now = Utils.audioCurrentStartTime();\n        this._pollTimer = setTimeout(poll, 0);\n        return;\n      } // Timer due to notes starting: wake up for 'noteon' notification.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        earliest = Math.min(earliest, this._startSet[j].time);\n      } // Timer due to notes finishing: wake up for 'noteoff' notification.\n\n\n      for (j in this._finishSet) {\n        earliest = Math.min(earliest, this._finishSet[j].time + this._finishSet[j].duration);\n      } // Timer due to scheduled callback.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        earliest = Math.min(earliest, this._callbackSet[j].time);\n      } // Timer due to cleanup: add a second to give some time to batch up.\n\n\n      if (this._cleanupSet.length > 0) {\n        earliest = Math.min(earliest, this._cleanupSet[0].cleanuptime + 1);\n      } // Timer due to sequencer events: subtract a little time to stay ahead.\n\n\n      earliest = Math.min(earliest, this._minQueueTime - Instrument.dequeueTime);\n      delay = Math.max(0.001, earliest - this._atop.ac.currentTime); // If there are no future events, then we do not need a timer.\n\n      if (isNaN(delay) || delay == Infinity) {\n        return;\n      } // Use the Javascript timer to wake up at the right moment.\n\n\n      this._pollTimer = setTimeout(poll, Math.round(delay * 1000));\n    } // The low-level tone function.\n\n  }, {\n    key: \"tone\",\n    value: function tone(pitch, duration, velocity, delay, timbre, origin) {\n      // If audio is not present, this is a no-op.\n      if (!this._atop) {\n        return;\n      } // Called with an object instead of listed args.\n\n\n      if (typeof pitch == \"object\") {\n        if (velocity == null) velocity = pitch.velocity;\n        if (duration == null) duration = pitch.duration;\n        if (delay == null) delay = pitch.delay;\n        if (timbre == null) timbre = pitch.timbre;\n        if (origin == null) origin = pitch.origin;\n        pitch = pitch.pitch;\n      } // Convert pitch from various formats to Hz frequency and a midi num.\n\n\n      var midi, frequency;\n\n      if (!pitch) {\n        pitch = \"C\";\n      }\n\n      if (isNaN(pitch)) {\n        midi = Utils.pitchToMidi(pitch);\n        frequency = Utils.midiToFrequency(midi);\n      } else {\n        frequency = Number(pitch);\n\n        if (frequency < 0) {\n          midi = -frequency;\n          frequency = Utils.midiToFrequency(midi);\n        } else {\n          midi = Utils.frequencyToMidi(frequency);\n        }\n      }\n\n      if (!timbre) {\n        timbre = this._timbre;\n      } // If there is a custom timbre, validate and copy it.\n\n\n      if (timbre !== this._timbre) {\n        var given = timbre,\n            key;\n        timbre = {};\n\n        for (key in Utils.defaultTimbre) {\n          if (key in given) {\n            timbre[key] = given[key];\n          } else {\n            timbre[key] = Utils.defaultTimbre[key]; // RONYEH: There was a typo bug in the original Musical.js. It was caught by our TypeScript compiler.\n          }\n        }\n      } // Create the record for a tone.\n\n\n      var ac = this._atop.ac,\n          now = this.now(),\n          time = now + (delay || 0),\n          record = {\n        time: time,\n        on: false,\n        frequency: frequency,\n        midi: midi,\n        velocity: velocity == null ? 1 : velocity,\n        duration: duration == null ? Instrument.toneLength : duration,\n        timbre: timbre,\n        instrument: this,\n        gainNode: null,\n        oscillators: null,\n        cleanuptime: Infinity,\n        origin: origin // save the origin of the tone for visible feedback\n\n      };\n\n      if (time < now + Instrument.bufferSecs) {\n        // The tone starts soon!  Give it directly to WebAudio.\n        this._makeSound(record);\n      } else {\n        // The tone is later: queue it.\n        if (!this._unsortedQueue && this._queue.length && time < this._queue[this._queue.length - 1].time) {\n          this._unsortedQueue = true;\n        }\n\n        this._queue.push(record);\n\n        this._minQueueTime = Math.min(this._minQueueTime, record.time);\n      }\n    } // The low-level callback scheduling method.\n\n  }, {\n    key: \"schedule\",\n    value: function schedule(delay, callback) {\n      this._callbackSet.push({\n        time: this.now() + delay,\n        callback: callback\n      });\n    } // The high-level sequencing method.\n\n  }, {\n    key: \"play\",\n    value: function play(abcstring) {\n      var args = Array.prototype.slice.call(arguments),\n          done = null,\n          opts = {},\n          subfile,\n          abcfile,\n          argindex,\n          tempo,\n          timbre,\n          k,\n          delay,\n          maxdelay = 0,\n          attenuate,\n          voicename,\n          stems,\n          ni,\n          vn,\n          j,\n          stem,\n          note,\n          beatsecs,\n          secs,\n          v,\n          files = []; // Look for continuation as last argument.\n\n      if (args.length && \"function\" == typeof args[args.length - 1]) {\n        done = args.pop();\n      }\n\n      if (!this._atop) {\n        if (done) {\n          done();\n        }\n\n        return;\n      } // Look for options as first object.\n\n\n      argindex = 0;\n\n      if (\"object\" == typeof args[0]) {\n        // Copy own properties into an options object.\n        for (k in args[0]) {\n          if (args[0].hasOwnProperty(k)) {\n            opts[k] = args[0][k];\n          }\n        }\n\n        argindex = 1; // If a song is supplied by options object, process it.\n\n        if (opts.hasOwnProperty(\"song\")) {\n          args.push(opts[\"song\"]);\n        }\n      } // Parse any number of ABC files as input.\n\n\n      for (; argindex < args.length; ++argindex) {\n        // Handle splitting of ABC subfiles at X: lines.\n        subfile = args[argindex].split(/\\n(?=X:)/);\n\n        for (k = 0; k < subfile.length; ++k) {\n          abcfile = parseABCFile(subfile[k]);\n          if (!abcfile) continue; // Take tempo markings from the first file, and share them.\n\n          if (!opts.hasOwnProperty(\"tempo\") && abcfile.tempo) {\n            opts[\"tempo\"] = abcfile.tempo;\n\n            if (abcfile.unitbeat) {\n              opts[\"tempo\"] = opts[\"tempo\"] * abcfile.unitbeat / (abcfile.unitnote || 1);\n            }\n          } // Ignore files without songs.\n\n\n          if (!abcfile.voice) continue;\n          files.push(abcfile);\n        }\n      } // Default tempo to 120 if nothing else is specified.\n\n\n      if (!opts.hasOwnProperty(\"tempo\")) {\n        opts[\"tempo\"] = 120;\n      } // Default volume to 1 if nothing is specified.\n\n\n      if (!opts.hasOwnProperty(\"volume\")) {\n        opts[\"volume\"] = 1;\n      }\n\n      beatsecs = 60.0 / opts[\"tempo\"]; // Schedule all notes from all the files.\n\n      for (k = 0; k < files.length; ++k) {\n        abcfile = files[k]; // Each file can have multiple voices (e.g., left and right hands)\n\n        for (vn in abcfile.voice) {\n          // Each voice could have a separate timbre.\n          timbre = Utils.makeTimbre(opts[\"timbre\"] || abcfile.voice[vn].timbre || abcfile.timbre || this._timbre, this._atop); // Each voice has a series of stems (notes or chords).\n\n          stems = abcfile.voice[vn].stems;\n          if (!stems) continue; // Starting at delay zero (now), schedule all tones.\n\n          delay = 0;\n\n          for (ni = 0; ni < stems.length; ++ni) {\n            stem = stems[ni]; // Attenuate chords to reduce clipping.\n\n            attenuate = 1 / Math.sqrt(stem.notes.length); // Schedule every note inside a stem.\n\n            for (j = 0; j < stem.notes.length; ++j) {\n              note = stem.notes[j];\n\n              if (note.holdover) {\n                // Skip holdover notes from ties.\n                continue;\n              }\n\n              secs = (note.time || stem.time) * beatsecs;\n\n              if (stem.staccato) {\n                // Shorten staccato notes.\n                secs = Math.min(Math.min(secs, beatsecs / 16), timbre.attack + timbre.decay);\n              } else if (!note.slurred && secs >= 1 / 8) {\n                // Separate unslurred notes by about a 30th of a second.\n                secs -= 1 / 32;\n              }\n\n              v = (note.velocity || 1) * attenuate * opts[\"volume\"]; // This is innsermost part of the inner loop!\n\n              this.tone( // Play the tone:\n              note.pitch, // at the given pitch\n              secs, // for the given duration\n              v, // with the given volume\n              delay, // starting at the proper time\n              timbre, // with the selected timbre\n              note // the origin object for visual feedback\n              );\n            }\n\n            delay += stem.time * beatsecs; // Advance the sequenced time.\n          }\n\n          maxdelay = Math.max(delay, maxdelay);\n        }\n      }\n\n      this._maxScheduledTime = Math.max(this._maxScheduledTime, this.now() + maxdelay);\n\n      if (done) {\n        // Schedule a \"done\" callback after all sequencing is complete.\n        this.schedule(maxdelay, done);\n      }\n    }\n  }]);\n\n  return Instrument;\n}(); //\n// END INSTRUMENT\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Musical JS\n//const _Instrument = Instrument;\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"timeOffset\", 0.0625);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"dequeueTime\", 0.5);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"bufferSecs\", 2);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"toneLength\", 1);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"cleanupDelay\", 0.1);\n\nvar _parseABCFile = parseABCFile;\nvar Musical;\n\n(function (_Musical) {\n  var parseABCFile = _Musical.parseABCFile = _parseABCFile;\n})(Musical || (Musical = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Musical);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9zaGFyZWQvc291bmQvTXVzaWNhbC50cz8wN2IxIl0sIm5hbWVzIjpbIm1ha2VXYXZldGFibGUiLCJhYyIsIndhdmVkYXRhIiwibWFrZVBlcmlvZGljV2F2ZSIsImRhdGEiLCJuIiwicmVhbCIsImxlbmd0aCIsIkZsb2F0MzJBcnJheSIsImltYWciLCJqIiwiY3JlYXRlUGVyaW9kaWNXYXZlIiwiZSIsImNyZWF0ZVdhdmVUYWJsZSIsIm1ha2VNdWx0aXBsZSIsIm11bHQiLCJhbXQiLCJyZXN1bHQiLCJtIiwiTWF0aCIsImxvZyIsIm1pbiIsInB1c2giLCJleHAiLCJrIiwiZCIsImZmIiwicmVjb3JkIiwid2F2ZSIsInB3IiwiZnJlcSIsImRlZnMiLCJwaWFubyIsImdhaW4iLCJhdHRhY2siLCJkZWNheSIsInN1c3RhaW4iLCJyZWxlYXNlIiwiZGVjYXlmb2xsb3ciLCJjdXRvZmYiLCJjdXRmb2xsb3ciLCJyZXNvbmFuY2UiLCJkZXR1bmUiLCJVdGlscyIsImdsb2JhbCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIl9hdWRpb1RvcCIsImlzQXVkaW9QcmVzZW50Iiwid2F2ZXRhYmxlIiwib3V0IiwiY3VycmVudFN0YXJ0IiwicmVzZXRBdWRpbyIsImF0b3AiLCJkaXNjb25uZWN0IiwiZGNuIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwicmF0aW8iLCJzZXRWYWx1ZUF0VGltZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImdldEF1ZGlvVG9wIiwibWF4IiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwibWlkaSIsInBvdyIsInJvdW5kIiwiTE4yIiwicGl0Y2giLCJleGVjIiwib2N0YXZlIiwicmVwbGFjZSIsInNlbWl0b25lIiwibm90ZU51bSIsImFjY1N5bSIsImNoYXJBdCIsImluZGV4Iiwib2N0YXZlcyIsIm5vdGVOYW1lIiwibWlkaVRvRnJlcXVlbmN5IiwicGl0Y2hUb01pZGkiLCJvcHRpb25zIiwia2V5Iiwid3QiLCJkZWZhdWx0VGltYnJlIiwiaGFzT3duUHJvcGVydHkiLCJ3aGl0ZU5vaXNlQnVmIiwiYnVmZmVyU2l6ZSIsInNhbXBsZVJhdGUiLCJjcmVhdGVCdWZmZXIiLCJvdXRwdXQiLCJnZXRDaGFubmVsRGF0YSIsImkiLCJyYW5kb20iLCJ3YXZlbmFtZSIsIndoaXRlTm9pc2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJnZXRXaGl0ZU5vaXNlQnVmIiwibG9vcCIsIm8iLCJjcmVhdGVPc2NpbGxhdG9yIiwicHdhdmUiLCJid2YiLCJ3ZiIsIk51bWJlciIsInNldFBlcmlvZGljV2F2ZSIsInNldFdhdmVUYWJsZSIsInR5cGUiLCJ3aW5kb3ciLCJjb25zb2xlIiwiZnJlcXVlbmN5Iiwic2V0VGFyZ2V0QXRUaW1lIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJBIiwiQiIsImMiLCJmIiwiZyIsImEiLCJiIiwiXyIsIkFCQ2hlYWRlciIsIkFCQ3Rva2VuIiwicGFyc2VBQkNGaWxlIiwic3RyIiwibGluZXMiLCJzcGxpdCIsImNvbnRleHQiLCJ0aW1icmUiLCJoZWFkZXIiLCJzdGVtcyIsImFjY2VudCIsInNsdXJyZWQiLCJ2b2ljZWlkIiwiaGFuZGxlSW5mb3JtYXRpb24iLCJ0cmltIiwidGVzdCIsInBhcnNlQUJDTm90ZXMiLCJpbmZlciIsInZvaWNlIiwicHJvY2Vzc1RpZXMiLCJmaWVsZCIsInZhbHVlIiwic3RhcnRWb2ljZUNvbnRleHQiLCJwYXJzZU1ldGVyIiwicGFyc2VVbml0Tm90ZSIsInBhcnNlVGVtcG8iLCJrZXlzaWciLCJmaXJzdFZvaWNlTmFtZSIsImlkIiwiViIsInRva2VucyIsIm1hdGNoIiwicGFyc2VkIiwiZG90dGVkIiwiYmVhdGxldCIsInQiLCJzdWJzdHJpbmciLCJwYXJzZUJlYXRsZXQiLCJwYXJzZURlY29yYXRpb24iLCJzbHVyU3RlbSIsInBhcnNlU3RlbSIsInNjYWxlU3RlbSIsInN0ZW0iLCJ0aW1lIiwiY291bnQiLCJzeW5jb3BhdGVTdGVtIiwibWxpbmUiLCJiZWF0aW5mbyIsImR1cmF0aW9uVG9UaW1lIiwidW5pdG5vdGUiLCJsbGluZSIsInFsaW5lIiwicGFydHMiLCJ1bml0IiwidGVtcG8iLCJpbmRleE9mIiwidW5pdGJlYXQiLCJ0aWVkIiwibmV4dFRpZWQiLCJub3RlIiwiZmlyc3ROb3RlIiwibm90ZXMiLCJob2xkb3ZlciIsInRpZSIsImFjY2lkZW50YWxzIiwic2hhcnBzIiwia2V5bmFtZSIsImtrZXkiLCJzaWdjb2RlcyIsImJiIiwiZWIiLCJhYiIsImRiIiwiZ2IiLCJjYiIsImJtIiwiZW0iLCJhbSIsImRtIiwiZ20iLCJjbSIsImZtIiwiYmJtIiwiZWJtIiwiYWJtIiwiYm1peCIsImVtaXgiLCJhbWl4IiwiZG1peCIsImdtaXgiLCJjbWl4IiwiZm1peCIsImJibWl4IiwiZWJtaXgiLCJhYm1peCIsImRibWl4IiwiZ2JtaXgiLCJiZG9yIiwiZWRvciIsImFkb3IiLCJkZG9yIiwiZ2RvciIsImNkb3IiLCJmZG9yIiwiYmJkb3IiLCJlYmRvciIsImFiZG9yIiwiZGJkb3IiLCJicGhyIiwiZXBociIsImFwaHIiLCJkcGhyIiwiZ3BociIsImNwaHIiLCJmcGhyIiwiYmJwaHIiLCJlYnBociIsImJseWQiLCJlbHlkIiwiYWx5ZCIsImRseWQiLCJnbHlkIiwiY2x5ZCIsImZseWQiLCJiYmx5ZCIsImVibHlkIiwiYWJseWQiLCJkYmx5ZCIsImdibHlkIiwiY2JseWQiLCJmYmx5ZCIsImJsb2MiLCJlbG9jIiwiYWxvYyIsImRsb2MiLCJnbG9jIiwiY2xvYyIsImZsb2MiLCJiYmxvYyIsInRvTG93ZXJDYXNlIiwic3Vic3RyIiwic2NhbGUiLCJleHRyYXMiLCJ0b1VwcGVyQ2FzZSIsInN0ZW10aW1lIiwibmV3dGltZSIsImFkZFNsdXIiLCJzIiwidG9rZW4iLCJiZWF0cyIsImR1cmF0aW9uIiwiZHluYW1pY3MiLCJzdGFjY2F0byIsIm5vdGVEdXJhdGlvbiIsIm5vdGVUaW1lIiwidmVsb2NpdHkiLCJsYXN0Tm90ZSIsIm1pblN0ZW1UaW1lIiwiSW5maW5pdHkiLCJhcHBseUFjY2VudCIsInBpdGNoVG9GcmVxdWVuY3kiLCJzdHJpcE5hdHVyYWwiLCJsZXR0ZXIiLCJpbGVuIiwicGFyc2VGbG9hdCIsIkluc3RydW1lbnQiLCJtaWRpVG9QaXRjaCIsIl9hdG9wIiwiX3RpbWJyZSIsIm1ha2VUaW1icmUiLCJfcXVldWUiLCJfbWluUXVldWVUaW1lIiwiX21heFNjaGVkdWxlZFRpbWUiLCJfdW5zb3J0ZWRRdWV1ZSIsIl9zdGFydFNldCIsIl9maW5pc2hTZXQiLCJfY2xlYW51cFNldCIsIl9jYWxsYmFja1NldCIsIl9oYW5kbGVycyIsIl9ub3ciLCJzaWxlbmNlIiwidiIsIl9vdXQiLCJpc05hTiIsImZpbmlzaGVkIiwiY2FsbGJhY2tzIiwiaW5pdHZvbHVtZSIsImNyZWF0ZUdhaW4iLCJfdHJpZ2dlciIsImNhbGxiYWNrIiwiX3N0YXJ0UG9sbFRpbWVyIiwiZXZlbnRuYW1lIiwiaHVudCIsInNwbGljZSIsInNsaWNlIiwic3RhcnR0aW1lIiwidGltZU9mZnNldCIsInJlbGVhc2V0aW1lIiwiYXR0YWNrdGltZSIsImRlY2F5dGltZSIsImRlY2F5c3RhcnR0aW1lIiwic3RvcHRpbWUiLCJkb3VibGVkIiwiYW1wIiwibzIiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsIlEiLCJtYWtlT3NjaWxsYXRvciIsInN0YXJ0Iiwic3RvcCIsImdhaW5Ob2RlIiwib3NjaWxsYXRvcnMiLCJjbGVhbnVwdGltZSIsInRydW5jYXRldGltZSIsImNsZWFudXBEZWxheSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsIl9wb2xsVGltZXIiLCJpbnN0YW50Iiwid29yayIsIndoZW4iLCJjb25mbGljdCIsInNhdmUiLCJidWZmZXJTZWNzIiwic29ydCIsIl9tYWtlU291bmQiLCJvcmRlciIsIl90cnVuY2F0ZVNvdW5kIiwiYXBwbHkiLCJzZXRub3ciLCJzZWxmIiwicG9sbCIsIl9kb1BvbGwiLCJlYXJsaWVzdCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9DdXJyZW50U3RhcnRUaW1lIiwiZGVxdWV1ZVRpbWUiLCJvcmlnaW4iLCJmcmVxdWVuY3lUb01pZGkiLCJnaXZlbiIsIm5vdyIsIm9uIiwidG9uZUxlbmd0aCIsImluc3RydW1lbnQiLCJhYmNzdHJpbmciLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXJndW1lbnRzIiwiZG9uZSIsIm9wdHMiLCJzdWJmaWxlIiwiYWJjZmlsZSIsImFyZ2luZGV4IiwibWF4ZGVsYXkiLCJhdHRlbnVhdGUiLCJ2b2ljZW5hbWUiLCJuaSIsInZuIiwiYmVhdHNlY3MiLCJzZWNzIiwiZmlsZXMiLCJwb3AiLCJzcXJ0IiwidG9uZSIsInNjaGVkdWxlIiwiX3BhcnNlQUJDRmlsZSIsIk11c2ljYWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBVUMsRUFBVixFQUFjO0FBQ2hDLFNBQVEsVUFBVUMsUUFBVixFQUFvQjtBQUN4QixhQUFTQyxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0M7QUFDNUIsVUFBSUMsQ0FBQyxHQUFHRCxJQUFJLENBQUNFLElBQUwsQ0FBVUMsTUFBbEI7QUFBQSxVQUNJRCxJQUFJLEdBQUcsSUFBSUUsWUFBSixDQUFpQkgsQ0FBakIsQ0FEWDtBQUFBLFVBRUlJLElBQUksR0FBRyxJQUFJRCxZQUFKLENBQWlCSCxDQUFqQixDQUZYO0FBQUEsVUFHSUssQ0FISjs7QUFJQSxXQUFLQSxDQUFDLEdBQUcsQ0FBVCxFQUFZQSxDQUFDLEdBQUdMLENBQWhCLEVBQW1CLEVBQUVLLENBQXJCLEVBQXdCO0FBQ3BCSixZQUFJLENBQUNJLENBQUQsQ0FBSixHQUFVTixJQUFJLENBQUNFLElBQUwsQ0FBVUksQ0FBVixDQUFWO0FBQ0FELFlBQUksQ0FBQ0MsQ0FBRCxDQUFKLEdBQVVOLElBQUksQ0FB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Q0FBY1gsUUFBZCxFQUF3QkwsSUFBeEI7QUFDSDtBQUNKOzs7O0tBR0w7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7d0pBcHhCTXRGLFUsZ0JBQ2tCLE07O3dKQURsQkEsVSxpQkFFbUIsRzs7d0pBRm5CQSxVLGdCQUdrQixDOzt3SkFIbEJBLFUsZ0JBSWtCLEM7O3dKQUpsQkEsVSxrQkFLb0IsRzs7QUFneEIxQixJQUFNdUcsYUFBYSxHQUFHMVEsWUFBdEI7Ozs7QUFJVyxNQUFNQSxZQUFZLDJCQUFHMFEsYUFBckI7R0FGREMsTyxLQUFBQSxPOztBQUtLQSxzRUFBZiIsImZpbGUiOiIuL2FwcHMvc2hhcmVkL3NvdW5kL011c2ljYWwudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtdXNpY2FsLmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vUGVuY2lsQ29kZS9tdXNpY2FsLmpzXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXQVZFVEFCTEUtQlVJTERFUlxuXG4vLyB3YXZldGFibGUgaXMgYSB0YWJsZSBvZiBuYW1lcyBmb3Igbm9uc3RhbmRhcmQgd2F2ZWZvcm1zLlxuLy8gVGhlIHRhYmxlIG1hcHMgbmFtZXMgdG8gb2JqZWN0cyB0aGF0IGhhdmUgd2F2ZTogYW5kIGZyZXE6XG4vLyBwcm9wZXJ0aWVzLiBUaGUgd2F2ZTogcHJvcGVydHkgaXMgYSBQZXJpb2RpY1dhdmUgdG8gdXNlXG4vLyBmb3IgdGhlIG9zY2lsbGF0b3IuICBUaGUgZnJlcTogcHJvcGVydHksIGlmIHByZXNlbnQsXG4vLyBpcyBhIG1hcCBmcm9tIGhpZ2hlciBmcmVxdWVuY2llcyB0byBtb3JlIFBlcmlvZGljV2F2ZVxuLy8gb2JqZWN0czsgd2hlbiBhIGZyZXF1ZW5jeSBoaWdoZXIgdGhhbiB0aGUgZ2l2ZW4gdGhyZXNob2xkXG4vLyBpcyByZXF1ZXN0ZWQsIHRoZSBhbHRlcm5hdGUgUGVyaW9kaWNXYXZlIGlzIHVzZWQuXG5cbmNvbnN0IG1ha2VXYXZldGFibGUgPSBmdW5jdGlvbiAoYWMpIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uICh3YXZlZGF0YSkge1xuICAgICAgICBmdW5jdGlvbiBtYWtlUGVyaW9kaWNXYXZlKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBuID0gZGF0YS5yZWFsLmxlbmd0aCxcbiAgICAgICAgICAgICAgICByZWFsID0gbmV3IEZsb2F0MzJBcnJheShuKSxcbiAgICAgICAgICAgICAgICBpbWFnID0gbmV3IEZsb2F0MzJBcnJheShuKSxcbiAgICAgICAgICAgICAgICBqO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIHJlYWxbal0gPSBkYXRhLnJlYWxbal07XG4gICAgICAgICAgICAgICAgaW1hZ1tqXSA9IGRhdGEuaW1hZ1tqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gTGF0ZXN0IEFQSSBuYW1pbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjLmNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEVhcmxpZXIgQVBJIG5hbWluZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gYWMuY3JlYXRlV2F2ZVRhYmxlKHJlYWwsIGltYWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VNdWx0aXBsZShkYXRhLCBtdWx0LCBhbXQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7IHJlYWw6IFtdLCBpbWFnOiBbXSB9LFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbiA9IGRhdGEucmVhbC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICBtID0gTWF0aC5sb2cobXVsdFtNYXRoLm1pbihqLCBtdWx0Lmxlbmd0aCAtIDEpXSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlYWwucHVzaChkYXRhLnJlYWxbal0gKiBNYXRoLmV4cChhbXQgKiBtKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmltYWcucHVzaChkYXRhLmltYWdbal0gKiBNYXRoLmV4cChhbXQgKiBtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgbixcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBmZixcbiAgICAgICAgICAgIHJlY29yZCxcbiAgICAgICAgICAgIHdhdmUsXG4gICAgICAgICAgICBwdztcbiAgICAgICAgZm9yIChrIGluIHdhdmVkYXRhKSB7XG4gICAgICAgICAgICBkID0gd2F2ZWRhdGFba107XG4gICAgICAgICAgICB3YXZlID0gbWFrZVBlcmlvZGljV2F2ZShkKTtcbiAgICAgICAgICAgIGlmICghd2F2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkID0geyB3YXZlOiB3YXZlIH07XG4gICAgICAgICAgICAvLyBBIHN0cmF0ZWd5IGZvciBjb21wdXRpbmcgaGlnaGVyIGZyZXF1ZW5jeSB3YXZlZm9ybXM6IGFwcGx5XG4gICAgICAgICAgICAvLyBtdWx0aXBsaWVycyB0byBlYWNoIGhhcm1vbmljIGFjY29yZGluZyB0byBkLm11bHQuICBUaGVzZVxuICAgICAgICAgICAgLy8gbXVsdGlwbGllcnMgY2FuIGJlIGludGVycG9sYXRlZCBhbmQgYXBwbGllZCBhdCBhbnkgbnVtYmVyXG4gICAgICAgICAgICAvLyBvZiB0cmFuc2l0aW9uIGZyZXF1ZW5jaWVzLlxuICAgICAgICAgICAgaWYgKGQubXVsdCkge1xuICAgICAgICAgICAgICAgIGZmID0gd2F2ZWRhdGFba10uZnJlcTtcbiAgICAgICAgICAgICAgICByZWNvcmQuZnJlcSA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBmZi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB3YXZlID0gbWFrZVBlcmlvZGljV2F2ZShtYWtlTXVsdGlwbGUoZCwgZC5tdWx0LCAoaiArIDEpIC8gZmYubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuZnJlcVtmZltqXV0gPSB3YXZlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyB3YXZlIGhhcyBzb21lIGRlZmF1bHQgZmlsdGVyIHNldHRpbmdzLlxuICAgICAgICAgICAgaWYgKGQuZGVmcykge1xuICAgICAgICAgICAgICAgIHJlY29yZC5kZWZzID0gZC5kZWZzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W2tdID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkoe1xuICAgICAgICAvLyBDdXJyZW50bHkgdGhlIG9ubHkgbm9uc3RhbmRhcmQgd2F2ZWZvcm0gaXMgXCJwaWFub1wiLlxuICAgICAgICAvLyBJdCBpcyBiYXNlZCBvbiB0aGUgZmlyc3QgMzIgaGFybW9uaWNzIGZyb20gdGhlIGV4YW1wbGU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLWF1ZGlvLXNhbXBsZXNcbiAgICAgICAgLy8gL2Jsb2IvZ2gtcGFnZXMvc2FtcGxlcy9hdWRpby93YXZlLXRhYmxlcy9QaWFub1xuICAgICAgICAvLyBUaGF0IGlzIGEgdGVycmlmaWMgc291bmQgZm9yIHRoZSBsb3dlc3QgcGlhbm8gdG9uZXMuXG4gICAgICAgIC8vIEZvciBoaWdoZXIgdG9uZXMsIGludGVycG9sYXRlIHRvIGEgY3VzdG9temVkIHdhdmVcbiAgICAgICAgLy8gc2hhcGUgY3JlYXRlZCBieSBoYW5kLCBhbmQgYXBwbHkgYSBsb3dwYXNzIGZpbHRlci5cbiAgICAgICAgcGlhbm86IHtcbiAgICAgICAgICAgIHJlYWw6IFtcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgLTAuMjAzNTY5LFxuICAgICAgICAgICAgICAgIDAuNSxcbiAgICAgICAgICAgICAgICAtMC40MDE2NzYsXG4gICAgICAgICAgICAgICAgMC4xMzcxMjgsXG4gICAgICAgICAgICAgICAgLTAuMTA0MTE3LFxuICAgICAgICAgICAgICAgIDAuMTE1OTY1LFxuICAgICAgICAgICAgICAgIC0wLjAwNDQxMyxcbiAgICAgICAgICAgICAgICAwLjA2Nzg4NCxcbiAgICAgICAgICAgICAgICAtMC4wMDg4OCxcbiAgICAgICAgICAgICAgICAwLjA3OTMsXG4gICAgICAgICAgICAgICAgLTAuMDM4NzU2LFxuICAgICAgICAgICAgICAgIDAuMDExODgyLFxuICAgICAgICAgICAgICAgIC0wLjAzMDg4MyxcbiAgICAgICAgICAgICAgICAwLjAyNzYwOCxcbiAgICAgICAgICAgICAgICAtMC4wMTM0MjksXG4gICAgICAgICAgICAgICAgMC4wMDM5MyxcbiAgICAgICAgICAgICAgICAtMC4wMTQwMjksXG4gICAgICAgICAgICAgICAgMC4wMDk3MixcbiAgICAgICAgICAgICAgICAtMC4wMDc2NTMsXG4gICAgICAgICAgICAgICAgMC4wMDc4NjYsXG4gICAgICAgICAgICAgICAgLTAuMDMyMDI5LFxuICAgICAgICAgICAgICAgIDAuMDQ2MTI3LFxuICAgICAgICAgICAgICAgIC0wLjAyNDE1NSxcbiAgICAgICAgICAgICAgICAwLjAyMzA5NSxcbiAgICAgICAgICAgICAgICAtMC4wMDU1MjIsXG4gICAgICAgICAgICAgICAgMC4wMDQ1MTEsXG4gICAgICAgICAgICAgICAgLTAuMDAzNTkzLFxuICAgICAgICAgICAgICAgIDAuMDExMjQ4LFxuICAgICAgICAgICAgICAgIC0wLjAwNDkxOSxcbiAgICAgICAgICAgICAgICAwLjAwODUwNSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbWFnOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLjE0NzYyMSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA3LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAxLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNixcbiAgICAgICAgICAgICAgICAwLjAwMDAwOSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA4LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwMSxcbiAgICAgICAgICAgICAgICAwLjAwMDAxNCxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDgsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDMsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA5LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA5LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNSxcbiAgICAgICAgICAgICAgICAwLjAwMDAwMixcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAyMyxcbiAgICAgICAgICAgICAgICAwLjAwMDAzNyxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMjEsXG4gICAgICAgICAgICAgICAgMC4wMDAwMjIsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA2LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNCxcbiAgICAgICAgICAgICAgICAwLjAwMDAxNCxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgMC4wMDAwMTIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gSG93IHRvIGFkanVzdCB0aGUgaGFybW9uaWNzIGZvciB0aGUgaGlnZXN0IG5vdGVzLlxuICAgICAgICAgICAgbXVsdDogWzEsIDEsIDAuMTgsIDAuMDE2LCAwLjAxLCAwLjAxLCAwLjAxLCAwLjAwNCwgMC4wMTQsIDAuMDIsIDAuMDE0LCAwLjAwNCwgMC4wMDIsIDAuMDAwMDFdLFxuICAgICAgICAgICAgLy8gVGhlIGZyZXF1ZW5jaWVzIGF0IHdoaWNoIHRvIGludGVycG9sYXRlIHRoZSBoYXJtb25pY3MuXG4gICAgICAgICAgICBmcmVxOiBbNjUsIDgwLCAxMDAsIDEzNSwgMTgwLCAyNDAsIDYyMCwgMTM2MF0sXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MgdG8gdXNlIGZvciB0aGUgcGlhbm8gd2F2ZS5cbiAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgYXBwcm9hY2ggYXR0ZW51YXRlcyBsb3cgbm90ZXMgdG9vIG11Y2ggLVxuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgYmUgZml4ZWQuXG4gICAgICAgICAgICBkZWZzOiB7IHdhdmU6IFwicGlhbm9cIiwgZ2FpbjogMC41LCBhdHRhY2s6IDAuMDAyLCBkZWNheTogMC4yNSwgc3VzdGFpbjogMC4wMywgcmVsZWFzZTogMC4xLCBkZWNheWZvbGxvdzogMC43LCBjdXRvZmY6IDgwMCwgY3V0Zm9sbG93OiAwLjEsIHJlc29uYW5jZTogMSwgZGV0dW5lOiAwLjk5OTQgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbi8vIEVORCBXQVZFVEFCTEUtQlVJTERFUlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFVUSUxTXG5cbmNsYXNzIFV0aWxzIHtcbiAgICAvLyBUZXN0cyBmb3IgdGhlIHByZXNlbmNlIG9mIEhUTUw1IFdlYiBBdWRpbyAob3Igd2Via2l0J3MgdmVyc2lvbikuXG4gICAgc3RhdGljIGlzQXVkaW9QcmVzZW50KCkge1xuICAgICAgICByZXR1cm4gISEoZ2xvYmFsLkF1ZGlvQ29udGV4dCB8fCBnbG9iYWwud2Via2l0QXVkaW9Db250ZXh0KTtcbiAgICB9XG5cbiAgICAvLyBBbGwgb3VyIGF1ZGlvIGZ1bm5lbHMgdGhyb3VnaCB0aGUgc2FtZSBBdWRpb0NvbnRleHQgd2l0aCBhXG4gICAgLy8gRHluYW1pY3NDb21wcmVzc29yTm9kZSB1c2VkIGFzIHRoZSBtYWluIG91dHB1dCwgdG8gY29tcHJlc3MgdGhlXG4gICAgLy8gZHluYW1pYyByYW5nZSBvZiBhbGwgYXVkaW8uICBnZXRBdWRpb1RvcCBzZXRzIHRoaXMgdXAuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2F1ZGlvVG9wID0gbnVsbDtcbiAgICBzdGF0aWMgZ2V0QXVkaW9Ub3AoKSB7XG4gICAgICAgIGlmIChVdGlscy5fYXVkaW9Ub3ApIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5fYXVkaW9Ub3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFVdGlscy5pc0F1ZGlvUHJlc2VudCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWMgPSBuZXcgKGdsb2JhbC5BdWRpb0NvbnRleHQgfHwgZ2xvYmFsLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcbiAgICAgICAgVXRpbHMuX2F1ZGlvVG9wID0ge1xuICAgICAgICAgICAgYWM6IGFjLFxuICAgICAgICAgICAgd2F2ZXRhYmxlOiBtYWtlV2F2ZXRhYmxlKGFjKSxcbiAgICAgICAgICAgIG91dDogbnVsbCxcbiAgICAgICAgICAgIGN1cnJlbnRTdGFydDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgVXRpbHMucmVzZXRBdWRpbygpO1xuICAgICAgICByZXR1cm4gVXRpbHMuX2F1ZGlvVG9wO1xuICAgIH1cblxuICAgIC8vIFdoZW4gYXVkaW8gbmVlZHMgdG8gYmUgaW50ZXJydXB0ZWQgZ2xvYmFsbHkgKGUuZy4sIHdoZW4geW91IHByZXNzIHRoZVxuICAgIC8vIHN0b3AgYnV0dG9uIGluIHRoZSBJREUpLCByZXNldEF1ZGlvIGRvZXMgdGhlIGpvYi5cbiAgICBzdGF0aWMgcmVzZXRBdWRpbygpIHtcbiAgICAgICAgaWYgKFV0aWxzLl9hdWRpb1RvcCkge1xuICAgICAgICAgICAgdmFyIGF0b3AgPSBVdGlscy5fYXVkaW9Ub3A7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSB0b3AtbGV2ZWwgbm9kZSBhbmQgbWFrZSBhIG5ldyBvbmUuXG4gICAgICAgICAgICBpZiAoYXRvcC5vdXQpIHtcbiAgICAgICAgICAgICAgICBhdG9wLm91dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYXRvcC5vdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGF0b3AuY3VycmVudFN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkY24gPSBhdG9wLmFjLmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO1xuICAgICAgICAgICAgZGNuLnJhdGlvLnNldFZhbHVlQXRUaW1lKDE2LCAwKTtcbiAgICAgICAgICAgIGRjbi5hdHRhY2suc2V0VmFsdWVBdFRpbWUoMC4wMDA1LCAwKTtcbiAgICAgICAgICAgIC8vIGRjbi5yYXRpbyA9IDE2OyAvLyBST05ZRUg6IC5yYXRpbyBpcyBhIFJFQUQgT05MWSBwcm9wZXJ0eS5cbiAgICAgICAgICAgIC8vIGRjbi5hdHRhY2sgPSAwLjAwMDU7IC8vIFJPTllFSDogLnJhdGlvIGlzIGEgUkVBRCBPTkxZIHByb3BlcnR5LlxuICAgICAgICAgICAgZGNuLmNvbm5lY3QoYXRvcC5hYy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBhdG9wLm91dCA9IGRjbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvciBwcmVjaXNlIHNjaGVkdWxpbmcgb2YgZnV0dXJlIG5vdGVzLCB0aGUgQXVkaW9Db250ZXh0IGN1cnJlbnRUaW1lIGlzXG4gICAgLy8gY2FjaGVkIGFuZCBpcyBoZWxkIGNvbnN0YW50IHVudGlsIHRoZSBzY3JpcHQgcmVsZWFzZXMgdG8gdGhlIGV2ZW50IGxvb3AuXG4gICAgc3RhdGljIGF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpIHtcbiAgICAgICAgdmFyIGF0b3AgPSBVdGlscy5nZXRBdWRpb1RvcCgpO1xuICAgICAgICBpZiAoYXRvcC5jdXJyZW50U3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGF0b3AuY3VycmVudFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgZGVsYXkgY291bGQgYmUgYWRkZWQgYmVsb3cgdG8gaW50cm9kdWNlIGEgdW5pdmVyc2FsIGRlbGF5IGluXG4gICAgICAgIC8vIGFsbCBiZWdpbm5pbmcgc291bmRzICh3aXRob3V0IHNrZXdpbmcgZHVyYXRpb25zIGZvciBzY2hlZHVsZWRcbiAgICAgICAgLy8gc2VxdWVuY2VzKS5cbiAgICAgICAgYXRvcC5jdXJyZW50U3RhcnQgPSBNYXRoLm1heCgwLjI1LCBhdG9wLmFjLmN1cnJlbnRUaW1lIC8qICsgMC4wIGRlbGF5ICovKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhdG9wLmN1cnJlbnRTdGFydCA9IG51bGw7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm4gYXRvcC5jdXJyZW50U3RhcnQ7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgYSBtaWRpIG5vdGUgbnVtYmVyIHRvIGEgZnJlcXVlbmN5IGluIEh6LlxuICAgIHN0YXRpYyBtaWRpVG9GcmVxdWVuY3kobWlkaSkge1xuICAgICAgICByZXR1cm4gNDQwICogTWF0aC5wb3coMiwgKG1pZGkgLSA2OSkgLyAxMik7XG4gICAgfVxuXG4gICAgLy8gU29tZSBjb25zdGFudHMuXG4gICAgc3RhdGljIG5vdGVOdW0gPSB7IEM6IDAsIEQ6IDIsIEU6IDQsIEY6IDUsIEc6IDcsIEE6IDksIEI6IDExLCBjOiAxMiwgZDogMTQsIGU6IDE2LCBmOiAxNywgZzogMTksIGE6IDIxLCBiOiAyMyB9O1xuICAgIHN0YXRpYyBhY2NTeW0gPSB7IFwiXlwiOiAxLCBcIlwiOiAwLCBcIj1cIjogMCwgXzogLTEgfTtcbiAgICBzdGF0aWMgbm90ZU5hbWUgPSBbXCJDXCIsIFwiXkNcIiwgXCJEXCIsIFwiX0VcIiwgXCJFXCIsIFwiRlwiLCBcIl5GXCIsIFwiR1wiLCBcIl9BXCIsIFwiQVwiLCBcIl9CXCIsIFwiQlwiLCBcImNcIiwgXCJeY1wiLCBcImRcIiwgXCJfZVwiLCBcImVcIiwgXCJmXCIsIFwiXmZcIiwgXCJnXCIsIFwiX2FcIiwgXCJhXCIsIFwiX2JcIiwgXCJiXCJdO1xuXG4gICAgLy8gQ29udmVydHMgYSBmcmVxdWVuY3kgaW4gSHogdG8gdGhlIGNsb3Nlc3QgbWlkaSBudW1iZXIuXG4gICAgc3RhdGljIGZyZXF1ZW5jeVRvTWlkaShmcmVxKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDY5ICsgKE1hdGgubG9nKGZyZXEgLyA0NDApICogMTIpIC8gTWF0aC5MTjIpO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIGFuIEFCQyBwaXRjaCAoc3VjaCBhcyBcIl5HLCxcIikgdG8gYSBtaWRpIG5vdGUgbnVtYmVyLlxuICAgIHN0YXRpYyBwaXRjaFRvTWlkaShwaXRjaCkge1xuICAgICAgICB2YXIgbSA9IC9eKFxcXit8Xyt8PXwpKFtBLUdhLWddKShbLCddKikkLy5leGVjKHBpdGNoKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2N0YXZlID0gbVszXS5yZXBsYWNlKC8sL2csIFwiXCIpLmxlbmd0aCAtIG1bM10ucmVwbGFjZSgvJy9nLCBcIlwiKS5sZW5ndGg7XG4gICAgICAgIHZhciBzZW1pdG9uZSA9IFV0aWxzLm5vdGVOdW1bbVsyXV0gKyBVdGlscy5hY2NTeW1bbVsxXS5jaGFyQXQoMCldICogbVsxXS5sZW5ndGggKyAxMiAqIG9jdGF2ZTtcbiAgICAgICAgcmV0dXJuIHNlbWl0b25lICsgNjA7IC8vIDYwID0gbWlkaSBjb2RlIG1pZGRsZSBcIkNcIi5cbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0cyBhIG1pZGkgbnVtYmVyIHRvIGFuIEFCQyBub3RhdGlvbiBwaXRjaC5cbiAgICBzdGF0aWMgbWlkaVRvUGl0Y2gobWlkaSkge1xuICAgICAgICB2YXIgaW5kZXggPSAobWlkaSAtIDcyKSAlIDEyO1xuICAgICAgICBpZiAobWlkaSA+IDYwIHx8IGluZGV4ICE9IDApIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvY3RhdmVzID0gTWF0aC5yb3VuZCgobWlkaSAtIGluZGV4IC0gNjApIC8gMTIpLFxuICAgICAgICAgICAgcmVzdWx0ID0gVXRpbHMubm90ZU5hbWVbaW5kZXhdO1xuICAgICAgICB3aGlsZSAob2N0YXZlcyAhPSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gb2N0YXZlcyA+IDAgPyBcIidcIiA6IFwiLFwiO1xuICAgICAgICAgICAgb2N0YXZlcyArPSBvY3RhdmVzID4gMCA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIGFuIEFCQyBwaXRjaCB0byBhIGZyZXF1ZW5jeSBpbiBIei5cbiAgICBzdGF0aWMgcGl0Y2hUb0ZyZXF1ZW5jeShwaXRjaCkge1xuICAgICAgICByZXR1cm4gVXRpbHMubWlkaVRvRnJlcXVlbmN5KFV0aWxzLnBpdGNoVG9NaWRpKHBpdGNoKSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlZmF1bHQgc291bmQgaXMgYSBzcXVhcmUgd2F2ZSB3aXRoIGEgcHJldHR5IHF1aWNrIGRlY2F5IHRvIHplcm8uXG4gICAgc3RhdGljIGRlZmF1bHRUaW1icmUgPSB7XG4gICAgICAgIHdhdmU6IFwic3F1YXJlXCIsIC8vIE9zY2lsbGF0b3IgdHlwZS5cbiAgICAgICAgZ2FpbjogMC4xLCAvLyBPdmVyYWxsIGdhaW4gYXQgbWF4aW11bSBhdHRhY2suXG4gICAgICAgIGF0dGFjazogMC4wMDIsIC8vIEF0dGFjayB0aW1lIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSB0b25lLlxuICAgICAgICBkZWNheTogMC40LCAvLyBSYXRlIG9mIGV4cG9uZW50aWFsIGRlY2F5IGFmdGVyIGF0dGFjay5cbiAgICAgICAgZGVjYXlmb2xsb3c6IDAsIC8vIEFtb3VudCBvZiBkZWNheSBzaG9ydGVuaW5nIGZvciBoaWdoZXIgbm90ZXMuXG4gICAgICAgIHN1c3RhaW46IDAsIC8vIFBvcnRpb24gb2YgZ2FpbiB0byBzdXN0YWluIGluZGVmaW5pdGVseS5cbiAgICAgICAgcmVsZWFzZTogMC4xLCAvLyBSZWxlYXNlIHRpbWUgYWZ0ZXIgYSB0b25lIGlzIGRvbmUuXG4gICAgICAgIGN1dG9mZjogMCwgLy8gTG93LXBhc3MgZmlsdGVyIGN1dG9mZiBmcmVxdWVuY3kuXG4gICAgICAgIGN1dGZvbGxvdzogMCwgLy8gQ3V0b2ZmIGFkanVzdG1lbnQsIGEgbXVsdGlwbGUgb2Ygb3NjaWxsYXRvciBmcmVxLlxuICAgICAgICByZXNvbmFuY2U6IDAsIC8vIExvdy1wYXNzIGZpbHRlciByZXNvbmFuY2UuXG4gICAgICAgIGRldHVuZTogMCwgLy8gRGV0dW5lIGZhY3RvciBmb3IgYSBzZWNvbmQgb3NjaWxsYXRvci5cbiAgICB9O1xuXG4gICAgLy8gTm9ycm1hbGl6ZXMgYSB0aW1icmUgb2JqZWN0IGJ5IG1ha2luZyBhIGNvcHkgdGhhdCBoYXMgZXhhY3RseVxuICAgIC8vIHRoZSByaWdodCBzZXQgb2YgdGltYnJlIGZpZWxkcywgZGVmYXVsdGluZyB3aGVuIG5lZWRlZC5cbiAgICAvLyBBIHRpbWJyZSBjYW4gc3BlY2lmeSBhbnkgb2YgdGhlIGZpZWxkcyBvZiBkZWZhdWx0VGltYnJlOyBhbnlcbiAgICAvLyB1bnNwZWNpZmllZCBmaWVsZHMgYXJlIHRyZWF0ZWQgYXMgdGhleSBhcmUgc2V0IGluIGRlZmF1bHRUaW1icmUuXG4gICAgc3RhdGljIG1ha2VUaW1icmUob3B0aW9ucywgYXRvcCkge1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gQWJicmV2aWF0aW9uOiBuYW1lIGEgd2F2ZSB0byBnZXQgYSBkZWZhdWx0IHRpbWJyZSBmb3IgdGhhdCB3YXZlLlxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2F2ZTogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHd0ID0gYXRvcCAmJiBhdG9wLndhdmV0YWJsZSAmJiBhdG9wLndhdmV0YWJsZVtvcHRpb25zLndhdmVdO1xuICAgICAgICBmb3IgKGtleSBpbiBVdGlscy5kZWZhdWx0VGltYnJlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHd0ICYmIHd0LmRlZnMgJiYgd3QuZGVmcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB3dC5kZWZzW2tleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gVXRpbHMuZGVmYXVsdFRpbWJyZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHdoaXRlTm9pc2VCdWYgPSBudWxsOyAvLyBjYWNoZVxuICAgIHN0YXRpYyBnZXRXaGl0ZU5vaXNlQnVmKCkge1xuICAgICAgICBpZiAod2hpdGVOb2lzZUJ1ZiA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYWMgPSBVdGlscy5nZXRBdWRpb1RvcCgpLmFjLFxuICAgICAgICAgICAgICAgIGJ1ZmZlclNpemUgPSAyICogYWMuc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICB3aGl0ZU5vaXNlQnVmID0gYWMuY3JlYXRlQnVmZmVyKDEsIGJ1ZmZlclNpemUsIGFjLnNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHdoaXRlTm9pc2VCdWYuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIG91dHB1dFtpXSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2hpdGVOb2lzZUJ1ZjtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHV0aWxpdHkgZnVuY3Rpb24gY3JlYXRlcyBhbiBvc2NpbGxhdG9yIGF0IHRoZSBnaXZlbiBmcmVxdWVuY3lcbiAgICAvLyBhbmQgdGhlIGdpdmVuIHdhdmVuYW1lLiAgSXQgc3VwcG9ydHMgbG9va3VwcyBpbiBhIHN0YXRpYyB3YXZldGFibGUsXG4gICAgLy8gZGVmaW5lZCByaWdodCBiZWxvdy5cbiAgICBzdGF0aWMgbWFrZU9zY2lsbGF0b3IoYXRvcCwgd2F2ZW5hbWUsIGZyZXEpIHtcbiAgICAgICAgaWYgKHdhdmVuYW1lID09IFwibm9pc2VcIikge1xuICAgICAgICAgICAgdmFyIHdoaXRlTm9pc2UgPSBhdG9wLmFjLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgd2hpdGVOb2lzZS5idWZmZXIgPSBVdGlscy5nZXRXaGl0ZU5vaXNlQnVmKCk7XG4gICAgICAgICAgICB3aGl0ZU5vaXNlLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHdoaXRlTm9pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdhdmV0YWJsZSA9IGF0b3Aud2F2ZXRhYmxlLFxuICAgICAgICAgICAgbyA9IGF0b3AuYWMuY3JlYXRlT3NjaWxsYXRvcigpLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHB3YXZlLFxuICAgICAgICAgICAgYndmLFxuICAgICAgICAgICAgd2Y7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAod2F2ZXRhYmxlLmhhc093blByb3BlcnR5KHdhdmVuYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGN1c3RvbWl6ZWQgd2F2ZXRhYmxlLlxuICAgICAgICAgICAgICAgIHB3YXZlID0gd2F2ZXRhYmxlW3dhdmVuYW1lXS53YXZlO1xuICAgICAgICAgICAgICAgIGlmICh3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgYndmID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYSBoaWdoZXItZnJlcXVlbmN5IHZhcmlhbnQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoayBpbiB3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdmID0gTnVtYmVyKGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXEgPiB3ZiAmJiB3ZiA+IGJ3Zikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ3ZiA9IHdmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3YXZlID0gd2F2ZXRhYmxlW3dhdmVuYW1lXS5mcmVxW2J3Zl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvLnNldFBlcmlvZGljV2F2ZSAmJiBvLnNldFdhdmVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb2xkIEFQSSBuYW1lOiBTYWZhcmkgNyBzdGlsbCB1c2VzIHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIG8uc2V0V2F2ZVRhYmxlKHB3YXZlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmV3IEFQSSBuYW1lLlxuICAgICAgICAgICAgICAgICAgICBvLnNldFBlcmlvZGljV2F2ZShwd2F2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnR5cGUgPSB3YXZlbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdW5yZWNvZ25pemVkLCBqdXN0IHVzZSBzcXVhcmUuXG4gICAgICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IFwibm9pc2VcIiBvciBvdGhlciB3YXZlIHNoYXBlcy5cbiAgICAgICAgICAgIG8udHlwZSA9IFwic3F1YXJlXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gU09NRSBCVUcuXG4gICAgICAgIG8uZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZShmcmVxLCBhdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cbi8vIEVORCBVVElMU1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gUGFyc2VzIGFuIEFCQyBmaWxlIHRvIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuLy8ge1xuLy8gICBYOiB2YWx1ZSBmcm9tIHRoZSBYOiBsaW5lcyBpbiBoZWFkZXIgKFxcbiBzZXBhcmF0ZWQgZm9yIG11bHRpcGxlIHZhbHVlcylcbi8vICAgVjogdmFsdWUgZnJvbSB0aGUgVjpteW5hbWUgbGluZXMgdGhhdCBhcHBlYXIgYmVmb3JlIEs6XG4vLyAgIChldGMpOiBmb3IgYWxsIHRoZSBvbmUtbGV0dGVyIGhlYWRlci1uYW1lcy5cbi8vICAgSzogdmFsdWUgZnJvbSB0aGUgSzogbGluZXMgaW4gaGVhZGVyLlxuLy8gICB0ZW1wbzogUTogbGluZSBwYXJzZWQgYXMgYmVhdHNlY3Ncbi8vICAgdGltYnJlOiAuLi4gSTp0aW1icmUgbGluZSBhcyBwYXJzZWQgYnkgbWFrZVRpbWJyZVxuLy8gICB2b2ljZToge1xuLy8gICAgIG15bmFtZTogeyAvLyB2b2ljZSB3aXRoIGlkIFwibXluYW1lXCJcbi8vICAgICAgIFY6IHZhbHVlIGZyb20gdGhlIFY6bXluYW1lIGxpbmVzIChmcm9tIHRoZSBib2R5KVxuLy8gICAgICAgc3RlbXM6IFsuLi5dIGFzIHBhcnNlZCBieSBwYXJzZUFCQ3N0ZW1zXG4vLyAgICB9XG4vLyAgfVxuLy8gfVxuLy8gQUJDIGZpbGVzIGFyZSBpZGlvc3luY3JhdGljIHRvIHBhcnNlOiB0aGUgd3JpdHRlbiBzcGVjaWZpY2F0aW9uc1xuLy8gZG8gbm90IG5lY2Vzc2FyaWx5IHJlZmxlY3QgdGhlIGRlZmFjdG8gc3RhbmRhcmQgaW1wbGVtZW50ZWQgYnlcbi8vIEFCQyBjb250ZW50IG9uIHRoZSB3ZWIuICBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGRlc2lnbmVkIHRvIGJlXG4vLyBwcmFjdGljYWwsIHdvcmtpbmcgb24gY29udGVudCBhcyBpdCBhcHBlYXJzIG9uIHRoZSB3ZWIsIGFuZCBvbmx5XG4vLyB1c2luZyB0aGUgd3JpdHRlbiBzdGFuZGFyZCBhcyBhIGd1aWRlbGluZS5cblxudmFyIEFCQ2hlYWRlciA9IC9eKFtBLVphLXpdKTpcXHMqKC4qKSQvO1xudmFyIEFCQ3Rva2VuID0gLyg/OlxcW1tBLVphLXpdOlteXFxdXSpcXF0pfFxccyt8JVteXFxuXSp8IVteXFxzITp8XFxbXFxdXSohfFxcK1teK3whXSpcXCt8W188PkBeXT9cIlteXCJdKlwifFxcW3xcXF18Pit8PCt8KD86KD86XFxeK3xfK3w9fClbQS1HYS1nXSg/OiwrfCcrfCkpfFxcKFxcZCsoPzo6XFxkKyl7MCwyfXxcXGQqXFwvXFxkK3xcXGQrXFwvP3xcXC8rfFt4elhaXXxcXFs/XFx8XFxdP3w6P1xcfDo/fDo6fC4vZztcblxuZnVuY3Rpb24gcGFyc2VBQkNGaWxlKHN0cikge1xuICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgcmVzdWx0OiBhbnkgPSB7fSxcbiAgICAgICAgY29udGV4dCA9IHJlc3VsdCxcbiAgICAgICAgdGltYnJlLFxuICAgICAgICBqLFxuICAgICAgICBrLFxuICAgICAgICBoZWFkZXIsXG4gICAgICAgIHN0ZW1zLFxuICAgICAgICBrZXkgPSB7fSxcbiAgICAgICAgYWNjZW50ID0geyBzbHVycmVkOiAwIH0sXG4gICAgICAgIHZvaWNlaWQsXG4gICAgICAgIG91dDtcbiAgICAvLyBBQkMgZmlsZXMgYXJlIHBhcnNlZCBvbmUgbGluZSBhdCBhIHRpbWUuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIC8vIEZpcnN0LCBjaGVjayB0byBzZWUgaWYgdGhlIGxpbmUgaXMgYSBoZWFkZXIgbGluZS5cbiAgICAgICAgaGVhZGVyID0gQUJDaGVhZGVyLmV4ZWMobGluZXNbal0pO1xuICAgICAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgICAgICBoYW5kbGVJbmZvcm1hdGlvbihoZWFkZXJbMV0sIGhlYWRlclsyXS50cmltKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKC9eXFxzKig/OiUuKik/JC8udGVzdChsaW5lc1tqXSkpIHtcbiAgICAgICAgICAgIC8vIFNraXAgYmxhbmsgYW5kIGNvbW1lbnQgbGluZXMuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBub3Rlcy5cbiAgICAgICAgICAgIHBhcnNlQUJDTm90ZXMobGluZXNbal0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbmZlciA9IFtcInVuaXRub3RlXCIsIFwidW5pdGJlYXRcIiwgXCJ0ZW1wb1wiXTtcbiAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KFwidm9pY2VcIikgJiYgcmVzdWx0LnZvaWNlICE9PSBudWxsKSB7XG4gICAgICAgIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGogaW4gcmVzdWx0LnZvaWNlKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnZvaWNlW2pdLnN0ZW1zICYmIHJlc3VsdC52b2ljZVtqXS5zdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGltZXMgZm9yIGFsbCB0aGUgdGllZCBub3Rlcy4gIFRoaXMgaGFwcGVucyBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpbiBwcmluY2lwbGUsIHRoZSBmaXJzdCBub3RlIG9mIGEgc29uZyBjb3VsZCBiZSB0aWVkIGFsbFxuICAgICAgICAgICAgICAgIC8vIHRoZSB3YXkgdGhyb3VnaCB0byB0aGUgbGFzdCBub3RlLlxuICAgICAgICAgICAgICAgIHByb2Nlc3NUaWVzKHJlc3VsdC52b2ljZVtqXS5zdGVtcyk7XG4gICAgICAgICAgICAgICAgLy8gQnJpbmcgdXAgaW5mZXJyZWQgdGVtcG8gdmFsdWVzIGZyb20gdm9pY2VzIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgaGVhZGVyLlxuICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBpbmZlci5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbmZlcltrXSBpbiByZXN1bHQpICYmIGluZmVyW2tdIGluIHJlc3VsdC52b2ljZVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZmVyW2tdXSA9IHJlc3VsdC52b2ljZVtqXVtpbmZlcltrXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaW50ZXJuYWwgc3RhdGUgdmFyaWFibGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC52b2ljZVtqXS5hY2NlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERlbGV0ZSBhbnkgdm9pY2VzIHRoYXQgaGFkIG5vIHN0ZW1zLlxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgb3V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnZvaWNlW291dFtqXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIFBhcnNpbmcgaGVscGVyIGZ1bmN0aW9ucyBiZWxvdy5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFByb2Nlc3NlcyBoZWFkZXIgZmllbGRzIHN1Y2ggYXMgVjogdm9pY2UsIHdoaWNoIG1heSBhcHBlYXIgYXQgdGhlXG4gICAgLy8gdG9wIG9mIHRoZSBBQkMgZmlsZSwgb3IgaW4gdGhlIEFCQyBib2R5IGluIGEgW1Y6dm9pY2VdIGRpcmVjdGl2ZS5cbiAgICBmdW5jdGlvbiBoYW5kbGVJbmZvcm1hdGlvbihmaWVsZCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBoZWFkZXJzIGFyZSByZWNvZ25pemVkIGFuZCBwcm9jZXNzZWQuXG4gICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgLy8gQSBWOiBoZWFkZXIgc3dpdGNoZXMgdm9pY2VzIGlmIGluIHRoZSBib2R5LlxuICAgICAgICAgICAgICAgIC8vIElmIGluIHRoZSBoZWFkZXIsIHRoZW4gaXQgaXMganVzdCBhZHZpc29yeS5cbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Vm9pY2VDb250ZXh0KHZhbHVlLnNwbGl0KFwiIFwiKVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICBwYXJzZU1ldGVyKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VVbml0Tm90ZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUVwiOlxuICAgICAgICAgICAgICAgIHBhcnNlVGVtcG8odmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsbCBoZWFkZXJzIChpbmNsdWRpbmcgdW5yZWNvZ25pemVkIG9uZXMpIGFyZVxuICAgICAgICAvLyBqdXN0IGFjY3VtdWxhdGVkIGFzIHByb3BlcnRpZXMuIFJlcGVhdGVkIGhlYWRlclxuICAgICAgICAvLyBsaW5lcyBhcmUgYWNjdW11bGF0ZWQgYXMgbXVsdGlsaW5lIHByb3BlcnRpZXMuXG4gICAgICAgIGlmIChjb250ZXh0Lmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29udGV4dFtmaWVsZF0gKz0gXCJcXG5cIiArIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dFtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgSyBoZWFkZXIgaXMgc3BlY2lhbDogaXQgc2hvdWxkIGJlIHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyBiZWZvcmUgdGhlIHZvaWNlcyBhbmQgbm90ZXMgYmVnaW4uXG4gICAgICAgIGlmIChmaWVsZCA9PSBcIktcIikge1xuICAgICAgICAgICAga2V5ID0ga2V5c2lnKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzdGFydFZvaWNlQ29udGV4dChmaXJzdFZvaWNlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNoaWZ0cyBjb250ZXh0IHRvIGEgdm9pY2Ugd2l0aCB0aGUgZ2l2ZW4gaWQgZ2l2ZW4uICBJZiBubyBpZFxuICAgIC8vIGdpdmVuLCB0aGVuIGp1c3Qgc3RpY2tzIHdpdGggdGhlIGN1cnJlbnQgdm9pY2UuICBJZiB0aGUgY3VycmVudFxuICAgIC8vIHZvaWNlIGlzIHVubmFtZWQgYW5kIGVtcHR5LCByZW5hbWVzIHRoZSBjdXJyZW50IHZvaWNlLlxuICAgIGZ1bmN0aW9uIHN0YXJ0Vm9pY2VDb250ZXh0KGlkKSB7XG4gICAgICAgIGlkID0gaWQgfHwgXCJcIjtcbiAgICAgICAgaWYgKCFpZCAmJiBjb250ZXh0ICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlc3VsdC52b2ljZSkge1xuICAgICAgICAgICAgcmVzdWx0LnZvaWNlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC52b2ljZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgICAgIC8vIFJlc3VtZSBhIG5hbWVkIHZvaWNlLlxuICAgICAgICAgICAgY29udGV4dCA9IHJlc3VsdC52b2ljZVtpZF07XG4gICAgICAgICAgICBhY2NlbnQgPSBjb250ZXh0LmFjY2VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IHZvaWNlLlxuICAgICAgICAgICAgY29udGV4dCA9IHsgaWQ6IGlkLCBhY2NlbnQ6IHsgc2x1cnJlZDogMCB9IH07XG4gICAgICAgICAgICByZXN1bHQudm9pY2VbaWRdID0gY29udGV4dDtcbiAgICAgICAgICAgIGFjY2VudCA9IGNvbnRleHQuYWNjZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIHBpY2tpbmcgYSBkZWZhdWx0IHZvaWNlLCBsb29rcyBmb3IgdGhlIGZpcnN0IHZvaWNlIG5hbWUuXG4gICAgZnVuY3Rpb24gZmlyc3RWb2ljZU5hbWUoKSB7XG4gICAgICAgIGlmIChyZXN1bHQuVikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5WLnNwbGl0KC9cXHMrLylbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhcnNlcyBhIHNpbmdsZSBsaW5lIG9mIEFCQyBub3RlcyAoaS5lLiwgbm90IGEgaGVhZGVyIGxpbmUpLlxuICAgIC8vXG4gICAgLy8gV2UgcHJvY2VzcyBhbiBBQkMgc29uZyBzdHJlYW0gYnkgZGl2aWRpbmcgaXQgaW50byB0b2tlbnMsIGVhY2ggb2ZcbiAgICAvLyB3aGljaCBpcyBhIHBpdGNoLCBkdXJhdGlvbiwgb3Igc3BlY2lhbCBkZWNvcmF0aW9uIHN5bWJvbDsgdGhlblxuICAgIC8vIHdlIHByb2Nlc3MgZWFjaCBkZWNvcmF0aW9uIGluZGl2aWR1YWxseSwgYW5kIHdlIHByb2Nlc3MgZWFjaFxuICAgIC8vIHN0ZW0gYXMgYSBncm91cCB1c2luZyBwYXJzZVN0ZW0uXG4gICAgLy8gVGhlIHN0cnVjdHVyZSBvZiBhIHNpbmdsZSBBQkMgbm90ZSBpcyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICAgIC8vXG4gICAgLy8gTk9URSAtPiBTVEFDQ0FUTz8gUElUQ0ggRFVSQVRJT04/IFRJRT9cbiAgICAvL1xuICAgIC8vIEkuZS4sIGl0IGFsd2F5cyBoYXMgYSBwaXRjaCwgYW5kIGl0IGlzIHByZWZpeGVkIGJ5IHNvbWUgb3B0aW9uYWxcbiAgICAvLyBkZWNvcmF0aW9ucyBzdWNoIGFzIGEgKC4pIHN0YWNjYXRvIG1hcmtpbmcsIGFuZCBpdCBpcyBzdWZmaXhlZCBieVxuICAgIC8vIGFuIG9wdGlvbmFsIGR1cmF0aW9uIGFuZCBhbiBvcHRpb25hbCB0aWUgKC0pIG1hcmtpbmcuXG4gICAgLy9cbiAgICAvLyBBIHN0ZW0gaXMgZWl0aGVyIGEgbm90ZSBvciBhIGJyYWNrZXRlZCBzZXJpZXMgb2Ygbm90ZXMsIGZvbGxvd2VkXG4gICAgLy8gYnkgZHVyYXRpb24gYW5kIHRpZS5cbiAgICAvL1xuICAgIC8vIFNURU0gLT4gTk9URSAgIE9SICAgICdbJyBOT1RFICogJ10nIERVUkFJVE9OPyBUSUU/XG4gICAgLy9cbiAgICAvLyBUaGVuIGEgc29uZyBpcyBqdXN0IGEgc2VxdWVuY2Ugb2Ygc3RlbXMgaW50ZXJsZWF2ZWQgd2l0aCBvdGhlclxuICAgIC8vIGRlY29yYXRpb25zIHN1Y2ggYXMgZHluYW1pY3MgbWFya2luZ3MgYW5kIG1lYXN1cmUgZGVsaW1pdGVycy5cbiAgICBmdW5jdGlvbiBwYXJzZUFCQ05vdGVzKHN0cikge1xuICAgICAgICB2YXIgdG9rZW5zID0gc3RyLm1hdGNoKEFCQ3Rva2VuKSxcbiAgICAgICAgICAgIHBhcnNlZCA9IG51bGwsXG4gICAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgICBkb3R0ZWQgPSAwLFxuICAgICAgICAgICAgYmVhdGxldCA9IG51bGwsXG4gICAgICAgICAgICB0O1xuICAgICAgICBpZiAoIXRva2Vucykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gSWdub3JlICVjb21tZW50cyBhbmQgIW1hcmtpbmdzIVxuICAgICAgICAgICAgaWYgKC9eW1xccyVdLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbmxpbmUgW1g6Li4uXSBpbmZvcm1hdGlvbiBmaWVsZHNcbiAgICAgICAgICAgIGlmICgvXlxcW1tBLVphLXpdOlteXFxdXSpcXF0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5mb3JtYXRpb24odG9rZW5zW2luZGV4XS5zdWJzdHJpbmcoMSwgMiksIHRva2Vuc1tpbmRleF0uc3Vic3RyaW5nKDMsIHRva2Vuc1tpbmRleF0ubGVuZ3RoIC0gMSkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlZCBkb3R0ZWQgbm90YXRpb24gYWJicmV2aWF0aW9ucy5cbiAgICAgICAgICAgIGlmICgvPC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGRvdHRlZCA9IC10b2tlbnNbaW5kZXgrK10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC8+Ly50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgZG90dGVkID0gdG9rZW5zW2luZGV4KytdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXlxcKFxcZCsoPzo6XFxkKykqLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgYmVhdGxldCA9IHBhcnNlQmVhdGxldCh0b2tlbnNbaW5kZXgrK10pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eWyErXS4qWyErXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBwYXJzZURlY29yYXRpb24odG9rZW5zW2luZGV4KytdLCBhY2NlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eLj9cIi4qXCIkLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGRvdWJsZS1xdW90ZWQgdG9rZW5zIChjaG9yZHMgYW5kIGdlbmVyYWwgdGV4dCBhbm5vdGF0aW9ucykuXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXlsoKV0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpbmRleCsrXSA9PSBcIihcIikge1xuICAgICAgICAgICAgICAgICAgICBhY2NlbnQuc2x1cnJlZCArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5zbHVycmVkIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NlbnQuc2x1cnJlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlbnQuc2x1cnJlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zdGVtcyAmJiBjb250ZXh0LnN0ZW1zLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxhc3Qgbm90ZXMgaW4gYSBzbHVyIGFyZSBub3Qgc2x1cnJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVyU3RlbShjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBtZWFzdXJlIG1hcmtpbmdzIGJ5IGNsZWFyaW5nIGFjY2lkZW50YWxzLlxuICAgICAgICAgICAgaWYgKC9cXHwvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHQgaW4gYWNjZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUtbGV0dGVyIGFjY2VudCBwcm9wZXJ0aWVzIGFyZSBub3RlIGFjY2lkZW50YWxzLlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjY2VudFt0XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VkID0gcGFyc2VTdGVtKHRva2VucywgaW5kZXgsIGtleSwgYWNjZW50KTtcbiAgICAgICAgICAgIC8vIFNraXAgdW5wYXJzYWJsZSBiaXRzXG4gICAgICAgICAgICBpZiAocGFyc2VkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgYSBwYXJzZWQgc3RlbS5cbiAgICAgICAgICAgIGlmIChiZWF0bGV0KSB7XG4gICAgICAgICAgICAgICAgc2NhbGVTdGVtKHBhcnNlZC5zdGVtLCBiZWF0bGV0LnRpbWUpO1xuICAgICAgICAgICAgICAgIGJlYXRsZXQuY291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAoIWJlYXRsZXQuY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVhdGxldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgc3luY29wYXRlZCB3aXRoID4gb3IgPCBub3RhdGlvbiwgc2hpZnQgcGFydCBvZiBhIGJlYXRcbiAgICAgICAgICAgIC8vIGJldHdlZW4gdGhpcyBzdGVtIGFuZCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgICAgaWYgKGRvdHRlZCAmJiBjb250ZXh0LnN0ZW1zICYmIGNvbnRleHQuc3RlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvdHRlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9ICgxIC0gTWF0aC5wb3coMC41LCBkb3R0ZWQpKSAqIHBhcnNlZC5zdGVtLnRpbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IChNYXRoLnBvdygwLjUsIC1kb3R0ZWQpIC0gMSkgKiBjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0udGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3luY29wYXRlU3RlbShjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0sIHQpO1xuICAgICAgICAgICAgICAgIHN5bmNvcGF0ZVN0ZW0ocGFyc2VkLnN0ZW0sIC10KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvdHRlZCA9IDA7XG4gICAgICAgICAgICAvLyBTbHVyIGFsbCB0aGUgbm90ZXMgY29udGFpbmVkIHdpdGhpbiBhIHN0cmVtLlxuICAgICAgICAgICAgaWYgKGFjY2VudC5zbHVycmVkKSB7XG4gICAgICAgICAgICAgICAgc2x1clN0ZW0ocGFyc2VkLnN0ZW0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RhcnQgYSBkZWZhdWx0IHZvaWNlIGlmIHdlJ3JlIG5vdCBpbiBhIHZvaWNlIHlldC5cbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzdGFydFZvaWNlQ29udGV4dChmaXJzdFZvaWNlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKFwic3RlbXNcIiBpbiBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3RlbXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgc3RlbSB0byB0aGUgc2VxdWVuY2Ugb2Ygc3RlbXMgZm9yIHRoaXMgdm9pY2UuXG4gICAgICAgICAgICBjb250ZXh0LnN0ZW1zLnB1c2gocGFyc2VkLnN0ZW0pO1xuICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgcGFyc2luZyBpbmRleCBzaW5jZSBhIHN0ZW0gaXMgbXVsdGlwbGUgdG9rZW5zLlxuICAgICAgICAgICAgaW5kZXggPSBwYXJzZWQuaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQYXJzZSBNOiBsaW5lcy4gIFwiMy80XCIgaXMgMy80IHRpbWUgYW5kIFwiQ1wiIGlzIDQvNCAoY29tbW9uKSB0aW1lLlxuICAgIGZ1bmN0aW9uIHBhcnNlTWV0ZXIobWxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgIHZhciBkID0gL15DLy50ZXN0KG1saW5lKSA/IDQgLyA0IDogZHVyYXRpb25Ub1RpbWUobWxpbmUpO1xuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJlYXRpbmZvLnVuaXRub3RlKSB7XG4gICAgICAgICAgICBpZiAoZCA8IDAuNzUpIHtcbiAgICAgICAgICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IDEgLyAxNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmVhdGluZm8udW5pdG5vdGUgPSAxIC8gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBQYXJzZSBMOiBsaW5lcywgZS5nLiwgXCIxLzhcIi5cbiAgICBmdW5jdGlvbiBwYXJzZVVuaXROb3RlKGxsaW5lLCBiZWF0aW5mbykge1xuICAgICAgICB2YXIgZCA9IGR1cmF0aW9uVG9UaW1lKGxsaW5lKTtcbiAgICAgICAgaWYgKCFkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmVhdGluZm8udW5pdG5vdGUgPSBkO1xuICAgIH1cbiAgICAvLyBQYXJzZSBROiBsaW5lLCBlLmcuLCBcIjEvND02NlwiLlxuICAgIGZ1bmN0aW9uIHBhcnNlVGVtcG8ocWxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHFsaW5lLnNwbGl0KC9cXHMrfD0vKSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICB1bml0ID0gbnVsbCxcbiAgICAgICAgICAgIHRlbXBvID0gbnVsbDtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAvLyBJdCBjb3VsZCBiZSByZXZlcnNlZCwgbGlrZSBcIjY2PTEvNFwiLCBvciBqdXN0IFwiMTIwXCIsIHNvXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hhdCBpcyBnb2luZyBvbiBieSBsb29raW5nIGZvciBhIHNsYXNoIGV0Yy5cbiAgICAgICAgICAgIGlmIChwYXJ0c1tqXS5pbmRleE9mKFwiL1wiKSA+PSAwIHx8IC9eWzEtNF0kLy50ZXN0KHBhcnRzW2pdKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBub3RlLXVuaXQgKGUuZy4sIDEvNCkuXG4gICAgICAgICAgICAgICAgdW5pdCA9IHVuaXQgfHwgZHVyYXRpb25Ub1RpbWUocGFydHNbal0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGVtcG8tbnVtYmVyIChlLmcuLCAxMjApXG4gICAgICAgICAgICAgICAgdGVtcG8gPSB0ZW1wbyB8fCBOdW1iZXIocGFydHNbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1bml0KSB7XG4gICAgICAgICAgICBiZWF0aW5mby51bml0YmVhdCA9IHVuaXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBvKSB7XG4gICAgICAgICAgICBiZWF0aW5mby50ZW1wbyA9IHRlbXBvO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJ1biB0aHJvdWdoIGFsbCB0aGUgbm90ZXMsIGFkZGluZyB1cCB0aW1lIGZvciB0aWVkIG5vdGVzLFxuICAgIC8vIGFuZCBtYXJraW5nIG5vdGVzIHRoYXQgd2VyZSBoZWxkIG92ZXIgd2l0aCBob2xkb3ZlciA9IHRydWUuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1RpZXMoc3RlbXMpIHtcbiAgICAgICAgdmFyIHRpZWQgPSB7fSxcbiAgICAgICAgICAgIG5leHRUaWVkLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgZmlyc3ROb3RlO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIG5leHRUaWVkID0ge307XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgc3RlbXNbal0ubm90ZXMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICBmaXJzdE5vdGUgPSBub3RlID0gc3RlbXNbal0ubm90ZXNba107XG4gICAgICAgICAgICAgICAgaWYgKHRpZWQuaGFzT3duUHJvcGVydHkobm90ZS5waXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGl0Y2ggd2FzIHRpZWQgZnJvbSBiZWZvcmUuXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Tm90ZSA9IHRpZWRbbm90ZS5waXRjaF07IC8vIEdldCB0aGUgZWFybGllc3Qgbm90ZSBpbiB0aGUgdGllLlxuICAgICAgICAgICAgICAgICAgICBmaXJzdE5vdGUudGltZSArPSBub3RlLnRpbWU7IC8vIEV4dGVuZCBpdHMgdGltZS5cbiAgICAgICAgICAgICAgICAgICAgbm90ZS5ob2xkb3ZlciA9IHRydWU7IC8vIFNpbGVuY2UgdGhpcyBub3RlIGFzIGEgaG9sZG92ZXIuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3RlLnRpZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG5vdGUgaXMgdGllZCB3aXRoIHRoZSBuZXh0LlxuICAgICAgICAgICAgICAgICAgICBuZXh0VGllZFtub3RlLnBpdGNoXSA9IGZpcnN0Tm90ZTsgLy8gU2F2ZSBpdCBhd2F5LlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpZWQgPSBuZXh0VGllZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgbWFwIG9mIEEtRyAtPiBhY2NpZGVudGFscywgYWNjb3JkaW5nIHRvIHRoZSBrZXkgc2lnbmF0dXJlLlxuICAgIC8vIFdoZW4gbiBpcyB6ZXJvLCB0aGVyZSBhcmUgbm8gYWNjaWRlbnRhbHMgKGUuZy4sIEMgbWFqb3Igb3IgQSBtaW5vcikuXG4gICAgLy8gV2hlbiBuIGlzIHBvc2l0aXZlLCB0aGVyZSBhcmUgbiBzaGFycHMgKGUuZy4sIGZvciBHIG1ham9yLCBuID0gMSkuXG4gICAgLy8gV2hlbiBuIGlzIG5lZ2F0aXZlLCB0aGVyZSBhcmUgLW4gZmxhdHMgKGUuZy4sIGZvciBGIG1ham9yLCBuID0gLTEpLlxuICAgIGZ1bmN0aW9uIGFjY2lkZW50YWxzKG4pIHtcbiAgICAgICAgdmFyIHNoYXJwcyA9IFwiRkNHREFFQlwiLFxuICAgICAgICAgICAgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICBqO1xuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2hhcnBzLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG4gJiYgaiA8IDc7ICsraikge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtzaGFycHMuY2hhckF0KGopXSA9IFwiXlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmxhdHMgYXJlIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPiBuICYmIGogPiAtNzsgLS1qKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3NoYXJwcy5jaGFyQXQoNiArIGopXSA9IFwiX1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIERlY29kZXMgdGhlIGtleSBzaWduYXR1cmUgbGluZSAoZS5nLiwgSzogQyNtKSBhdCB0aGUgZnJvbnQgb2YgYW4gQUJDIHR1bmUuXG4gICAgLy8gU3VwcG9ydHMgdGhlIHdob2xlIHJhbmdlIG9mIHNjYWxlIHN5c3RlbXMgbGlzdGVkIGluIHRoZSBBQkMgc3BlYy5cbiAgICBmdW5jdGlvbiBrZXlzaWcoa2V5bmFtZSkge1xuICAgICAgICBpZiAoIWtleW5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2tleSxcbiAgICAgICAgICAgIHNpZ2NvZGVzID0ge1xuICAgICAgICAgICAgICAgIC8vIE1ham9yXG4gICAgICAgICAgICAgICAgXCJjI1wiOiA3LFxuICAgICAgICAgICAgICAgIFwiZiNcIjogNixcbiAgICAgICAgICAgICAgICBiOiA1LFxuICAgICAgICAgICAgICAgIGU6IDQsXG4gICAgICAgICAgICAgICAgYTogMyxcbiAgICAgICAgICAgICAgICBkOiAyLFxuICAgICAgICAgICAgICAgIGc6IDEsXG4gICAgICAgICAgICAgICAgYzogMCxcbiAgICAgICAgICAgICAgICBmOiAtMSxcbiAgICAgICAgICAgICAgICBiYjogLTIsXG4gICAgICAgICAgICAgICAgZWI6IC0zLFxuICAgICAgICAgICAgICAgIGFiOiAtNCxcbiAgICAgICAgICAgICAgICBkYjogLTUsXG4gICAgICAgICAgICAgICAgZ2I6IC02LFxuICAgICAgICAgICAgICAgIGNiOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBNaW5vclxuICAgICAgICAgICAgICAgIFwiYSNtXCI6IDcsXG4gICAgICAgICAgICAgICAgXCJkI21cIjogNixcbiAgICAgICAgICAgICAgICBcImcjbVwiOiA1LFxuICAgICAgICAgICAgICAgIFwiYyNtXCI6IDQsXG4gICAgICAgICAgICAgICAgXCJmI21cIjogMyxcbiAgICAgICAgICAgICAgICBibTogMixcbiAgICAgICAgICAgICAgICBlbTogMSxcbiAgICAgICAgICAgICAgICBhbTogMCxcbiAgICAgICAgICAgICAgICBkbTogLTEsXG4gICAgICAgICAgICAgICAgZ206IC0yLFxuICAgICAgICAgICAgICAgIGNtOiAtMyxcbiAgICAgICAgICAgICAgICBmbTogLTQsXG4gICAgICAgICAgICAgICAgYmJtOiAtNSxcbiAgICAgICAgICAgICAgICBlYm06IC02LFxuICAgICAgICAgICAgICAgIGFibTogLTcsXG4gICAgICAgICAgICAgICAgLy8gTWl4b2x5ZGlhblxuICAgICAgICAgICAgICAgIFwiZyNtaXhcIjogNyxcbiAgICAgICAgICAgICAgICBcImMjbWl4XCI6IDYsXG4gICAgICAgICAgICAgICAgXCJmI21peFwiOiA1LFxuICAgICAgICAgICAgICAgIGJtaXg6IDQsXG4gICAgICAgICAgICAgICAgZW1peDogMyxcbiAgICAgICAgICAgICAgICBhbWl4OiAyLFxuICAgICAgICAgICAgICAgIGRtaXg6IDEsXG4gICAgICAgICAgICAgICAgZ21peDogMCxcbiAgICAgICAgICAgICAgICBjbWl4OiAtMSxcbiAgICAgICAgICAgICAgICBmbWl4OiAtMixcbiAgICAgICAgICAgICAgICBiYm1peDogLTMsXG4gICAgICAgICAgICAgICAgZWJtaXg6IC00LFxuICAgICAgICAgICAgICAgIGFibWl4OiAtNSxcbiAgICAgICAgICAgICAgICBkYm1peDogLTYsXG4gICAgICAgICAgICAgICAgZ2JtaXg6IC03LFxuICAgICAgICAgICAgICAgIC8vIERvcmlhblxuICAgICAgICAgICAgICAgIFwiZCNkb3JcIjogNyxcbiAgICAgICAgICAgICAgICBcImcjZG9yXCI6IDYsXG4gICAgICAgICAgICAgICAgXCJjI2RvclwiOiA1LFxuICAgICAgICAgICAgICAgIFwiZiNkb3JcIjogNCxcbiAgICAgICAgICAgICAgICBiZG9yOiAzLFxuICAgICAgICAgICAgICAgIGVkb3I6IDIsXG4gICAgICAgICAgICAgICAgYWRvcjogMSxcbiAgICAgICAgICAgICAgICBkZG9yOiAwLFxuICAgICAgICAgICAgICAgIGdkb3I6IC0xLFxuICAgICAgICAgICAgICAgIGNkb3I6IC0yLFxuICAgICAgICAgICAgICAgIGZkb3I6IC0zLFxuICAgICAgICAgICAgICAgIGJiZG9yOiAtNCxcbiAgICAgICAgICAgICAgICBlYmRvcjogLTUsXG4gICAgICAgICAgICAgICAgYWJkb3I6IC02LFxuICAgICAgICAgICAgICAgIGRiZG9yOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBQaHJ5Z2lhblxuICAgICAgICAgICAgICAgIFwiZSNwaHJcIjogNyxcbiAgICAgICAgICAgICAgICBcImEjcGhyXCI6IDYsXG4gICAgICAgICAgICAgICAgXCJkI3BoclwiOiA1LFxuICAgICAgICAgICAgICAgIFwiZyNwaHJcIjogNCxcbiAgICAgICAgICAgICAgICBcImMjcGhyXCI6IDMsXG4gICAgICAgICAgICAgICAgXCJmI3BoclwiOiAyLFxuICAgICAgICAgICAgICAgIGJwaHI6IDEsXG4gICAgICAgICAgICAgICAgZXBocjogMCxcbiAgICAgICAgICAgICAgICBhcGhyOiAtMSxcbiAgICAgICAgICAgICAgICBkcGhyOiAtMixcbiAgICAgICAgICAgICAgICBncGhyOiAtMyxcbiAgICAgICAgICAgICAgICBjcGhyOiAtNCxcbiAgICAgICAgICAgICAgICBmcGhyOiAtNSxcbiAgICAgICAgICAgICAgICBiYnBocjogLTYsXG4gICAgICAgICAgICAgICAgZWJwaHI6IC03LFxuICAgICAgICAgICAgICAgIC8vIEx5ZGlhblxuICAgICAgICAgICAgICAgIFwiZiNseWRcIjogNyxcbiAgICAgICAgICAgICAgICBibHlkOiA2LFxuICAgICAgICAgICAgICAgIGVseWQ6IDUsXG4gICAgICAgICAgICAgICAgYWx5ZDogNCxcbiAgICAgICAgICAgICAgICBkbHlkOiAzLFxuICAgICAgICAgICAgICAgIGdseWQ6IDIsXG4gICAgICAgICAgICAgICAgY2x5ZDogMSxcbiAgICAgICAgICAgICAgICBmbHlkOiAwLFxuICAgICAgICAgICAgICAgIGJibHlkOiAtMSxcbiAgICAgICAgICAgICAgICBlYmx5ZDogLTIsXG4gICAgICAgICAgICAgICAgYWJseWQ6IC0zLFxuICAgICAgICAgICAgICAgIGRibHlkOiAtNCxcbiAgICAgICAgICAgICAgICBnYmx5ZDogLTUsXG4gICAgICAgICAgICAgICAgY2JseWQ6IC02LFxuICAgICAgICAgICAgICAgIGZibHlkOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBMb2NyaWFuXG4gICAgICAgICAgICAgICAgXCJiI2xvY1wiOiA3LFxuICAgICAgICAgICAgICAgIFwiZSNsb2NcIjogNixcbiAgICAgICAgICAgICAgICBcImEjbG9jXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJkI2xvY1wiOiA0LFxuICAgICAgICAgICAgICAgIFwiZyNsb2NcIjogMyxcbiAgICAgICAgICAgICAgICBcImMjbG9jXCI6IDIsXG4gICAgICAgICAgICAgICAgXCJmI2xvY1wiOiAxLFxuICAgICAgICAgICAgICAgIGJsb2M6IDAsXG4gICAgICAgICAgICAgICAgZWxvYzogLTEsXG4gICAgICAgICAgICAgICAgYWxvYzogLTIsXG4gICAgICAgICAgICAgICAgZGxvYzogLTMsXG4gICAgICAgICAgICAgICAgZ2xvYzogLTQsXG4gICAgICAgICAgICAgICAgY2xvYzogLTUsXG4gICAgICAgICAgICAgICAgZmxvYzogLTYsXG4gICAgICAgICAgICAgICAgYmJsb2M6IC03LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIGsgPSBrZXluYW1lLnJlcGxhY2UoL1xccysvZywgXCJcIikudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwgNSk7XG4gICAgICAgIHZhciBzY2FsZSA9IGsubWF0Y2goL21hanxtaW58bWl4fGRvcnxwaHJ8bHlkfGxvY3xtLyk7XG4gICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgaWYgKHNjYWxlID09IFwibWFqXCIpIHtcbiAgICAgICAgICAgICAgICBra2V5ID0gay5zdWJzdHIoMCwgc2NhbGUuaW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzY2FsZSA9PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4ICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGtrZXkgPSBrLnN1YnN0cigwLCBzY2FsZS5pbmRleCArIHNjYWxlWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBra2V5ID0gL15bYS1nXVsjYl0/Ly5leGVjKGspIHx8IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGFjY2lkZW50YWxzKHNpZ2NvZGVzW2trZXldKTtcbiAgICAgICAgdmFyIGV4dHJhcyA9IGtleW5hbWUuc3Vic3RyKGtrZXkubGVuZ3RoKS5tYXRjaCgvKF8rfD18XFxeKylbYS1nXS9naSk7XG4gICAgICAgIGlmIChleHRyYXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXh0cmFzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdGUgPSBleHRyYXNbal0uY2hhckF0KGV4dHJhc1tqXS5sZW5ndGggLSAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChleHRyYXNbal0uY2hhckF0KDApID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXN1bHRbbm90ZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25vdGVdID0gZXh0cmFzW2pdLnN1YnN0cigwLCBleHRyYXNbal0ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEFkZGl0aXZlbHkgYWRqdXN0cyB0aGUgYmVhdHMgZm9yIGEgc3RlbSBhbmQgdGhlIGNvbnRhaW5lZCBub3Rlcy5cbiAgICBmdW5jdGlvbiBzeW5jb3BhdGVTdGVtKHN0ZW0sIHQpIHtcbiAgICAgICAgdmFyIGosXG4gICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgc3RlbXRpbWUgPSBzdGVtLnRpbWUsXG4gICAgICAgICAgICBuZXd0aW1lID0gc3RlbXRpbWUgKyB0O1xuICAgICAgICBzdGVtLnRpbWUgPSBuZXd0aW1lO1xuICAgICAgICBzeW5jb3BhdGVTdGVtO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICAvLyBPbmx5IGFkanVzdCBhIG5vdGUncyBkdXJhdGlvbiBpZiBpdCBtYXRjaGVkIHRoZSBzdGVtJ3MgZHVyYXRpb24uXG4gICAgICAgICAgICBpZiAobm90ZS50aW1lID09IHN0ZW10aW1lKSB7XG4gICAgICAgICAgICAgICAgbm90ZS50aW1lID0gbmV3dGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNYXJrcyBldmVyeXRoaW5nIGluIHRoZSBzdGVtIHdpdGggdGhlIHNsdXIgYXR0cmlidXRlIChvciBkZWxldGVzIGl0KS5cbiAgICBmdW5jdGlvbiBzbHVyU3RlbShzdGVtLCBhZGRTbHVyKSB7XG4gICAgICAgIHZhciBqLCBub3RlO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICBpZiAoYWRkU2x1cikge1xuICAgICAgICAgICAgICAgIG5vdGUuc2x1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vdGUuc2x1cnJlZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RlLnNsdXJyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU2NhbGVzIHRoZSBiZWF0cyBmb3IgYSBzdGVtIGFuZCB0aGUgY29udGFpbmVkIG5vdGVzLlxuICAgIGZ1bmN0aW9uIHNjYWxlU3RlbShzdGVtLCBzKSB7XG4gICAgICAgIHZhciBqO1xuICAgICAgICBzdGVtLnRpbWUgKj0gcztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0ZW0ubm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHN0ZW0ubm90ZXNbal0udGltZSAqPSBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlcyBub3RhdGlvbiBvZiB0aGUgZm9ybSAoMyBvciAoNToyOjEwLCB3aGljaCBtZWFucyB0byBkb1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgMyBub3RlcyBpbiB0aGUgc3BhY2Ugb2YgMiBub3Rlcywgb3IgdG8gZG8gdGhlIGZvbGxvd2luZ1xuICAgIC8vIDEwIG5vdGVzIGF0IHRoZSByYXRlIG9mIDUgbm90ZXMgcGVyIDIgYmVhdHMuXG4gICAgZnVuY3Rpb24gcGFyc2VCZWF0bGV0KHRva2VuKSB7XG4gICAgICAgIHZhciBtID0gL15cXCgoXFxkKykoPzo6KFxcZCspKD86OihcXGQrKSk/KT8kLy5leGVjKHRva2VuKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY291bnQgPSBOdW1iZXIobVsxXSksXG4gICAgICAgICAgICBiZWF0cyA9IE51bWJlcihtWzJdKSB8fCAyLFxuICAgICAgICAgICAgZHVyYXRpb24gPSBOdW1iZXIobVszXSkgfHwgY291bnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lOiBiZWF0cyAvIGNvdW50LFxuICAgICAgICAgICAgY291bnQ6IGR1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBQYXJzZSAhcHBwISBtYXJraW5ncy5cbiAgICBmdW5jdGlvbiBwYXJzZURlY29yYXRpb24odG9rZW4sIGFjY2VudCkge1xuICAgICAgICBpZiAodG9rZW4ubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDEsIHRva2VuLmxlbmd0aCAtIDEpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIFwicHBwcFwiOlxuICAgICAgICAgICAgY2FzZSBcInBwcFwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcFwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC42O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1wXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC44O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1mXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS4wO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAxLjI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmZcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAxLjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmZmXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmZmZlwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDEuNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBQYXJzZXMgYSBzdGVtLCB3aGljaCBtYXkgYmUgYSBzaW5nbGUgbm90ZSwgb3Igd2hpY2ggbWF5IGJlXG4gICAgLy8gYSBjaG9yZGVkIG5vdGUuXG4gICAgZnVuY3Rpb24gcGFyc2VTdGVtKHRva2VucywgaW5kZXgsIGtleSwgYWNjZW50KSB7XG4gICAgICAgIHZhciBub3RlcyA9IFtdLFxuICAgICAgICAgICAgZHVyYXRpb24gPSBcIlwiLFxuICAgICAgICAgICAgc3RhY2NhdG8gPSBmYWxzZSxcbiAgICAgICAgICAgIG5vdGVEdXJhdGlvbixcbiAgICAgICAgICAgIG5vdGVUaW1lLFxuICAgICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgICAgICBsYXN0Tm90ZSA9IG51bGwsXG4gICAgICAgICAgICBtaW5TdGVtVGltZSA9IEluZmluaXR5LFxuICAgICAgICAgICAgajtcbiAgICAgICAgLy8gQSBzaW5nbGUgc3RhY2NhdG8gbWFya2luZyBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgc3RlbS5cbiAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi5cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICBzdGFjY2F0byA9IHRydWU7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW2luZGV4XSA9PSBcIltcIikge1xuICAgICAgICAgICAgLy8gRGVhbCB3aXRoIFtDRUddIGNob3JkZWQgbm90YXRpb24uXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgLy8gU2NhbiBub3RlcyB3aXRoaW4gdGhlIGNob3JkLlxuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbmQgc3BhY2UgYW5kICVjb21tZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoL15bXFxzJV0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvW0EtR2EtZ10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiBhIHBpdGNoLlxuICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoOiBhcHBseUFjY2VudCh0b2tlbnNbaW5kZXgrK10sIGtleSwgYWNjZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlLmZyZXF1ZW5jeSA9IFV0aWxzLnBpdGNoVG9GcmVxdWVuY3kobGFzdE5vdGUucGl0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBub3Rlcy5wdXNoKGxhc3ROb3RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9beHpYWl0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiBhIHJlc3QuXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiLlwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBzdGFjY2F0byBtYXJrIGFwcGxpZXMgdG8gdGhlIGVudGlyZSBzdGVtLlxuICAgICAgICAgICAgICAgICAgICBzdGFjY2F0byA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgcGFyc2luZyB0aGUgc3RlbSBpZiBzb21ldGhpbmcgaXMgdW5yZWNvZ25pemVkLlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgYSBwaXRjaCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL14oPyFbXFxzJSFdKS4qW1xcZFxcL10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUR1cmF0aW9uID0gdG9rZW5zW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBub3RlVGltZSA9IGR1cmF0aW9uVG9UaW1lKG5vdGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgbm90ZVRpbWUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgbm90ZSAobm90IGEgcmVzdCksIHN0b3JlIHRoZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgIGlmIChsYXN0Tm90ZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZS5kdXJhdGlvbiA9IG5vdGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vdGUudGltZSA9IG5vdGVUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGEgc3RlbSBoYXMgbW9yZSB0aGFuIG9uZSBkdXJhdGlvbiwgdXNlIHRoZSBzaG9ydGVzdFxuICAgICAgICAgICAgICAgIC8vIG9uZSBmb3IgdGltaW5nLiBUaGUgc3RhbmRhcmQgc2F5cyB0byBwaWNrIHRoZSBmaXJzdCBvbmUsXG4gICAgICAgICAgICAgICAgLy8gYnV0IGluIHByYWN0aWNlLCB0cmFuc2NyaWJlZCBtdXNpYyBvbmxpbmUgc2VlbXMgdG9cbiAgICAgICAgICAgICAgICAvLyBmb2xsb3cgdGhlIHJ1bGUgdGhhdCB0aGUgc3RlbSdzIGR1cmF0aW9uIGlzIGRldGVybWluZWRcbiAgICAgICAgICAgICAgICAvLyBieSB0aGUgc2hvcnRlc3QgY29udGFpbmVkIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChub3RlVGltZSAmJiBub3RlVGltZSA8IG1pblN0ZW1UaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbm90ZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBtaW5TdGVtVGltZSA9IG5vdGVUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZnRlciBhIGR1cmF0aW9uLCBsb29rIGZvciBhIHRpZSBtYXJrLiAgSW5kaXZpZHVhbCBub3Rlc1xuICAgICAgICAgICAgICAgIC8vIHdpdGhpbiBhIHN0ZW0gY2FuIGJlIHRpZWQuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi1cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Tm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoIC0gMV0udGllID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBsYXN0IHRoaW5nIGluIGEgY2hvcmQgc2hvdWxkIGJlIGEgXS4gIElmIGl0IGlzbid0LCB0aGVuXG4gICAgICAgICAgICAvLyB0aGlzIGRvZXNuJ3QgbG9vayBsaWtlIGEgc3RlbSBhZnRlciBhbGwsIGFuZCByZXR1cm4gbnVsbC5cbiAgICAgICAgICAgIGlmICh0b2tlbnNbaW5kZXhdICE9IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvW0EtR2EtZ10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgIC8vIEdyYWIgYSBzaW5nbGUgbm90ZS5cbiAgICAgICAgICAgIGxhc3ROb3RlID0ge1xuICAgICAgICAgICAgICAgIHBpdGNoOiBhcHBseUFjY2VudCh0b2tlbnNbaW5kZXgrK10sIGtleSwgYWNjZW50KSxcbiAgICAgICAgICAgICAgICB0aWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBcIlwiLFxuICAgICAgICAgICAgICAgIHRpbWU6IDEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGFzdE5vdGUuZnJlcXVlbmN5ID0gVXRpbHMucGl0Y2hUb0ZyZXF1ZW5jeShsYXN0Tm90ZS5waXRjaCk7XG4gICAgICAgICAgICBub3Rlcy5wdXNoKGxhc3ROb3RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL15beHpYWl0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAvLyBHcmFiIGEgcmVzdCAtIG5vIHBpdGNoLlxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZSBkb24ndCByZWNvZ25pemUgLSBub3QgYSBzdGVtLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmlnaHQgYWZ0ZXIgYSBbY2hvcmRdLCBub3RlLCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uIG1hcmtpbmcuXG4gICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL14oPyFbXFxzJSFdKS4qW1xcZFxcL10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gdG9rZW5zW2luZGV4KytdO1xuICAgICAgICAgICAgbm90ZVRpbWUgPSBkdXJhdGlvblRvVGltZShkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgZHVyYXRpb24gdG8gYWxsIHRoZSBudG9lcyBpbiB0aGUgc3RlbS5cbiAgICAgICAgICAgIC8vIE5PVEU6IHNwZWMgc3VnZ2VzdHMgbXVsdGlwbHlpbmcgdGhpcyBkdXJhdGlvbiwgYnV0IHRoYXRcbiAgICAgICAgICAgIC8vIGlkaW9tIGlzIG5vdCBzZWVuIChzbyBmYXIpIGluIHByYWN0aWNlLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbm90ZXNbal0uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS50aW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlbiBsb29rIGZvciBhIHRyYWlsaW5nIHRpZSBtYXJraW5nLiAgV2lsbCB0aWUgZXZlcnkgbm90ZSBpbiBhIGNob3JkLlxuICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIFwiLVwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS50aWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhY2NlbnQuZHluYW1pY3MpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gYWNjZW50LmR5bmFtaWNzO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbm90ZXNbal0udmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgc3RlbToge1xuICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RhY2NhdG86IHN0YWNjYXRvLFxuICAgICAgICAgICAgICAgIHRpbWU6IGR1cmF0aW9uVG9UaW1lKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIE5vcm1hbGl6ZXMgcGl0Y2ggbWFya2luZ3MgYnkgc3RyaXBwaW5nIGxlYWRpbmcgPSBpZiBwcmVzZW50LlxuICAgIGZ1bmN0aW9uIHN0cmlwTmF0dXJhbChwaXRjaCkge1xuICAgICAgICBpZiAocGl0Y2gubGVuZ3RoID4gMCAmJiBwaXRjaC5jaGFyQXQoMCkgPT0gXCI9XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBwaXRjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpdGNoO1xuICAgIH1cbiAgICAvLyBQcm9jZXNzZXMgYW4gYWNjZW50ZWQgcGl0Y2gsIGF1dG9tYXRpY2FsbHkgYXBwbHlpbmcgYWNjaWRlbnRhbHNcbiAgICAvLyB0aGF0IGhhdmUgYWNjdW11bGF0ZWQgd2l0aGluIHRoZSBtZWFzdXJlLCBhbmQgYWxzbyBzYXZpbmdcbiAgICAvLyBleHBsaWNpdCBhY2NpZGVudGFscyB0byBjb250aW51ZSB0byBhcHBseSBpbiB0aGUgbWVhc3VyZS5cbiAgICBmdW5jdGlvbiBhcHBseUFjY2VudChwaXRjaCwga2V5LCBhY2NlbnQpIHtcbiAgICAgICAgdmFyIG0gPSAvXihcXF4rfF8rfD18KShbQS1HYS1nXSkoLiopJC8uZXhlYyhwaXRjaCksXG4gICAgICAgICAgICBsZXR0ZXI7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpdGNoO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGUgdGhhdCBhbiBhY2NpZGVudGFsIGluIG9uZSBvY3RhdmUgYXBwbGllcyBpbiBvdGhlciBvY3RhdmVzLlxuICAgICAgICBsZXR0ZXIgPSBtWzJdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChtWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYW4gZXhwbGljaXQgYWNjaWRlbnRhbCwgdGhlbiByZW1lbWJlciBpdCBmb3JcbiAgICAgICAgICAgIC8vIHRoZSByZXN0IG9mIHRoZSBtZWFzdXJlLlxuICAgICAgICAgICAgYWNjZW50W2xldHRlcl0gPSBtWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChwaXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjY2VudC5oYXNPd25Qcm9wZXJ0eShsZXR0ZXIpKSB7XG4gICAgICAgICAgICAvLyBBY2NpZGVudGFscyBmcm9tIHRoaXMgbWVhc3VyZSBhcHBseSB0byB1bmFjY2VudGVkIG5vdGVzLlxuICAgICAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChhY2NlbnRbbGV0dGVyXSArIG1bMl0gKyBtWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5Lmhhc093blByb3BlcnR5KGxldHRlcikpIHtcbiAgICAgICAgICAgIC8vIEtleSBzaWduYXR1cmVzIGFwcGx5IGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICByZXR1cm4gc3RyaXBOYXR1cmFsKGtleVtsZXR0ZXJdICsgbVsyXSArIG1bM10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpcE5hdHVyYWwocGl0Y2gpO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0cyBhbiBBQkMgZHVyYXRpb24gdG8gYSBudW1iZXIgKGUuZy4sIFwiLzNcIi0+MC4zMzMgb3IgXCIxMS8yXCItPjEuNSkuXG4gICAgZnVuY3Rpb24gZHVyYXRpb25Ub1RpbWUoZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG0gPSAvXihcXGQqKSg/OlxcLyhcXGQqKSk/JHxeKFxcLyspJC8uZXhlYyhkdXJhdGlvbiksXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgaWxlbjtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIGlmIChtWzNdKSByZXR1cm4gTWF0aC5wb3coMC41LCBtWzNdLmxlbmd0aCk7XG4gICAgICAgIGQgPSBtWzJdID8gcGFyc2VGbG9hdChtWzJdKSA6IC9cXC8vLnRlc3QoZHVyYXRpb24pID8gMiA6IDE7XG4gICAgICAgIC8vIEhhbmRsZSBtaXhlZCBmcmF0aW9uczpcbiAgICAgICAgaWxlbiA9IDA7XG4gICAgICAgIG4gPSBtWzFdID8gcGFyc2VGbG9hdChtWzFdKSA6IDE7XG4gICAgICAgIGlmIChtWzJdKSB7XG4gICAgICAgICAgICB3aGlsZSAoaWxlbiArIDEgPCBtWzFdLmxlbmd0aCAmJiBuID4gZCkge1xuICAgICAgICAgICAgICAgIGlsZW4gKz0gMTtcbiAgICAgICAgICAgICAgICBpID0gcGFyc2VGbG9hdChtWzFdLnN1YnN0cmluZygwLCBpbGVuKSk7XG4gICAgICAgICAgICAgICAgbiA9IHBhcnNlRmxvYXQobVsxXS5zdWJzdHJpbmcoaWxlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpICsgbiAvIGQ7XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSU5TVFJVTUVOVFNcbi8vXG4vLyBBbGwgZnVydGhlciBkZXRhaWxzIG9mIGF1ZGlvIGhhbmRsaW5nIGFyZSBlbmNhcHN1bGF0ZWQgaW4gdGhlIEluc3RydW1lbnRcbi8vIGNsYXNzLCB3aGljaCBrbm93cyBob3cgdG8gc3ludGhlc2l6ZSBhIGJhc2ljIHRpbWJyZTsgaG93IHRvIHBsYXkgYW5kXG4vLyBzY2hlZHVsZSBhIHRvbmU7IGFuZCBob3cgdG8gcGFyc2UgYW5kIHNlcXVlbmNlIGEgc29uZyB3cml0dGVuIGluIEFCQ1xuLy8gbm90YXRpb24uXG5cbi8vIFRoZSBjb25zdHJ1Y3RvciBhY2NlcHRzIGEgdGltYnJlIHN0cmluZyBvciBvYmplY3QsIHNwZWNpZnlpbmdcbi8vIGl0cyBkZWZhdWx0IHNvdW5kLiAgVGhlIG1haW4gbWVjaGFuaXNtcyBpbiBJbnN0cnVtZW50IGFyZSBmb3IgaGFuZGxpbmdcbi8vIHNlcXVlbmNpbmcgb2YgYSAocG90ZW50aWFsbHkgbGFyZ2UpIHNldCBvZiBub3RlcyBvdmVyIGEgKHBvdGVudGlhbGx5XG4vLyBsb25nKSBwZXJpb2Qgb2YgdGltZS4gIFRoZSBvdmVyYWxsIHN0cmF0ZWd5OlxuLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICBFdmVudHM6ICAgICAgJ25vdGVvbicgICAgICAgICdub3Rlb2ZmJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4vLyB0b25lKCktKHF1aWNrIHRvbmVzKS0+fCBfc3RhcnRTZXQgLS0+fCBfZmluaXNoU2V0IC0tPnwgX2NsZWFudXBTZXQgLS0+fFxuLy8gICBcXCAgICAgICAgICAgICAgICAgICB8ICAvICAgICAgICAgICB8IFBsYXlpbmcgdG9uZXMgfCBEb25lIHRvbmVzICAgICB8XG4vLyAgICBcXC0tLS0gX3F1ZXVlIC0tLS0tLXwtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbi8vICAgICAgb2YgZnV0dXJlIHRvbmVzICB8MyBzZWNzIGFoZWFkIHNlbnQgdG8gV2ViQXVkaW8sIHJlbW92ZWQgd2hlbiBkb25lXG4vL1xuLy8gVGhlIHJlYXNvbiBmb3IgdGhpcyBxdWV1aW5nIGlzIHRvIHJlZHVjZSB0aGUgY29tcGxleGl0eSBvZiB0aGVcbi8vIG5vZGUgZ3JhcGggc2VudCB0byBXZWJBdWRpbzogYXQgYW55IHRpbWUsIFdlYkF1ZGlvIGlzIG9ubHlcbi8vIHJlc3BvbnNpYmxlIGZvciBhYm91dCAyIHNlY29uZHMgb2YgbXVzaWMuICBJZiBhIGdyYXBoIHdpdGggdG9vXG4vLyB0b28gbWFueSBub2RlcyBpcyBzZW50IHRvIFdlYkF1ZGlvIGF0IG9uY2UsIG91dHB1dCBkaXN0b3J0cyBiYWRseS5cblxuY2xhc3MgSW5zdHJ1bWVudCB7XG4gICAgc3RhdGljIHRpbWVPZmZzZXQgPSAwLjA2MjU7IC8vIFNlY29uZHMgdG8gZGVsYXkgYWxsIGF1ZGlhYmxlIHRpbWluZy5cbiAgICBzdGF0aWMgZGVxdWV1ZVRpbWUgPSAwLjU7IC8vIFNlY29uZHMgYmVmb3JlIGFuIGV2ZW50IHRvIHJlZXhhbWluZSBxdWV1ZS5cbiAgICBzdGF0aWMgYnVmZmVyU2VjcyA9IDI7IC8vIFNlY29uZHMgYWhlYWQgdG8gcHV0IG5vdGVzIGluIFdlYkF1ZGlvLlxuICAgIHN0YXRpYyB0b25lTGVuZ3RoID0gMTsgLy8gRGVmYXVsdCBkdXJhdGlvbiBvZiBhIHRvbmUuXG4gICAgc3RhdGljIGNsZWFudXBEZWxheSA9IDAuMTsgLy8gU2lsZW50IHRpbWUgYmVmb3JlIGRpc2Nvbm5lY3Rpbmcgbm9kZXMuXG5cbiAgICAvLyBBY2NlcHRzIGVpdGhlciBhbiBBQkMgcGl0Y2ggb3IgYSBtaWRpIG51bWJlciBhbmQgY29udmVydHMgdG8gbWlkaS5cbiAgICBzdGF0aWMgcGl0Y2hUb01pZGkobikge1xuICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLnBpdGNoVG9NaWRpKG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cblxuICAgIC8vIEFjY2VwdHMgZWl0aGVyIGFuIEFCQyBwaXRjaCBvciBhIG1pZGkgbnVtYmVyIGFuZCBjb252ZXJ0cyB0byBBQkMgcGl0Y2guXG4gICAgc3RhdGljIG1pZGlUb1BpdGNoKG4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5taWRpVG9QaXRjaChuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG5cbiAgICBfb3V0O1xuICAgIF9hdG9wO1xuICAgIF90aW1icmU7XG4gICAgX3F1ZXVlO1xuICAgIF9taW5RdWV1ZVRpbWU7XG4gICAgX21heFNjaGVkdWxlZFRpbWU7XG4gICAgX3Vuc29ydGVkUXVldWU7XG4gICAgX3N0YXJ0U2V0O1xuICAgIF9maW5pc2hTZXQ7XG4gICAgX2NsZWFudXBTZXQ7XG4gICAgX2NhbGxiYWNrU2V0O1xuICAgIF9oYW5kbGVycztcbiAgICBfbm93O1xuICAgIF9wb2xsVGltZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogYW55KSB7XG4gICAgICAgIHRoaXMuX2F0b3AgPSBVdGlscy5nZXRBdWRpb1RvcCgpOyAvLyBBdWRpbyBjb250ZXh0LlxuICAgICAgICB0aGlzLl90aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKG9wdGlvbnMsIHRoaXMuX2F0b3ApOyAvLyBUaGUgaW5zdHJ1bWVudCdzIHRpbWJyZS5cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTsgLy8gQSBxdWV1ZSBvZiBmdXR1cmUgdG9uZXMgdG8gcGxheS5cbiAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gSW5maW5pdHk7IC8vIFRoZSBlYXJsaWVzdCB0aW1lIGluIF9xdWV1ZS5cbiAgICAgICAgdGhpcy5fbWF4U2NoZWR1bGVkVGltZSA9IDA7IC8vIFRoZSBsYXRlc3QgdGltZSBpbiBfcXVldWUuXG4gICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSBmYWxzZTsgLy8gVHJ1ZSBpZiBfcXVldWUgaXMgdW5zb3J0ZWQuXG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0ID0gW107IC8vIFVuc3RhcnRlZCB0b25lcyBhbHJlYWR5IHNlbnQgdG8gV2ViQXVkaW8uXG4gICAgICAgIHRoaXMuX2ZpbmlzaFNldCA9IHt9OyAvLyBTdGFydGVkIHRvbmVzIHBsYXlpbmcgaW4gV2ViQXVkaW8uXG4gICAgICAgIHRoaXMuX2NsZWFudXBTZXQgPSBbXTsgLy8gVG9uZXMgd2FpdGluZyBmb3IgY2xlYW51cC5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQgPSBbXTsgLy8gQSBzZXQgb2Ygc2NoZWR1bGVkIGNhbGxiYWNrcy5cbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTsgLy8gJ25vdGVvbicgYW5kICdub3Rlb2ZmJyBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5fbm93ID0gbnVsbDsgLy8gQSBjYWNoZWQgY3VycmVudC10aW1lIHZhbHVlLlxuICAgICAgICBpZiAoVXRpbHMuaXNBdWRpb1ByZXNlbnQoKSkge1xuICAgICAgICAgICAgdGhpcy5zaWxlbmNlKCk7IC8vIEluaXRpYWxpemVzIHRvcC1sZXZlbCBhdWRpbyBub2RlLlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0cyB0aGUgZGVmYXVsdCB0aW1icmUgZm9yIHRoZSBpbnN0cnVtZW50LiAgU2VlIGRlZmF1bHRUaW1icmUuXG4gICAgc2V0VGltYnJlKHQpIHtcbiAgICAgICAgdGhpcy5fdGltYnJlID0gVXRpbHMubWFrZVRpbWJyZSh0LCB0aGlzLl9hdG9wKTsgLy8gU2F2ZXMgYSBjb3B5LlxuICAgIH1cblxuICAgIC8vIFJldHVybnMgdGhlIGRlZmF1bHQgdGltYnJlIGZvciB0aGUgaW5zdHJ1bWVudCBhcyBhbiBvYmplY3QuXG4gICAgZ2V0VGltYnJlKHQpIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLm1ha2VUaW1icmUodGhpcy5fdGltYnJlLCB0aGlzLl9hdG9wKTsgLy8gTWFrZXMgYSBjb3B5LlxuICAgIH1cblxuICAgIC8vIFNldHMgdGhlIG92ZXJhbGwgdm9sdW1lIGZvciB0aGUgaW5zdHJ1bWVudCBpbW1lZGlhdGVseS5cbiAgICBzZXRWb2x1bWUodikge1xuICAgICAgICAvLyBXaXRob3V0IGFuIGF1ZGlvIHN5c3RlbSwgdm9sdW1lIGNhbm5vdCBiZSBzZXQuXG4gICAgICAgIGlmICghdGhpcy5fb3V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc05hTih2KSkge1xuICAgICAgICAgICAgdGhpcy5fb3V0LmdhaW4udmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0cyB0aGUgb3ZlcmFsbCB2b2x1bWUgZm9yIHRoZSBpbnN0cnVtZW50LlxuICAgIGdldFZvbHVtZSh2KSB7XG4gICAgICAgIC8vIFdpdGhvdXQgYW4gYXVkaW8gc3lzdGVtLCB2b2x1bWUgaXMgc3R1Y2sgYXQgemVyby5cbiAgICAgICAgaWYgKCF0aGlzLl9vdXQpIHtcbiAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX291dC5nYWluLnZhbHVlO1xuICAgIH1cblxuICAgIC8vIFNpbGVuY2VzIHRoZSBpbnN0cnVtZW50IGltbWVkaWF0ZWx5IGJ5IHJlaW5pdGlhbGl6aW5nIHRoZSBhdWRpb1xuICAgIC8vIGdyYXBoIGZvciB0aGlzIGluc3RydW1lbnQgYW5kIGVtcHR5aW5nIG9yIGZsdXNoaW5nIGFsbCBxdWV1ZXMgaW4gdGhlXG4gICAgLy8gc2NoZWR1bGVyLiAgQ2FyZWZ1bGx5IG5vdGlmaWVzIGFsbCBub3RlcyB0aGF0IGhhdmUgc3RhcnRlZCBidXQgbm90XG4gICAgLy8geWV0IGZpbmlzaGVkLCBhbmQgc2VxdWVuY2VzIHRoYXQgYXJlIGF3YWl0aW5nIHNjaGVkdWxlZCBjYWxsYmFja3MuXG4gICAgLy8gRG9lcyBub3Qgbm90aWZ5IG5vdGVzIHRoYXQgaGF2ZSBub3QgeWV0IHN0YXJ0ZWQuXG4gICAgc2lsZW5jZSgpIHtcbiAgICAgICAgdmFyIGosXG4gICAgICAgICAgICBmaW5pc2hlZCxcbiAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIGluaXR2b2x1bWUgPSAxO1xuXG4gICAgICAgIC8vIENsZWFyIGZ1dHVyZSBub3Rlcy5cbiAgICAgICAgdGhpcy5fcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuX21heFNjaGVkdWxlZFRpbWUgPSAwO1xuXG4gICAgICAgIC8vIERvbid0IG5vdGlmeSBub3RlcyB0aGF0IGhhdmVuJ3Qgc3RhcnRlZCB5ZXQuXG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0Lmxlbmd0aCA9IDA7XG5cbiAgICAgICAgLy8gRmx1c2ggZmluaXNoIGNhbGxiYWNrcyB0aGF0IGFyZSBwcm9taXNlZC5cbiAgICAgICAgZmluaXNoZWQgPSB0aGlzLl9maW5pc2hTZXQ7XG4gICAgICAgIHRoaXMuX2ZpbmlzaFNldCA9IHt9O1xuXG4gICAgICAgIC8vIEZsdXNoIG9uZS10aW1lIGNhbGxhY2tzIHRoYXQgYXJlIHByb21pc2VkLlxuICAgICAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja1NldDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQgPSBbXTtcblxuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBncmFwaCBmb3IgdGhpcyBpbnN0cnVtZW50LlxuICAgICAgICBpZiAodGhpcy5fb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vdXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgaW5pdHZvbHVtZSA9IHRoaXMuX291dC5nYWluLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVpbml0aWFsaXplIHRoZSBhdWRpbyBncmFwaDogYWxsIGF1ZGlvIGZvciB0aGUgaW5zdHJ1bWVudFxuICAgICAgICAvLyBtdWx0aXBsZXhlcyB0aHJvdWdoIGEgc2luZ2xlIGdhaW4gbm9kZSB3aXRoIGEgbWFzdGVyIHZvbHVtZS5cbiAgICAgICAgdGhpcy5fYXRvcCA9IFV0aWxzLmdldEF1ZGlvVG9wKCk7XG4gICAgICAgIHRoaXMuX291dCA9IHRoaXMuX2F0b3AuYWMuY3JlYXRlR2FpbigpO1xuICAgICAgICAvLyB0aGlzLl9vdXQuZ2Fpbi52YWx1ZSA9IGluaXR2b2x1bWU7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBCVUcuXG4gICAgICAgIHRoaXMuX291dC5nYWluLnNldFRhcmdldEF0VGltZShpbml0dm9sdW1lLCB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICB0aGlzLl9vdXQuY29ubmVjdCh0aGlzLl9hdG9wLm91dCk7XG5cbiAgICAgICAgLy8gQXMgYSBsYXN0IHN0ZXAsIGNhbGwgYWxsIHByb21pc2VkIG5vdGlmaWNhdGlvbnMuXG4gICAgICAgIGZvciAoaiBpbiBmaW5pc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihcIm5vdGVvZmZcIiwgZmluaXNoZWRbal0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNhbGxiYWNrc1tqXS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRnV0dXJlIG5vdGVzIGFyZSBzY2hlZHVsZWQgcmVsYXRpdmUgdG8gbm93KCksIHdoaWNoIHByb3ZpZGVzXG4gICAgLy8gYWNjZXNzIHRvIGF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpLCBhIHRpbWUgdGhhdCBob2xkcyBzdGVhZHlcbiAgICAvLyB1bnRpbCB0aGUgc2NyaXB0IHJlbGVhc2VzIHRvIHRoZSBldmVudCBsb29wLiAgV2hlbiBfbm93IGlzXG4gICAgLy8gbm9uLW51bGwsIGl0IGluZGljYXRlcyB0aGF0IHNjaGVkdWxpbmcgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcy5cbiAgICAvLyBUaGUgdGltZXItZHJpdmVuIF9kb1BvbGwgZnVuY3Rpb24gY2xlYXJzIHRoZSBjYWNoZWQgX25vdy5cbiAgICBub3coKSB7XG4gICAgICAgIGlmICh0aGlzLl9ub3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vdztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydFBvbGxUaW1lcih0cnVlKTsgLy8gcGFzc2luZyAodHJ1ZSkgc2V0cyB0aGlzLl9ub3cuXG4gICAgICAgIHJldHVybiB0aGlzLl9ub3c7XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgYW4gZXZlbnQgaGFuZGxlci4gIERvbmUgd2l0aG91dCBqUXVlcnkgdG8gcmVkdWNlIGRlcGVuZGVuY2llcy5cbiAgICBvbihldmVudG5hbWUsIGNiKSB7XG4gICAgICAgIGlmICghdGhpcy5faGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV0ucHVzaChjYik7XG4gICAgfVxuXG4gICAgLy8gVW5yZWdpc3RlciBhbiBldmVudCBoYW5kbGVyLiAgRG9uZSB3aXRob3V0IGpRdWVyeSB0byByZWR1Y2UgZGVwZW5kZW5jaWVzLlxuICAgIG9mZihldmVudG5hbWUsIGNiKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudG5hbWUpKSB7XG4gICAgICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaixcbiAgICAgICAgICAgICAgICAgICAgaHVudCA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGh1bnQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh1bnRbal0gPT09IGNiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodW50LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyaWdnZXIgYW4gZXZlbnQsIG5vdGlmeWluZyBhbnkgcmVnaXN0ZXJlZCBoYW5kbGVycy5cbiAgICBfdHJpZ2dlcihldmVudG5hbWUsIHJlY29yZCkge1xuICAgICAgICB2YXIgY2IgPSB0aGlzLl9oYW5kbGVyc1tldmVudG5hbWVdLFxuICAgICAgICAgICAgajtcbiAgICAgICAgaWYgKCFjYikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYi5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCwgY29tbW9uIGNhc2Ugb2Ygb25lIGhhbmRsZXI6IG5vIGNvcHkgbmVlZGVkLlxuICAgICAgICAgICAgY2JbMF0ocmVjb3JkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3B5IHRoZSBhcnJheSBvZiBjYWxsYmFja3MgYmVmb3JlIGl0ZXJhdGluZywgYmVjYXVzZSB0aGVcbiAgICAgICAgLy8gbWFpbiB0aGlzLl9oYW5kbGVycyBjb3B5IGNvdWxkIGJlIGNoYW5nZWQgYnkgYSBoYW5kbGVyLlxuICAgICAgICAvLyBZb3UgZ2V0IG5vdGlmaWVkIGlmLWFuZC1vbmx5LWlmIHlvdSBhcmUgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBhdCB0aGUgc3RhcnRpbmcgbW9tZW50IG9mIF90cmlnZ2VyLlxuICAgICAgICBjYiA9IGNiLnNsaWNlKCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY2Jbal0ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRlbGxzIHRoZSBXZWJBdWRpbyBBUEkgdG8gcGxheSBhIHRvbmUgKG5vdyBvciBzb29uKS4gIFRoZSBwYXNzZWRcbiAgICAvLyByZWNvcmQgc3BlY2lmaWVzIGEgc3RhcnQgdGltZSBhbmQgcmVsZWFzZSB0aW1lLCBhbiBBRFNSIGVudmVsb3BlLFxuICAgIC8vIGFuZCBvdGhlciB0aW1icmUgcGFyYW1ldGVycy4gIFRoaXMgZnVuY3Rpb24gc2V0cyB1cCBhIFdlYkF1ZGlvXG4gICAgLy8gbm9kZSBncmFwaCBmb3IgdGhlIHRvbmUgZ2VuZXJhdG9ycyBhbmQgZmlsdGVycyBmb3IgdGhlIHRvbmUuXG4gICAgX21ha2VTb3VuZChyZWNvcmQpIHtcbiAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgc3RhcnR0aW1lID0gcmVjb3JkLnRpbWUgKyBJbnN0cnVtZW50LnRpbWVPZmZzZXQsXG4gICAgICAgICAgICByZWxlYXNldGltZSA9IHN0YXJ0dGltZSArIHJlY29yZC5kdXJhdGlvbixcbiAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICBkZWNheXRpbWUgPSB0aW1icmUuZGVjYXkgKiBNYXRoLnBvdyg0NDAgLyByZWNvcmQuZnJlcXVlbmN5LCB0aW1icmUuZGVjYXlmb2xsb3cpLFxuICAgICAgICAgICAgZGVjYXlzdGFydHRpbWUgPSBhdHRhY2t0aW1lLFxuICAgICAgICAgICAgc3RvcHRpbWUgPSByZWxlYXNldGltZSArIHRpbWJyZS5yZWxlYXNlLFxuICAgICAgICAgICAgZG91YmxlZCA9IHRpbWJyZS5kZXR1bmUgJiYgdGltYnJlLmRldHVuZSAhPSAxLjAsXG4gICAgICAgICAgICBhbXAgPSB0aW1icmUuZ2FpbiAqIHJlY29yZC52ZWxvY2l0eSAqIChkb3VibGVkID8gMC41IDogMS4wKSxcbiAgICAgICAgICAgIGFjID0gdGhpcy5fYXRvcC5hYyxcbiAgICAgICAgICAgIGcsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIG8yLFxuICAgICAgICAgICAgcHdhdmUsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgd2YsXG4gICAgICAgICAgICBid2Y7XG4gICAgICAgIC8vIE9ubHkgaG9vayB1cCB0b25lIGdlbmVyYXRvcnMgaWYgaXQgaXMgYW4gYXVkaWJsZSBzb3VuZC5cbiAgICAgICAgaWYgKHJlY29yZC5kdXJhdGlvbiA+IDAgJiYgcmVjb3JkLnZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgZyA9IGFjLmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCBzdGFydHRpbWUpO1xuICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGFtcCwgYXR0YWNrdGltZSk7XG4gICAgICAgICAgICAvLyBGb3IgdGhlIGJlZ2lubmluZyBvZiB0aGUgZGVjYXksIHVzZSBsaW5lYXJSYW1wVG9WYWx1ZSBpbnN0ZWFkXG4gICAgICAgICAgICAvLyBvZiBzZXRUYXJnZXRBdFRpbWUsIGJlY2F1c2UgaXQgYXZvaWRzIGh0dHA6Ly9jcmJ1Zy5jb20vMjU0OTQyLlxuICAgICAgICAgICAgd2hpbGUgKGRlY2F5c3RhcnR0aW1lIDwgYXR0YWNrdGltZSArIDEgLyAzMiAmJiBkZWNheXN0YXJ0dGltZSArIDEgLyAyNTYgPCByZWxlYXNldGltZSkge1xuICAgICAgICAgICAgICAgIC8vIEp1c3QgdHJhY2Ugb3V0IHRoZSBjdXJ2ZSBpbiBpbmNyZW1lbnRzIG9mIDEvMjU2IHNlY1xuICAgICAgICAgICAgICAgIC8vIGZvciB1cCB0byAxLzMyIHNlY29uZHMuXG4gICAgICAgICAgICAgICAgZGVjYXlzdGFydHRpbWUgKz0gMSAvIDI1NjtcbiAgICAgICAgICAgICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoYW1wICogKHRpbWJyZS5zdXN0YWluICsgKDEgLSB0aW1icmUuc3VzdGFpbikgKiBNYXRoLmV4cCgoYXR0YWNrdGltZSAtIGRlY2F5c3RhcnR0aW1lKSAvIGRlY2F5dGltZSkpLCBkZWNheXN0YXJ0dGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGRlY2F5LCB1c2Ugc2V0VGFyZ2V0QXRUaW1lLlxuICAgICAgICAgICAgZy5nYWluLnNldFRhcmdldEF0VGltZShhbXAgKiB0aW1icmUuc3VzdGFpbiwgZGVjYXlzdGFydHRpbWUsIGRlY2F5dGltZSk7XG4gICAgICAgICAgICAvLyBUaGVuIGF0IHJlbGVhc2UgdGltZSwgbWFyayB0aGUgdmFsdWUgYW5kIHJhbXAgdG8gemVyby5cbiAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gcmVsZWFzZXRpbWUpIC8gZGVjYXl0aW1lKSksIHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBzdG9wdGltZSk7XG4gICAgICAgICAgICBnLmNvbm5lY3QodGhpcy5fb3V0KTtcbiAgICAgICAgICAgIC8vIEhvb2sgdXAgYSBsb3ctcGFzcyBmaWx0ZXIgaWYgY3V0b2ZmIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmICgoIXRpbWJyZS5jdXRvZmYgJiYgIXRpbWJyZS5jdXRmb2xsb3cpIHx8IHRpbWJyZS5jdXRvZmYgPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBmID0gZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGN1dG9mZiBmcmVxdWVuY3kgYWRqdXN0ZWQgdXNpbmcgY3V0Zm9sbG93LlxuICAgICAgICAgICAgICAgIGYgPSBhYy5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBmLmZyZXF1ZW5jeS52YWx1ZSA9IHRpbWJyZS5jdXRvZmYgKyByZWNvcmQuZnJlcXVlbmN5ICogdGltYnJlLmN1dGZvbGxvdzsgLy8gUk9OWUVIIFJFTU9WRUQgRFVFIFRPIEJVRy5cbiAgICAgICAgICAgICAgICAvLyBmLlEudmFsdWUgPSB0aW1icmUucmVzb25hbmNlOyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gQlVHLlxuICAgICAgICAgICAgICAgIGYuZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZSh0aW1icmUuY3V0b2ZmICsgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5jdXRmb2xsb3csIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgICAgICAgICAgZi5RLnNldFRhcmdldEF0VGltZSh0aW1icmUucmVzb25hbmNlLCB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICAgICAgICAgIGYuY29ubmVjdChnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhvb2sgdXAgdGhlIG1haW4gb3NjaWxsYXRvci5cbiAgICAgICAgICAgIG8gPSBVdGlscy5tYWtlT3NjaWxsYXRvcih0aGlzLl9hdG9wLCB0aW1icmUud2F2ZSwgcmVjb3JkLmZyZXF1ZW5jeSk7XG4gICAgICAgICAgICBvLmNvbm5lY3QoZik7XG4gICAgICAgICAgICBvLnN0YXJ0KHN0YXJ0dGltZSk7XG4gICAgICAgICAgICBvLnN0b3Aoc3RvcHRpbWUpO1xuICAgICAgICAgICAgLy8gSG9vayB1cCBhIGRldHVuZWQgb3NjaWxsYXRvci5cbiAgICAgICAgICAgIGlmIChkb3VibGVkKSB7XG4gICAgICAgICAgICAgICAgbzIgPSBVdGlscy5tYWtlT3NjaWxsYXRvcih0aGlzLl9hdG9wLCB0aW1icmUud2F2ZSwgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIG8yLmNvbm5lY3QoZik7XG4gICAgICAgICAgICAgICAgbzIuc3RhcnQoc3RhcnR0aW1lKTtcbiAgICAgICAgICAgICAgICBvMi5zdG9wKHN0b3B0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIG5vZGVzIGluIHRoZSByZWNvcmQgc28gdGhhdCB0aGV5IGNhbiBiZSBtb2RpZmllZFxuICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgdG9uZSBpcyB0cnVuY2F0ZWQgbGF0ZXIuXG4gICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBnO1xuICAgICAgICAgICAgcmVjb3JkLm9zY2lsbGF0b3JzID0gW29dO1xuICAgICAgICAgICAgaWYgKGRvdWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnMucHVzaChvMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQuY2xlYW51cHRpbWUgPSBzdG9wdGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluYXVkaWJsZSBzb3VuZHMgYXJlIHNjaGVkdWxlZDogdGhlaXIgcHVycG9zZSBpcyB0byB0cnVuY2F0ZVxuICAgICAgICAgICAgLy8gYXVkaWJsZSB0b25lcyBhdCB0aGUgc2FtZSBwaXRjaC4gIEJ1dCBkdXJhdGlvbiBpcyBzZXQgdG8gemVyb1xuICAgICAgICAgICAgLy8gc28gdGhhdCB0aGV5IGFyZSBjbGVhbmVkIHVwIHF1aWNrbHkuXG4gICAgICAgICAgICByZWNvcmQuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0LnB1c2gocmVjb3JkKTtcbiAgICB9XG4gICAgLy8gVHJ1bmNhdGVzIGEgc291bmQgcHJldmlvdXNseSBzY2hlZHVsZWQgYnkgX21ha2VTb3VuZCBieSB1c2luZ1xuICAgIC8vIGNhbmNlbFNjaGVkdWxlZFZhbHVlcyBhbmQgZGlyZWN0bHkgcmFtcGluZyBkb3duIHRvIHplcm8uXG4gICAgLy8gQ2FuIG9ubHkgYmUgdXNlZCB0byBzaG9ydGVuIGEgc291bmQuXG4gICAgX3RydW5jYXRlU291bmQocmVjb3JkLCB0cnVuY2F0ZXRpbWUpIHtcbiAgICAgICAgaWYgKHRydW5jYXRldGltZSA8IHJlY29yZC50aW1lICsgcmVjb3JkLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICByZWNvcmQuZHVyYXRpb24gPSBNYXRoLm1heCgwLCB0cnVuY2F0ZXRpbWUgLSByZWNvcmQudGltZSk7XG4gICAgICAgICAgICBpZiAocmVjb3JkLmdhaW5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgICAgICAgICBzdGFydHRpbWUgPSByZWNvcmQudGltZSArIEluc3RydW1lbnQudGltZU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZXRpbWUgPSB0cnVuY2F0ZXRpbWUgKyBJbnN0cnVtZW50LnRpbWVPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICAgICAgICAgIGRlY2F5dGltZSA9IHRpbWJyZS5kZWNheSAqIE1hdGgucG93KDQ0MCAvIHJlY29yZC5mcmVxdWVuY3ksIHRpbWJyZS5kZWNheWZvbGxvdyksXG4gICAgICAgICAgICAgICAgICAgIHN0b3B0aW1lID0gcmVsZWFzZXRpbWUgKyB0aW1icmUucmVsZWFzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cHRpbWUgPSBzdG9wdGltZSArIEluc3RydW1lbnQuY2xlYW51cERlbGF5LFxuICAgICAgICAgICAgICAgICAgICBkb3VibGVkID0gdGltYnJlLmRldHVuZSAmJiB0aW1icmUuZGV0dW5lICE9IDEuMCxcbiAgICAgICAgICAgICAgICAgICAgYW1wID0gdGltYnJlLmdhaW4gKiByZWNvcmQudmVsb2NpdHkgKiAoZG91YmxlZCA/IDAuNSA6IDEuMCksXG4gICAgICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgICAgIGcgPSByZWNvcmQuZ2Fpbk5vZGU7XG4gICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGFueSBlbnZlbG9wZSBwb2ludHMgYWZ0ZXIgdGhlIG5ldyByZWxlYXNldGltZS5cbiAgICAgICAgICAgICAgICBnLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsZWFzZXRpbWUgPD0gc3RhcnR0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgYmVmb3JlIHN0YXJ0PyAgVG90YWxseSBzaWxlbmNlIHRoZSBub3RlLlxuICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgcmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVsZWFzZXRpbWUgPD0gYXR0YWNrdGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWxlYXNlIGJlZm9yZSBhdHRhY2sgaXMgZG9uZT8gIEludGVycnVwdCByYW1wIHVwLlxuICAgICAgICAgICAgICAgICAgICAvLyBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoKGFtcCAqIChyZWxlYXNldGltZSAtIHN0YXJ0dGltZSkpIC8gKGF0dGFja3RpbWUgLSBzdGFydHRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKChhbXAgKiAocmVsZWFzZXRpbWUgLSBzdGFydHRpbWUpKSAvIChhdHRhY2t0aW1lIC0gc3RhcnR0aW1lKSwgc3RhcnR0aW1lKTsgLy8gUk9OWUVIIEFEREVEIFNFQ09ORCBQQVJBTSBcInN0YXJ0dGltZVwiLlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgZHVyaW5nIGRlY2F5PyAgSW50ZXJydXB0IGRlY2F5IGRvd24uXG4gICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gcmVsZWFzZXRpbWUpIC8gZGVjYXl0aW1lKSksIHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhlbiByYW1wIGRvd24gdG8gemVybyBhY2NvcmRpbmcgdG8gcmVjb3JkLnJlbGVhc2UuXG4gICAgICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHN0b3B0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBBZnRlciBzdG9wdGltZSwgc3RvcCB0aGUgb3NjaWxsYXRvcnMuICBUaGlzIGlzIG5lY2Vzc2FyeSB0b1xuICAgICAgICAgICAgICAgIC8vIGVsaW1pbmF0ZSBleHRyYSB3b3JrIGZvciBXZWJBdWRpbyBmb3Igbm8tbG9uZ2VyLWF1ZGlibGUgbm90ZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5vc2NpbGxhdG9ycykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcmVjb3JkLm9zY2lsbGF0b3JzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnNbal0uc3RvcChzdG9wdGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgZGlzY29ubmVjdC5cbiAgICAgICAgICAgICAgICByZWNvcmQuY2xlYW51cHRpbWUgPSBjbGVhbnVwdGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgY29yZSBzY2hlZHVsaW5nIGxvb3AgaXMgbWFuYWdlZCBieSBJbnN0cnVtZW50Ll9kb1BvbGwuICBJdCByZWFkc1xuICAgIC8vIHRoZSBhdWRpb2NvbnRleHQncyBjdXJyZW50IHRpbWUgYW5kIHB1c2hlcyB0b25lIHJlY29yZHMgZnJvbSBvbmVcbiAgICAvLyBzdGFnZSB0byB0aGUgbmV4dC5cbiAgICAvL1xuICAgIC8vIDEuIFRoZSBmaXJzdCBzdGFnZSBpcyB0aGUgX3F1ZXVlLCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIG5vdFxuICAgIC8vICAgIHlldCBiZWVuIGdpdmVuIHRvIFdlYkF1ZGlvLiBUaGlzIGxvb3Agc2NhbnMgX3F1ZXVlIHRvIGZpbmRcbiAgICAvLyAgICBub3RlcyB0aGF0IG5lZWQgdG8gYmVnaW4gaW4gdGhlIG5leHQgZmV3IHNlY29uZHM7IHRoZW4gaXRcbiAgICAvLyAgICBzZW5kcyB0aG9zZSB0byBXZWJBZHVpbyBhbmQgbW92ZXMgdGhlbSB0byBfc3RhcnRTZXQuIEJlY2F1c2VcbiAgICAvLyAgICBzY2hlZHVsZWQgc29uZ3MgY2FuIGJlIGxvbmcsIF9xdWV1ZSBjYW4gYmUgbGFyZ2UuXG4gICAgLy9cbiAgICAvLyAyLiBTZWNvbmQgaXMgX3N0YXJ0U2V0LCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIGJlZW4gZ2l2ZW4gdG9cbiAgICAvLyAgICBXZWJBdWRpbywgYnV0IHdob3NlIHN0YXJ0IHRpbWVzIGhhdmUgbm90IHlldCBlbGFwc2VkLiBXaGVuXG4gICAgLy8gICAgdGhlIHRpbWUgYWR2YW5jZXMgcGFzdCB0aGUgc3RhcnQgdGltZSBvZiBhIHJlY29yZCwgYSAnbm90ZW9uJ1xuICAgIC8vICAgIG5vdGlmaWNhdGlvbiBpcyBmaXJlZCBmb3IgdGhlIHRvbmUsIGFuZCBpdCBpcyBtb3ZlZCB0b1xuICAgIC8vICAgIF9maW5pc2hTZXQuXG4gICAgLy9cbiAgICAvLyAzLiBfZmluaXNoU2V0IHJlcHJlc2VudHMgdGhlIG5vdGVzIHRoYXQgYXJlIGN1cnJlbnRseSBzb3VuZGluZy5cbiAgICAvLyAgICBUaGUgcHJvZ3JhbW1pbmcgbW9kZWwgZm9yIEluc3RydW1lbnQgaXMgdGhhdCBvbmx5IG9uZSB0b25lIG9mXG4gICAgLy8gICAgYSBzcGVjaWZpYyBmcmVxdWVuY3kgbWF5IGJlIHBsYXllZCBhdCBvbmNlIHdpdGhpbiBhIEluc3RydW1lbnQsXG4gICAgLy8gICAgc28gb25seSBvbmUgdG9uZSBvZiBhIGdpdmVuIGZyZXF1ZW5jeSBtYXkgZXhpc3QgaW4gX2ZpbmlzaFNldFxuICAgIC8vICAgIGF0IG9uY2UuICBXaGVuIHRoZXJlIGlzIGEgY29uZmxpY3QsIHRoZSBzb29uZXItdG8tZW5kLW5vdGVcbiAgICAvLyAgICBpcyB0cnVuY2F0ZWQuXG4gICAgLy9cbiAgICAvLyA0LiBBZnRlciBhIG5vdGUgaXMgcmVsZWFzZWQsIGl0IG1heSBoYXZlIGEgbGl0bGUgcmVsZWFzZSB0aW1lXG4gICAgLy8gICAgKGRlcGVuZGluZyBvbiB0aW1icmUucmVsZWFzZSksIGFmdGVyIHdoaWNoIHRoZSBub2RlcyBjYW5cbiAgICAvLyAgICBiZSB0b3RhbGx5IGRpc2Nvbm5lY3RlZCBhbmQgY2xlYW5lZCB1cC4gIF9jbGVhbnVwU2V0IGhvbGRzXG4gICAgLy8gICAgbm90ZXMgZm9yIHdoaWNoIHdlIGFyZSBhd2FpdGluZyBjbGVhbnVwLlxuICAgIF9kb1BvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuX25vdyA9IG51bGw7XG4gICAgICAgIGlmICh3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJpbnRlcnJ1cHRlZFwiKSAmJiB3aW5kb3dbXCJpbnRlcnJ1cHRlZFwiXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaWxlbmNlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHNob3J0ZXN0IHRpbWUgd2UgY2FuIGRlbGF5IGlzIDEgLyAxMDAwIHNlY3MsIHNvIGlmIGFuIGV2ZW50XG4gICAgICAgIC8vIGlzIHdpdGhpbiB0aGUgbmV4dCAwLjUgbXMsIG5vdyBpcyB0aGUgY2xvc2VzdCBtb21lbnQsIGFuZCB3ZSBnb1xuICAgICAgICAvLyBhaGVhZCBhbmQgcHJvY2VzcyBpdC5cbiAgICAgICAgdmFyIGluc3RhbnQgPSB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lICsgMSAvIDIwMDAsXG4gICAgICAgICAgICBjYWxsYmFja3MgPSBbXSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICB3b3JrLFxuICAgICAgICAgICAgd2hlbixcbiAgICAgICAgICAgIGZyZXEsXG4gICAgICAgICAgICByZWNvcmQsXG4gICAgICAgICAgICBjb25mbGljdCxcbiAgICAgICAgICAgIHNhdmUsXG4gICAgICAgICAgICBjYjtcbiAgICAgICAgLy8gU2NoZWR1bGUgYSBiYXRjaCBvZiBub3Rlc1xuICAgICAgICBpZiAodGhpcy5fbWluUXVldWVUaW1lIC0gaW5zdGFudCA8PSBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91bnNvcnRlZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS50aW1lICE9IGIudGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudGltZSAtIGIudGltZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYS5kdXJhdGlvbiAhPSBiLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5kdXJhdGlvbiAtIGIuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZnJlcXVlbmN5IC0gYi5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5zb3J0ZWRRdWV1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX3F1ZXVlLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlW2pdLnRpbWUgLSBpbnN0YW50ID4gSW5zdHJ1bWVudC5idWZmZXJTZWNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIHdvcmsgPSB0aGlzLl9xdWV1ZS5zcGxpY2UoMCwgaik7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHdvcmsubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZVNvdW5kKHdvcmtbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9taW5RdWV1ZVRpbWUgPSB0aGlzLl9xdWV1ZS5sZW5ndGggPiAwID8gdGhpcy5fcXVldWVbMF0udGltZSA6IEluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERpc2Nvbm5lY3Qgbm90ZXMgZnJvbSB0aGUgY2xlYW51cCBzZXQuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9jbGVhbnVwU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9jbGVhbnVwU2V0W2pdO1xuICAgICAgICAgICAgaWYgKHJlY29yZC5jbGVhbnVwdGltZSA8IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmdhaW5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZXhwbGljaXQgZGlzY29ubmVjdCBpcyBuZWVkZWQgb3IgZWxzZSBDaHJvbWUncyBXZWJBdWRpb1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydHMgZ2V0dGluZyBvdmVybG9hZGVkIGFmdGVyIGEgY291cGxlIHRob3VzYW5kIG5vdGVzLlxuICAgICAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhbnVwU2V0LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICBqIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90aWZ5IGFib3V0IGFueSBub3RlcyBmaW5pc2hpbmcuXG4gICAgICAgIGZvciAoZnJlcSBpbiB0aGlzLl9maW5pc2hTZXQpIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2ZpbmlzaFNldFtmcmVxXTtcbiAgICAgICAgICAgIHdoZW4gPSByZWNvcmQudGltZSArIHJlY29yZC5kdXJhdGlvbjtcbiAgICAgICAgICAgIGlmICh3aGVuIDw9IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbd2hlbiwgMF0sXG4gICAgICAgICAgICAgICAgICAgIGY6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGE6IFtcIm5vdGVvZmZcIiwgcmVjb3JkXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmNsZWFudXB0aW1lICE9IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZmluaXNoU2V0W2ZyZXFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENhbGwgYW55IHNwZWNpZmljIG9uZS10aW1lIGNhbGxiYWNrcyB0aGF0IHdlcmUgcmVnaXN0ZXJlZC5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NhbGxiYWNrU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBjYiA9IHRoaXMuX2NhbGxiYWNrU2V0W2pdO1xuICAgICAgICAgICAgd2hlbiA9IGNiLnRpbWU7XG4gICAgICAgICAgICBpZiAod2hlbiA8PSBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3doZW4sIDFdLFxuICAgICAgICAgICAgICAgICAgICBmOiBjYi5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYTogW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RpZnkgYWJvdXQgYW55IG5vdGVzIHN0YXJ0aW5nLlxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fc3RhcnRTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydFNldFtqXS50aW1lIDw9IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBzYXZlID0gcmVjb3JkID0gdGhpcy5fc3RhcnRTZXRbal07XG4gICAgICAgICAgICAgICAgZnJlcSA9IHJlY29yZC5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgY29uZmxpY3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maW5pc2hTZXQuaGFzT3duUHJvcGVydHkoZnJlcSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIG5vdGUgYXQgdGhlIHNhbWUgZnJlcXVlbmN5IHBsYXlpbmcsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVsZWFzZSB0aGUgb25lIHRoYXQgc3RhcnRzIGZpcnN0LCBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25mbGljdC50aW1lIDwgcmVjb3JkLnRpbWUgfHwgKGNvbmZsaWN0LnRpbWUgPT0gcmVjb3JkLnRpbWUgJiYgY29uZmxpY3QuZHVyYXRpb24gPCByZWNvcmQuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdXIgbmV3IHNvdW5kIGNvbmZsaWN0cyB3aXRoIGFuIG9sZCBvbmU6IGVuZCB0aGUgb2xkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG5vdGlmeSBpbW1lZGlhdGVseSBvZiBpdHMgbm90ZW9mZiBldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RydW5jYXRlU291bmQoY29uZmxpY3QsIHJlY29yZC50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3JlY29yZC50aW1lLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOiB0aGlzLl90cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9mZlwiLCBjb25mbGljdF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIGNvbmZsaWN0IGZyb20gdGhlIGZ1dHVyZSBoYXMgYWxyZWFkeSBzY2hlZHVsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBvdXIgb3duIG5vdGUgc2hvdWxkbid0IHNvdW5kLiAgVHJ1bmNhdGUgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSwgYW5kIHN1cHByZXNzIG91ciBvd24gbm90ZW9uIGFuZCBub3Rlb2ZmLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ1bmNhdGVTb3VuZChyZWNvcmQsIGNvbmZsaWN0LnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSByZWNvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmR1cmF0aW9uID4gMCAmJiByZWNvcmQudmVsb2NpdHkgPiAwICYmIGNvbmZsaWN0ICE9PSByZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoU2V0W2ZyZXFdID0gcmVjb3JkO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3JlY29yZC50aW1lLCAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGY6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9uXCIsIHJlY29yZF0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTY2hlZHVsZSB0aGUgbmV4dCBfZG9Qb2xsLlxuICAgICAgICB0aGlzLl9zdGFydFBvbGxUaW1lcigpO1xuXG4gICAgICAgIC8vIFNvcnQgY2FsbGJhY2tzIGFjY29yZGluZyB0byB0aGUgXCJvcmRlclwiIHR1cGxlLCBzbyBlYXJsaWVyIGV2ZW50c1xuICAgICAgICAvLyBhcmUgbm90aWZpZWQgZmlyc3QuXG4gICAgICAgIGNhbGxiYWNrcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYS5vcmRlclswXSAhPSBiLm9yZGVyWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJbMF0gLSBiLm9yZGVyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGllYnJlYWsgYnkgbm90aWZ5aW5nICdub3Rlb2ZmJyBmaXJzdCBhbmQgJ25vdGVvbicgbGFzdC5cbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyWzFdIC0gYi5vcmRlclsxXTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEF0IHRoZSBlbmQsIGNhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aG91dCBkZXBlbmRpbmcgb24gXCJ0aGlzXCIgc3RhdGUuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNiID0gY2FsbGJhY2tzW2pdO1xuICAgICAgICAgICAgY2IuZi5hcHBseShjYi50LCBjYi5hKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTY2hlZHVsZXMgdGhlIG5leHQgX2RvUG9sbCBjYWxsIGJ5IGV4YW1pbmluZyB0aW1lcyBpbiB0aGUgdmFyaW91c1xuICAgIC8vIHNldHMgYW5kIGRldGVybWluaW5nIHRoZSBzb29uZXN0IGV2ZW50IHRoYXQgbmVlZHMgX2RvUG9sbCBwcm9jZXNzaW5nLlxuICAgIF9zdGFydFBvbGxUaW1lcihzZXRub3c6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSBhIFwic2V0bm93XCIsIHRoZW4gcG9sbFRpbWVyIGlzIHplcm8tdGltZW91dFxuICAgICAgICAvLyBhbmQgY2Fubm90IGJlIGZhc3Rlci5cbiAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lciAmJiB0aGlzLl9ub3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZG9Qb2xsKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWFybGllc3QgPSBJbmZpbml0eSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBkZWxheTtcbiAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lcikge1xuICAgICAgICAgICAgLy8gQ2xlYXIgYW55IG9sZCB0aW1lclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3BvbGxUaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9wb2xsVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRub3cpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gc2NoZWR1bGluZyB0b25lcywgY2FjaGUgX25vdyBhbmQga2VlcCBhIHplcm8tdGltZW91dCBwb2xsLlxuICAgICAgICAgICAgLy8gX25vdyB3aWxsIGJlIGNsZWFyZWQgdGhlIG5leHQgdGltZSB3ZSBleGVjdXRlIF9kb1BvbGwuXG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBVdGlscy5hdWRpb0N1cnJlbnRTdGFydFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IHNldFRpbWVvdXQocG9sbCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIG5vdGVzIHN0YXJ0aW5nOiB3YWtlIHVwIGZvciAnbm90ZW9uJyBub3RpZmljYXRpb24uXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9zdGFydFNldC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fc3RhcnRTZXRbal0udGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIG5vdGVzIGZpbmlzaGluZzogd2FrZSB1cCBmb3IgJ25vdGVvZmYnIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgZm9yIChqIGluIHRoaXMuX2ZpbmlzaFNldCkge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fZmluaXNoU2V0W2pdLnRpbWUgKyB0aGlzLl9maW5pc2hTZXRbal0uZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRpbWVyIGR1ZSB0byBzY2hlZHVsZWQgY2FsbGJhY2suXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9jYWxsYmFja1NldC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fY2FsbGJhY2tTZXRbal0udGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIGNsZWFudXA6IGFkZCBhIHNlY29uZCB0byBnaXZlIHNvbWUgdGltZSB0byBiYXRjaCB1cC5cbiAgICAgICAgaWYgKHRoaXMuX2NsZWFudXBTZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fY2xlYW51cFNldFswXS5jbGVhbnVwdGltZSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRpbWVyIGR1ZSB0byBzZXF1ZW5jZXIgZXZlbnRzOiBzdWJ0cmFjdCBhIGxpdHRsZSB0aW1lIHRvIHN0YXkgYWhlYWQuXG4gICAgICAgIGVhcmxpZXN0ID0gTWF0aC5taW4oZWFybGllc3QsIHRoaXMuX21pblF1ZXVlVGltZSAtIEluc3RydW1lbnQuZGVxdWV1ZVRpbWUpO1xuXG4gICAgICAgIGRlbGF5ID0gTWF0aC5tYXgoMC4wMDEsIGVhcmxpZXN0IC0gdGhpcy5fYXRvcC5hYy5jdXJyZW50VGltZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGZ1dHVyZSBldmVudHMsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSB0aW1lci5cbiAgICAgICAgaWYgKGlzTmFOKGRlbGF5KSB8fCBkZWxheSA9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIHRoZSBKYXZhc2NyaXB0IHRpbWVyIHRvIHdha2UgdXAgYXQgdGhlIHJpZ2h0IG1vbWVudC5cbiAgICAgICAgdGhpcy5fcG9sbFRpbWVyID0gc2V0VGltZW91dChwb2xsLCBNYXRoLnJvdW5kKGRlbGF5ICogMTAwMCkpO1xuICAgIH1cblxuICAgIC8vIFRoZSBsb3ctbGV2ZWwgdG9uZSBmdW5jdGlvbi5cbiAgICB0b25lKHBpdGNoLCBkdXJhdGlvbiwgdmVsb2NpdHksIGRlbGF5LCB0aW1icmUsIG9yaWdpbikge1xuICAgICAgICAvLyBJZiBhdWRpbyBpcyBub3QgcHJlc2VudCwgdGhpcyBpcyBhIG5vLW9wLlxuICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxlZCB3aXRoIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGxpc3RlZCBhcmdzLlxuICAgICAgICBpZiAodHlwZW9mIHBpdGNoID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA9PSBudWxsKSB2ZWxvY2l0eSA9IHBpdGNoLnZlbG9jaXR5O1xuICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09IG51bGwpIGR1cmF0aW9uID0gcGl0Y2guZHVyYXRpb247XG4gICAgICAgICAgICBpZiAoZGVsYXkgPT0gbnVsbCkgZGVsYXkgPSBwaXRjaC5kZWxheTtcbiAgICAgICAgICAgIGlmICh0aW1icmUgPT0gbnVsbCkgdGltYnJlID0gcGl0Y2gudGltYnJlO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiA9PSBudWxsKSBvcmlnaW4gPSBwaXRjaC5vcmlnaW47XG4gICAgICAgICAgICBwaXRjaCA9IHBpdGNoLnBpdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCBwaXRjaCBmcm9tIHZhcmlvdXMgZm9ybWF0cyB0byBIeiBmcmVxdWVuY3kgYW5kIGEgbWlkaSBudW0uXG4gICAgICAgIHZhciBtaWRpLCBmcmVxdWVuY3k7XG4gICAgICAgIGlmICghcGl0Y2gpIHtcbiAgICAgICAgICAgIHBpdGNoID0gXCJDXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHBpdGNoKSkge1xuICAgICAgICAgICAgbWlkaSA9IFV0aWxzLnBpdGNoVG9NaWRpKHBpdGNoKTtcbiAgICAgICAgICAgIGZyZXF1ZW5jeSA9IFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShtaWRpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyZXF1ZW5jeSA9IE51bWJlcihwaXRjaCk7XG4gICAgICAgICAgICBpZiAoZnJlcXVlbmN5IDwgMCkge1xuICAgICAgICAgICAgICAgIG1pZGkgPSAtZnJlcXVlbmN5O1xuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShtaWRpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWlkaSA9IFV0aWxzLmZyZXF1ZW5jeVRvTWlkaShmcmVxdWVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aW1icmUpIHtcbiAgICAgICAgICAgIHRpbWJyZSA9IHRoaXMuX3RpbWJyZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGN1c3RvbSB0aW1icmUsIHZhbGlkYXRlIGFuZCBjb3B5IGl0LlxuICAgICAgICBpZiAodGltYnJlICE9PSB0aGlzLl90aW1icmUpIHtcbiAgICAgICAgICAgIHZhciBnaXZlbiA9IHRpbWJyZSxcbiAgICAgICAgICAgICAgICBrZXk7XG4gICAgICAgICAgICB0aW1icmUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIFV0aWxzLmRlZmF1bHRUaW1icmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGdpdmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWJyZVtrZXldID0gZ2l2ZW5ba2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aW1icmVba2V5XSA9IFV0aWxzLmRlZmF1bHRUaW1icmVba2V5XTsgLy8gUk9OWUVIOiBUaGVyZSB3YXMgYSB0eXBvIGJ1ZyBpbiB0aGUgb3JpZ2luYWwgTXVzaWNhbC5qcy4gSXQgd2FzIGNhdWdodCBieSBvdXIgVHlwZVNjcmlwdCBjb21waWxlci5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHJlY29yZCBmb3IgYSB0b25lLlxuICAgICAgICB2YXIgYWMgPSB0aGlzLl9hdG9wLmFjLFxuICAgICAgICAgICAgbm93ID0gdGhpcy5ub3coKSxcbiAgICAgICAgICAgIHRpbWUgPSBub3cgKyAoZGVsYXkgfHwgMCksXG4gICAgICAgICAgICByZWNvcmQgPSB7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgICAgICAgICBvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBmcmVxdWVuY3ksXG4gICAgICAgICAgICAgICAgbWlkaTogbWlkaSxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogdmVsb2NpdHkgPT0gbnVsbCA/IDEgOiB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gPT0gbnVsbCA/IEluc3RydW1lbnQudG9uZUxlbmd0aCA6IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHRpbWJyZTogdGltYnJlLFxuICAgICAgICAgICAgICAgIGluc3RydW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3NjaWxsYXRvcnM6IG51bGwsXG4gICAgICAgICAgICAgICAgY2xlYW51cHRpbWU6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIG9yaWdpbjogb3JpZ2luLCAvLyBzYXZlIHRoZSBvcmlnaW4gb2YgdGhlIHRvbmUgZm9yIHZpc2libGUgZmVlZGJhY2tcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRpbWUgPCBub3cgKyBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgIC8vIFRoZSB0b25lIHN0YXJ0cyBzb29uISAgR2l2ZSBpdCBkaXJlY3RseSB0byBXZWJBdWRpby5cbiAgICAgICAgICAgIHRoaXMuX21ha2VTb3VuZChyZWNvcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIHRvbmUgaXMgbGF0ZXI6IHF1ZXVlIGl0LlxuICAgICAgICAgICAgaWYgKCF0aGlzLl91bnNvcnRlZFF1ZXVlICYmIHRoaXMuX3F1ZXVlLmxlbmd0aCAmJiB0aW1lIDwgdGhpcy5fcXVldWVbdGhpcy5fcXVldWUubGVuZ3RoIC0gMV0udGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gTWF0aC5taW4odGhpcy5fbWluUXVldWVUaW1lLCByZWNvcmQudGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVGhlIGxvdy1sZXZlbCBjYWxsYmFjayBzY2hlZHVsaW5nIG1ldGhvZC5cbiAgICBzY2hlZHVsZShkZWxheSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQucHVzaCh7IHRpbWU6IHRoaXMubm93KCkgKyBkZWxheSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgaGlnaC1sZXZlbCBzZXF1ZW5jaW5nIG1ldGhvZC5cbiAgICBwbGF5KGFiY3N0cmluZykge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICBkb25lID0gbnVsbCxcbiAgICAgICAgICAgIG9wdHMgPSB7fSxcbiAgICAgICAgICAgIHN1YmZpbGUsXG4gICAgICAgICAgICBhYmNmaWxlLFxuICAgICAgICAgICAgYXJnaW5kZXgsXG4gICAgICAgICAgICB0ZW1wbyxcbiAgICAgICAgICAgIHRpbWJyZSxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIG1heGRlbGF5ID0gMCxcbiAgICAgICAgICAgIGF0dGVudWF0ZSxcbiAgICAgICAgICAgIHZvaWNlbmFtZSxcbiAgICAgICAgICAgIHN0ZW1zLFxuICAgICAgICAgICAgbmksXG4gICAgICAgICAgICB2bixcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBzdGVtLFxuICAgICAgICAgICAgbm90ZSxcbiAgICAgICAgICAgIGJlYXRzZWNzLFxuICAgICAgICAgICAgc2VjcyxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBmaWxlcyA9IFtdO1xuICAgICAgICAvLyBMb29rIGZvciBjb250aW51YXRpb24gYXMgbGFzdCBhcmd1bWVudC5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBkb25lID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvb2sgZm9yIG9wdGlvbnMgYXMgZmlyc3Qgb2JqZWN0LlxuICAgICAgICBhcmdpbmRleCA9IDA7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAgICAgICAvLyBDb3B5IG93biBwcm9wZXJ0aWVzIGludG8gYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICAgICAgICBmb3IgKGsgaW4gYXJnc1swXSlcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRzW2tdID0gYXJnc1swXVtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdpbmRleCA9IDE7XG4gICAgICAgICAgICAvLyBJZiBhIHNvbmcgaXMgc3VwcGxpZWQgYnkgb3B0aW9ucyBvYmplY3QsIHByb2Nlc3MgaXQuXG4gICAgICAgICAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eShcInNvbmdcIikpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2gob3B0c1tcInNvbmdcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIGFueSBudW1iZXIgb2YgQUJDIGZpbGVzIGFzIGlucHV0LlxuICAgICAgICBmb3IgKDsgYXJnaW5kZXggPCBhcmdzLmxlbmd0aDsgKythcmdpbmRleCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHNwbGl0dGluZyBvZiBBQkMgc3ViZmlsZXMgYXQgWDogbGluZXMuXG4gICAgICAgICAgICBzdWJmaWxlID0gYXJnc1thcmdpbmRleF0uc3BsaXQoL1xcbig/PVg6KS8pO1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHN1YmZpbGUubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICBhYmNmaWxlID0gcGFyc2VBQkNGaWxlKHN1YmZpbGVba10pO1xuICAgICAgICAgICAgICAgIGlmICghYWJjZmlsZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gVGFrZSB0ZW1wbyBtYXJraW5ncyBmcm9tIHRoZSBmaXJzdCBmaWxlLCBhbmQgc2hhcmUgdGhlbS5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoXCJ0ZW1wb1wiKSAmJiBhYmNmaWxlLnRlbXBvKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHNbXCJ0ZW1wb1wiXSA9IGFiY2ZpbGUudGVtcG87XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYmNmaWxlLnVuaXRiZWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzW1widGVtcG9cIl0gPSAob3B0c1tcInRlbXBvXCJdICogYWJjZmlsZS51bml0YmVhdCkgLyAoYWJjZmlsZS51bml0bm90ZSB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZmlsZXMgd2l0aG91dCBzb25ncy5cbiAgICAgICAgICAgICAgICBpZiAoIWFiY2ZpbGUudm9pY2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goYWJjZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCB0ZW1wbyB0byAxMjAgaWYgbm90aGluZyBlbHNlIGlzIHNwZWNpZmllZC5cbiAgICAgICAgaWYgKCFvcHRzLmhhc093blByb3BlcnR5KFwidGVtcG9cIikpIHtcbiAgICAgICAgICAgIG9wdHNbXCJ0ZW1wb1wiXSA9IDEyMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHZvbHVtZSB0byAxIGlmIG5vdGhpbmcgaXMgc3BlY2lmaWVkLlxuICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoXCJ2b2x1bWVcIikpIHtcbiAgICAgICAgICAgIG9wdHNbXCJ2b2x1bWVcIl0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGJlYXRzZWNzID0gNjAuMCAvIG9wdHNbXCJ0ZW1wb1wiXTtcbiAgICAgICAgLy8gU2NoZWR1bGUgYWxsIG5vdGVzIGZyb20gYWxsIHRoZSBmaWxlcy5cbiAgICAgICAgZm9yIChrID0gMDsgayA8IGZpbGVzLmxlbmd0aDsgKytrKSB7XG4gICAgICAgICAgICBhYmNmaWxlID0gZmlsZXNba107XG4gICAgICAgICAgICAvLyBFYWNoIGZpbGUgY2FuIGhhdmUgbXVsdGlwbGUgdm9pY2VzIChlLmcuLCBsZWZ0IGFuZCByaWdodCBoYW5kcylcbiAgICAgICAgICAgIGZvciAodm4gaW4gYWJjZmlsZS52b2ljZSkge1xuICAgICAgICAgICAgICAgIC8vIEVhY2ggdm9pY2UgY291bGQgaGF2ZSBhIHNlcGFyYXRlIHRpbWJyZS5cbiAgICAgICAgICAgICAgICB0aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKG9wdHNbXCJ0aW1icmVcIl0gfHwgYWJjZmlsZS52b2ljZVt2bl0udGltYnJlIHx8IGFiY2ZpbGUudGltYnJlIHx8IHRoaXMuX3RpbWJyZSwgdGhpcy5fYXRvcCk7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCB2b2ljZSBoYXMgYSBzZXJpZXMgb2Ygc3RlbXMgKG5vdGVzIG9yIGNob3JkcykuXG4gICAgICAgICAgICAgICAgc3RlbXMgPSBhYmNmaWxlLnZvaWNlW3ZuXS5zdGVtcztcbiAgICAgICAgICAgICAgICBpZiAoIXN0ZW1zKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydGluZyBhdCBkZWxheSB6ZXJvIChub3cpLCBzY2hlZHVsZSBhbGwgdG9uZXMuXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobmkgPSAwOyBuaSA8IHN0ZW1zLmxlbmd0aDsgKytuaSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVtID0gc3RlbXNbbmldO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbnVhdGUgY2hvcmRzIHRvIHJlZHVjZSBjbGlwcGluZy5cbiAgICAgICAgICAgICAgICAgICAgYXR0ZW51YXRlID0gMSAvIE1hdGguc3FydChzdGVtLm5vdGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNjaGVkdWxlIGV2ZXJ5IG5vdGUgaW5zaWRlIGEgc3RlbS5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0ZW0ubm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgPSBzdGVtLm5vdGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuaG9sZG92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGhvbGRvdmVyIG5vdGVzIGZyb20gdGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgPSAobm90ZS50aW1lIHx8IHN0ZW0udGltZSkgKiBiZWF0c2VjcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVtLnN0YWNjYXRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvcnRlbiBzdGFjY2F0byBub3Rlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzID0gTWF0aC5taW4oTWF0aC5taW4oc2VjcywgYmVhdHNlY3MgLyAxNiksIHRpbWJyZS5hdHRhY2sgKyB0aW1icmUuZGVjYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbm90ZS5zbHVycmVkICYmIHNlY3MgPj0gMSAvIDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXBhcmF0ZSB1bnNsdXJyZWQgbm90ZXMgYnkgYWJvdXQgYSAzMHRoIG9mIGEgc2Vjb25kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgLT0gMSAvIDMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IChub3RlLnZlbG9jaXR5IHx8IDEpICogYXR0ZW51YXRlICogb3B0c1tcInZvbHVtZVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgaW5uc2VybW9zdCBwYXJ0IG9mIHRoZSBpbm5lciBsb29wIVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBsYXkgdGhlIHRvbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5waXRjaCwgLy8gYXQgdGhlIGdpdmVuIHBpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcywgLy8gZm9yIHRoZSBnaXZlbiBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYsIC8vIHdpdGggdGhlIGdpdmVuIHZvbHVtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5LCAvLyBzdGFydGluZyBhdCB0aGUgcHJvcGVyIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1icmUsIC8vIHdpdGggdGhlIHNlbGVjdGVkIHRpbWJyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgLy8gdGhlIG9yaWdpbiBvYmplY3QgZm9yIHZpc3VhbCBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxheSArPSBzdGVtLnRpbWUgKiBiZWF0c2VjczsgLy8gQWR2YW5jZSB0aGUgc2VxdWVuY2VkIHRpbWUuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1heGRlbGF5ID0gTWF0aC5tYXgoZGVsYXksIG1heGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhTY2hlZHVsZWRUaW1lID0gTWF0aC5tYXgodGhpcy5fbWF4U2NoZWR1bGVkVGltZSwgdGhpcy5ub3coKSArIG1heGRlbGF5KTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGEgXCJkb25lXCIgY2FsbGJhY2sgYWZ0ZXIgYWxsIHNlcXVlbmNpbmcgaXMgY29tcGxldGUuXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlKG1heGRlbGF5LCBkb25lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy9cbi8vIEVORCBJTlNUUlVNRU5UXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTXVzaWNhbCBKU1xuXG4vL2NvbnN0IF9JbnN0cnVtZW50ID0gSW5zdHJ1bWVudDtcbmNvbnN0IF9wYXJzZUFCQ0ZpbGUgPSBwYXJzZUFCQ0ZpbGU7XG5cbm5hbWVzcGFjZSBNdXNpY2FsIHtcbiAgICBleHBvcnQgdHlwZSBJbnN0cnVtZW50ID0gSW5zdHJ1bWVudDtcbiAgICBleHBvcnQgY29uc3QgcGFyc2VBQkNGaWxlID0gX3BhcnNlQUJDRmlsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXVzaWNhbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apps/shared/sound/Musical.ts\n");

/***/ })

})