webpackHotUpdate_N_E("pages/midi",{

/***/ "./apps/shared/sound/Musical.ts":
/*!**************************************!*\
  !*** ./apps/shared/sound/Musical.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\n\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// musical.js\n// https://github.com/PencilCode/musical.js\nvar Musical;\n\n(function (_Musical) {\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  // WAVETABLE-BUILDER\n  // wavetable is a table of names for nonstandard waveforms.\n  // The table maps names to objects that have wave: and freq:\n  // properties. The wave: property is a PeriodicWave to use\n  // for the oscillator.  The freq: property, if present,\n  // is a map from higher frequencies to more PeriodicWave\n  // objects; when a frequency higher than the given threshold\n  // is requested, the alternate PeriodicWave is used.\n  var makeWavetable = function makeWavetable(ac) {\n    return function (wavedata) {\n      function makePeriodicWave(data) {\n        var n = data.real.length,\n            real = new Float32Array(n),\n            imag = new Float32Array(n),\n            j;\n\n        for (j = 0; j < n; ++j) {\n          real[j] = data.real[j];\n          imag[j] = data.imag[j];\n        }\n\n        try {\n          // Latest API naming.\n          return ac.createPeriodicWave(real, imag);\n        } catch (e) {}\n\n        try {\n          // Earlier API naming.\n          return ac.createWaveTable(real, imag);\n        } catch (e) {}\n\n        return null;\n      }\n\n      function makeMultiple(data, mult, amt) {\n        var result = {\n          real: [],\n          imag: []\n        },\n            j,\n            n = data.real.length,\n            m;\n\n        for (j = 0; j < n; ++j) {\n          m = Math.log(mult[Math.min(j, mult.length - 1)]);\n          result.real.push(data.real[j] * Math.exp(amt * m));\n          result.imag.push(data.imag[j] * Math.exp(amt * m));\n        }\n\n        return result;\n      }\n\n      var result = {},\n          k,\n          d,\n          n,\n          j,\n          ff,\n          record,\n          wave,\n          pw;\n\n      for (k in wavedata) {\n        d = wavedata[k];\n        wave = makePeriodicWave(d);\n\n        if (!wave) {\n          continue;\n        }\n\n        record = {\n          wave: wave\n        }; // A strategy for computing higher frequency waveforms: apply\n        // multipliers to each harmonic according to d.mult.  These\n        // multipliers can be interpolated and applied at any number\n        // of transition frequencies.\n\n        if (d.mult) {\n          ff = wavedata[k].freq;\n          record.freq = {};\n\n          for (j = 0; j < ff.length; ++j) {\n            wave = makePeriodicWave(makeMultiple(d, d.mult, (j + 1) / ff.length));\n\n            if (wave) {\n              record.freq[ff[j]] = wave;\n            }\n          }\n        } // This wave has some default filter settings.\n\n\n        if (d.defs) {\n          record.defs = d.defs;\n        }\n\n        result[k] = record;\n      }\n\n      return result;\n    }({\n      // Currently the only nonstandard waveform is \"piano\".\n      // It is based on the first 32 harmonics from the example:\n      // https://github.com/GoogleChrome/web-audio-samples\n      // /blob/gh-pages/samples/audio/wave-tables/Piano\n      // That is a terrific sound for the lowest piano tones.\n      // For higher tones, interpolate to a customzed wave\n      // shape created by hand, and apply a lowpass filter.\n      piano: {\n        real: [0, 0, -0.203569, 0.5, -0.401676, 0.137128, -0.104117, 0.115965, -0.004413, 0.067884, -0.00888, 0.0793, -0.038756, 0.011882, -0.030883, 0.027608, -0.013429, 0.00393, -0.014029, 0.00972, -0.007653, 0.007866, -0.032029, 0.046127, -0.024155, 0.023095, -0.005522, 0.004511, -0.003593, 0.011248, -0.004919, 0.008505],\n        imag: [0, 0.147621, 0, 0.000007, -0.00001, 0.000005, -0.000006, 0.000009, 0, 0.000008, -0.000001, 0.000014, -0.000008, 0.000003, -0.000009, 0.000009, -0.000005, 0.000002, -0.000007, 0.000005, -0.000005, 0.000005, -0.000023, 0.000037, -0.000021, 0.000022, -0.000006, 0.000005, -0.000004, 0.000014, -0.000007, 0.000012],\n        // How to adjust the harmonics for the higest notes.\n        mult: [1, 1, 0.18, 0.016, 0.01, 0.01, 0.01, 0.004, 0.014, 0.02, 0.014, 0.004, 0.002, 0.00001],\n        // The frequencies at which to interpolate the harmonics.\n        freq: [65, 80, 100, 135, 180, 240, 620, 1360],\n        // The default filter settings to use for the piano wave.\n        // TODO: this approach attenuates low notes too much -\n        // this should be fixed.\n        defs: {\n          wave: \"piano\",\n          gain: 0.5,\n          attack: 0.002,\n          decay: 0.25,\n          sustain: 0.03,\n          release: 0.1,\n          decayfollow: 0.7,\n          cutoff: 800,\n          cutfollow: 0.1,\n          resonance: 1,\n          detune: 0.9994\n        }\n      }\n    });\n  }; // END WAVETABLE-BUILDER\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  // UTILS\n\n\n  var Utils = /*#__PURE__*/function () {\n    function Utils() {\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Utils);\n    }\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Utils, null, [{\n      key: \"isAudioPresent\",\n      // Tests for the presence of HTML5 Web Audio (or webkit's version).\n      value: function isAudioPresent() {\n        return !!(global.AudioContext || global.webkitAudioContext);\n      } // All our audio funnels through the same AudioContext with a\n      // DynamicsCompressorNode used as the main output, to compress the\n      // dynamic range of all audio.  getAudioTop sets this up.\n\n    }, {\n      key: \"getAudioTop\",\n      value: function getAudioTop() {\n        if (Utils._audioTop) {\n          return Utils._audioTop;\n        }\n\n        if (!Utils.isAudioPresent()) {\n          return null;\n        }\n\n        var ac = new (global.AudioContext || global.webkitAudioContext)();\n        Utils._audioTop = {\n          ac: ac,\n          wavetable: makeWavetable(ac),\n          out: null,\n          currentStart: null\n        };\n        Utils.resetAudio();\n        return Utils._audioTop;\n      } // When audio needs to be interrupted globally (e.g., when you press the\n      // stop button in the IDE), resetAudio does the job.\n\n    }, {\n      key: \"resetAudio\",\n      value: function resetAudio() {\n        if (Utils._audioTop) {\n          var atop = Utils._audioTop; // Disconnect the top-level node and make a new one.\n\n          if (atop.out) {\n            atop.out.disconnect();\n            atop.out = null;\n            atop.currentStart = null;\n          }\n\n          var dcn = atop.ac.createDynamicsCompressor();\n          dcn.ratio.setValueAtTime(16, 0);\n          dcn.attack.setValueAtTime(0.0005, 0); // dcn.ratio = 16; // RONYEH: .ratio is a READ ONLY property.\n          // dcn.attack = 0.0005; // RONYEH: .ratio is a READ ONLY property.\n\n          dcn.connect(atop.ac.destination);\n          atop.out = dcn;\n        }\n      } // For precise scheduling of future notes, the AudioContext currentTime is\n      // cached and is held constant until the script releases to the event loop.\n\n    }, {\n      key: \"audioCurrentStartTime\",\n      value: function audioCurrentStartTime() {\n        var atop = Utils.getAudioTop();\n\n        if (atop.currentStart != null) {\n          return atop.currentStart;\n        } // A delay could be added below to introduce a universal delay in\n        // all beginning sounds (without skewing durations for scheduled\n        // sequences).\n\n\n        atop.currentStart = Math.max(0.25, atop.ac.currentTime\n        /* + 0.0 delay */\n        );\n        setTimeout(function () {\n          atop.currentStart = null;\n        }, 0);\n        return atop.currentStart;\n      } // Converts a midi note number to a frequency in Hz.\n\n    }, {\n      key: \"midiToFrequency\",\n      value: function midiToFrequency(midi) {\n        return 440 * Math.pow(2, (midi - 69) / 12);\n      } // Some constants.\n\n    }, {\n      key: \"frequencyToMidi\",\n      // Converts a frequency in Hz to the closest midi number.\n      value: function frequencyToMidi(freq) {\n        return Math.round(69 + Math.log(freq / 440) * 12 / Math.LN2);\n      } // Converts an ABC pitch (such as \"^G,,\") to a midi note number.\n\n    }, {\n      key: \"pitchToMidi\",\n      value: function pitchToMidi(pitch) {\n        var m = /^(\\^+|_+|=|)([A-Ga-g])([,']*)$/.exec(pitch);\n\n        if (!m) {\n          return null;\n        }\n\n        var octave = m[3].replace(/,/g, \"\").length - m[3].replace(/'/g, \"\").length;\n        var semitone = Utils.noteNum[m[2]] + Utils.accSym[m[1].charAt(0)] * m[1].length + 12 * octave;\n        return semitone + 60; // 60 = midi code middle \"C\".\n      } // Converts a midi number to an ABC notation pitch.\n\n    }, {\n      key: \"midiToPitch\",\n      value: function midiToPitch(midi) {\n        var index = (midi - 72) % 12;\n\n        if (midi > 60 || index != 0) {\n          index += 12;\n        }\n\n        var octaves = Math.round((midi - index - 60) / 12),\n            result = Utils.noteName[index];\n\n        while (octaves != 0) {\n          result += octaves > 0 ? \"'\" : \",\";\n          octaves += octaves > 0 ? -1 : 1;\n        }\n\n        return result;\n      } // Converts an ABC pitch to a frequency in Hz.\n\n    }, {\n      key: \"pitchToFrequency\",\n      value: function pitchToFrequency(pitch) {\n        return Utils.midiToFrequency(Utils.pitchToMidi(pitch));\n      } // The default sound is a square wave with a pretty quick decay to zero.\n\n    }, {\n      key: \"makeTimbre\",\n      // Norrmalizes a timbre object by making a copy that has exactly\n      // the right set of timbre fields, defaulting when needed.\n      // A timbre can specify any of the fields of defaultTimbre; any\n      // unspecified fields are treated as they are set in defaultTimbre.\n      value: function makeTimbre(options, atop) {\n        if (!options) {\n          options = {};\n        }\n\n        if (typeof options == \"string\") {\n          // Abbreviation: name a wave to get a default timbre for that wave.\n          options = {\n            wave: options\n          };\n        }\n\n        var result = {},\n            key,\n            wt = atop && atop.wavetable && atop.wavetable[options.wave];\n\n        for (key in Utils.defaultTimbre) {\n          if (options.hasOwnProperty(key)) {\n            result[key] = options[key];\n          } else if (wt && wt.defs && wt.defs.hasOwnProperty(key)) {\n            result[key] = wt.defs[key];\n          } else {\n            result[key] = Utils.defaultTimbre[key];\n          }\n        }\n\n        return result;\n      }\n    }, {\n      key: \"getWhiteNoiseBuf\",\n      // cache\n      value: function getWhiteNoiseBuf() {\n        if (whiteNoiseBuf == null) {\n          var ac = Utils.getAudioTop().ac,\n              bufferSize = 2 * ac.sampleRate,\n              whiteNoiseBuf = ac.createBuffer(1, bufferSize, ac.sampleRate),\n              output = whiteNoiseBuf.getChannelData(0);\n\n          for (var i = 0; i < bufferSize; i++) {\n            output[i] = Math.random() * 2 - 1;\n          }\n        }\n\n        return whiteNoiseBuf;\n      } // This utility function creates an oscillator at the given frequency\n      // and the given wavename.  It supports lookups in a static wavetable,\n      // defined right below.\n\n    }, {\n      key: \"makeOscillator\",\n      value: function makeOscillator(atop, wavename, freq) {\n        if (wavename == \"noise\") {\n          var whiteNoise = atop.ac.createBufferSource();\n          whiteNoise.buffer = Utils.getWhiteNoiseBuf();\n          whiteNoise.loop = true;\n          return whiteNoise;\n        }\n\n        var wavetable = atop.wavetable,\n            o = atop.ac.createOscillator(),\n            k,\n            pwave,\n            bwf,\n            wf;\n\n        try {\n          if (wavetable.hasOwnProperty(wavename)) {\n            // Use a customized wavetable.\n            pwave = wavetable[wavename].wave;\n\n            if (wavetable[wavename].freq) {\n              bwf = 0; // Look for a higher-frequency variant.\n\n              for (k in wavetable[wavename].freq) {\n                wf = Number(k);\n\n                if (freq > wf && wf > bwf) {\n                  bwf = wf;\n                  pwave = wavetable[wavename].freq[bwf];\n                }\n              }\n            }\n\n            if (!o.setPeriodicWave && o.setWaveTable) {\n              // The old API name: Safari 7 still uses this.\n              o.setWaveTable(pwave);\n            } else {\n              // The new API name.\n              o.setPeriodicWave(pwave);\n            }\n          } else {\n            o.type = wavename;\n          }\n        } catch (e) {\n          if (window.console) {\n            window.console.log(e);\n          } // If unrecognized, just use square.\n          // TODO: support \"noise\" or other wave shapes.\n\n\n          o.type = \"square\";\n        } // o.frequency.value = freq; // RONYEH REMOVED DUE TO SOME BUG.\n\n\n        o.frequency.setTargetAtTime(freq, atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n        return o;\n      }\n    }]);\n\n    return Utils;\n  }(); // END UTILS\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  // Parses an ABC file to an object with the following structure:\n  // {\n  //   X: value from the X: lines in header (\\n separated for multiple values)\n  //   V: value from the V:myname lines that appear before K:\n  //   (etc): for all the one-letter header-names.\n  //   K: value from the K: lines in header.\n  //   tempo: Q: line parsed as beatsecs\n  //   timbre: ... I:timbre line as parsed by makeTimbre\n  //   voice: {\n  //     myname: { // voice with id \"myname\"\n  //       V: value from the V:myname lines (from the body)\n  //       stems: [...] as parsed by parseABCstems\n  //    }\n  //  }\n  // }\n  // ABC files are idiosyncratic to parse: the written specifications\n  // do not necessarily reflect the defacto standard implemented by\n  // ABC content on the web.  This implementation is designed to be\n  // practical, working on content as it appears on the web, and only\n  // using the written standard as a guideline.\n\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"_audioTop\", null);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteNum\", {\n    C: 0,\n    D: 2,\n    E: 4,\n    F: 5,\n    G: 7,\n    A: 9,\n    B: 11,\n    c: 12,\n    d: 14,\n    e: 16,\n    f: 17,\n    g: 19,\n    a: 21,\n    b: 23\n  });\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"accSym\", {\n    \"^\": 1,\n    \"\": 0,\n    \"=\": 0,\n    _: -1\n  });\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteName\", [\"C\", \"^C\", \"D\", \"_E\", \"E\", \"F\", \"^F\", \"G\", \"_A\", \"A\", \"_B\", \"B\", \"c\", \"^c\", \"d\", \"_e\", \"e\", \"f\", \"^f\", \"g\", \"_a\", \"a\", \"_b\", \"b\"]);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"defaultTimbre\", {\n    wave: \"square\",\n    // Oscillator type.\n    gain: 0.1,\n    // Overall gain at maximum attack.\n    attack: 0.002,\n    // Attack time at the beginning of a tone.\n    decay: 0.4,\n    // Rate of exponential decay after attack.\n    decayfollow: 0,\n    // Amount of decay shortening for higher notes.\n    sustain: 0,\n    // Portion of gain to sustain indefinitely.\n    release: 0.1,\n    // Release time after a tone is done.\n    cutoff: 0,\n    // Low-pass filter cutoff frequency.\n    cutfollow: 0,\n    // Cutoff adjustment, a multiple of oscillator freq.\n    resonance: 0,\n    // Low-pass filter resonance.\n    detune: 0 // Detune factor for a second oscillator.\n\n  });\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"whiteNoiseBuf\", null);\n\n  var ABCheader = /^([A-Za-z]):\\s*(.*)$/;\n  var ABCtoken = /(?:\\[[A-Za-z]:[^\\]]*\\])|\\s+|%[^\\n]*|![^\\s!:|\\[\\]]*!|\\+[^+|!]*\\+|[_<>@^]?\"[^\"]*\"|\\[|\\]|>+|<+|(?:(?:\\^+|_+|=|)[A-Ga-g](?:,+|'+|))|\\(\\d+(?::\\d+){0,2}|\\d*\\/\\d+|\\d+\\/?|\\/+|[xzXZ]|\\[?\\|\\]?|:?\\|:?|::|./g;\n\n  function parseABCFile(str) {\n    var lines = str.split(\"\\n\"),\n        result = {},\n        context = result,\n        timbre,\n        j,\n        k,\n        header,\n        stems,\n        key = {},\n        accent = {\n      slurred: 0\n    },\n        voiceid,\n        out; // ABC files are parsed one line at a time.\n\n    for (j = 0; j < lines.length; ++j) {\n      // First, check to see if the line is a header line.\n      header = ABCheader.exec(lines[j]);\n\n      if (header) {\n        handleInformation(header[1], header[2].trim());\n      } else if (/^\\s*(?:%.*)?$/.test(lines[j])) {\n        // Skip blank and comment lines.\n        continue;\n      } else {\n        // Parse the notes.\n        parseABCNotes(lines[j]);\n      }\n    }\n\n    var infer = [\"unitnote\", \"unitbeat\", \"tempo\"];\n\n    if (result.hasOwnProperty(\"voice\") && result.voice !== null) {\n      out = [];\n\n      for (j in result.voice) {\n        if (result.voice[j].stems && result.voice[j].stems.length) {\n          // Calculate times for all the tied notes.  This happens at the end\n          // because in principle, the first note of a song could be tied all\n          // the way through to the last note.\n          processTies(result.voice[j].stems); // Bring up inferred tempo values from voices if not specified\n          // in the header.\n\n          for (k = 0; k < infer.length; ++k) {\n            if (!(infer[k] in result) && infer[k] in result.voice[j]) {\n              result[infer[k]] = result.voice[j][infer[k]];\n            }\n          } // Remove this internal state variable;\n\n\n          delete result.voice[j].accent;\n        } else {\n          out.push(j);\n        }\n      } // Delete any voices that had no stems.\n\n\n      for (j = 0; j < out.length; ++j) {\n        delete result.voice[out[j]];\n      }\n    }\n\n    return result; ////////////////////////////////////////////////////////////////////////\n    // Parsing helper functions below.\n    ////////////////////////////////////////////////////////////////////////\n    // Processes header fields such as V: voice, which may appear at the\n    // top of the ABC file, or in the ABC body in a [V:voice] directive.\n\n    function handleInformation(field, value) {\n      // The following headers are recognized and processed.\n      switch (field) {\n        case \"V\":\n          // A V: header switches voices if in the body.\n          // If in the header, then it is just advisory.\n          if (context !== result) {\n            startVoiceContext(value.split(\" \")[0]);\n          }\n\n          break;\n\n        case \"M\":\n          parseMeter(value, context);\n          break;\n\n        case \"L\":\n          parseUnitNote(value, context);\n          break;\n\n        case \"Q\":\n          parseTempo(value, context);\n          break;\n      } // All headers (including unrecognized ones) are\n      // just accumulated as properties. Repeated header\n      // lines are accumulated as multiline properties.\n\n\n      if (context.hasOwnProperty(field)) {\n        context[field] += \"\\n\" + value;\n      } else {\n        context[field] = value;\n      } // The K header is special: it should be the last one\n      // before the voices and notes begin.\n\n\n      if (field == \"K\") {\n        key = keysig(value);\n\n        if (context === result) {\n          startVoiceContext(firstVoiceName());\n        }\n      }\n    } // Shifts context to a voice with the given id given.  If no id\n    // given, then just sticks with the current voice.  If the current\n    // voice is unnamed and empty, renames the current voice.\n\n\n    function startVoiceContext(id) {\n      id = id || \"\";\n\n      if (!id && context !== result) {\n        return;\n      }\n\n      if (!result.voice) {\n        result.voice = {};\n      }\n\n      if (result.voice.hasOwnProperty(id)) {\n        // Resume a named voice.\n        context = result.voice[id];\n        accent = context.accent;\n      } else {\n        // Start a new voice.\n        context = {\n          id: id,\n          accent: {\n            slurred: 0\n          }\n        };\n        result.voice[id] = context;\n        accent = context.accent;\n      }\n    } // For picking a default voice, looks for the first voice name.\n\n\n    function firstVoiceName() {\n      if (result.V) {\n        return result.V.split(/\\s+/)[0];\n      } else {\n        return \"\";\n      }\n    } // Parses a single line of ABC notes (i.e., not a header line).\n    //\n    // We process an ABC song stream by dividing it into tokens, each of\n    // which is a pitch, duration, or special decoration symbol; then\n    // we process each decoration individually, and we process each\n    // stem as a group using parseStem.\n    // The structure of a single ABC note is something like this:\n    //\n    // NOTE -> STACCATO? PITCH DURATION? TIE?\n    //\n    // I.e., it always has a pitch, and it is prefixed by some optional\n    // decorations such as a (.) staccato marking, and it is suffixed by\n    // an optional duration and an optional tie (-) marking.\n    //\n    // A stem is either a note or a bracketed series of notes, followed\n    // by duration and tie.\n    //\n    // STEM -> NOTE   OR    '[' NOTE * ']' DURAITON? TIE?\n    //\n    // Then a song is just a sequence of stems interleaved with other\n    // decorations such as dynamics markings and measure delimiters.\n\n\n    function parseABCNotes(str) {\n      var tokens = str.match(ABCtoken),\n          parsed = null,\n          index = 0,\n          dotted = 0,\n          beatlet = null,\n          t;\n\n      if (!tokens) {\n        return null;\n      }\n\n      while (index < tokens.length) {\n        // Ignore %comments and !markings!\n        if (/^[\\s%]/.test(tokens[index])) {\n          index++;\n          continue;\n        } // Handle inline [X:...] information fields\n\n\n        if (/^\\[[A-Za-z]:[^\\]]*\\]$/.test(tokens[index])) {\n          handleInformation(tokens[index].substring(1, 2), tokens[index].substring(3, tokens[index].length - 1).trim());\n          index++;\n          continue;\n        } // Handled dotted notation abbreviations.\n\n\n        if (/</.test(tokens[index])) {\n          dotted = -tokens[index++].length;\n          continue;\n        }\n\n        if (/>/.test(tokens[index])) {\n          dotted = tokens[index++].length;\n          continue;\n        }\n\n        if (/^\\(\\d+(?::\\d+)*/.test(tokens[index])) {\n          beatlet = parseBeatlet(tokens[index++]);\n          continue;\n        }\n\n        if (/^[!+].*[!+]$/.test(tokens[index])) {\n          parseDecoration(tokens[index++], accent);\n          continue;\n        }\n\n        if (/^.?\".*\"$/.test(tokens[index])) {\n          // Ignore double-quoted tokens (chords and general text annotations).\n          index++;\n          continue;\n        }\n\n        if (/^[()]$/.test(tokens[index])) {\n          if (tokens[index++] == \"(\") {\n            accent.slurred += 1;\n          } else {\n            accent.slurred -= 1;\n\n            if (accent.slurred <= 0) {\n              accent.slurred = 0;\n\n              if (context.stems && context.stems.length >= 1) {\n                // The last notes in a slur are not slurred.\n                slurStem(context.stems[context.stems.length - 1], false);\n              }\n            }\n          }\n\n          continue;\n        } // Handle measure markings by clearing accidentals.\n\n\n        if (/\\|/.test(tokens[index])) {\n          for (t in accent) {\n            if (t.length == 1) {\n              // Single-letter accent properties are note accidentals.\n              delete accent[t];\n            }\n          }\n\n          index++;\n          continue;\n        }\n\n        parsed = parseStem(tokens, index, key, accent); // Skip unparsable bits\n\n        if (parsed === null) {\n          index++;\n          continue;\n        } // Process a parsed stem.\n\n\n        if (beatlet) {\n          scaleStem(parsed.stem, beatlet.time);\n          beatlet.count -= 1;\n\n          if (!beatlet.count) {\n            beatlet = null;\n          }\n        } // If syncopated with > or < notation, shift part of a beat\n        // between this stem and the previous one.\n\n\n        if (dotted && context.stems && context.stems.length) {\n          if (dotted > 0) {\n            t = (1 - Math.pow(0.5, dotted)) * parsed.stem.time;\n          } else {\n            t = (Math.pow(0.5, -dotted) - 1) * context.stems[context.stems.length - 1].time;\n          }\n\n          syncopateStem(context.stems[context.stems.length - 1], t);\n          syncopateStem(parsed.stem, -t);\n        }\n\n        dotted = 0; // Slur all the notes contained within a strem.\n\n        if (accent.slurred) {\n          slurStem(parsed.stem, true);\n        } // Start a default voice if we're not in a voice yet.\n\n\n        if (context === result) {\n          startVoiceContext(firstVoiceName());\n        }\n\n        if (!(\"stems\" in context)) {\n          context.stems = [];\n        } // Add the stem to the sequence of stems for this voice.\n\n\n        context.stems.push(parsed.stem); // Advance the parsing index since a stem is multiple tokens.\n\n        index = parsed.index;\n      }\n    } // Parse M: lines.  \"3/4\" is 3/4 time and \"C\" is 4/4 (common) time.\n\n\n    function parseMeter(mline, beatinfo) {\n      var d = /^C/.test(mline) ? 4 / 4 : durationToTime(mline);\n\n      if (!d) {\n        return;\n      }\n\n      if (!beatinfo.unitnote) {\n        if (d < 0.75) {\n          beatinfo.unitnote = 1 / 16;\n        } else {\n          beatinfo.unitnote = 1 / 8;\n        }\n      }\n    } // Parse L: lines, e.g., \"1/8\".\n\n\n    function parseUnitNote(lline, beatinfo) {\n      var d = durationToTime(lline);\n\n      if (!d) {\n        return;\n      }\n\n      beatinfo.unitnote = d;\n    } // Parse Q: line, e.g., \"1/4=66\".\n\n\n    function parseTempo(qline, beatinfo) {\n      var parts = qline.split(/\\s+|=/),\n          j,\n          unit = null,\n          tempo = null;\n\n      for (j = 0; j < parts.length; ++j) {\n        // It could be reversed, like \"66=1/4\", or just \"120\", so\n        // determine what is going on by looking for a slash etc.\n        if (parts[j].indexOf(\"/\") >= 0 || /^[1-4]$/.test(parts[j])) {\n          // The note-unit (e.g., 1/4).\n          unit = unit || durationToTime(parts[j]);\n        } else {\n          // The tempo-number (e.g., 120)\n          tempo = tempo || Number(parts[j]);\n        }\n      }\n\n      if (unit) {\n        beatinfo.unitbeat = unit;\n      }\n\n      if (tempo) {\n        beatinfo.tempo = tempo;\n      }\n    } // Run through all the notes, adding up time for tied notes,\n    // and marking notes that were held over with holdover = true.\n\n\n    function processTies(stems) {\n      var tied = {},\n          nextTied,\n          j,\n          k,\n          note,\n          firstNote;\n\n      for (j = 0; j < stems.length; ++j) {\n        nextTied = {};\n\n        for (k = 0; k < stems[j].notes.length; ++k) {\n          firstNote = note = stems[j].notes[k];\n\n          if (tied.hasOwnProperty(note.pitch)) {\n            // Pitch was tied from before.\n            firstNote = tied[note.pitch]; // Get the earliest note in the tie.\n\n            firstNote.time += note.time; // Extend its time.\n\n            note.holdover = true; // Silence this note as a holdover.\n          }\n\n          if (note.tie) {\n            // This note is tied with the next.\n            nextTied[note.pitch] = firstNote; // Save it away.\n          }\n        }\n\n        tied = nextTied;\n      }\n    } // Returns a map of A-G -> accidentals, according to the key signature.\n    // When n is zero, there are no accidentals (e.g., C major or A minor).\n    // When n is positive, there are n sharps (e.g., for G major, n = 1).\n    // When n is negative, there are -n flats (e.g., for F major, n = -1).\n\n\n    function accidentals(n) {\n      var sharps = \"FCGDAEB\",\n          result = {},\n          j;\n\n      if (!n) {\n        return result;\n      }\n\n      if (n > 0) {\n        // Handle sharps.\n        for (j = 0; j < n && j < 7; ++j) {\n          result[sharps.charAt(j)] = \"^\";\n        }\n      } else {\n        // Flats are in the opposite order.\n        for (j = 0; j > n && j > -7; --j) {\n          result[sharps.charAt(6 + j)] = \"_\";\n        }\n      }\n\n      return result;\n    } // Decodes the key signature line (e.g., K: C#m) at the front of an ABC tune.\n    // Supports the whole range of scale systems listed in the ABC spec.\n\n\n    function keysig(keyname) {\n      if (!keyname) {\n        return {};\n      }\n\n      var kkey,\n          sigcodes = {\n        // Major\n        \"c#\": 7,\n        \"f#\": 6,\n        b: 5,\n        e: 4,\n        a: 3,\n        d: 2,\n        g: 1,\n        c: 0,\n        f: -1,\n        bb: -2,\n        eb: -3,\n        ab: -4,\n        db: -5,\n        gb: -6,\n        cb: -7,\n        // Minor\n        \"a#m\": 7,\n        \"d#m\": 6,\n        \"g#m\": 5,\n        \"c#m\": 4,\n        \"f#m\": 3,\n        bm: 2,\n        em: 1,\n        am: 0,\n        dm: -1,\n        gm: -2,\n        cm: -3,\n        fm: -4,\n        bbm: -5,\n        ebm: -6,\n        abm: -7,\n        // Mixolydian\n        \"g#mix\": 7,\n        \"c#mix\": 6,\n        \"f#mix\": 5,\n        bmix: 4,\n        emix: 3,\n        amix: 2,\n        dmix: 1,\n        gmix: 0,\n        cmix: -1,\n        fmix: -2,\n        bbmix: -3,\n        ebmix: -4,\n        abmix: -5,\n        dbmix: -6,\n        gbmix: -7,\n        // Dorian\n        \"d#dor\": 7,\n        \"g#dor\": 6,\n        \"c#dor\": 5,\n        \"f#dor\": 4,\n        bdor: 3,\n        edor: 2,\n        ador: 1,\n        ddor: 0,\n        gdor: -1,\n        cdor: -2,\n        fdor: -3,\n        bbdor: -4,\n        ebdor: -5,\n        abdor: -6,\n        dbdor: -7,\n        // Phrygian\n        \"e#phr\": 7,\n        \"a#phr\": 6,\n        \"d#phr\": 5,\n        \"g#phr\": 4,\n        \"c#phr\": 3,\n        \"f#phr\": 2,\n        bphr: 1,\n        ephr: 0,\n        aphr: -1,\n        dphr: -2,\n        gphr: -3,\n        cphr: -4,\n        fphr: -5,\n        bbphr: -6,\n        ebphr: -7,\n        // Lydian\n        \"f#lyd\": 7,\n        blyd: 6,\n        elyd: 5,\n        alyd: 4,\n        dlyd: 3,\n        glyd: 2,\n        clyd: 1,\n        flyd: 0,\n        bblyd: -1,\n        eblyd: -2,\n        ablyd: -3,\n        dblyd: -4,\n        gblyd: -5,\n        cblyd: -6,\n        fblyd: -7,\n        // Locrian\n        \"b#loc\": 7,\n        \"e#loc\": 6,\n        \"a#loc\": 5,\n        \"d#loc\": 4,\n        \"g#loc\": 3,\n        \"c#loc\": 2,\n        \"f#loc\": 1,\n        bloc: 0,\n        eloc: -1,\n        aloc: -2,\n        dloc: -3,\n        gloc: -4,\n        cloc: -5,\n        floc: -6,\n        bbloc: -7\n      };\n      var k = keyname.replace(/\\s+/g, \"\").toLowerCase().substr(0, 5);\n      var scale = k.match(/maj|min|mix|dor|phr|lyd|loc|m/);\n\n      if (scale) {\n        if (scale == \"maj\") {\n          kkey = k.substr(0, scale.index);\n        } else if (scale == \"min\") {\n          kkey = k.substr(0, scale.index + 1);\n        } else {\n          kkey = k.substr(0, scale.index + scale[0].length);\n        }\n      } else {\n        kkey = /^[a-g][#b]?/.exec(k) || \"\";\n      }\n\n      var result = accidentals(sigcodes[kkey]);\n      var extras = keyname.substr(kkey.length).match(/(_+|=|\\^+)[a-g]/gi);\n\n      if (extras) {\n        for (var j = 0; j < extras.length; ++j) {\n          var note = extras[j].charAt(extras[j].length - 1).toUpperCase();\n\n          if (extras[j].charAt(0) == \"=\") {\n            delete result[note];\n          } else {\n            result[note] = extras[j].substr(0, extras[j].length - 1);\n          }\n        }\n      }\n\n      return result;\n    } // Additively adjusts the beats for a stem and the contained notes.\n\n\n    function syncopateStem(stem, t) {\n      var j,\n          note,\n          stemtime = stem.time,\n          newtime = stemtime + t;\n      stem.time = newtime;\n      syncopateStem;\n\n      for (j = 0; j < stem.notes.length; ++j) {\n        note = stem.notes[j]; // Only adjust a note's duration if it matched the stem's duration.\n\n        if (note.time == stemtime) {\n          note.time = newtime;\n        }\n      }\n    } // Marks everything in the stem with the slur attribute (or deletes it).\n\n\n    function slurStem(stem, addSlur) {\n      var j, note;\n\n      for (j = 0; j < stem.notes.length; ++j) {\n        note = stem.notes[j];\n\n        if (addSlur) {\n          note.slurred = true;\n        } else if (note.slurred) {\n          delete note.slurred;\n        }\n      }\n    } // Scales the beats for a stem and the contained notes.\n\n\n    function scaleStem(stem, s) {\n      var j;\n      stem.time *= s;\n\n      for (j = 0; j < stem.notes.length; ++j) {\n        stem.notes[j].time *= s;\n      }\n    } // Parses notation of the form (3 or (5:2:10, which means to do\n    // the following 3 notes in the space of 2 notes, or to do the following\n    // 10 notes at the rate of 5 notes per 2 beats.\n\n\n    function parseBeatlet(token) {\n      var m = /^\\((\\d+)(?::(\\d+)(?::(\\d+))?)?$/.exec(token);\n\n      if (!m) {\n        return null;\n      }\n\n      var count = Number(m[1]),\n          beats = Number(m[2]) || 2,\n          duration = Number(m[3]) || count;\n      return {\n        time: beats / count,\n        count: duration\n      };\n    } // Parse !ppp! markings.\n\n\n    function parseDecoration(token, accent) {\n      if (token.length < 2) {\n        return;\n      }\n\n      token = token.substring(1, token.length - 1);\n\n      switch (token) {\n        case \"pppp\":\n        case \"ppp\":\n          accent.dynamics = 0.2;\n          break;\n\n        case \"pp\":\n          accent.dynamics = 0.4;\n          break;\n\n        case \"p\":\n          accent.dynamics = 0.6;\n          break;\n\n        case \"mp\":\n          accent.dynamics = 0.8;\n          break;\n\n        case \"mf\":\n          accent.dynamics = 1.0;\n          break;\n\n        case \"f\":\n          accent.dynamics = 1.2;\n          break;\n\n        case \"ff\":\n          accent.dynamics = 1.4;\n          break;\n\n        case \"fff\":\n        case \"ffff\":\n          accent.dynamics = 1.5;\n          break;\n      }\n    } // Parses a stem, which may be a single note, or which may be\n    // a chorded note.\n\n\n    function parseStem(tokens, index, key, accent) {\n      var notes = [],\n          duration = \"\",\n          staccato = false,\n          noteDuration,\n          noteTime,\n          velocity,\n          lastNote = null,\n          minStemTime = Infinity,\n          j; // A single staccato marking applies to the entire stem.\n\n      if (index < tokens.length && \".\" == tokens[index]) {\n        staccato = true;\n        index++;\n      }\n\n      if (index < tokens.length && tokens[index] == \"[\") {\n        // Deal with [CEG] chorded notation.\n        index++; // Scan notes within the chord.\n\n        while (index < tokens.length) {\n          // Ignore and space and %comments.\n          if (/^[\\s%]/.test(tokens[index])) {\n            index++;\n            continue;\n          }\n\n          if (/[A-Ga-g]/.test(tokens[index])) {\n            // Grab a pitch.\n            lastNote = {\n              pitch: applyAccent(tokens[index++], key, accent),\n              tie: false\n            };\n            lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n            notes.push(lastNote);\n          } else if (/[xzXZ]/.test(tokens[index])) {\n            // Grab a rest.\n            lastNote = null;\n            index++;\n          } else if (\".\" == tokens[index]) {\n            // A staccato mark applies to the entire stem.\n            staccato = true;\n            index++;\n            continue;\n          } else {\n            // Stop parsing the stem if something is unrecognized.\n            break;\n          } // After a pitch or rest, look for a duration.\n\n\n          if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n            noteDuration = tokens[index++];\n            noteTime = durationToTime(noteDuration);\n          } else {\n            noteDuration = \"\";\n            noteTime = 1;\n          } // If it's a note (not a rest), store the duration\n\n\n          if (lastNote) {\n            lastNote.duration = noteDuration;\n            lastNote.time = noteTime;\n          } // When a stem has more than one duration, use the shortest\n          // one for timing. The standard says to pick the first one,\n          // but in practice, transcribed music online seems to\n          // follow the rule that the stem's duration is determined\n          // by the shortest contained duration.\n\n\n          if (noteTime && noteTime < minStemTime) {\n            duration = noteDuration;\n            minStemTime = noteTime;\n          } // After a duration, look for a tie mark.  Individual notes\n          // within a stem can be tied.\n\n\n          if (index < tokens.length && \"-\" == tokens[index]) {\n            if (lastNote) {\n              notes[notes.length - 1].tie = true;\n            }\n\n            index++;\n          }\n        } // The last thing in a chord should be a ].  If it isn't, then\n        // this doesn't look like a stem after all, and return null.\n\n\n        if (tokens[index] != \"]\") {\n          return null;\n        }\n\n        index++;\n      } else if (index < tokens.length && /[A-Ga-g]/.test(tokens[index])) {\n        // Grab a single note.\n        lastNote = {\n          pitch: applyAccent(tokens[index++], key, accent),\n          tie: false,\n          duration: \"\",\n          time: 1\n        };\n        lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n        notes.push(lastNote);\n      } else if (index < tokens.length && /^[xzXZ]$/.test(tokens[index])) {\n        // Grab a rest - no pitch.\n        index++;\n      } else {\n        // Something we don't recognize - not a stem.\n        return null;\n      } // Right after a [chord], note, or rest, look for a duration marking.\n\n\n      if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n        duration = tokens[index++];\n        noteTime = durationToTime(duration); // Apply the duration to all the ntoes in the stem.\n        // NOTE: spec suggests multiplying this duration, but that\n        // idiom is not seen (so far) in practice.\n\n        for (j = 0; j < notes.length; ++j) {\n          notes[j].duration = duration;\n          notes[j].time = noteTime;\n        }\n      } // Then look for a trailing tie marking.  Will tie every note in a chord.\n\n\n      if (index < tokens.length && \"-\" == tokens[index]) {\n        index++;\n\n        for (j = 0; j < notes.length; ++j) {\n          notes[j].tie = true;\n        }\n      }\n\n      if (accent.dynamics) {\n        velocity = accent.dynamics;\n\n        for (j = 0; j < notes.length; ++j) {\n          notes[j].velocity = velocity;\n        }\n      }\n\n      return {\n        index: index,\n        stem: {\n          notes: notes,\n          duration: duration,\n          staccato: staccato,\n          time: durationToTime(duration)\n        }\n      };\n    } // Normalizes pitch markings by stripping leading = if present.\n\n\n    function stripNatural(pitch) {\n      if (pitch.length > 0 && pitch.charAt(0) == \"=\") {\n        return pitch.substr(1);\n      }\n\n      return pitch;\n    } // Processes an accented pitch, automatically applying accidentals\n    // that have accumulated within the measure, and also saving\n    // explicit accidentals to continue to apply in the measure.\n\n\n    function applyAccent(pitch, key, accent) {\n      var m = /^(\\^+|_+|=|)([A-Ga-g])(.*)$/.exec(pitch),\n          letter;\n\n      if (!m) {\n        return pitch;\n      } // Note that an accidental in one octave applies in other octaves.\n\n\n      letter = m[2].toUpperCase();\n\n      if (m[1].length > 0) {\n        // When there is an explicit accidental, then remember it for\n        // the rest of the measure.\n        accent[letter] = m[1];\n        return stripNatural(pitch);\n      }\n\n      if (accent.hasOwnProperty(letter)) {\n        // Accidentals from this measure apply to unaccented notes.\n        return stripNatural(accent[letter] + m[2] + m[3]);\n      }\n\n      if (key.hasOwnProperty(letter)) {\n        // Key signatures apply by default.\n        return stripNatural(key[letter] + m[2] + m[3]);\n      }\n\n      return stripNatural(pitch);\n    } // Converts an ABC duration to a number (e.g., \"/3\"->0.333 or \"11/2\"->1.5).\n\n\n    function durationToTime(duration) {\n      var m = /^(\\d*)(?:\\/(\\d*))?$|^(\\/+)$/.exec(duration),\n          n,\n          d,\n          i = 0,\n          ilen;\n      if (!m) return;\n      if (m[3]) return Math.pow(0.5, m[3].length);\n      d = m[2] ? parseFloat(m[2]) : /\\//.test(duration) ? 2 : 1; // Handle mixed frations:\n\n      ilen = 0;\n      n = m[1] ? parseFloat(m[1]) : 1;\n\n      if (m[2]) {\n        while (ilen + 1 < m[1].length && n > d) {\n          ilen += 1;\n          i = parseFloat(m[1].substring(0, ilen));\n          n = parseFloat(m[1].substring(ilen));\n        }\n      }\n\n      return i + n / d;\n    }\n  }\n\n  _Musical.parseABCFile = parseABCFile;\n\n  var Instrument = /*#__PURE__*/function () {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, null, [{\n      key: \"pitchToMidi\",\n      // Seconds to delay all audiable timing.\n      // Seconds before an event to reexamine queue.\n      // Seconds ahead to put notes in WebAudio.\n      // Default duration of a tone.\n      // Silent time before disconnecting nodes.\n      // Accepts either an ABC pitch or a midi number and converts to midi.\n      value: function pitchToMidi(n) {\n        if (typeof n == \"string\") {\n          return Utils.pitchToMidi(n);\n        }\n\n        return n;\n      } // Accepts either an ABC pitch or a midi number and converts to ABC pitch.\n\n    }, {\n      key: \"midiToPitch\",\n      value: function midiToPitch(n) {\n        if (typeof n == \"number\") {\n          return Utils.midiToPitch(n);\n        }\n\n        return n;\n      }\n    }]);\n\n    function Instrument(options) {\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Instrument);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_out\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_atop\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_timbre\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_queue\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_minQueueTime\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_maxScheduledTime\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_unsortedQueue\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_startSet\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_finishSet\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_cleanupSet\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_callbackSet\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_handlers\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_now\", void 0);\n\n      Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_pollTimer\", void 0);\n\n      this._atop = Utils.getAudioTop(); // Audio context.\n\n      this._timbre = Utils.makeTimbre(options, this._atop); // The instrument's timbre.\n\n      this._queue = []; // A queue of future tones to play.\n\n      this._minQueueTime = Infinity; // The earliest time in _queue.\n\n      this._maxScheduledTime = 0; // The latest time in _queue.\n\n      this._unsortedQueue = false; // True if _queue is unsorted.\n\n      this._startSet = []; // Unstarted tones already sent to WebAudio.\n\n      this._finishSet = {}; // Started tones playing in WebAudio.\n\n      this._cleanupSet = []; // Tones waiting for cleanup.\n\n      this._callbackSet = []; // A set of scheduled callbacks.\n\n      this._handlers = {}; // 'noteon' and 'noteoff' handlers.\n\n      this._now = null; // A cached current-time value.\n\n      if (Utils.isAudioPresent()) {\n        this.silence(); // Initializes top-level audio node.\n      }\n    } // Sets the default timbre for the instrument.  See defaultTimbre.\n\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, [{\n      key: \"setTimbre\",\n      value: function setTimbre(t) {\n        this._timbre = Utils.makeTimbre(t, this._atop); // Saves a copy.\n      } // Returns the default timbre for the instrument as an object.\n\n    }, {\n      key: \"getTimbre\",\n      value: function getTimbre(t) {\n        return Utils.makeTimbre(this._timbre, this._atop); // Makes a copy.\n      } // Sets the overall volume for the instrument immediately.\n\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(v) {\n        // Without an audio system, volume cannot be set.\n        if (!this._out) {\n          return;\n        }\n\n        if (!isNaN(v)) {\n          this._out.gain.value = v;\n        }\n      } // Sets the overall volume for the instrument.\n\n    }, {\n      key: \"getVolume\",\n      value: function getVolume(v) {\n        // Without an audio system, volume is stuck at zero.\n        if (!this._out) {\n          return 0.0;\n        }\n\n        return this._out.gain.value;\n      } // Silences the instrument immediately by reinitializing the audio\n      // graph for this instrument and emptying or flushing all queues in the\n      // scheduler.  Carefully notifies all notes that have started but not\n      // yet finished, and sequences that are awaiting scheduled callbacks.\n      // Does not notify notes that have not yet started.\n\n    }, {\n      key: \"silence\",\n      value: function silence() {\n        var j,\n            finished,\n            callbacks,\n            initvolume = 1; // Clear future notes.\n\n        this._queue.length = 0;\n        this._minQueueTime = Infinity;\n        this._maxScheduledTime = 0; // Don't notify notes that haven't started yet.\n\n        this._startSet.length = 0; // Flush finish callbacks that are promised.\n\n        finished = this._finishSet;\n        this._finishSet = {}; // Flush one-time callacks that are promised.\n\n        callbacks = this._callbackSet;\n        this._callbackSet = []; // Disconnect the audio graph for this instrument.\n\n        if (this._out) {\n          this._out.disconnect();\n\n          initvolume = this._out.gain.value;\n        } // Reinitialize the audio graph: all audio for the instrument\n        // multiplexes through a single gain node with a master volume.\n\n\n        this._atop = Utils.getAudioTop();\n        this._out = this._atop.ac.createGain(); // this._out.gain.value = initvolume; // RONYEH REMOVED DUE TO BUG.\n\n        this._out.gain.setTargetAtTime(initvolume, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n\n        this._out.connect(this._atop.out); // As a last step, call all promised notifications.\n\n\n        for (j in finished) {\n          this._trigger(\"noteoff\", finished[j]);\n        }\n\n        for (j = 0; j < callbacks.length; ++j) {\n          callbacks[j].callback();\n        }\n      } // Future notes are scheduled relative to now(), which provides\n      // access to audioCurrentStartTime(), a time that holds steady\n      // until the script releases to the event loop.  When _now is\n      // non-null, it indicates that scheduling is already in progress.\n      // The timer-driven _doPoll function clears the cached _now.\n\n    }, {\n      key: \"now\",\n      value: function now() {\n        if (this._now != null) {\n          return this._now;\n        }\n\n        this._startPollTimer(true); // passing (true) sets this._now.\n\n\n        return this._now;\n      } // Register an event handler.  Done without jQuery to reduce dependencies.\n\n    }, {\n      key: \"on\",\n      value: function on(eventname, cb) {\n        if (!this._handlers.hasOwnProperty(eventname)) {\n          this._handlers[eventname] = [];\n        }\n\n        this._handlers[eventname].push(cb);\n      } // Unregister an event handler.  Done without jQuery to reduce dependencies.\n\n    }, {\n      key: \"off\",\n      value: function off(eventname, cb) {\n        if (this._handlers.hasOwnProperty(eventname)) {\n          if (!cb) {\n            this._handlers[eventname] = [];\n          } else {\n            var j,\n                hunt = this._handlers[eventname];\n\n            for (j = 0; j < hunt.length; ++j) {\n              if (hunt[j] === cb) {\n                hunt.splice(j, 1);\n                j -= 1;\n              }\n            }\n          }\n        }\n      } // Trigger an event, notifying any registered handlers.\n\n    }, {\n      key: \"_trigger\",\n      value: function _trigger(eventname, record) {\n        var cb = this._handlers[eventname],\n            j;\n\n        if (!cb) {\n          return;\n        }\n\n        if (cb.length == 1) {\n          // Special, common case of one handler: no copy needed.\n          cb[0](record);\n          return;\n        } // Copy the array of callbacks before iterating, because the\n        // main this._handlers copy could be changed by a handler.\n        // You get notified if-and-only-if you are registered\n        // at the starting moment of _trigger.\n\n\n        cb = cb.slice();\n\n        for (j = 0; j < cb.length; ++j) {\n          cb[j](record);\n        }\n      } // Tells the WebAudio API to play a tone (now or soon).  The passed\n      // record specifies a start time and release time, an ADSR envelope,\n      // and other timbre parameters.  This function sets up a WebAudio\n      // node graph for the tone generators and filters for the tone.\n\n    }, {\n      key: \"_makeSound\",\n      value: function _makeSound(record) {\n        var timbre = record.timbre || this._timbre,\n            starttime = record.time + Instrument.timeOffset,\n            releasetime = starttime + record.duration,\n            attacktime = Math.min(releasetime, starttime + timbre.attack),\n            decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n            decaystarttime = attacktime,\n            stoptime = releasetime + timbre.release,\n            doubled = timbre.detune && timbre.detune != 1.0,\n            amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n            ac = this._atop.ac,\n            g,\n            f,\n            o,\n            o2,\n            pwave,\n            k,\n            wf,\n            bwf; // Only hook up tone generators if it is an audible sound.\n\n        if (record.duration > 0 && record.velocity > 0) {\n          g = ac.createGain();\n          g.gain.setValueAtTime(0, starttime);\n          g.gain.linearRampToValueAtTime(amp, attacktime); // For the beginning of the decay, use linearRampToValue instead\n          // of setTargetAtTime, because it avoids http://crbug.com/254942.\n\n          while (decaystarttime < attacktime + 1 / 32 && decaystarttime + 1 / 256 < releasetime) {\n            // Just trace out the curve in increments of 1/256 sec\n            // for up to 1/32 seconds.\n            decaystarttime += 1 / 256;\n            g.gain.linearRampToValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - decaystarttime) / decaytime)), decaystarttime);\n          } // For the rest of the decay, use setTargetAtTime.\n\n\n          g.gain.setTargetAtTime(amp * timbre.sustain, decaystarttime, decaytime); // Then at release time, mark the value and ramp to zero.\n\n          g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n          g.gain.linearRampToValueAtTime(0, stoptime);\n          g.connect(this._out); // Hook up a low-pass filter if cutoff is specified.\n\n          if (!timbre.cutoff && !timbre.cutfollow || timbre.cutoff == Infinity) {\n            f = g;\n          } else {\n            // Apply the cutoff frequency adjusted using cutfollow.\n            f = ac.createBiquadFilter(); // f.frequency.value = timbre.cutoff + record.frequency * timbre.cutfollow; // RONYEH REMOVED DUE TO BUG.\n            // f.Q.value = timbre.resonance; // RONYEH REMOVED DUE TO BUG.\n\n            f.frequency.setTargetAtTime(timbre.cutoff + record.frequency * timbre.cutfollow, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n            f.Q.setTargetAtTime(timbre.resonance, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n            f.connect(g);\n          } // Hook up the main oscillator.\n\n\n          o = Utils.makeOscillator(this._atop, timbre.wave, record.frequency);\n          o.connect(f);\n          o.start(starttime);\n          o.stop(stoptime); // Hook up a detuned oscillator.\n\n          if (doubled) {\n            o2 = Utils.makeOscillator(this._atop, timbre.wave, record.frequency * timbre.detune);\n            o2.connect(f);\n            o2.start(starttime);\n            o2.stop(stoptime);\n          } // Store nodes in the record so that they can be modified\n          // in case the tone is truncated later.\n\n\n          record.gainNode = g;\n          record.oscillators = [o];\n\n          if (doubled) {\n            record.oscillators.push(o2);\n          }\n\n          record.cleanuptime = stoptime;\n        } else {\n          // Inaudible sounds are scheduled: their purpose is to truncate\n          // audible tones at the same pitch.  But duration is set to zero\n          // so that they are cleaned up quickly.\n          record.duration = 0;\n        }\n\n        this._startSet.push(record);\n      } // Truncates a sound previously scheduled by _makeSound by using\n      // cancelScheduledValues and directly ramping down to zero.\n      // Can only be used to shorten a sound.\n\n    }, {\n      key: \"_truncateSound\",\n      value: function _truncateSound(record, truncatetime) {\n        if (truncatetime < record.time + record.duration) {\n          record.duration = Math.max(0, truncatetime - record.time);\n\n          if (record.gainNode) {\n            var timbre = record.timbre || this._timbre,\n                starttime = record.time + Instrument.timeOffset,\n                releasetime = truncatetime + Instrument.timeOffset,\n                attacktime = Math.min(releasetime, starttime + timbre.attack),\n                decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n                stoptime = releasetime + timbre.release,\n                cleanuptime = stoptime + Instrument.cleanupDelay,\n                doubled = timbre.detune && timbre.detune != 1.0,\n                amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n                j,\n                g = record.gainNode; // Cancel any envelope points after the new releasetime.\n\n            g.gain.cancelScheduledValues(releasetime);\n\n            if (releasetime <= starttime) {\n              // Release before start?  Totally silence the note.\n              g.gain.setValueAtTime(0, releasetime);\n            } else if (releasetime <= attacktime) {\n              // Release before attack is done?  Interrupt ramp up.\n              // g.gain.linearRampToValueAtTime((amp * (releasetime - starttime)) / (attacktime - starttime));\n              g.gain.linearRampToValueAtTime(amp * (releasetime - starttime) / (attacktime - starttime), starttime); // RONYEH ADDED SECOND PARAM \"starttime\".\n            } else {\n              // Release during decay?  Interrupt decay down.\n              g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n            } // Then ramp down to zero according to record.release.\n\n\n            g.gain.linearRampToValueAtTime(0, stoptime); // After stoptime, stop the oscillators.  This is necessary to\n            // eliminate extra work for WebAudio for no-longer-audible notes.\n\n            if (record.oscillators) {\n              for (j = 0; j < record.oscillators.length; ++j) {\n                record.oscillators[j].stop(stoptime);\n              }\n            } // Schedule disconnect.\n\n\n            record.cleanuptime = cleanuptime;\n          }\n        }\n      } // The core scheduling loop is managed by Instrument._doPoll.  It reads\n      // the audiocontext's current time and pushes tone records from one\n      // stage to the next.\n      //\n      // 1. The first stage is the _queue, which has tones that have not\n      //    yet been given to WebAudio. This loop scans _queue to find\n      //    notes that need to begin in the next few seconds; then it\n      //    sends those to WebAduio and moves them to _startSet. Because\n      //    scheduled songs can be long, _queue can be large.\n      //\n      // 2. Second is _startSet, which has tones that have been given to\n      //    WebAudio, but whose start times have not yet elapsed. When\n      //    the time advances past the start time of a record, a 'noteon'\n      //    notification is fired for the tone, and it is moved to\n      //    _finishSet.\n      //\n      // 3. _finishSet represents the notes that are currently sounding.\n      //    The programming model for Instrument is that only one tone of\n      //    a specific frequency may be played at once within a Instrument,\n      //    so only one tone of a given frequency may exist in _finishSet\n      //    at once.  When there is a conflict, the sooner-to-end-note\n      //    is truncated.\n      //\n      // 4. After a note is released, it may have a litle release time\n      //    (depending on timbre.release), after which the nodes can\n      //    be totally disconnected and cleaned up.  _cleanupSet holds\n      //    notes for which we are awaiting cleanup.\n\n    }, {\n      key: \"_doPoll\",\n      value: function _doPoll() {\n        this._pollTimer = null;\n        this._now = null;\n\n        if (window.hasOwnProperty(\"interrupted\") && window[\"interrupted\"] === true) {\n          this.silence();\n          return;\n        } // The shortest time we can delay is 1 / 1000 secs, so if an event\n        // is within the next 0.5 ms, now is the closest moment, and we go\n        // ahead and process it.\n\n\n        var instant = this._atop.ac.currentTime + 1 / 2000,\n            callbacks = [],\n            j,\n            work,\n            when,\n            freq,\n            record,\n            conflict,\n            save,\n            cb; // Schedule a batch of notes\n\n        if (this._minQueueTime - instant <= Instrument.bufferSecs) {\n          if (this._unsortedQueue) {\n            this._queue.sort(function (a, b) {\n              if (a.time != b.time) {\n                return a.time - b.time;\n              }\n\n              if (a.duration != b.duration) {\n                return a.duration - b.duration;\n              }\n\n              return a.frequency - b.frequency;\n            });\n\n            this._unsortedQueue = false;\n          }\n\n          for (j = 0; j < this._queue.length; ++j) {\n            if (this._queue[j].time - instant > Instrument.bufferSecs) {\n              break;\n            }\n          }\n\n          if (j > 0) {\n            work = this._queue.splice(0, j);\n\n            for (j = 0; j < work.length; ++j) {\n              this._makeSound(work[j]);\n            }\n\n            this._minQueueTime = this._queue.length > 0 ? this._queue[0].time : Infinity;\n          }\n        } // Disconnect notes from the cleanup set.\n\n\n        for (j = 0; j < this._cleanupSet.length; ++j) {\n          record = this._cleanupSet[j];\n\n          if (record.cleanuptime < instant) {\n            if (record.gainNode) {\n              // This explicit disconnect is needed or else Chrome's WebAudio\n              // starts getting overloaded after a couple thousand notes.\n              record.gainNode.disconnect();\n              record.gainNode = null;\n            }\n\n            this._cleanupSet.splice(j, 1);\n\n            j -= 1;\n          }\n        } // Notify about any notes finishing.\n\n\n        for (freq in this._finishSet) {\n          record = this._finishSet[freq];\n          when = record.time + record.duration;\n\n          if (when <= instant) {\n            callbacks.push({\n              order: [when, 0],\n              f: this._trigger,\n              t: this,\n              a: [\"noteoff\", record]\n            });\n\n            if (record.cleanuptime != Infinity) {\n              this._cleanupSet.push(record);\n            }\n\n            delete this._finishSet[freq];\n          }\n        } // Call any specific one-time callbacks that were registered.\n\n\n        for (j = 0; j < this._callbackSet.length; ++j) {\n          cb = this._callbackSet[j];\n          when = cb.time;\n\n          if (when <= instant) {\n            callbacks.push({\n              order: [when, 1],\n              f: cb.callback,\n              t: null,\n              a: []\n            });\n\n            this._callbackSet.splice(j, 1);\n\n            j -= 1;\n          }\n        } // Notify about any notes starting.\n\n\n        for (j = 0; j < this._startSet.length; ++j) {\n          if (this._startSet[j].time <= instant) {\n            save = record = this._startSet[j];\n            freq = record.frequency;\n            conflict = null;\n\n            if (this._finishSet.hasOwnProperty(freq)) {\n              // If there is already a note at the same frequency playing,\n              // then release the one that starts first, immediately.\n              conflict = this._finishSet[freq];\n\n              if (conflict.time < record.time || conflict.time == record.time && conflict.duration < record.duration) {\n                // Our new sound conflicts with an old one: end the old one\n                // and notify immediately of its noteoff event.\n                this._truncateSound(conflict, record.time);\n\n                callbacks.push({\n                  order: [record.time, 0],\n                  f: this._trigger,\n                  t: this,\n                  a: [\"noteoff\", conflict]\n                });\n                delete this._finishSet[freq];\n              } else {\n                // A conflict from the future has already scheduled,\n                // so our own note shouldn't sound.  Truncate ourselves\n                // immediately, and suppress our own noteon and noteoff.\n                this._truncateSound(record, conflict.time);\n\n                conflict = record;\n              }\n            }\n\n            this._startSet.splice(j, 1);\n\n            j -= 1;\n\n            if (record.duration > 0 && record.velocity > 0 && conflict !== record) {\n              this._finishSet[freq] = record;\n              callbacks.push({\n                order: [record.time, 2],\n                f: this._trigger,\n                t: this,\n                a: [\"noteon\", record]\n              });\n            }\n          }\n        } // Schedule the next _doPoll.\n\n\n        this._startPollTimer(); // Sort callbacks according to the \"order\" tuple, so earlier events\n        // are notified first.\n\n\n        callbacks.sort(function (a, b) {\n          if (a.order[0] != b.order[0]) {\n            return a.order[0] - b.order[0];\n          } // tiebreak by notifying 'noteoff' first and 'noteon' last.\n\n\n          return a.order[1] - b.order[1];\n        }); // At the end, call all the callbacks without depending on \"this\" state.\n\n        for (j = 0; j < callbacks.length; ++j) {\n          cb = callbacks[j];\n          cb.f.apply(cb.t, cb.a);\n        }\n      } // Schedules the next _doPoll call by examining times in the various\n      // sets and determining the soonest event that needs _doPoll processing.\n\n    }, {\n      key: \"_startPollTimer\",\n      value: function _startPollTimer() {\n        var setnow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        // If we have already done a \"setnow\", then pollTimer is zero-timeout\n        // and cannot be faster.\n        if (this._pollTimer && this._now != null) {\n          return;\n        }\n\n        var self = this,\n            poll = function poll() {\n          self._doPoll();\n        },\n            earliest = Infinity,\n            j,\n            delay;\n\n        if (this._pollTimer) {\n          // Clear any old timer\n          clearTimeout(this._pollTimer);\n          this._pollTimer = null;\n        }\n\n        if (setnow) {\n          // When scheduling tones, cache _now and keep a zero-timeout poll.\n          // _now will be cleared the next time we execute _doPoll.\n          this._now = Utils.audioCurrentStartTime();\n          this._pollTimer = setTimeout(poll, 0);\n          return;\n        } // Timer due to notes starting: wake up for 'noteon' notification.\n\n\n        for (j = 0; j < this._startSet.length; ++j) {\n          earliest = Math.min(earliest, this._startSet[j].time);\n        } // Timer due to notes finishing: wake up for 'noteoff' notification.\n\n\n        for (j in this._finishSet) {\n          earliest = Math.min(earliest, this._finishSet[j].time + this._finishSet[j].duration);\n        } // Timer due to scheduled callback.\n\n\n        for (j = 0; j < this._callbackSet.length; ++j) {\n          earliest = Math.min(earliest, this._callbackSet[j].time);\n        } // Timer due to cleanup: add a second to give some time to batch up.\n\n\n        if (this._cleanupSet.length > 0) {\n          earliest = Math.min(earliest, this._cleanupSet[0].cleanuptime + 1);\n        } // Timer due to sequencer events: subtract a little time to stay ahead.\n\n\n        earliest = Math.min(earliest, this._minQueueTime - Instrument.dequeueTime);\n        delay = Math.max(0.001, earliest - this._atop.ac.currentTime); // If there are no future events, then we do not need a timer.\n\n        if (isNaN(delay) || delay == Infinity) {\n          return;\n        } // Use the Javascript timer to wake up at the right moment.\n\n\n        this._pollTimer = setTimeout(poll, Math.round(delay * 1000));\n      } // The low-level tone function.\n\n    }, {\n      key: \"tone\",\n      value: function tone(pitch, duration, velocity, delay, timbre, origin) {\n        // If audio is not present, this is a no-op.\n        if (!this._atop) {\n          return;\n        } // Called with an object instead of listed args.\n\n\n        if (typeof pitch == \"object\") {\n          if (velocity == null) velocity = pitch.velocity;\n          if (duration == null) duration = pitch.duration;\n          if (delay == null) delay = pitch.delay;\n          if (timbre == null) timbre = pitch.timbre;\n          if (origin == null) origin = pitch.origin;\n          pitch = pitch.pitch;\n        } // Convert pitch from various formats to Hz frequency and a midi num.\n\n\n        var midi, frequency;\n\n        if (!pitch) {\n          pitch = \"C\";\n        }\n\n        if (isNaN(pitch)) {\n          midi = Utils.pitchToMidi(pitch);\n          frequency = Utils.midiToFrequency(midi);\n        } else {\n          frequency = Number(pitch);\n\n          if (frequency < 0) {\n            midi = -frequency;\n            frequency = Utils.midiToFrequency(midi);\n          } else {\n            midi = Utils.frequencyToMidi(frequency);\n          }\n        }\n\n        if (!timbre) {\n          timbre = this._timbre;\n        } // If there is a custom timbre, validate and copy it.\n\n\n        if (timbre !== this._timbre) {\n          var given = timbre,\n              key;\n          timbre = {};\n\n          for (key in Utils.defaultTimbre) {\n            if (key in given) {\n              timbre[key] = given[key];\n            } else {\n              timbre[key] = Utils.defaultTimbre[key]; // RONYEH: There was a typo bug in the original Musical.js. It was caught by our TypeScript compiler.\n            }\n          }\n        } // Create the record for a tone.\n\n\n        var ac = this._atop.ac,\n            now = this.now(),\n            time = now + (delay || 0),\n            record = {\n          time: time,\n          on: false,\n          frequency: frequency,\n          midi: midi,\n          velocity: velocity == null ? 1 : velocity,\n          duration: duration == null ? Instrument.toneLength : duration,\n          timbre: timbre,\n          instrument: this,\n          gainNode: null,\n          oscillators: null,\n          cleanuptime: Infinity,\n          origin: origin // save the origin of the tone for visible feedback\n\n        };\n\n        if (time < now + Instrument.bufferSecs) {\n          // The tone starts soon!  Give it directly to WebAudio.\n          this._makeSound(record);\n        } else {\n          // The tone is later: queue it.\n          if (!this._unsortedQueue && this._queue.length && time < this._queue[this._queue.length - 1].time) {\n            this._unsortedQueue = true;\n          }\n\n          this._queue.push(record);\n\n          this._minQueueTime = Math.min(this._minQueueTime, record.time);\n        }\n      } // The low-level callback scheduling method.\n\n    }, {\n      key: \"schedule\",\n      value: function schedule(delay, callback) {\n        this._callbackSet.push({\n          time: this.now() + delay,\n          callback: callback\n        });\n      } // The high-level sequencing method.\n\n    }, {\n      key: \"play\",\n      value: function play(abcstring) {\n        var args = Array.prototype.slice.call(arguments),\n            done = null,\n            opts = {},\n            subfile,\n            abcfile,\n            argindex,\n            tempo,\n            timbre,\n            k,\n            delay,\n            maxdelay = 0,\n            attenuate,\n            voicename,\n            stems,\n            ni,\n            vn,\n            j,\n            stem,\n            note,\n            beatsecs,\n            secs,\n            v,\n            files = []; // Look for continuation as last argument.\n\n        if (args.length && \"function\" == typeof args[args.length - 1]) {\n          done = args.pop();\n        }\n\n        if (!this._atop) {\n          if (done) {\n            done();\n          }\n\n          return;\n        } // Look for options as first object.\n\n\n        argindex = 0;\n\n        if (\"object\" == typeof args[0]) {\n          // Copy own properties into an options object.\n          for (k in args[0]) {\n            if (args[0].hasOwnProperty(k)) {\n              opts[k] = args[0][k];\n            }\n          }\n\n          argindex = 1; // If a song is supplied by options object, process it.\n\n          if (opts.hasOwnProperty(\"song\")) {\n            args.push(opts[\"song\"]);\n          }\n        } // Parse any number of ABC files as input.\n\n\n        for (; argindex < args.length; ++argindex) {\n          // Handle splitting of ABC subfiles at X: lines.\n          subfile = args[argindex].split(/\\n(?=X:)/);\n\n          for (k = 0; k < subfile.length; ++k) {\n            abcfile = parseABCFile(subfile[k]);\n            if (!abcfile) continue; // Take tempo markings from the first file, and share them.\n\n            if (!opts.hasOwnProperty(\"tempo\") && abcfile.tempo) {\n              opts[\"tempo\"] = abcfile.tempo;\n\n              if (abcfile.unitbeat) {\n                opts[\"tempo\"] = opts[\"tempo\"] * abcfile.unitbeat / (abcfile.unitnote || 1);\n              }\n            } // Ignore files without songs.\n\n\n            if (!abcfile.voice) continue;\n            files.push(abcfile);\n          }\n        } // Default tempo to 120 if nothing else is specified.\n\n\n        if (!opts.hasOwnProperty(\"tempo\")) {\n          opts[\"tempo\"] = 120;\n        } // Default volume to 1 if nothing is specified.\n\n\n        if (!opts.hasOwnProperty(\"volume\")) {\n          opts[\"volume\"] = 1;\n        }\n\n        beatsecs = 60.0 / opts[\"tempo\"]; // Schedule all notes from all the files.\n\n        for (k = 0; k < files.length; ++k) {\n          abcfile = files[k]; // Each file can have multiple voices (e.g., left and right hands)\n\n          for (vn in abcfile.voice) {\n            // Each voice could have a separate timbre.\n            timbre = Utils.makeTimbre(opts[\"timbre\"] || abcfile.voice[vn].timbre || abcfile.timbre || this._timbre, this._atop); // Each voice has a series of stems (notes or chords).\n\n            stems = abcfile.voice[vn].stems;\n            if (!stems) continue; // Starting at delay zero (now), schedule all tones.\n\n            delay = 0;\n\n            for (ni = 0; ni < stems.length; ++ni) {\n              stem = stems[ni]; // Attenuate chords to reduce clipping.\n\n              attenuate = 1 / Math.sqrt(stem.notes.length); // Schedule every note inside a stem.\n\n              for (j = 0; j < stem.notes.length; ++j) {\n                note = stem.notes[j];\n\n                if (note.holdover) {\n                  // Skip holdover notes from ties.\n                  continue;\n                }\n\n                secs = (note.time || stem.time) * beatsecs;\n\n                if (stem.staccato) {\n                  // Shorten staccato notes.\n                  secs = Math.min(Math.min(secs, beatsecs / 16), timbre.attack + timbre.decay);\n                } else if (!note.slurred && secs >= 1 / 8) {\n                  // Separate unslurred notes by about a 30th of a second.\n                  secs -= 1 / 32;\n                }\n\n                v = (note.velocity || 1) * attenuate * opts[\"volume\"]; // This is innsermost part of the inner loop!\n\n                this.tone( // Play the tone:\n                note.pitch, // at the given pitch\n                secs, // for the given duration\n                v, // with the given volume\n                delay, // starting at the proper time\n                timbre, // with the selected timbre\n                note // the origin object for visual feedback\n                );\n              }\n\n              delay += stem.time * beatsecs; // Advance the sequenced time.\n            }\n\n            maxdelay = Math.max(delay, maxdelay);\n          }\n        }\n\n        this._maxScheduledTime = Math.max(this._maxScheduledTime, this.now() + maxdelay);\n\n        if (done) {\n          // Schedule a \"done\" callback after all sequencing is complete.\n          this.schedule(maxdelay, done);\n        }\n      }\n    }]);\n\n    return Instrument;\n  }();\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"timeOffset\", 0.0625);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"dequeueTime\", 0.5);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"bufferSecs\", 2);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"toneLength\", 1);\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"cleanupDelay\", 0.1);\n\n  _Musical.Instrument = Instrument;\n})(Musical || (Musical = {}));\n\n(function (_Musical2) {\n  var parseABCFile = _Musical2.parseABCFile = _parseABCFile;\n})(Musical || (Musical = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Musical);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9zaGFyZWQvc291bmQvTXVzaWNhbC50cz8wN2IxIl0sIm5hbWVzIjpbIm1ha2VXYXZldGFibGUiLCJhYyIsIndhdmVkYXRhIiwibWFrZVBlcmlvZGljV2F2ZSIsImRhdGEiLCJuIiwicmVhbCIsImxlbmd0aCIsIkZsb2F0MzJBcnJheSIsImltYWciLCJqIiwiY3JlYXRlUGVyaW9kaWNXYXZlIiwiZSIsImNyZWF0ZVdhdmVUYWJsZSIsIm1ha2VNdWx0aXBsZSIsIm11bHQiLCJhbXQiLCJyZXN1bHQiLCJtIiwiTWF0aCIsImxvZyIsIm1pbiIsInB1c2giLCJleHAiLCJrIiwiZCIsImZmIiwicmVjb3JkIiwid2F2ZSIsInB3IiwiZnJlcSIsImRlZnMiLCJwaWFubyIsImdhaW4iLCJhdHRhY2siLCJkZWNheSIsInN1c3RhaW4iLCJyZWxlYXNlIiwiZGVjYXlmb2xsb3ciLCJjdXRvZmYiLCJjdXRmb2xsb3ciLCJyZXNvbmFuY2UiLCJkZXR1bmUiLCJVdGlscyIsImdsb2JhbCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIl9hdWRpb1RvcCIsImlzQXVkaW9QcmVzZW50Iiwid2F2ZXRhYmxlIiwib3V0IiwiY3VycmVudFN0YXJ0IiwicmVzZXRBdWRpbyIsImF0b3AiLCJkaXNjb25uZWN0IiwiZGNuIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwicmF0aW8iLCJzZXRWYWx1ZUF0VGltZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImdldEF1ZGlvVG9wIiwibWF4IiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwibWlkaSIsInBvdyIsInJvdW5kIiwiTE4yIiwicGl0Y2giLCJleGVjIiwib2N0YXZlIiwicmVwbGFjZSIsInNlbWl0b25lIiwibm90ZU51bSIsImFjY1N5bSIsImNoYXJBdCIsImluZGV4Iiwib2N0YXZlcyIsIm5vdGVOYW1lIiwibWlkaVRvRnJlcXVlbmN5IiwicGl0Y2hUb01pZGkiLCJvcHRpb25zIiwia2V5Iiwid3QiLCJkZWZhdWx0VGltYnJlIiwiaGFzT3duUHJvcGVydHkiLCJ3aGl0ZU5vaXNlQnVmIiwiYnVmZmVyU2l6ZSIsInNhbXBsZVJhdGUiLCJjcmVhdGVCdWZmZXIiLCJvdXRwdXQiLCJnZXRDaGFubmVsRGF0YSIsImkiLCJyYW5kb20iLCJ3YXZlbmFtZSIsIndoaXRlTm9pc2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJnZXRXaGl0ZU5vaXNlQnVmIiwibG9vcCIsIm8iLCJjcmVhdGVPc2NpbGxhdG9yIiwicHdhdmUiLCJid2YiLCJ3ZiIsIk51bWJlciIsInNldFBlcmlvZGljV2F2ZSIsInNldFdhdmVUYWJsZSIsInR5cGUiLCJ3aW5kb3ciLCJjb25zb2xlIiwiZnJlcXVlbmN5Iiwic2V0VGFyZ2V0QXRUaW1lIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJBIiwiQiIsImMiLCJmIiwiZyIsImEiLCJiIiwiXyIsIkFCQ2hlYWRlciIsIkFCQ3Rva2VuIiwicGFyc2VBQkNGaWxlIiwic3RyIiwibGluZXMiLCJzcGxpdCIsImNvbnRleHQiLCJ0aW1icmUiLCJoZWFkZXIiLCJzdGVtcyIsImFjY2VudCIsInNsdXJyZWQiLCJ2b2ljZWlkIiwiaGFuZGxlSW5mb3JtYXRpb24iLCJ0cmltIiwidGVzdCIsInBhcnNlQUJDTm90ZXMiLCJpbmZlciIsInZvaWNlIiwicHJvY2Vzc1RpZXMiLCJmaWVsZCIsInZhbHVlIiwic3RhcnRWb2ljZUNvbnRleHQiLCJwYXJzZU1ldGVyIiwicGFyc2VVbml0Tm90ZSIsInBhcnNlVGVtcG8iLCJrZXlzaWciLCJmaXJzdFZvaWNlTmFtZSIsImlkIiwiViIsInRva2VucyIsIm1hdGNoIiwicGFyc2VkIiwiZG90dGVkIiwiYmVhdGxldCIsInQiLCJzdWJzdHJpbmciLCJwYXJzZUJlYXRsZXQiLCJwYXJzZURlY29yYXRpb24iLCJzbHVyU3RlbSIsInBhcnNlU3RlbSIsInNjYWxlU3RlbSIsInN0ZW0iLCJ0aW1lIiwiY291bnQiLCJzeW5jb3BhdGVTdGVtIiwibWxpbmUiLCJiZWF0aW5mbyIsImR1cmF0aW9uVG9UaW1lIiwidW5pdG5vdGUiLCJsbGluZSIsInFsaW5lIiwicGFydHMiLCJ1bml0IiwidGVtcG8iLCJpbmRleE9mIiwidW5pdGJlYXQiLCJ0aWVkIiwibmV4dFRpZWQiLCJub3RlIiwiZmlyc3ROb3RlIiwibm90ZXMiLCJob2xkb3ZlciIsInRpZSIsImFjY2lkZW50YWxzIiwic2hhcnBzIiwia2V5bmFtZSIsImtrZXkiLCJzaWdjb2RlcyIsImJiIiwiZWIiLCJhYiIsImRiIiwiZ2IiLCJjYiIsImJtIiwiZW0iLCJhbSIsImRtIiwiZ20iLCJjbSIsImZtIiwiYmJtIiwiZWJtIiwiYWJtIiwiYm1peCIsImVtaXgiLCJhbWl4IiwiZG1peCIsImdtaXgiLCJjbWl4IiwiZm1peCIsImJibWl4IiwiZWJtaXgiLCJhYm1peCIsImRibWl4IiwiZ2JtaXgiLCJiZG9yIiwiZWRvciIsImFkb3IiLCJkZG9yIiwiZ2RvciIsImNkb3IiLCJmZG9yIiwiYmJkb3IiLCJlYmRvciIsImFiZG9yIiwiZGJkb3IiLCJicGhyIiwiZXBociIsImFwaHIiLCJkcGhyIiwiZ3BociIsImNwaHIiLCJmcGhyIiwiYmJwaHIiLCJlYnBociIsImJseWQiLCJlbHlkIiwiYWx5ZCIsImRseWQiLCJnbHlkIiwiY2x5ZCIsImZseWQiLCJiYmx5ZCIsImVibHlkIiwiYWJseWQiLCJkYmx5ZCIsImdibHlkIiwiY2JseWQiLCJmYmx5ZCIsImJsb2MiLCJlbG9jIiwiYWxvYyIsImRsb2MiLCJnbG9jIiwiY2xvYyIsImZsb2MiLCJiYmxvYyIsInRvTG93ZXJDYXNlIiwic3Vic3RyIiwic2NhbGUiLCJleHRyYXMiLCJ0b1VwcGVyQ2FzZSIsInN0ZW10aW1lIiwibmV3dGltZSIsImFkZFNsdXIiLCJzIiwidG9rZW4iLCJiZWF0cyIsImR1cmF0aW9uIiwiZHluYW1pY3MiLCJzdGFjY2F0byIsIm5vdGVEdXJhdGlvbiIsIm5vdGVUaW1lIiwidmVsb2NpdHkiLCJsYXN0Tm90ZSIsIm1pblN0ZW1UaW1lIiwiSW5maW5pdHkiLCJhcHBseUFjY2VudCIsInBpdGNoVG9GcmVxdWVuY3kiLCJzdHJpcE5hdHVyYWwiLCJsZXR0ZXIiLCJpbGVuIiwicGFyc2VGbG9hdCIsIkluc3RydW1lbnQiLCJtaWRpVG9QaXRjaCIsIl9hdG9wIiwiX3RpbWJyZSIsIm1ha2VUaW1icmUiLCJfcXVldWUiLCJfbWluUXVldWVUaW1lIiwiX21heFNjaGVkdWxlZFRpbWUiLCJfdW5zb3J0ZWRRdWV1ZSIsIl9zdGFydFNldCIsIl9maW5pc2hTZXQiLCJfY2xlYW51cFNldCIsIl9jYWxsYmFja1NldCIsIl9oYW5kbGVycyIsIl9ub3ciLCJzaWxlbmNlIiwidiIsIl9vdXQiLCJpc05hTiIsImZpbmlzaGVkIiwiY2FsbGJhY2tzIiwiaW5pdHZvbHVtZSIsImNyZWF0ZUdhaW4iLCJfdHJpZ2dlciIsImNhbGxiYWNrIiwiX3N0YXJ0UG9sbFRpbWVyIiwiZXZlbnRuYW1lIiwiaHVudCIsInNwbGljZSIsInNsaWNlIiwic3RhcnR0aW1lIiwidGltZU9mZnNldCIsInJlbGVhc2V0aW1lIiwiYXR0YWNrdGltZSIsImRlY2F5dGltZSIsImRlY2F5c3RhcnR0aW1lIiwic3RvcHRpbWUiLCJkb3VibGVkIiwiYW1wIiwibzIiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsIlEiLCJtYWtlT3NjaWxsYXRvciIsInN0YXJ0Iiwic3RvcCIsImdhaW5Ob2RlIiwib3NjaWxsYXRvcnMiLCJjbGVhbnVwdGltZSIsInRydW5jYXRldGltZSIsImNsZWFudXBEZWxheSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsIl9wb2xsVGltZXIiLCJpbnN0YW50Iiwid29yayIsIndoZW4iLCJjb25mbGljdCIsInNhdmUiLCJidWZmZXJTZWNzIiwic29ydCIsIl9tYWtlU291bmQiLCJvcmRlciIsIl90cnVuY2F0ZVNvdW5kIiwiYXBwbHkiLCJzZXRub3ciLCJzZWxmIiwicG9sbCIsIl9kb1BvbGwiLCJlYXJsaWVzdCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9DdXJyZW50U3RhcnRUaW1lIiwiZGVxdWV1ZVRpbWUiLCJvcmlnaW4iLCJmcmVxdWVuY3lUb01pZGkiLCJnaXZlbiIsIm5vdyIsIm9uIiwidG9uZUxlbmd0aCIsImluc3RydW1lbnQiLCJhYmNzdHJpbmciLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXJndW1lbnRzIiwiZG9uZSIsIm9wdHMiLCJzdWJmaWxlIiwiYWJjZmlsZSIsImFyZ2luZGV4IiwibWF4ZGVsYXkiLCJhdHRlbnVhdGUiLCJ2b2ljZW5hbWUiLCJuaSIsInZuIiwiYmVhdHNlY3MiLCJzZWNzIiwiZmlsZXMiLCJwb3AiLCJzcXJ0IiwidG9uZSIsInNjaGVkdWxlIiwiTXVzaWNhbCIsIl9wYXJzZUFCQ0ZpbGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFHSTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQVVDLEVBQVYsRUFBYztBQUNoQyxXQUFRLFVBQVVDLFFBQVYsRUFBb0I7QUFDeEIsZUFBU0MsZ0JBQVQsQ0FBMEJDLElBQTFCLEVBQWdDO0FBQzVCLFlBQUlDLENBQUMsR0FBR0QsSUFBSSxDQUFDRSxJQUFMLENBQVVDLE1BQWxCO0FBQUEsWUFDSUQsSUFBSSxHQUFHLElBQUlFLFlBQUosQ0FBaUJILENBQWpCLENBRFg7QUFBQSxZQUVJSSxJQUFJLEdBQUcsSUFBSUQsWUFBSixDQUFpQkgsQ0FBakIsQ0FGWDtBQUFBLFlBR0lLLENBSEo7O0FBSUEsYUFBS0EsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHTCxDQUFoQixFQUFtQixFQUFFSyxDQUFyQixFQUF3QjtBQUNwQkosY0FBSSxDQUFDSSxDQUFELENBQUosR0FBVU4sSUFBSSxDQUFDRSxJQUFMLENBQVVJLENBQVYsQ0FBVjtBQUNBRCxjQUFJLENBQUNDLENBQUQsQ0FBSixHQUFVTixJ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S0FBYWUsUUFBOUMsQ0FBekI7O0FBQ0EsWUFBSUwsSUFBSixFQUFVO0FBQ047QUFDQSxlQUFLZ0IsUUFBTCxDQUFjWCxRQUFkLEVBQXdCTCxJQUF4QjtBQUNIO0FBQ0o7Ozs7OzswSkExd0JRdEYsVSxnQkFDVyxNOzswSkFEWEEsVSxpQkFFWSxHOzswSkFGWkEsVSxnQkFHVyxDOzswSkFIWEEsVSxnQkFJVyxDOzswSkFKWEEsVSxrQkFLYSxHOzs7R0FydUNwQnVHLE8sS0FBQUEsTzs7O0FBby9EQyxNQUFNMVEsWUFBWSw0QkFBRzJRLGFBQXJCO0dBRkRELE8sS0FBQUEsTzs7QUFLS0Esc0VBQWYiLCJmaWxlIjoiLi9hcHBzL3NoYXJlZC9zb3VuZC9NdXNpY2FsLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIG11c2ljYWwuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9QZW5jaWxDb2RlL211c2ljYWwuanNcblxubmFtZXNwYWNlIE11c2ljYWwge1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gV0FWRVRBQkxFLUJVSUxERVJcblxuICAgIC8vIHdhdmV0YWJsZSBpcyBhIHRhYmxlIG9mIG5hbWVzIGZvciBub25zdGFuZGFyZCB3YXZlZm9ybXMuXG4gICAgLy8gVGhlIHRhYmxlIG1hcHMgbmFtZXMgdG8gb2JqZWN0cyB0aGF0IGhhdmUgd2F2ZTogYW5kIGZyZXE6XG4gICAgLy8gcHJvcGVydGllcy4gVGhlIHdhdmU6IHByb3BlcnR5IGlzIGEgUGVyaW9kaWNXYXZlIHRvIHVzZVxuICAgIC8vIGZvciB0aGUgb3NjaWxsYXRvci4gIFRoZSBmcmVxOiBwcm9wZXJ0eSwgaWYgcHJlc2VudCxcbiAgICAvLyBpcyBhIG1hcCBmcm9tIGhpZ2hlciBmcmVxdWVuY2llcyB0byBtb3JlIFBlcmlvZGljV2F2ZVxuICAgIC8vIG9iamVjdHM7IHdoZW4gYSBmcmVxdWVuY3kgaGlnaGVyIHRoYW4gdGhlIGdpdmVuIHRocmVzaG9sZFxuICAgIC8vIGlzIHJlcXVlc3RlZCwgdGhlIGFsdGVybmF0ZSBQZXJpb2RpY1dhdmUgaXMgdXNlZC5cblxuICAgIGNvbnN0IG1ha2VXYXZldGFibGUgPSBmdW5jdGlvbiAoYWMpIHtcbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiAod2F2ZWRhdGEpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1ha2VQZXJpb2RpY1dhdmUoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gZGF0YS5yZWFsLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgcmVhbCA9IG5ldyBGbG9hdDMyQXJyYXkobiksXG4gICAgICAgICAgICAgICAgICAgIGltYWcgPSBuZXcgRmxvYXQzMkFycmF5KG4pLFxuICAgICAgICAgICAgICAgICAgICBqO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFtqXSA9IGRhdGEucmVhbFtqXTtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ1tqXSA9IGRhdGEuaW1hZ1tqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGF0ZXN0IEFQSSBuYW1pbmcuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhYy5jcmVhdGVQZXJpb2RpY1dhdmUocmVhbCwgaW1hZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFYXJsaWVyIEFQSSBuYW1pbmcuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhYy5jcmVhdGVXYXZlVGFibGUocmVhbCwgaW1hZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1ha2VNdWx0aXBsZShkYXRhLCBtdWx0LCBhbXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0geyByZWFsOiBbXSwgaW1hZzogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICAgICAgbiA9IGRhdGEucmVhbC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgICAgICBtID0gTWF0aC5sb2cobXVsdFtNYXRoLm1pbihqLCBtdWx0Lmxlbmd0aCAtIDEpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWFsLnB1c2goZGF0YS5yZWFsW2pdICogTWF0aC5leHAoYW10ICogbSkpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW1hZy5wdXNoKGRhdGEuaW1hZ1tqXSAqIE1hdGguZXhwKGFtdCAqIG0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgICBqLFxuICAgICAgICAgICAgICAgIGZmLFxuICAgICAgICAgICAgICAgIHJlY29yZCxcbiAgICAgICAgICAgICAgICB3YXZlLFxuICAgICAgICAgICAgICAgIHB3O1xuICAgICAgICAgICAgZm9yIChrIGluIHdhdmVkYXRhKSB7XG4gICAgICAgICAgICAgICAgZCA9IHdhdmVkYXRhW2tdO1xuICAgICAgICAgICAgICAgIHdhdmUgPSBtYWtlUGVyaW9kaWNXYXZlKGQpO1xuICAgICAgICAgICAgICAgIGlmICghd2F2ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0geyB3YXZlOiB3YXZlIH07XG4gICAgICAgICAgICAgICAgLy8gQSBzdHJhdGVneSBmb3IgY29tcHV0aW5nIGhpZ2hlciBmcmVxdWVuY3kgd2F2ZWZvcm1zOiBhcHBseVxuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxpZXJzIHRvIGVhY2ggaGFybW9uaWMgYWNjb3JkaW5nIHRvIGQubXVsdC4gIFRoZXNlXG4gICAgICAgICAgICAgICAgLy8gbXVsdGlwbGllcnMgY2FuIGJlIGludGVycG9sYXRlZCBhbmQgYXBwbGllZCBhdCBhbnkgbnVtYmVyXG4gICAgICAgICAgICAgICAgLy8gb2YgdHJhbnNpdGlvbiBmcmVxdWVuY2llcy5cbiAgICAgICAgICAgICAgICBpZiAoZC5tdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZmID0gd2F2ZWRhdGFba10uZnJlcTtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmZyZXEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGZmLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXZlID0gbWFrZVBlcmlvZGljV2F2ZShtYWtlTXVsdGlwbGUoZCwgZC5tdWx0LCAoaiArIDEpIC8gZmYubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2F2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5mcmVxW2ZmW2pdXSA9IHdhdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyB3YXZlIGhhcyBzb21lIGRlZmF1bHQgZmlsdGVyIHNldHRpbmdzLlxuICAgICAgICAgICAgICAgIGlmIChkLmRlZnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmRlZnMgPSBkLmRlZnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdFtrXSA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pKHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnRseSB0aGUgb25seSBub25zdGFuZGFyZCB3YXZlZm9ybSBpcyBcInBpYW5vXCIuXG4gICAgICAgICAgICAvLyBJdCBpcyBiYXNlZCBvbiB0aGUgZmlyc3QgMzIgaGFybW9uaWNzIGZyb20gdGhlIGV4YW1wbGU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi1hdWRpby1zYW1wbGVzXG4gICAgICAgICAgICAvLyAvYmxvYi9naC1wYWdlcy9zYW1wbGVzL2F1ZGlvL3dhdmUtdGFibGVzL1BpYW5vXG4gICAgICAgICAgICAvLyBUaGF0IGlzIGEgdGVycmlmaWMgc291bmQgZm9yIHRoZSBsb3dlc3QgcGlhbm8gdG9uZXMuXG4gICAgICAgICAgICAvLyBGb3IgaGlnaGVyIHRvbmVzLCBpbnRlcnBvbGF0ZSB0byBhIGN1c3RvbXplZCB3YXZlXG4gICAgICAgICAgICAvLyBzaGFwZSBjcmVhdGVkIGJ5IGhhbmQsIGFuZCBhcHBseSBhIGxvd3Bhc3MgZmlsdGVyLlxuICAgICAgICAgICAgcGlhbm86IHtcbiAgICAgICAgICAgICAgICByZWFsOiBbXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIC0wLjIwMzU2OSxcbiAgICAgICAgICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgICAgICAgICAtMC40MDE2NzYsXG4gICAgICAgICAgICAgICAgICAgIDAuMTM3MTI4LFxuICAgICAgICAgICAgICAgICAgICAtMC4xMDQxMTcsXG4gICAgICAgICAgICAgICAgICAgIDAuMTE1OTY1LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDQ0MTMsXG4gICAgICAgICAgICAgICAgICAgIDAuMDY3ODg0LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDg4OCxcbiAgICAgICAgICAgICAgICAgICAgMC4wNzkzLFxuICAgICAgICAgICAgICAgICAgICAtMC4wMzg3NTYsXG4gICAgICAgICAgICAgICAgICAgIDAuMDExODgyLFxuICAgICAgICAgICAgICAgICAgICAtMC4wMzA4ODMsXG4gICAgICAgICAgICAgICAgICAgIDAuMDI3NjA4LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMTM0MjksXG4gICAgICAgICAgICAgICAgICAgIDAuMDAzOTMsXG4gICAgICAgICAgICAgICAgICAgIC0wLjAxNDAyOSxcbiAgICAgICAgICAgICAgICAgICAgMC4wMDk3MixcbiAgICAgICAgICAgICAgICAgICAgLTAuMDA3NjUzLFxuICAgICAgICAgICAgICAgICAgICAwLjAwNzg2NixcbiAgICAgICAgICAgICAgICAgICAgLTAuMDMyMDI5LFxuICAgICAgICAgICAgICAgICAgICAwLjA0NjEyNyxcbiAgICAgICAgICAgICAgICAgICAgLTAuMDI0MTU1LFxuICAgICAgICAgICAgICAgICAgICAwLjAyMzA5NSxcbiAgICAgICAgICAgICAgICAgICAgLTAuMDA1NTIyLFxuICAgICAgICAgICAgICAgICAgICAwLjAwNDUxMSxcbiAgICAgICAgICAgICAgICAgICAgLTAuMDAzNTkzLFxuICAgICAgICAgICAgICAgICAgICAwLjAxMTI0OCxcbiAgICAgICAgICAgICAgICAgICAgLTAuMDA0OTE5LFxuICAgICAgICAgICAgICAgICAgICAwLjAwODUwNSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGltYWc6IFtcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMC4xNDc2MjEsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA3LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMSxcbiAgICAgICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgICAgIC0wLjAwMDAwNixcbiAgICAgICAgICAgICAgICAgICAgMC4wMDAwMDksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA4LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDEsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDE0LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDgsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDAzLFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDksXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA5LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDAyLFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMjMsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDM3LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMjEsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDIyLFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDYsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDQsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDE0LFxuICAgICAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgICAgIDAuMDAwMDEyLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgLy8gSG93IHRvIGFkanVzdCB0aGUgaGFybW9uaWNzIGZvciB0aGUgaGlnZXN0IG5vdGVzLlxuICAgICAgICAgICAgICAgIG11bHQ6IFsxLCAxLCAwLjE4LCAwLjAxNiwgMC4wMSwgMC4wMSwgMC4wMSwgMC4wMDQsIDAuMDE0LCAwLjAyLCAwLjAxNCwgMC4wMDQsIDAuMDAyLCAwLjAwMDAxXSxcbiAgICAgICAgICAgICAgICAvLyBUaGUgZnJlcXVlbmNpZXMgYXQgd2hpY2ggdG8gaW50ZXJwb2xhdGUgdGhlIGhhcm1vbmljcy5cbiAgICAgICAgICAgICAgICBmcmVxOiBbNjUsIDgwLCAxMDAsIDEzNSwgMTgwLCAyNDAsIDYyMCwgMTM2MF0sXG4gICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZmlsdGVyIHNldHRpbmdzIHRvIHVzZSBmb3IgdGhlIHBpYW5vIHdhdmUuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBhcHByb2FjaCBhdHRlbnVhdGVzIGxvdyBub3RlcyB0b28gbXVjaCAtXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgYmUgZml4ZWQuXG4gICAgICAgICAgICAgICAgZGVmczogeyB3YXZlOiBcInBpYW5vXCIsIGdhaW46IDAuNSwgYXR0YWNrOiAwLjAwMiwgZGVjYXk6IDAuMjUsIHN1c3RhaW46IDAuMDMsIHJlbGVhc2U6IDAuMSwgZGVjYXlmb2xsb3c6IDAuNywgY3V0b2ZmOiA4MDAsIGN1dGZvbGxvdzogMC4xLCByZXNvbmFuY2U6IDEsIGRldHVuZTogMC45OTk0IH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gRU5EIFdBVkVUQUJMRS1CVUlMREVSXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gVVRJTFNcblxuICAgIGNsYXNzIFV0aWxzIHtcbiAgICAgICAgLy8gVGVzdHMgZm9yIHRoZSBwcmVzZW5jZSBvZiBIVE1MNSBXZWIgQXVkaW8gKG9yIHdlYmtpdCdzIHZlcnNpb24pLlxuICAgICAgICBzdGF0aWMgaXNBdWRpb1ByZXNlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEoZ2xvYmFsLkF1ZGlvQ29udGV4dCB8fCBnbG9iYWwud2Via2l0QXVkaW9Db250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsbCBvdXIgYXVkaW8gZnVubmVscyB0aHJvdWdoIHRoZSBzYW1lIEF1ZGlvQ29udGV4dCB3aXRoIGFcbiAgICAgICAgLy8gRHluYW1pY3NDb21wcmVzc29yTm9kZSB1c2VkIGFzIHRoZSBtYWluIG91dHB1dCwgdG8gY29tcHJlc3MgdGhlXG4gICAgICAgIC8vIGR5bmFtaWMgcmFuZ2Ugb2YgYWxsIGF1ZGlvLiAgZ2V0QXVkaW9Ub3Agc2V0cyB0aGlzIHVwLlxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfYXVkaW9Ub3AgPSBudWxsO1xuICAgICAgICBzdGF0aWMgZ2V0QXVkaW9Ub3AoKSB7XG4gICAgICAgICAgICBpZiAoVXRpbHMuX2F1ZGlvVG9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLl9hdWRpb1RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghVXRpbHMuaXNBdWRpb1ByZXNlbnQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFjID0gbmV3IChnbG9iYWwuQXVkaW9Db250ZXh0IHx8IGdsb2JhbC53ZWJraXRBdWRpb0NvbnRleHQpKCk7XG4gICAgICAgICAgICBVdGlscy5fYXVkaW9Ub3AgPSB7XG4gICAgICAgICAgICAgICAgYWM6IGFjLFxuICAgICAgICAgICAgICAgIHdhdmV0YWJsZTogbWFrZVdhdmV0YWJsZShhYyksXG4gICAgICAgICAgICAgICAgb3V0OiBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGFydDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBVdGlscy5yZXNldEF1ZGlvKCk7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMuX2F1ZGlvVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBhdWRpbyBuZWVkcyB0byBiZSBpbnRlcnJ1cHRlZCBnbG9iYWxseSAoZS5nLiwgd2hlbiB5b3UgcHJlc3MgdGhlXG4gICAgICAgIC8vIHN0b3AgYnV0dG9uIGluIHRoZSBJREUpLCByZXNldEF1ZGlvIGRvZXMgdGhlIGpvYi5cbiAgICAgICAgc3RhdGljIHJlc2V0QXVkaW8oKSB7XG4gICAgICAgICAgICBpZiAoVXRpbHMuX2F1ZGlvVG9wKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0b3AgPSBVdGlscy5fYXVkaW9Ub3A7XG4gICAgICAgICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgdG9wLWxldmVsIG5vZGUgYW5kIG1ha2UgYSBuZXcgb25lLlxuICAgICAgICAgICAgICAgIGlmIChhdG9wLm91dCkge1xuICAgICAgICAgICAgICAgICAgICBhdG9wLm91dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGF0b3Aub3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYXRvcC5jdXJyZW50U3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGNuID0gYXRvcC5hYy5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTtcbiAgICAgICAgICAgICAgICBkY24ucmF0aW8uc2V0VmFsdWVBdFRpbWUoMTYsIDApO1xuICAgICAgICAgICAgICAgIGRjbi5hdHRhY2suc2V0VmFsdWVBdFRpbWUoMC4wMDA1LCAwKTtcbiAgICAgICAgICAgICAgICAvLyBkY24ucmF0aW8gPSAxNjsgLy8gUk9OWUVIOiAucmF0aW8gaXMgYSBSRUFEIE9OTFkgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgLy8gZGNuLmF0dGFjayA9IDAuMDAwNTsgLy8gUk9OWUVIOiAucmF0aW8gaXMgYSBSRUFEIE9OTFkgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgZGNuLmNvbm5lY3QoYXRvcC5hYy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgYXRvcC5vdXQgPSBkY247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgcHJlY2lzZSBzY2hlZHVsaW5nIG9mIGZ1dHVyZSBub3RlcywgdGhlIEF1ZGlvQ29udGV4dCBjdXJyZW50VGltZSBpc1xuICAgICAgICAvLyBjYWNoZWQgYW5kIGlzIGhlbGQgY29uc3RhbnQgdW50aWwgdGhlIHNjcmlwdCByZWxlYXNlcyB0byB0aGUgZXZlbnQgbG9vcC5cbiAgICAgICAgc3RhdGljIGF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpIHtcbiAgICAgICAgICAgIHZhciBhdG9wID0gVXRpbHMuZ2V0QXVkaW9Ub3AoKTtcbiAgICAgICAgICAgIGlmIChhdG9wLmN1cnJlbnRTdGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0b3AuY3VycmVudFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQSBkZWxheSBjb3VsZCBiZSBhZGRlZCBiZWxvdyB0byBpbnRyb2R1Y2UgYSB1bml2ZXJzYWwgZGVsYXkgaW5cbiAgICAgICAgICAgIC8vIGFsbCBiZWdpbm5pbmcgc291bmRzICh3aXRob3V0IHNrZXdpbmcgZHVyYXRpb25zIGZvciBzY2hlZHVsZWRcbiAgICAgICAgICAgIC8vIHNlcXVlbmNlcykuXG4gICAgICAgICAgICBhdG9wLmN1cnJlbnRTdGFydCA9IE1hdGgubWF4KDAuMjUsIGF0b3AuYWMuY3VycmVudFRpbWUgLyogKyAwLjAgZGVsYXkgKi8pO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXRvcC5jdXJyZW50U3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm4gYXRvcC5jdXJyZW50U3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0cyBhIG1pZGkgbm90ZSBudW1iZXIgdG8gYSBmcmVxdWVuY3kgaW4gSHouXG4gICAgICAgIHN0YXRpYyBtaWRpVG9GcmVxdWVuY3kobWlkaSkge1xuICAgICAgICAgICAgcmV0dXJuIDQ0MCAqIE1hdGgucG93KDIsIChtaWRpIC0gNjkpIC8gMTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29tZSBjb25zdGFudHMuXG4gICAgICAgIHN0YXRpYyBub3RlTnVtID0geyBDOiAwLCBEOiAyLCBFOiA0LCBGOiA1LCBHOiA3LCBBOiA5LCBCOiAxMSwgYzogMTIsIGQ6IDE0LCBlOiAxNiwgZjogMTcsIGc6IDE5LCBhOiAyMSwgYjogMjMgfTtcbiAgICAgICAgc3RhdGljIGFjY1N5bSA9IHsgXCJeXCI6IDEsIFwiXCI6IDAsIFwiPVwiOiAwLCBfOiAtMSB9O1xuICAgICAgICBzdGF0aWMgbm90ZU5hbWUgPSBbXCJDXCIsIFwiXkNcIiwgXCJEXCIsIFwiX0VcIiwgXCJFXCIsIFwiRlwiLCBcIl5GXCIsIFwiR1wiLCBcIl9BXCIsIFwiQVwiLCBcIl9CXCIsIFwiQlwiLCBcImNcIiwgXCJeY1wiLCBcImRcIiwgXCJfZVwiLCBcImVcIiwgXCJmXCIsIFwiXmZcIiwgXCJnXCIsIFwiX2FcIiwgXCJhXCIsIFwiX2JcIiwgXCJiXCJdO1xuXG4gICAgICAgIC8vIENvbnZlcnRzIGEgZnJlcXVlbmN5IGluIEh6IHRvIHRoZSBjbG9zZXN0IG1pZGkgbnVtYmVyLlxuICAgICAgICBzdGF0aWMgZnJlcXVlbmN5VG9NaWRpKGZyZXEpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDY5ICsgKE1hdGgubG9nKGZyZXEgLyA0NDApICogMTIpIC8gTWF0aC5MTjIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydHMgYW4gQUJDIHBpdGNoIChzdWNoIGFzIFwiXkcsLFwiKSB0byBhIG1pZGkgbm90ZSBudW1iZXIuXG4gICAgICAgIHN0YXRpYyBwaXRjaFRvTWlkaShwaXRjaCkge1xuICAgICAgICAgICAgdmFyIG0gPSAvXihcXF4rfF8rfD18KShbQS1HYS1nXSkoWywnXSopJC8uZXhlYyhwaXRjaCk7XG4gICAgICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvY3RhdmUgPSBtWzNdLnJlcGxhY2UoLywvZywgXCJcIikubGVuZ3RoIC0gbVszXS5yZXBsYWNlKC8nL2csIFwiXCIpLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBzZW1pdG9uZSA9IFV0aWxzLm5vdGVOdW1bbVsyXV0gKyBVdGlscy5hY2NTeW1bbVsxXS5jaGFyQXQoMCldICogbVsxXS5sZW5ndGggKyAxMiAqIG9jdGF2ZTtcbiAgICAgICAgICAgIHJldHVybiBzZW1pdG9uZSArIDYwOyAvLyA2MCA9IG1pZGkgY29kZSBtaWRkbGUgXCJDXCIuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0cyBhIG1pZGkgbnVtYmVyIHRvIGFuIEFCQyBub3RhdGlvbiBwaXRjaC5cbiAgICAgICAgc3RhdGljIG1pZGlUb1BpdGNoKG1pZGkpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IChtaWRpIC0gNzIpICUgMTI7XG4gICAgICAgICAgICBpZiAobWlkaSA+IDYwIHx8IGluZGV4ICE9IDApIHtcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvY3RhdmVzID0gTWF0aC5yb3VuZCgobWlkaSAtIGluZGV4IC0gNjApIC8gMTIpLFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFV0aWxzLm5vdGVOYW1lW2luZGV4XTtcbiAgICAgICAgICAgIHdoaWxlIChvY3RhdmVzICE9IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gb2N0YXZlcyA+IDAgPyBcIidcIiA6IFwiLFwiO1xuICAgICAgICAgICAgICAgIG9jdGF2ZXMgKz0gb2N0YXZlcyA+IDAgPyAtMSA6IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydHMgYW4gQUJDIHBpdGNoIHRvIGEgZnJlcXVlbmN5IGluIEh6LlxuICAgICAgICBzdGF0aWMgcGl0Y2hUb0ZyZXF1ZW5jeShwaXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShVdGlscy5waXRjaFRvTWlkaShwaXRjaCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgc291bmQgaXMgYSBzcXVhcmUgd2F2ZSB3aXRoIGEgcHJldHR5IHF1aWNrIGRlY2F5IHRvIHplcm8uXG4gICAgICAgIHN0YXRpYyBkZWZhdWx0VGltYnJlID0ge1xuICAgICAgICAgICAgd2F2ZTogXCJzcXVhcmVcIiwgLy8gT3NjaWxsYXRvciB0eXBlLlxuICAgICAgICAgICAgZ2FpbjogMC4xLCAvLyBPdmVyYWxsIGdhaW4gYXQgbWF4aW11bSBhdHRhY2suXG4gICAgICAgICAgICBhdHRhY2s6IDAuMDAyLCAvLyBBdHRhY2sgdGltZSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgdG9uZS5cbiAgICAgICAgICAgIGRlY2F5OiAwLjQsIC8vIFJhdGUgb2YgZXhwb25lbnRpYWwgZGVjYXkgYWZ0ZXIgYXR0YWNrLlxuICAgICAgICAgICAgZGVjYXlmb2xsb3c6IDAsIC8vIEFtb3VudCBvZiBkZWNheSBzaG9ydGVuaW5nIGZvciBoaWdoZXIgbm90ZXMuXG4gICAgICAgICAgICBzdXN0YWluOiAwLCAvLyBQb3J0aW9uIG9mIGdhaW4gdG8gc3VzdGFpbiBpbmRlZmluaXRlbHkuXG4gICAgICAgICAgICByZWxlYXNlOiAwLjEsIC8vIFJlbGVhc2UgdGltZSBhZnRlciBhIHRvbmUgaXMgZG9uZS5cbiAgICAgICAgICAgIGN1dG9mZjogMCwgLy8gTG93LXBhc3MgZmlsdGVyIGN1dG9mZiBmcmVxdWVuY3kuXG4gICAgICAgICAgICBjdXRmb2xsb3c6IDAsIC8vIEN1dG9mZiBhZGp1c3RtZW50LCBhIG11bHRpcGxlIG9mIG9zY2lsbGF0b3IgZnJlcS5cbiAgICAgICAgICAgIHJlc29uYW5jZTogMCwgLy8gTG93LXBhc3MgZmlsdGVyIHJlc29uYW5jZS5cbiAgICAgICAgICAgIGRldHVuZTogMCwgLy8gRGV0dW5lIGZhY3RvciBmb3IgYSBzZWNvbmQgb3NjaWxsYXRvci5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBOb3JybWFsaXplcyBhIHRpbWJyZSBvYmplY3QgYnkgbWFraW5nIGEgY29weSB0aGF0IGhhcyBleGFjdGx5XG4gICAgICAgIC8vIHRoZSByaWdodCBzZXQgb2YgdGltYnJlIGZpZWxkcywgZGVmYXVsdGluZyB3aGVuIG5lZWRlZC5cbiAgICAgICAgLy8gQSB0aW1icmUgY2FuIHNwZWNpZnkgYW55IG9mIHRoZSBmaWVsZHMgb2YgZGVmYXVsdFRpbWJyZTsgYW55XG4gICAgICAgIC8vIHVuc3BlY2lmaWVkIGZpZWxkcyBhcmUgdHJlYXRlZCBhcyB0aGV5IGFyZSBzZXQgaW4gZGVmYXVsdFRpbWJyZS5cbiAgICAgICAgc3RhdGljIG1ha2VUaW1icmUob3B0aW9ucywgYXRvcCkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBBYmJyZXZpYXRpb246IG5hbWUgYSB3YXZlIHRvIGdldCBhIGRlZmF1bHQgdGltYnJlIGZvciB0aGF0IHdhdmUuXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2F2ZTogb3B0aW9ucyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9LFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB3dCA9IGF0b3AgJiYgYXRvcC53YXZldGFibGUgJiYgYXRvcC53YXZldGFibGVbb3B0aW9ucy53YXZlXTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIFV0aWxzLmRlZmF1bHRUaW1icmUpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod3QgJiYgd3QuZGVmcyAmJiB3dC5kZWZzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB3dC5kZWZzW2tleV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBVdGlscy5kZWZhdWx0VGltYnJlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRpYyB3aGl0ZU5vaXNlQnVmID0gbnVsbDsgLy8gY2FjaGVcbiAgICAgICAgc3RhdGljIGdldFdoaXRlTm9pc2VCdWYoKSB7XG4gICAgICAgICAgICBpZiAod2hpdGVOb2lzZUJ1ZiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjID0gVXRpbHMuZ2V0QXVkaW9Ub3AoKS5hYyxcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyU2l6ZSA9IDIgKiBhYy5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgICAgICAgICB3aGl0ZU5vaXNlQnVmID0gYWMuY3JlYXRlQnVmZmVyKDEsIGJ1ZmZlclNpemUsIGFjLnNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB3aGl0ZU5vaXNlQnVmLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtpXSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2hpdGVOb2lzZUJ1ZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBjcmVhdGVzIGFuIG9zY2lsbGF0b3IgYXQgdGhlIGdpdmVuIGZyZXF1ZW5jeVxuICAgICAgICAvLyBhbmQgdGhlIGdpdmVuIHdhdmVuYW1lLiAgSXQgc3VwcG9ydHMgbG9va3VwcyBpbiBhIHN0YXRpYyB3YXZldGFibGUsXG4gICAgICAgIC8vIGRlZmluZWQgcmlnaHQgYmVsb3cuXG4gICAgICAgIHN0YXRpYyBtYWtlT3NjaWxsYXRvcihhdG9wLCB3YXZlbmFtZSwgZnJlcSkge1xuICAgICAgICAgICAgaWYgKHdhdmVuYW1lID09IFwibm9pc2VcIikge1xuICAgICAgICAgICAgICAgIHZhciB3aGl0ZU5vaXNlID0gYXRvcC5hYy5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB3aGl0ZU5vaXNlLmJ1ZmZlciA9IFV0aWxzLmdldFdoaXRlTm9pc2VCdWYoKTtcbiAgICAgICAgICAgICAgICB3aGl0ZU5vaXNlLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB3aGl0ZU5vaXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdhdmV0YWJsZSA9IGF0b3Aud2F2ZXRhYmxlLFxuICAgICAgICAgICAgICAgIG8gPSBhdG9wLmFjLmNyZWF0ZU9zY2lsbGF0b3IoKSxcbiAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgIHB3YXZlLFxuICAgICAgICAgICAgICAgIGJ3ZixcbiAgICAgICAgICAgICAgICB3ZjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhdmV0YWJsZS5oYXNPd25Qcm9wZXJ0eSh3YXZlbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGEgY3VzdG9taXplZCB3YXZldGFibGUuXG4gICAgICAgICAgICAgICAgICAgIHB3YXZlID0gd2F2ZXRhYmxlW3dhdmVuYW1lXS53YXZlO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2F2ZXRhYmxlW3dhdmVuYW1lXS5mcmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBid2YgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYSBoaWdoZXItZnJlcXVlbmN5IHZhcmlhbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgaW4gd2F2ZXRhYmxlW3dhdmVuYW1lXS5mcmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2YgPSBOdW1iZXIoayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXEgPiB3ZiAmJiB3ZiA+IGJ3Zikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBid2YgPSB3ZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhdmUgPSB3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXFbYndmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvLnNldFBlcmlvZGljV2F2ZSAmJiBvLnNldFdhdmVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBBUEkgbmFtZTogU2FmYXJpIDcgc3RpbGwgdXNlcyB0aGlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgby5zZXRXYXZlVGFibGUocHdhdmUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5ldyBBUEkgbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG8uc2V0UGVyaW9kaWNXYXZlKHB3YXZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG8udHlwZSA9IHdhdmVuYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB1bnJlY29nbml6ZWQsIGp1c3QgdXNlIHNxdWFyZS5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IFwibm9pc2VcIiBvciBvdGhlciB3YXZlIHNoYXBlcy5cbiAgICAgICAgICAgICAgICBvLnR5cGUgPSBcInNxdWFyZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gU09NRSBCVUcuXG4gICAgICAgICAgICBvLmZyZXF1ZW5jeS5zZXRUYXJnZXRBdFRpbWUoZnJlcSwgYXRvcC5hYy5jdXJyZW50VGltZSwgMC4wMDEpOyAvLyBST05ZRUggQURERURcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRU5EIFVUSUxTXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBQYXJzZXMgYW4gQUJDIGZpbGUgdG8gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gICAgLy8ge1xuICAgIC8vICAgWDogdmFsdWUgZnJvbSB0aGUgWDogbGluZXMgaW4gaGVhZGVyIChcXG4gc2VwYXJhdGVkIGZvciBtdWx0aXBsZSB2YWx1ZXMpXG4gICAgLy8gICBWOiB2YWx1ZSBmcm9tIHRoZSBWOm15bmFtZSBsaW5lcyB0aGF0IGFwcGVhciBiZWZvcmUgSzpcbiAgICAvLyAgIChldGMpOiBmb3IgYWxsIHRoZSBvbmUtbGV0dGVyIGhlYWRlci1uYW1lcy5cbiAgICAvLyAgIEs6IHZhbHVlIGZyb20gdGhlIEs6IGxpbmVzIGluIGhlYWRlci5cbiAgICAvLyAgIHRlbXBvOiBROiBsaW5lIHBhcnNlZCBhcyBiZWF0c2Vjc1xuICAgIC8vICAgdGltYnJlOiAuLi4gSTp0aW1icmUgbGluZSBhcyBwYXJzZWQgYnkgbWFrZVRpbWJyZVxuICAgIC8vICAgdm9pY2U6IHtcbiAgICAvLyAgICAgbXluYW1lOiB7IC8vIHZvaWNlIHdpdGggaWQgXCJteW5hbWVcIlxuICAgIC8vICAgICAgIFY6IHZhbHVlIGZyb20gdGhlIFY6bXluYW1lIGxpbmVzIChmcm9tIHRoZSBib2R5KVxuICAgIC8vICAgICAgIHN0ZW1zOiBbLi4uXSBhcyBwYXJzZWQgYnkgcGFyc2VBQkNzdGVtc1xuICAgIC8vICAgIH1cbiAgICAvLyAgfVxuICAgIC8vIH1cbiAgICAvLyBBQkMgZmlsZXMgYXJlIGlkaW9zeW5jcmF0aWMgdG8gcGFyc2U6IHRoZSB3cml0dGVuIHNwZWNpZmljYXRpb25zXG4gICAgLy8gZG8gbm90IG5lY2Vzc2FyaWx5IHJlZmxlY3QgdGhlIGRlZmFjdG8gc3RhbmRhcmQgaW1wbGVtZW50ZWQgYnlcbiAgICAvLyBBQkMgY29udGVudCBvbiB0aGUgd2ViLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBkZXNpZ25lZCB0byBiZVxuICAgIC8vIHByYWN0aWNhbCwgd29ya2luZyBvbiBjb250ZW50IGFzIGl0IGFwcGVhcnMgb24gdGhlIHdlYiwgYW5kIG9ubHlcbiAgICAvLyB1c2luZyB0aGUgd3JpdHRlbiBzdGFuZGFyZCBhcyBhIGd1aWRlbGluZS5cblxuICAgIHZhciBBQkNoZWFkZXIgPSAvXihbQS1aYS16XSk6XFxzKiguKikkLztcbiAgICB2YXIgQUJDdG9rZW4gPSAvKD86XFxbW0EtWmEtel06W15cXF1dKlxcXSl8XFxzK3wlW15cXG5dKnwhW15cXHMhOnxcXFtcXF1dKiF8XFwrW14rfCFdKlxcK3xbXzw+QF5dP1wiW15cIl0qXCJ8XFxbfFxcXXw+K3w8K3woPzooPzpcXF4rfF8rfD18KVtBLUdhLWddKD86LCt8Jyt8KSl8XFwoXFxkKyg/OjpcXGQrKXswLDJ9fFxcZCpcXC9cXGQrfFxcZCtcXC8/fFxcLyt8W3h6WFpdfFxcWz9cXHxcXF0/fDo/XFx8Oj98Ojp8Li9nO1xuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQUJDRmlsZShzdHIpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgcmVzdWx0OiBhbnkgPSB7fSxcbiAgICAgICAgICAgIGNvbnRleHQgPSByZXN1bHQsXG4gICAgICAgICAgICB0aW1icmUsXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIGhlYWRlcixcbiAgICAgICAgICAgIHN0ZW1zLFxuICAgICAgICAgICAga2V5ID0ge30sXG4gICAgICAgICAgICBhY2NlbnQgPSB7IHNsdXJyZWQ6IDAgfSxcbiAgICAgICAgICAgIHZvaWNlaWQsXG4gICAgICAgICAgICBvdXQ7XG4gICAgICAgIC8vIEFCQyBmaWxlcyBhcmUgcGFyc2VkIG9uZSBsaW5lIGF0IGEgdGltZS5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAvLyBGaXJzdCwgY2hlY2sgdG8gc2VlIGlmIHRoZSBsaW5lIGlzIGEgaGVhZGVyIGxpbmUuXG4gICAgICAgICAgICBoZWFkZXIgPSBBQkNoZWFkZXIuZXhlYyhsaW5lc1tqXSk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5mb3JtYXRpb24oaGVhZGVyWzFdLCBoZWFkZXJbMl0udHJpbSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL15cXHMqKD86JS4qKT8kLy50ZXN0KGxpbmVzW2pdKSkge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgYmxhbmsgYW5kIGNvbW1lbnQgbGluZXMuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBub3Rlcy5cbiAgICAgICAgICAgICAgICBwYXJzZUFCQ05vdGVzKGxpbmVzW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5mZXIgPSBbXCJ1bml0bm90ZVwiLCBcInVuaXRiZWF0XCIsIFwidGVtcG9cIl07XG4gICAgICAgIGlmIChyZXN1bHQuaGFzT3duUHJvcGVydHkoXCJ2b2ljZVwiKSAmJiByZXN1bHQudm9pY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG91dCA9IFtdO1xuICAgICAgICAgICAgZm9yIChqIGluIHJlc3VsdC52b2ljZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudm9pY2Vbal0uc3RlbXMgJiYgcmVzdWx0LnZvaWNlW2pdLnN0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGltZXMgZm9yIGFsbCB0aGUgdGllZCBub3Rlcy4gIFRoaXMgaGFwcGVucyBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgaW4gcHJpbmNpcGxlLCB0aGUgZmlyc3Qgbm90ZSBvZiBhIHNvbmcgY291bGQgYmUgdGllZCBhbGxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHdheSB0aHJvdWdoIHRvIHRoZSBsYXN0IG5vdGUuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUaWVzKHJlc3VsdC52b2ljZVtqXS5zdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJyaW5nIHVwIGluZmVycmVkIHRlbXBvIHZhbHVlcyBmcm9tIHZvaWNlcyBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoZSBoZWFkZXIuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBpbmZlci5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaW5mZXJba10gaW4gcmVzdWx0KSAmJiBpbmZlcltrXSBpbiByZXN1bHQudm9pY2Vbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaW5mZXJba11dID0gcmVzdWx0LnZvaWNlW2pdW2luZmVyW2tdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBpbnRlcm5hbCBzdGF0ZSB2YXJpYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC52b2ljZVtqXS5hY2NlbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVsZXRlIGFueSB2b2ljZXMgdGhhdCBoYWQgbm8gc3RlbXMuXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgb3V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC52b2ljZVtvdXRbal1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFBhcnNpbmcgaGVscGVyIGZ1bmN0aW9ucyBiZWxvdy5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLy8gUHJvY2Vzc2VzIGhlYWRlciBmaWVsZHMgc3VjaCBhcyBWOiB2b2ljZSwgd2hpY2ggbWF5IGFwcGVhciBhdCB0aGVcbiAgICAgICAgLy8gdG9wIG9mIHRoZSBBQkMgZmlsZSwgb3IgaW4gdGhlIEFCQyBib2R5IGluIGEgW1Y6dm9pY2VdIGRpcmVjdGl2ZS5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlSW5mb3JtYXRpb24oZmllbGQsIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGhlYWRlcnMgYXJlIHJlY29nbml6ZWQgYW5kIHByb2Nlc3NlZC5cbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBBIFY6IGhlYWRlciBzd2l0Y2hlcyB2b2ljZXMgaWYgaW4gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGluIHRoZSBoZWFkZXIsIHRoZW4gaXQgaXMganVzdCBhZHZpc29yeS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRWb2ljZUNvbnRleHQodmFsdWUuc3BsaXQoXCIgXCIpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZU1ldGVyKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VVbml0Tm90ZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlVGVtcG8odmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFsbCBoZWFkZXJzIChpbmNsdWRpbmcgdW5yZWNvZ25pemVkIG9uZXMpIGFyZVxuICAgICAgICAgICAgLy8ganVzdCBhY2N1bXVsYXRlZCBhcyBwcm9wZXJ0aWVzLiBSZXBlYXRlZCBoZWFkZXJcbiAgICAgICAgICAgIC8vIGxpbmVzIGFyZSBhY2N1bXVsYXRlZCBhcyBtdWx0aWxpbmUgcHJvcGVydGllcy5cbiAgICAgICAgICAgIGlmIChjb250ZXh0Lmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRbZmllbGRdICs9IFwiXFxuXCIgKyB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBLIGhlYWRlciBpcyBzcGVjaWFsOiBpdCBzaG91bGQgYmUgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAvLyBiZWZvcmUgdGhlIHZvaWNlcyBhbmQgbm90ZXMgYmVnaW4uXG4gICAgICAgICAgICBpZiAoZmllbGQgPT0gXCJLXCIpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBrZXlzaWcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRWb2ljZUNvbnRleHQoZmlyc3RWb2ljZU5hbWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hpZnRzIGNvbnRleHQgdG8gYSB2b2ljZSB3aXRoIHRoZSBnaXZlbiBpZCBnaXZlbi4gIElmIG5vIGlkXG4gICAgICAgIC8vIGdpdmVuLCB0aGVuIGp1c3Qgc3RpY2tzIHdpdGggdGhlIGN1cnJlbnQgdm9pY2UuICBJZiB0aGUgY3VycmVudFxuICAgICAgICAvLyB2b2ljZSBpcyB1bm5hbWVkIGFuZCBlbXB0eSwgcmVuYW1lcyB0aGUgY3VycmVudCB2b2ljZS5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRWb2ljZUNvbnRleHQoaWQpIHtcbiAgICAgICAgICAgIGlkID0gaWQgfHwgXCJcIjtcbiAgICAgICAgICAgIGlmICghaWQgJiYgY29udGV4dCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXN1bHQudm9pY2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudm9pY2UgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQudm9pY2UuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzdW1lIGEgbmFtZWQgdm9pY2UuXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IHJlc3VsdC52b2ljZVtpZF07XG4gICAgICAgICAgICAgICAgYWNjZW50ID0gY29udGV4dC5hY2NlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IHZvaWNlLlxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB7IGlkOiBpZCwgYWNjZW50OiB7IHNsdXJyZWQ6IDAgfSB9O1xuICAgICAgICAgICAgICAgIHJlc3VsdC52b2ljZVtpZF0gPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgIGFjY2VudCA9IGNvbnRleHQuYWNjZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIHBpY2tpbmcgYSBkZWZhdWx0IHZvaWNlLCBsb29rcyBmb3IgdGhlIGZpcnN0IHZvaWNlIG5hbWUuXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0Vm9pY2VOYW1lKCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5WKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5WLnNwbGl0KC9cXHMrLylbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2VzIGEgc2luZ2xlIGxpbmUgb2YgQUJDIG5vdGVzIChpLmUuLCBub3QgYSBoZWFkZXIgbGluZSkuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIHByb2Nlc3MgYW4gQUJDIHNvbmcgc3RyZWFtIGJ5IGRpdmlkaW5nIGl0IGludG8gdG9rZW5zLCBlYWNoIG9mXG4gICAgICAgIC8vIHdoaWNoIGlzIGEgcGl0Y2gsIGR1cmF0aW9uLCBvciBzcGVjaWFsIGRlY29yYXRpb24gc3ltYm9sOyB0aGVuXG4gICAgICAgIC8vIHdlIHByb2Nlc3MgZWFjaCBkZWNvcmF0aW9uIGluZGl2aWR1YWxseSwgYW5kIHdlIHByb2Nlc3MgZWFjaFxuICAgICAgICAvLyBzdGVtIGFzIGEgZ3JvdXAgdXNpbmcgcGFyc2VTdGVtLlxuICAgICAgICAvLyBUaGUgc3RydWN0dXJlIG9mIGEgc2luZ2xlIEFCQyBub3RlIGlzIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIE5PVEUgLT4gU1RBQ0NBVE8/IFBJVENIIERVUkFUSU9OPyBUSUU/XG4gICAgICAgIC8vXG4gICAgICAgIC8vIEkuZS4sIGl0IGFsd2F5cyBoYXMgYSBwaXRjaCwgYW5kIGl0IGlzIHByZWZpeGVkIGJ5IHNvbWUgb3B0aW9uYWxcbiAgICAgICAgLy8gZGVjb3JhdGlvbnMgc3VjaCBhcyBhICguKSBzdGFjY2F0byBtYXJraW5nLCBhbmQgaXQgaXMgc3VmZml4ZWQgYnlcbiAgICAgICAgLy8gYW4gb3B0aW9uYWwgZHVyYXRpb24gYW5kIGFuIG9wdGlvbmFsIHRpZSAoLSkgbWFya2luZy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQSBzdGVtIGlzIGVpdGhlciBhIG5vdGUgb3IgYSBicmFja2V0ZWQgc2VyaWVzIG9mIG5vdGVzLCBmb2xsb3dlZFxuICAgICAgICAvLyBieSBkdXJhdGlvbiBhbmQgdGllLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTVEVNIC0+IE5PVEUgICBPUiAgICAnWycgTk9URSAqICddJyBEVVJBSVRPTj8gVElFP1xuICAgICAgICAvL1xuICAgICAgICAvLyBUaGVuIGEgc29uZyBpcyBqdXN0IGEgc2VxdWVuY2Ugb2Ygc3RlbXMgaW50ZXJsZWF2ZWQgd2l0aCBvdGhlclxuICAgICAgICAvLyBkZWNvcmF0aW9ucyBzdWNoIGFzIGR5bmFtaWNzIG1hcmtpbmdzIGFuZCBtZWFzdXJlIGRlbGltaXRlcnMuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlQUJDTm90ZXMoc3RyKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gc3RyLm1hdGNoKEFCQ3Rva2VuKSxcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgICBkb3R0ZWQgPSAwLFxuICAgICAgICAgICAgICAgIGJlYXRsZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHQ7XG4gICAgICAgICAgICBpZiAoIXRva2Vucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yZSAlY29tbWVudHMgYW5kICFtYXJraW5ncyFcbiAgICAgICAgICAgICAgICBpZiAoL15bXFxzJV0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbmxpbmUgW1g6Li4uXSBpbmZvcm1hdGlvbiBmaWVsZHNcbiAgICAgICAgICAgICAgICBpZiAoL15cXFtbQS1aYS16XTpbXlxcXV0qXFxdJC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVJbmZvcm1hdGlvbih0b2tlbnNbaW5kZXhdLnN1YnN0cmluZygxLCAyKSwgdG9rZW5zW2luZGV4XS5zdWJzdHJpbmcoMywgdG9rZW5zW2luZGV4XS5sZW5ndGggLSAxKS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlZCBkb3R0ZWQgbm90YXRpb24gYWJicmV2aWF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoLzwvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG90dGVkID0gLXRva2Vuc1tpbmRleCsrXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoLz4vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG90dGVkID0gdG9rZW5zW2luZGV4KytdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvXlxcKFxcZCsoPzo6XFxkKykqLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlYXRsZXQgPSBwYXJzZUJlYXRsZXQodG9rZW5zW2luZGV4KytdKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvXlshK10uKlshK10kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRGVjb3JhdGlvbih0b2tlbnNbaW5kZXgrK10sIGFjY2VudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL14uP1wiLipcIiQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGRvdWJsZS1xdW90ZWQgdG9rZW5zIChjaG9yZHMgYW5kIGdlbmVyYWwgdGV4dCBhbm5vdGF0aW9ucykuXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL15bKCldJC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW2luZGV4KytdID09IFwiKFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlbnQuc2x1cnJlZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZW50LnNsdXJyZWQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2NlbnQuc2x1cnJlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZW50LnNsdXJyZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnN0ZW1zICYmIGNvbnRleHQuc3RlbXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxhc3Qgbm90ZXMgaW4gYSBzbHVyIGFyZSBub3Qgc2x1cnJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2x1clN0ZW0oY29udGV4dC5zdGVtc1tjb250ZXh0LnN0ZW1zLmxlbmd0aCAtIDFdLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbWVhc3VyZSBtYXJraW5ncyBieSBjbGVhcmluZyBhY2NpZGVudGFscy5cbiAgICAgICAgICAgICAgICBpZiAoL1xcfC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHQgaW4gYWNjZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmdsZS1sZXR0ZXIgYWNjZW50IHByb3BlcnRpZXMgYXJlIG5vdGUgYWNjaWRlbnRhbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjY2VudFt0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gcGFyc2VTdGVtKHRva2VucywgaW5kZXgsIGtleSwgYWNjZW50KTtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHVucGFyc2FibGUgYml0c1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgYSBwYXJzZWQgc3RlbS5cbiAgICAgICAgICAgICAgICBpZiAoYmVhdGxldCkge1xuICAgICAgICAgICAgICAgICAgICBzY2FsZVN0ZW0ocGFyc2VkLnN0ZW0sIGJlYXRsZXQudGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGJlYXRsZXQuY291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiZWF0bGV0LmNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZWF0bGV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBzeW5jb3BhdGVkIHdpdGggPiBvciA8IG5vdGF0aW9uLCBzaGlmdCBwYXJ0IG9mIGEgYmVhdFxuICAgICAgICAgICAgICAgIC8vIGJldHdlZW4gdGhpcyBzdGVtIGFuZCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgICAgICAgIGlmIChkb3R0ZWQgJiYgY29udGV4dC5zdGVtcyAmJiBjb250ZXh0LnN0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG90dGVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9ICgxIC0gTWF0aC5wb3coMC41LCBkb3R0ZWQpKSAqIHBhcnNlZC5zdGVtLnRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gKE1hdGgucG93KDAuNSwgLWRvdHRlZCkgLSAxKSAqIGNvbnRleHQuc3RlbXNbY29udGV4dC5zdGVtcy5sZW5ndGggLSAxXS50aW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN5bmNvcGF0ZVN0ZW0oY29udGV4dC5zdGVtc1tjb250ZXh0LnN0ZW1zLmxlbmd0aCAtIDFdLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgc3luY29wYXRlU3RlbShwYXJzZWQuc3RlbSwgLXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb3R0ZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFNsdXIgYWxsIHRoZSBub3RlcyBjb250YWluZWQgd2l0aGluIGEgc3RyZW0uXG4gICAgICAgICAgICAgICAgaWYgKGFjY2VudC5zbHVycmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsdXJTdGVtKHBhcnNlZC5zdGVtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgYSBkZWZhdWx0IHZvaWNlIGlmIHdlJ3JlIG5vdCBpbiBhIHZvaWNlIHlldC5cbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCA9PT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Vm9pY2VDb250ZXh0KGZpcnN0Vm9pY2VOYW1lKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShcInN0ZW1zXCIgaW4gY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHN0ZW0gdG8gdGhlIHNlcXVlbmNlIG9mIHN0ZW1zIGZvciB0aGlzIHZvaWNlLlxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3RlbXMucHVzaChwYXJzZWQuc3RlbSk7XG4gICAgICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgcGFyc2luZyBpbmRleCBzaW5jZSBhIHN0ZW0gaXMgbXVsdGlwbGUgdG9rZW5zLlxuICAgICAgICAgICAgICAgIGluZGV4ID0gcGFyc2VkLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2UgTTogbGluZXMuICBcIjMvNFwiIGlzIDMvNCB0aW1lIGFuZCBcIkNcIiBpcyA0LzQgKGNvbW1vbikgdGltZS5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VNZXRlcihtbGluZSwgYmVhdGluZm8pIHtcbiAgICAgICAgICAgIHZhciBkID0gL15DLy50ZXN0KG1saW5lKSA/IDQgLyA0IDogZHVyYXRpb25Ub1RpbWUobWxpbmUpO1xuICAgICAgICAgICAgaWYgKCFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFiZWF0aW5mby51bml0bm90ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkIDwgMC43NSkge1xuICAgICAgICAgICAgICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IDEgLyAxNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IDEgLyA4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQYXJzZSBMOiBsaW5lcywgZS5nLiwgXCIxLzhcIi5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VVbml0Tm90ZShsbGluZSwgYmVhdGluZm8pIHtcbiAgICAgICAgICAgIHZhciBkID0gZHVyYXRpb25Ub1RpbWUobGxpbmUpO1xuICAgICAgICAgICAgaWYgKCFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmVhdGluZm8udW5pdG5vdGUgPSBkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIFE6IGxpbmUsIGUuZy4sIFwiMS80PTY2XCIuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlVGVtcG8ocWxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBxbGluZS5zcGxpdCgvXFxzK3w9LyksXG4gICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICB1bml0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0ZW1wbyA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBjb3VsZCBiZSByZXZlcnNlZCwgbGlrZSBcIjY2PTEvNFwiLCBvciBqdXN0IFwiMTIwXCIsIHNvXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHdoYXQgaXMgZ29pbmcgb24gYnkgbG9va2luZyBmb3IgYSBzbGFzaCBldGMuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2pdLmluZGV4T2YoXCIvXCIpID49IDAgfHwgL15bMS00XSQvLnRlc3QocGFydHNbal0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBub3RlLXVuaXQgKGUuZy4sIDEvNCkuXG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSB1bml0IHx8IGR1cmF0aW9uVG9UaW1lKHBhcnRzW2pdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdGVtcG8tbnVtYmVyIChlLmcuLCAxMjApXG4gICAgICAgICAgICAgICAgICAgIHRlbXBvID0gdGVtcG8gfHwgTnVtYmVyKHBhcnRzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5pdCkge1xuICAgICAgICAgICAgICAgIGJlYXRpbmZvLnVuaXRiZWF0ID0gdW5pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZW1wbykge1xuICAgICAgICAgICAgICAgIGJlYXRpbmZvLnRlbXBvID0gdGVtcG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIHRocm91Z2ggYWxsIHRoZSBub3RlcywgYWRkaW5nIHVwIHRpbWUgZm9yIHRpZWQgbm90ZXMsXG4gICAgICAgIC8vIGFuZCBtYXJraW5nIG5vdGVzIHRoYXQgd2VyZSBoZWxkIG92ZXIgd2l0aCBob2xkb3ZlciA9IHRydWUuXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NUaWVzKHN0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgdGllZCA9IHt9LFxuICAgICAgICAgICAgICAgIG5leHRUaWVkLFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgayxcbiAgICAgICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgICAgIGZpcnN0Tm90ZTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBzdGVtcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIG5leHRUaWVkID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHN0ZW1zW2pdLm5vdGVzLmxlbmd0aDsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Tm90ZSA9IG5vdGUgPSBzdGVtc1tqXS5ub3Rlc1trXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpZWQuaGFzT3duUHJvcGVydHkobm90ZS5waXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBpdGNoIHdhcyB0aWVkIGZyb20gYmVmb3JlLlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROb3RlID0gdGllZFtub3RlLnBpdGNoXTsgLy8gR2V0IHRoZSBlYXJsaWVzdCBub3RlIGluIHRoZSB0aWUuXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5vdGUudGltZSArPSBub3RlLnRpbWU7IC8vIEV4dGVuZCBpdHMgdGltZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUuaG9sZG92ZXIgPSB0cnVlOyAvLyBTaWxlbmNlIHRoaXMgbm90ZSBhcyBhIGhvbGRvdmVyLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RlLnRpZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBub3RlIGlzIHRpZWQgd2l0aCB0aGUgbmV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUaWVkW25vdGUucGl0Y2hdID0gZmlyc3ROb3RlOyAvLyBTYXZlIGl0IGF3YXkuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGllZCA9IG5leHRUaWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybnMgYSBtYXAgb2YgQS1HIC0+IGFjY2lkZW50YWxzLCBhY2NvcmRpbmcgdG8gdGhlIGtleSBzaWduYXR1cmUuXG4gICAgICAgIC8vIFdoZW4gbiBpcyB6ZXJvLCB0aGVyZSBhcmUgbm8gYWNjaWRlbnRhbHMgKGUuZy4sIEMgbWFqb3Igb3IgQSBtaW5vcikuXG4gICAgICAgIC8vIFdoZW4gbiBpcyBwb3NpdGl2ZSwgdGhlcmUgYXJlIG4gc2hhcnBzIChlLmcuLCBmb3IgRyBtYWpvciwgbiA9IDEpLlxuICAgICAgICAvLyBXaGVuIG4gaXMgbmVnYXRpdmUsIHRoZXJlIGFyZSAtbiBmbGF0cyAoZS5nLiwgZm9yIEYgbWFqb3IsIG4gPSAtMSkuXG4gICAgICAgIGZ1bmN0aW9uIGFjY2lkZW50YWxzKG4pIHtcbiAgICAgICAgICAgIHZhciBzaGFycHMgPSBcIkZDR0RBRUJcIixcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgICAgICBqO1xuICAgICAgICAgICAgaWYgKCFuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzaGFycHMuXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG4gJiYgaiA8IDc7ICsraikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbc2hhcnBzLmNoYXJBdChqKV0gPSBcIl5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZsYXRzIGFyZSBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA+IG4gJiYgaiA+IC03OyAtLWopIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3NoYXJwcy5jaGFyQXQoNiArIGopXSA9IFwiX1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVjb2RlcyB0aGUga2V5IHNpZ25hdHVyZSBsaW5lIChlLmcuLCBLOiBDI20pIGF0IHRoZSBmcm9udCBvZiBhbiBBQkMgdHVuZS5cbiAgICAgICAgLy8gU3VwcG9ydHMgdGhlIHdob2xlIHJhbmdlIG9mIHNjYWxlIHN5c3RlbXMgbGlzdGVkIGluIHRoZSBBQkMgc3BlYy5cbiAgICAgICAgZnVuY3Rpb24ga2V5c2lnKGtleW5hbWUpIHtcbiAgICAgICAgICAgIGlmICgha2V5bmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBra2V5LFxuICAgICAgICAgICAgICAgIHNpZ2NvZGVzID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyBNYWpvclxuICAgICAgICAgICAgICAgICAgICBcImMjXCI6IDcsXG4gICAgICAgICAgICAgICAgICAgIFwiZiNcIjogNixcbiAgICAgICAgICAgICAgICAgICAgYjogNSxcbiAgICAgICAgICAgICAgICAgICAgZTogNCxcbiAgICAgICAgICAgICAgICAgICAgYTogMyxcbiAgICAgICAgICAgICAgICAgICAgZDogMixcbiAgICAgICAgICAgICAgICAgICAgZzogMSxcbiAgICAgICAgICAgICAgICAgICAgYzogMCxcbiAgICAgICAgICAgICAgICAgICAgZjogLTEsXG4gICAgICAgICAgICAgICAgICAgIGJiOiAtMixcbiAgICAgICAgICAgICAgICAgICAgZWI6IC0zLFxuICAgICAgICAgICAgICAgICAgICBhYjogLTQsXG4gICAgICAgICAgICAgICAgICAgIGRiOiAtNSxcbiAgICAgICAgICAgICAgICAgICAgZ2I6IC02LFxuICAgICAgICAgICAgICAgICAgICBjYjogLTcsXG4gICAgICAgICAgICAgICAgICAgIC8vIE1pbm9yXG4gICAgICAgICAgICAgICAgICAgIFwiYSNtXCI6IDcsXG4gICAgICAgICAgICAgICAgICAgIFwiZCNtXCI6IDYsXG4gICAgICAgICAgICAgICAgICAgIFwiZyNtXCI6IDUsXG4gICAgICAgICAgICAgICAgICAgIFwiYyNtXCI6IDQsXG4gICAgICAgICAgICAgICAgICAgIFwiZiNtXCI6IDMsXG4gICAgICAgICAgICAgICAgICAgIGJtOiAyLFxuICAgICAgICAgICAgICAgICAgICBlbTogMSxcbiAgICAgICAgICAgICAgICAgICAgYW06IDAsXG4gICAgICAgICAgICAgICAgICAgIGRtOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZ206IC0yLFxuICAgICAgICAgICAgICAgICAgICBjbTogLTMsXG4gICAgICAgICAgICAgICAgICAgIGZtOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgYmJtOiAtNSxcbiAgICAgICAgICAgICAgICAgICAgZWJtOiAtNixcbiAgICAgICAgICAgICAgICAgICAgYWJtOiAtNyxcbiAgICAgICAgICAgICAgICAgICAgLy8gTWl4b2x5ZGlhblxuICAgICAgICAgICAgICAgICAgICBcImcjbWl4XCI6IDcsXG4gICAgICAgICAgICAgICAgICAgIFwiYyNtaXhcIjogNixcbiAgICAgICAgICAgICAgICAgICAgXCJmI21peFwiOiA1LFxuICAgICAgICAgICAgICAgICAgICBibWl4OiA0LFxuICAgICAgICAgICAgICAgICAgICBlbWl4OiAzLFxuICAgICAgICAgICAgICAgICAgICBhbWl4OiAyLFxuICAgICAgICAgICAgICAgICAgICBkbWl4OiAxLFxuICAgICAgICAgICAgICAgICAgICBnbWl4OiAwLFxuICAgICAgICAgICAgICAgICAgICBjbWl4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZm1peDogLTIsXG4gICAgICAgICAgICAgICAgICAgIGJibWl4OiAtMyxcbiAgICAgICAgICAgICAgICAgICAgZWJtaXg6IC00LFxuICAgICAgICAgICAgICAgICAgICBhYm1peDogLTUsXG4gICAgICAgICAgICAgICAgICAgIGRibWl4OiAtNixcbiAgICAgICAgICAgICAgICAgICAgZ2JtaXg6IC03LFxuICAgICAgICAgICAgICAgICAgICAvLyBEb3JpYW5cbiAgICAgICAgICAgICAgICAgICAgXCJkI2RvclwiOiA3LFxuICAgICAgICAgICAgICAgICAgICBcImcjZG9yXCI6IDYsXG4gICAgICAgICAgICAgICAgICAgIFwiYyNkb3JcIjogNSxcbiAgICAgICAgICAgICAgICAgICAgXCJmI2RvclwiOiA0LFxuICAgICAgICAgICAgICAgICAgICBiZG9yOiAzLFxuICAgICAgICAgICAgICAgICAgICBlZG9yOiAyLFxuICAgICAgICAgICAgICAgICAgICBhZG9yOiAxLFxuICAgICAgICAgICAgICAgICAgICBkZG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICBnZG9yOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgY2RvcjogLTIsXG4gICAgICAgICAgICAgICAgICAgIGZkb3I6IC0zLFxuICAgICAgICAgICAgICAgICAgICBiYmRvcjogLTQsXG4gICAgICAgICAgICAgICAgICAgIGViZG9yOiAtNSxcbiAgICAgICAgICAgICAgICAgICAgYWJkb3I6IC02LFxuICAgICAgICAgICAgICAgICAgICBkYmRvcjogLTcsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBocnlnaWFuXG4gICAgICAgICAgICAgICAgICAgIFwiZSNwaHJcIjogNyxcbiAgICAgICAgICAgICAgICAgICAgXCJhI3BoclwiOiA2LFxuICAgICAgICAgICAgICAgICAgICBcImQjcGhyXCI6IDUsXG4gICAgICAgICAgICAgICAgICAgIFwiZyNwaHJcIjogNCxcbiAgICAgICAgICAgICAgICAgICAgXCJjI3BoclwiOiAzLFxuICAgICAgICAgICAgICAgICAgICBcImYjcGhyXCI6IDIsXG4gICAgICAgICAgICAgICAgICAgIGJwaHI6IDEsXG4gICAgICAgICAgICAgICAgICAgIGVwaHI6IDAsXG4gICAgICAgICAgICAgICAgICAgIGFwaHI6IC0xLFxuICAgICAgICAgICAgICAgICAgICBkcGhyOiAtMixcbiAgICAgICAgICAgICAgICAgICAgZ3BocjogLTMsXG4gICAgICAgICAgICAgICAgICAgIGNwaHI6IC00LFxuICAgICAgICAgICAgICAgICAgICBmcGhyOiAtNSxcbiAgICAgICAgICAgICAgICAgICAgYmJwaHI6IC02LFxuICAgICAgICAgICAgICAgICAgICBlYnBocjogLTcsXG4gICAgICAgICAgICAgICAgICAgIC8vIEx5ZGlhblxuICAgICAgICAgICAgICAgICAgICBcImYjbHlkXCI6IDcsXG4gICAgICAgICAgICAgICAgICAgIGJseWQ6IDYsXG4gICAgICAgICAgICAgICAgICAgIGVseWQ6IDUsXG4gICAgICAgICAgICAgICAgICAgIGFseWQ6IDQsXG4gICAgICAgICAgICAgICAgICAgIGRseWQ6IDMsXG4gICAgICAgICAgICAgICAgICAgIGdseWQ6IDIsXG4gICAgICAgICAgICAgICAgICAgIGNseWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGZseWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGJibHlkOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZWJseWQ6IC0yLFxuICAgICAgICAgICAgICAgICAgICBhYmx5ZDogLTMsXG4gICAgICAgICAgICAgICAgICAgIGRibHlkOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgZ2JseWQ6IC01LFxuICAgICAgICAgICAgICAgICAgICBjYmx5ZDogLTYsXG4gICAgICAgICAgICAgICAgICAgIGZibHlkOiAtNyxcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9jcmlhblxuICAgICAgICAgICAgICAgICAgICBcImIjbG9jXCI6IDcsXG4gICAgICAgICAgICAgICAgICAgIFwiZSNsb2NcIjogNixcbiAgICAgICAgICAgICAgICAgICAgXCJhI2xvY1wiOiA1LFxuICAgICAgICAgICAgICAgICAgICBcImQjbG9jXCI6IDQsXG4gICAgICAgICAgICAgICAgICAgIFwiZyNsb2NcIjogMyxcbiAgICAgICAgICAgICAgICAgICAgXCJjI2xvY1wiOiAyLFxuICAgICAgICAgICAgICAgICAgICBcImYjbG9jXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgIGJsb2M6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVsb2M6IC0xLFxuICAgICAgICAgICAgICAgICAgICBhbG9jOiAtMixcbiAgICAgICAgICAgICAgICAgICAgZGxvYzogLTMsXG4gICAgICAgICAgICAgICAgICAgIGdsb2M6IC00LFxuICAgICAgICAgICAgICAgICAgICBjbG9jOiAtNSxcbiAgICAgICAgICAgICAgICAgICAgZmxvYzogLTYsXG4gICAgICAgICAgICAgICAgICAgIGJibG9jOiAtNyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGsgPSBrZXluYW1lLnJlcGxhY2UoL1xccysvZywgXCJcIikudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwgNSk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSBrLm1hdGNoKC9tYWp8bWlufG1peHxkb3J8cGhyfGx5ZHxsb2N8bS8pO1xuICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlID09IFwibWFqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjYWxlID09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4ICsgc2NhbGVbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGtrZXkgPSAvXlthLWddWyNiXT8vLmV4ZWMoaykgfHwgXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBhY2NpZGVudGFscyhzaWdjb2Rlc1tra2V5XSk7XG4gICAgICAgICAgICB2YXIgZXh0cmFzID0ga2V5bmFtZS5zdWJzdHIoa2tleS5sZW5ndGgpLm1hdGNoKC8oXyt8PXxcXF4rKVthLWddL2dpKTtcbiAgICAgICAgICAgIGlmIChleHRyYXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGV4dHJhcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90ZSA9IGV4dHJhc1tqXS5jaGFyQXQoZXh0cmFzW2pdLmxlbmd0aCAtIDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYXNbal0uY2hhckF0KDApID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0W25vdGVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25vdGVdID0gZXh0cmFzW2pdLnN1YnN0cigwLCBleHRyYXNbal0ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZGl0aXZlbHkgYWRqdXN0cyB0aGUgYmVhdHMgZm9yIGEgc3RlbSBhbmQgdGhlIGNvbnRhaW5lZCBub3Rlcy5cbiAgICAgICAgZnVuY3Rpb24gc3luY29wYXRlU3RlbShzdGVtLCB0KSB7XG4gICAgICAgICAgICB2YXIgaixcbiAgICAgICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgICAgIHN0ZW10aW1lID0gc3RlbS50aW1lLFxuICAgICAgICAgICAgICAgIG5ld3RpbWUgPSBzdGVtdGltZSArIHQ7XG4gICAgICAgICAgICBzdGVtLnRpbWUgPSBuZXd0aW1lO1xuICAgICAgICAgICAgc3luY29wYXRlU3RlbTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBzdGVtLm5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGp1c3QgYSBub3RlJ3MgZHVyYXRpb24gaWYgaXQgbWF0Y2hlZCB0aGUgc3RlbSdzIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChub3RlLnRpbWUgPT0gc3RlbXRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZS50aW1lID0gbmV3dGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFya3MgZXZlcnl0aGluZyBpbiB0aGUgc3RlbSB3aXRoIHRoZSBzbHVyIGF0dHJpYnV0ZSAob3IgZGVsZXRlcyBpdCkuXG4gICAgICAgIGZ1bmN0aW9uIHNsdXJTdGVtKHN0ZW0sIGFkZFNsdXIpIHtcbiAgICAgICAgICAgIHZhciBqLCBub3RlO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0ZW0ubm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBub3RlID0gc3RlbS5ub3Rlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkU2x1cikge1xuICAgICAgICAgICAgICAgICAgICBub3RlLnNsdXJyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm90ZS5zbHVycmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RlLnNsdXJyZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNjYWxlcyB0aGUgYmVhdHMgZm9yIGEgc3RlbSBhbmQgdGhlIGNvbnRhaW5lZCBub3Rlcy5cbiAgICAgICAgZnVuY3Rpb24gc2NhbGVTdGVtKHN0ZW0sIHMpIHtcbiAgICAgICAgICAgIHZhciBqO1xuICAgICAgICAgICAgc3RlbS50aW1lICo9IHM7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHN0ZW0ubm90ZXNbal0udGltZSAqPSBzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlcyBub3RhdGlvbiBvZiB0aGUgZm9ybSAoMyBvciAoNToyOjEwLCB3aGljaCBtZWFucyB0byBkb1xuICAgICAgICAvLyB0aGUgZm9sbG93aW5nIDMgbm90ZXMgaW4gdGhlIHNwYWNlIG9mIDIgbm90ZXMsIG9yIHRvIGRvIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgLy8gMTAgbm90ZXMgYXQgdGhlIHJhdGUgb2YgNSBub3RlcyBwZXIgMiBiZWF0cy5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VCZWF0bGV0KHRva2VuKSB7XG4gICAgICAgICAgICB2YXIgbSA9IC9eXFwoKFxcZCspKD86OihcXGQrKSg/OjooXFxkKykpPyk/JC8uZXhlYyh0b2tlbik7XG4gICAgICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb3VudCA9IE51bWJlcihtWzFdKSxcbiAgICAgICAgICAgICAgICBiZWF0cyA9IE51bWJlcihtWzJdKSB8fCAyLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gTnVtYmVyKG1bM10pIHx8IGNvdW50O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aW1lOiBiZWF0cyAvIGNvdW50LFxuICAgICAgICAgICAgICAgIGNvdW50OiBkdXJhdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgIXBwcCEgbWFya2luZ3MuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlRGVjb3JhdGlvbih0b2tlbiwgYWNjZW50KSB7XG4gICAgICAgICAgICBpZiAodG9rZW4ubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDEsIHRva2VuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwcHBwXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInBwcFwiOlxuICAgICAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAwLjI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwcFwiOlxuICAgICAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAwLjQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuNjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1wXCI6XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1mXCI6XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS4yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS40O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmZmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZmZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS41O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQYXJzZXMgYSBzdGVtLCB3aGljaCBtYXkgYmUgYSBzaW5nbGUgbm90ZSwgb3Igd2hpY2ggbWF5IGJlXG4gICAgICAgIC8vIGEgY2hvcmRlZCBub3RlLlxuICAgICAgICBmdW5jdGlvbiBwYXJzZVN0ZW0odG9rZW5zLCBpbmRleCwga2V5LCBhY2NlbnQpIHtcbiAgICAgICAgICAgIHZhciBub3RlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gXCJcIixcbiAgICAgICAgICAgICAgICBzdGFjY2F0byA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5vdGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBub3RlVGltZSxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBsYXN0Tm90ZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgbWluU3RlbVRpbWUgPSBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICBqO1xuICAgICAgICAgICAgLy8gQSBzaW5nbGUgc3RhY2NhdG8gbWFya2luZyBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgc3RlbS5cbiAgICAgICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgXCIuXCIgPT0gdG9rZW5zW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIHN0YWNjYXRvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiB0b2tlbnNbaW5kZXhdID09IFwiW1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVhbCB3aXRoIFtDRUddIGNob3JkZWQgbm90YXRpb24uXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAvLyBTY2FuIG5vdGVzIHdpdGhpbiB0aGUgY2hvcmQuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYW5kIHNwYWNlIGFuZCAlY29tbWVudHMuXG4gICAgICAgICAgICAgICAgICAgIGlmICgvXltcXHMlXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgvW0EtR2EtZ10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYWIgYSBwaXRjaC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoOiBhcHBseUFjY2VudCh0b2tlbnNbaW5kZXgrK10sIGtleSwgYWNjZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlLmZyZXF1ZW5jeSA9IFV0aWxzLnBpdGNoVG9GcmVxdWVuY3kobGFzdE5vdGUucGl0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXMucHVzaChsYXN0Tm90ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1t4elhaXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiBhIHJlc3QuXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiLlwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgc3RhY2NhdG8gbWFyayBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgc3RlbS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNjYXRvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgcGFyc2luZyB0aGUgc3RlbSBpZiBzb21ldGhpbmcgaXMgdW5yZWNvZ25pemVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgYSBwaXRjaCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIC9eKD8hW1xccyUhXSkuKltcXGRcXC9dLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlRHVyYXRpb24gPSB0b2tlbnNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlVGltZSA9IGR1cmF0aW9uVG9UaW1lKG5vdGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlRHVyYXRpb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZVRpbWUgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBub3RlIChub3QgYSByZXN0KSwgc3RvcmUgdGhlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Tm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE5vdGUuZHVyYXRpb24gPSBub3RlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZS50aW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhIHN0ZW0gaGFzIG1vcmUgdGhhbiBvbmUgZHVyYXRpb24sIHVzZSB0aGUgc2hvcnRlc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gb25lIGZvciB0aW1pbmcuIFRoZSBzdGFuZGFyZCBzYXlzIHRvIHBpY2sgdGhlIGZpcnN0IG9uZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGluIHByYWN0aWNlLCB0cmFuc2NyaWJlZCBtdXNpYyBvbmxpbmUgc2VlbXMgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9sbG93IHRoZSBydWxlIHRoYXQgdGhlIHN0ZW0ncyBkdXJhdGlvbiBpcyBkZXRlcm1pbmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBzaG9ydGVzdCBjb250YWluZWQgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RlVGltZSAmJiBub3RlVGltZSA8IG1pblN0ZW1UaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG5vdGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblN0ZW1UaW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgYSBkdXJhdGlvbiwgbG9vayBmb3IgYSB0aWUgbWFyay4gIEluZGl2aWR1YWwgbm90ZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aGluIGEgc3RlbSBjYW4gYmUgdGllZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi1cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdE5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Rlc1tub3Rlcy5sZW5ndGggLSAxXS50aWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGUgbGFzdCB0aGluZyBpbiBhIGNob3JkIHNob3VsZCBiZSBhIF0uICBJZiBpdCBpc24ndCwgdGhlblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZG9lc24ndCBsb29rIGxpa2UgYSBzdGVtIGFmdGVyIGFsbCwgYW5kIHJldHVybiBudWxsLlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaW5kZXhdICE9IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL1tBLUdhLWddLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gR3JhYiBhIHNpbmdsZSBub3RlLlxuICAgICAgICAgICAgICAgIGxhc3ROb3RlID0ge1xuICAgICAgICAgICAgICAgICAgICBwaXRjaDogYXBwbHlBY2NlbnQodG9rZW5zW2luZGV4KytdLCBrZXksIGFjY2VudCksXG4gICAgICAgICAgICAgICAgICAgIHRpZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiAxLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGFzdE5vdGUuZnJlcXVlbmN5ID0gVXRpbHMucGl0Y2hUb0ZyZXF1ZW5jeShsYXN0Tm90ZS5waXRjaCk7XG4gICAgICAgICAgICAgICAgbm90ZXMucHVzaChsYXN0Tm90ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvXlt4elhaXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAvLyBHcmFiIGEgcmVzdCAtIG5vIHBpdGNoLlxuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZSBkb24ndCByZWNvZ25pemUgLSBub3QgYSBzdGVtLlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmlnaHQgYWZ0ZXIgYSBbY2hvcmRdLCBub3RlLCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uIG1hcmtpbmcuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIC9eKD8hW1xccyUhXSkuKltcXGRcXC9dLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0b2tlbnNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgbm90ZVRpbWUgPSBkdXJhdGlvblRvVGltZShkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGR1cmF0aW9uIHRvIGFsbCB0aGUgbnRvZXMgaW4gdGhlIHN0ZW0uXG4gICAgICAgICAgICAgICAgLy8gTk9URTogc3BlYyBzdWdnZXN0cyBtdWx0aXBseWluZyB0aGlzIGR1cmF0aW9uLCBidXQgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGlkaW9tIGlzIG5vdCBzZWVuIChzbyBmYXIpIGluIHByYWN0aWNlLlxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBub3Rlc1tqXS5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBub3Rlc1tqXS50aW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlbiBsb29rIGZvciBhIHRyYWlsaW5nIHRpZSBtYXJraW5nLiAgV2lsbCB0aWUgZXZlcnkgbm90ZSBpbiBhIGNob3JkLlxuICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi1cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZXNbal0udGllID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWNjZW50LmR5bmFtaWNzKSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgPSBhY2NlbnQuZHluYW1pY3M7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzW2pdLnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgc3RlbToge1xuICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc3RhY2NhdG86IHN0YWNjYXRvLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBkdXJhdGlvblRvVGltZShkdXJhdGlvbiksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm9ybWFsaXplcyBwaXRjaCBtYXJraW5ncyBieSBzdHJpcHBpbmcgbGVhZGluZyA9IGlmIHByZXNlbnQuXG4gICAgICAgIGZ1bmN0aW9uIHN0cmlwTmF0dXJhbChwaXRjaCkge1xuICAgICAgICAgICAgaWYgKHBpdGNoLmxlbmd0aCA+IDAgJiYgcGl0Y2guY2hhckF0KDApID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpdGNoLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaXRjaDtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9jZXNzZXMgYW4gYWNjZW50ZWQgcGl0Y2gsIGF1dG9tYXRpY2FsbHkgYXBwbHlpbmcgYWNjaWRlbnRhbHNcbiAgICAgICAgLy8gdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHdpdGhpbiB0aGUgbWVhc3VyZSwgYW5kIGFsc28gc2F2aW5nXG4gICAgICAgIC8vIGV4cGxpY2l0IGFjY2lkZW50YWxzIHRvIGNvbnRpbnVlIHRvIGFwcGx5IGluIHRoZSBtZWFzdXJlLlxuICAgICAgICBmdW5jdGlvbiBhcHBseUFjY2VudChwaXRjaCwga2V5LCBhY2NlbnQpIHtcbiAgICAgICAgICAgIHZhciBtID0gL14oXFxeK3xfK3w9fCkoW0EtR2EtZ10pKC4qKSQvLmV4ZWMocGl0Y2gpLFxuICAgICAgICAgICAgICAgIGxldHRlcjtcbiAgICAgICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBhbiBhY2NpZGVudGFsIGluIG9uZSBvY3RhdmUgYXBwbGllcyBpbiBvdGhlciBvY3RhdmVzLlxuICAgICAgICAgICAgbGV0dGVyID0gbVsyXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKG1bMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYW4gZXhwbGljaXQgYWNjaWRlbnRhbCwgdGhlbiByZW1lbWJlciBpdCBmb3JcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGUgbWVhc3VyZS5cbiAgICAgICAgICAgICAgICBhY2NlbnRbbGV0dGVyXSA9IG1bMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChwaXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWNjZW50Lmhhc093blByb3BlcnR5KGxldHRlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBBY2NpZGVudGFscyBmcm9tIHRoaXMgbWVhc3VyZSBhcHBseSB0byB1bmFjY2VudGVkIG5vdGVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpcE5hdHVyYWwoYWNjZW50W2xldHRlcl0gKyBtWzJdICsgbVszXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5Lmhhc093blByb3BlcnR5KGxldHRlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBLZXkgc2lnbmF0dXJlcyBhcHBseSBieSBkZWZhdWx0LlxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpcE5hdHVyYWwoa2V5W2xldHRlcl0gKyBtWzJdICsgbVszXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyaXBOYXR1cmFsKHBpdGNoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0cyBhbiBBQkMgZHVyYXRpb24gdG8gYSBudW1iZXIgKGUuZy4sIFwiLzNcIi0+MC4zMzMgb3IgXCIxMS8yXCItPjEuNSkuXG4gICAgICAgIGZ1bmN0aW9uIGR1cmF0aW9uVG9UaW1lKGR1cmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgbSA9IC9eKFxcZCopKD86XFwvKFxcZCopKT8kfF4oXFwvKykkLy5leGVjKGR1cmF0aW9uKSxcbiAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgaWxlbjtcbiAgICAgICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG1bM10pIHJldHVybiBNYXRoLnBvdygwLjUsIG1bM10ubGVuZ3RoKTtcbiAgICAgICAgICAgIGQgPSBtWzJdID8gcGFyc2VGbG9hdChtWzJdKSA6IC9cXC8vLnRlc3QoZHVyYXRpb24pID8gMiA6IDE7XG4gICAgICAgICAgICAvLyBIYW5kbGUgbWl4ZWQgZnJhdGlvbnM6XG4gICAgICAgICAgICBpbGVuID0gMDtcbiAgICAgICAgICAgIG4gPSBtWzFdID8gcGFyc2VGbG9hdChtWzFdKSA6IDE7XG4gICAgICAgICAgICBpZiAobVsyXSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbGVuICsgMSA8IG1bMV0ubGVuZ3RoICYmIG4gPiBkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlsZW4gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IHBhcnNlRmxvYXQobVsxXS5zdWJzdHJpbmcoMCwgaWxlbikpO1xuICAgICAgICAgICAgICAgICAgICBuID0gcGFyc2VGbG9hdChtWzFdLnN1YnN0cmluZyhpbGVuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGkgKyBuIC8gZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gSU5TVFJVTUVOVFNcbiAgICAvL1xuICAgIC8vIEFsbCBmdXJ0aGVyIGRldGFpbHMgb2YgYXVkaW8gaGFuZGxpbmcgYXJlIGVuY2Fwc3VsYXRlZCBpbiB0aGUgSW5zdHJ1bWVudFxuICAgIC8vIGNsYXNzLCB3aGljaCBrbm93cyBob3cgdG8gc3ludGhlc2l6ZSBhIGJhc2ljIHRpbWJyZTsgaG93IHRvIHBsYXkgYW5kXG4gICAgLy8gc2NoZWR1bGUgYSB0b25lOyBhbmQgaG93IHRvIHBhcnNlIGFuZCBzZXF1ZW5jZSBhIHNvbmcgd3JpdHRlbiBpbiBBQkNcbiAgICAvLyBub3RhdGlvbi5cblxuICAgIC8vIFRoZSBjb25zdHJ1Y3RvciBhY2NlcHRzIGEgdGltYnJlIHN0cmluZyBvciBvYmplY3QsIHNwZWNpZnlpbmdcbiAgICAvLyBpdHMgZGVmYXVsdCBzb3VuZC4gIFRoZSBtYWluIG1lY2hhbmlzbXMgaW4gSW5zdHJ1bWVudCBhcmUgZm9yIGhhbmRsaW5nXG4gICAgLy8gc2VxdWVuY2luZyBvZiBhIChwb3RlbnRpYWxseSBsYXJnZSkgc2V0IG9mIG5vdGVzIG92ZXIgYSAocG90ZW50aWFsbHlcbiAgICAvLyBsb25nKSBwZXJpb2Qgb2YgdGltZS4gIFRoZSBvdmVyYWxsIHN0cmF0ZWd5OlxuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgIEV2ZW50czogICAgICAnbm90ZW9uJyAgICAgICAgJ25vdGVvZmYnXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gICAgLy8gdG9uZSgpLShxdWljayB0b25lcyktPnwgX3N0YXJ0U2V0IC0tPnwgX2ZpbmlzaFNldCAtLT58IF9jbGVhbnVwU2V0IC0tPnxcbiAgICAvLyAgIFxcICAgICAgICAgICAgICAgICAgIHwgIC8gICAgICAgICAgIHwgUGxheWluZyB0b25lcyB8IERvbmUgdG9uZXMgICAgIHxcbiAgICAvLyAgICBcXC0tLS0gX3F1ZXVlIC0tLS0tLXwtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAvLyAgICAgIG9mIGZ1dHVyZSB0b25lcyAgfDMgc2VjcyBhaGVhZCBzZW50IHRvIFdlYkF1ZGlvLCByZW1vdmVkIHdoZW4gZG9uZVxuICAgIC8vXG4gICAgLy8gVGhlIHJlYXNvbiBmb3IgdGhpcyBxdWV1aW5nIGlzIHRvIHJlZHVjZSB0aGUgY29tcGxleGl0eSBvZiB0aGVcbiAgICAvLyBub2RlIGdyYXBoIHNlbnQgdG8gV2ViQXVkaW86IGF0IGFueSB0aW1lLCBXZWJBdWRpbyBpcyBvbmx5XG4gICAgLy8gcmVzcG9uc2libGUgZm9yIGFib3V0IDIgc2Vjb25kcyBvZiBtdXNpYy4gIElmIGEgZ3JhcGggd2l0aCB0b29cbiAgICAvLyB0b28gbWFueSBub2RlcyBpcyBzZW50IHRvIFdlYkF1ZGlvIGF0IG9uY2UsIG91dHB1dCBkaXN0b3J0cyBiYWRseS5cblxuICAgIGV4cG9ydCBjbGFzcyBJbnN0cnVtZW50IHtcbiAgICAgICAgc3RhdGljIHRpbWVPZmZzZXQgPSAwLjA2MjU7IC8vIFNlY29uZHMgdG8gZGVsYXkgYWxsIGF1ZGlhYmxlIHRpbWluZy5cbiAgICAgICAgc3RhdGljIGRlcXVldWVUaW1lID0gMC41OyAvLyBTZWNvbmRzIGJlZm9yZSBhbiBldmVudCB0byByZWV4YW1pbmUgcXVldWUuXG4gICAgICAgIHN0YXRpYyBidWZmZXJTZWNzID0gMjsgLy8gU2Vjb25kcyBhaGVhZCB0byBwdXQgbm90ZXMgaW4gV2ViQXVkaW8uXG4gICAgICAgIHN0YXRpYyB0b25lTGVuZ3RoID0gMTsgLy8gRGVmYXVsdCBkdXJhdGlvbiBvZiBhIHRvbmUuXG4gICAgICAgIHN0YXRpYyBjbGVhbnVwRGVsYXkgPSAwLjE7IC8vIFNpbGVudCB0aW1lIGJlZm9yZSBkaXNjb25uZWN0aW5nIG5vZGVzLlxuXG4gICAgICAgIC8vIEFjY2VwdHMgZWl0aGVyIGFuIEFCQyBwaXRjaCBvciBhIG1pZGkgbnVtYmVyIGFuZCBjb252ZXJ0cyB0byBtaWRpLlxuICAgICAgICBzdGF0aWMgcGl0Y2hUb01pZGkobikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVXRpbHMucGl0Y2hUb01pZGkobik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjY2VwdHMgZWl0aGVyIGFuIEFCQyBwaXRjaCBvciBhIG1pZGkgbnVtYmVyIGFuZCBjb252ZXJ0cyB0byBBQkMgcGl0Y2guXG4gICAgICAgIHN0YXRpYyBtaWRpVG9QaXRjaChuKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBVdGlscy5taWRpVG9QaXRjaChuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9XG5cbiAgICAgICAgX291dDtcbiAgICAgICAgX2F0b3A7XG4gICAgICAgIF90aW1icmU7XG4gICAgICAgIF9xdWV1ZTtcbiAgICAgICAgX21pblF1ZXVlVGltZTtcbiAgICAgICAgX21heFNjaGVkdWxlZFRpbWU7XG4gICAgICAgIF91bnNvcnRlZFF1ZXVlO1xuICAgICAgICBfc3RhcnRTZXQ7XG4gICAgICAgIF9maW5pc2hTZXQ7XG4gICAgICAgIF9jbGVhbnVwU2V0O1xuICAgICAgICBfY2FsbGJhY2tTZXQ7XG4gICAgICAgIF9oYW5kbGVycztcbiAgICAgICAgX25vdztcbiAgICAgICAgX3BvbGxUaW1lcjtcblxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogYW55KSB7XG4gICAgICAgICAgICB0aGlzLl9hdG9wID0gVXRpbHMuZ2V0QXVkaW9Ub3AoKTsgLy8gQXVkaW8gY29udGV4dC5cbiAgICAgICAgICAgIHRoaXMuX3RpbWJyZSA9IFV0aWxzLm1ha2VUaW1icmUob3B0aW9ucywgdGhpcy5fYXRvcCk7IC8vIFRoZSBpbnN0cnVtZW50J3MgdGltYnJlLlxuICAgICAgICAgICAgdGhpcy5fcXVldWUgPSBbXTsgLy8gQSBxdWV1ZSBvZiBmdXR1cmUgdG9uZXMgdG8gcGxheS5cbiAgICAgICAgICAgIHRoaXMuX21pblF1ZXVlVGltZSA9IEluZmluaXR5OyAvLyBUaGUgZWFybGllc3QgdGltZSBpbiBfcXVldWUuXG4gICAgICAgICAgICB0aGlzLl9tYXhTY2hlZHVsZWRUaW1lID0gMDsgLy8gVGhlIGxhdGVzdCB0aW1lIGluIF9xdWV1ZS5cbiAgICAgICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSBmYWxzZTsgLy8gVHJ1ZSBpZiBfcXVldWUgaXMgdW5zb3J0ZWQuXG4gICAgICAgICAgICB0aGlzLl9zdGFydFNldCA9IFtdOyAvLyBVbnN0YXJ0ZWQgdG9uZXMgYWxyZWFkeSBzZW50IHRvIFdlYkF1ZGlvLlxuICAgICAgICAgICAgdGhpcy5fZmluaXNoU2V0ID0ge307IC8vIFN0YXJ0ZWQgdG9uZXMgcGxheWluZyBpbiBXZWJBdWRpby5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQgPSBbXTsgLy8gVG9uZXMgd2FpdGluZyBmb3IgY2xlYW51cC5cbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrU2V0ID0gW107IC8vIEEgc2V0IG9mIHNjaGVkdWxlZCBjYWxsYmFja3MuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHt9OyAvLyAnbm90ZW9uJyBhbmQgJ25vdGVvZmYnIGhhbmRsZXJzLlxuICAgICAgICAgICAgdGhpcy5fbm93ID0gbnVsbDsgLy8gQSBjYWNoZWQgY3VycmVudC10aW1lIHZhbHVlLlxuICAgICAgICAgICAgaWYgKFV0aWxzLmlzQXVkaW9QcmVzZW50KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNpbGVuY2UoKTsgLy8gSW5pdGlhbGl6ZXMgdG9wLWxldmVsIGF1ZGlvIG5vZGUuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXRzIHRoZSBkZWZhdWx0IHRpbWJyZSBmb3IgdGhlIGluc3RydW1lbnQuICBTZWUgZGVmYXVsdFRpbWJyZS5cbiAgICAgICAgc2V0VGltYnJlKHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWJyZSA9IFV0aWxzLm1ha2VUaW1icmUodCwgdGhpcy5fYXRvcCk7IC8vIFNhdmVzIGEgY29weS5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybnMgdGhlIGRlZmF1bHQgdGltYnJlIGZvciB0aGUgaW5zdHJ1bWVudCBhcyBhbiBvYmplY3QuXG4gICAgICAgIGdldFRpbWJyZSh0KSB7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMubWFrZVRpbWJyZSh0aGlzLl90aW1icmUsIHRoaXMuX2F0b3ApOyAvLyBNYWtlcyBhIGNvcHkuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXRzIHRoZSBvdmVyYWxsIHZvbHVtZSBmb3IgdGhlIGluc3RydW1lbnQgaW1tZWRpYXRlbHkuXG4gICAgICAgIHNldFZvbHVtZSh2KSB7XG4gICAgICAgICAgICAvLyBXaXRob3V0IGFuIGF1ZGlvIHN5c3RlbSwgdm9sdW1lIGNhbm5vdCBiZSBzZXQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX291dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNOYU4odikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdXQuZ2Fpbi52YWx1ZSA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXRzIHRoZSBvdmVyYWxsIHZvbHVtZSBmb3IgdGhlIGluc3RydW1lbnQuXG4gICAgICAgIGdldFZvbHVtZSh2KSB7XG4gICAgICAgICAgICAvLyBXaXRob3V0IGFuIGF1ZGlvIHN5c3RlbSwgdm9sdW1lIGlzIHN0dWNrIGF0IHplcm8uXG4gICAgICAgICAgICBpZiAoIXRoaXMuX291dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3V0LmdhaW4udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaWxlbmNlcyB0aGUgaW5zdHJ1bWVudCBpbW1lZGlhdGVseSBieSByZWluaXRpYWxpemluZyB0aGUgYXVkaW9cbiAgICAgICAgLy8gZ3JhcGggZm9yIHRoaXMgaW5zdHJ1bWVudCBhbmQgZW1wdHlpbmcgb3IgZmx1c2hpbmcgYWxsIHF1ZXVlcyBpbiB0aGVcbiAgICAgICAgLy8gc2NoZWR1bGVyLiAgQ2FyZWZ1bGx5IG5vdGlmaWVzIGFsbCBub3RlcyB0aGF0IGhhdmUgc3RhcnRlZCBidXQgbm90XG4gICAgICAgIC8vIHlldCBmaW5pc2hlZCwgYW5kIHNlcXVlbmNlcyB0aGF0IGFyZSBhd2FpdGluZyBzY2hlZHVsZWQgY2FsbGJhY2tzLlxuICAgICAgICAvLyBEb2VzIG5vdCBub3RpZnkgbm90ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgc3RhcnRlZC5cbiAgICAgICAgc2lsZW5jZSgpIHtcbiAgICAgICAgICAgIHZhciBqLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICBpbml0dm9sdW1lID0gMTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgZnV0dXJlIG5vdGVzLlxuICAgICAgICAgICAgdGhpcy5fcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMuX21pblF1ZXVlVGltZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy5fbWF4U2NoZWR1bGVkVGltZSA9IDA7XG5cbiAgICAgICAgICAgIC8vIERvbid0IG5vdGlmeSBub3RlcyB0aGF0IGhhdmVuJ3Qgc3RhcnRlZCB5ZXQuXG4gICAgICAgICAgICB0aGlzLl9zdGFydFNldC5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAvLyBGbHVzaCBmaW5pc2ggY2FsbGJhY2tzIHRoYXQgYXJlIHByb21pc2VkLlxuICAgICAgICAgICAgZmluaXNoZWQgPSB0aGlzLl9maW5pc2hTZXQ7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2hTZXQgPSB7fTtcblxuICAgICAgICAgICAgLy8gRmx1c2ggb25lLXRpbWUgY2FsbGFja3MgdGhhdCBhcmUgcHJvbWlzZWQuXG4gICAgICAgICAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja1NldDtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrU2V0ID0gW107XG5cbiAgICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIGdyYXBoIGZvciB0aGlzIGluc3RydW1lbnQuXG4gICAgICAgICAgICBpZiAodGhpcy5fb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBpbml0dm9sdW1lID0gdGhpcy5fb3V0LmdhaW4udmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlaW5pdGlhbGl6ZSB0aGUgYXVkaW8gZ3JhcGg6IGFsbCBhdWRpbyBmb3IgdGhlIGluc3RydW1lbnRcbiAgICAgICAgICAgIC8vIG11bHRpcGxleGVzIHRocm91Z2ggYSBzaW5nbGUgZ2FpbiBub2RlIHdpdGggYSBtYXN0ZXIgdm9sdW1lLlxuICAgICAgICAgICAgdGhpcy5fYXRvcCA9IFV0aWxzLmdldEF1ZGlvVG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9vdXQgPSB0aGlzLl9hdG9wLmFjLmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgIC8vIHRoaXMuX291dC5nYWluLnZhbHVlID0gaW5pdHZvbHVtZTsgLy8gUk9OWUVIIFJFTU9WRUQgRFVFIFRPIEJVRy5cbiAgICAgICAgICAgIHRoaXMuX291dC5nYWluLnNldFRhcmdldEF0VGltZShpbml0dm9sdW1lLCB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICAgICAgdGhpcy5fb3V0LmNvbm5lY3QodGhpcy5fYXRvcC5vdXQpO1xuXG4gICAgICAgICAgICAvLyBBcyBhIGxhc3Qgc3RlcCwgY2FsbCBhbGwgcHJvbWlzZWQgbm90aWZpY2F0aW9ucy5cbiAgICAgICAgICAgIGZvciAoaiBpbiBmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJub3Rlb2ZmXCIsIGZpbmlzaGVkW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Nbal0uY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZ1dHVyZSBub3RlcyBhcmUgc2NoZWR1bGVkIHJlbGF0aXZlIHRvIG5vdygpLCB3aGljaCBwcm92aWRlc1xuICAgICAgICAvLyBhY2Nlc3MgdG8gYXVkaW9DdXJyZW50U3RhcnRUaW1lKCksIGEgdGltZSB0aGF0IGhvbGRzIHN0ZWFkeVxuICAgICAgICAvLyB1bnRpbCB0aGUgc2NyaXB0IHJlbGVhc2VzIHRvIHRoZSBldmVudCBsb29wLiAgV2hlbiBfbm93IGlzXG4gICAgICAgIC8vIG5vbi1udWxsLCBpdCBpbmRpY2F0ZXMgdGhhdCBzY2hlZHVsaW5nIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MuXG4gICAgICAgIC8vIFRoZSB0aW1lci1kcml2ZW4gX2RvUG9sbCBmdW5jdGlvbiBjbGVhcnMgdGhlIGNhY2hlZCBfbm93LlxuICAgICAgICBub3coKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbm93ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3RhcnRQb2xsVGltZXIodHJ1ZSk7IC8vIHBhc3NpbmcgKHRydWUpIHNldHMgdGhpcy5fbm93LlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vdztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIuICBEb25lIHdpdGhvdXQgalF1ZXJ5IHRvIHJlZHVjZSBkZXBlbmRlbmNpZXMuXG4gICAgICAgIG9uKGV2ZW50bmFtZSwgY2IpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRuYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV0ucHVzaChjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbnJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIuICBEb25lIHdpdGhvdXQgalF1ZXJ5IHRvIHJlZHVjZSBkZXBlbmRlbmNpZXMuXG4gICAgICAgIG9mZihldmVudG5hbWUsIGNiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRuYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBqLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHVudCA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBodW50Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHVudFtqXSA9PT0gY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodW50LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50LCBub3RpZnlpbmcgYW55IHJlZ2lzdGVyZWQgaGFuZGxlcnMuXG4gICAgICAgIF90cmlnZ2VyKGV2ZW50bmFtZSwgcmVjb3JkKSB7XG4gICAgICAgICAgICB2YXIgY2IgPSB0aGlzLl9oYW5kbGVyc1tldmVudG5hbWVdLFxuICAgICAgICAgICAgICAgIGo7XG4gICAgICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNiLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCwgY29tbW9uIGNhc2Ugb2Ygb25lIGhhbmRsZXI6IG5vIGNvcHkgbmVlZGVkLlxuICAgICAgICAgICAgICAgIGNiWzBdKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ29weSB0aGUgYXJyYXkgb2YgY2FsbGJhY2tzIGJlZm9yZSBpdGVyYXRpbmcsIGJlY2F1c2UgdGhlXG4gICAgICAgICAgICAvLyBtYWluIHRoaXMuX2hhbmRsZXJzIGNvcHkgY291bGQgYmUgY2hhbmdlZCBieSBhIGhhbmRsZXIuXG4gICAgICAgICAgICAvLyBZb3UgZ2V0IG5vdGlmaWVkIGlmLWFuZC1vbmx5LWlmIHlvdSBhcmUgcmVnaXN0ZXJlZFxuICAgICAgICAgICAgLy8gYXQgdGhlIHN0YXJ0aW5nIG1vbWVudCBvZiBfdHJpZ2dlci5cbiAgICAgICAgICAgIGNiID0gY2Iuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjYi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGNiW2pdKHJlY29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZWxscyB0aGUgV2ViQXVkaW8gQVBJIHRvIHBsYXkgYSB0b25lIChub3cgb3Igc29vbikuICBUaGUgcGFzc2VkXG4gICAgICAgIC8vIHJlY29yZCBzcGVjaWZpZXMgYSBzdGFydCB0aW1lIGFuZCByZWxlYXNlIHRpbWUsIGFuIEFEU1IgZW52ZWxvcGUsXG4gICAgICAgIC8vIGFuZCBvdGhlciB0aW1icmUgcGFyYW1ldGVycy4gIFRoaXMgZnVuY3Rpb24gc2V0cyB1cCBhIFdlYkF1ZGlvXG4gICAgICAgIC8vIG5vZGUgZ3JhcGggZm9yIHRoZSB0b25lIGdlbmVyYXRvcnMgYW5kIGZpbHRlcnMgZm9yIHRoZSB0b25lLlxuICAgICAgICBfbWFrZVNvdW5kKHJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgICAgIHN0YXJ0dGltZSA9IHJlY29yZC50aW1lICsgSW5zdHJ1bWVudC50aW1lT2Zmc2V0LFxuICAgICAgICAgICAgICAgIHJlbGVhc2V0aW1lID0gc3RhcnR0aW1lICsgcmVjb3JkLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICAgICAgZGVjYXl0aW1lID0gdGltYnJlLmRlY2F5ICogTWF0aC5wb3coNDQwIC8gcmVjb3JkLmZyZXF1ZW5jeSwgdGltYnJlLmRlY2F5Zm9sbG93KSxcbiAgICAgICAgICAgICAgICBkZWNheXN0YXJ0dGltZSA9IGF0dGFja3RpbWUsXG4gICAgICAgICAgICAgICAgc3RvcHRpbWUgPSByZWxlYXNldGltZSArIHRpbWJyZS5yZWxlYXNlLFxuICAgICAgICAgICAgICAgIGRvdWJsZWQgPSB0aW1icmUuZGV0dW5lICYmIHRpbWJyZS5kZXR1bmUgIT0gMS4wLFxuICAgICAgICAgICAgICAgIGFtcCA9IHRpbWJyZS5nYWluICogcmVjb3JkLnZlbG9jaXR5ICogKGRvdWJsZWQgPyAwLjUgOiAxLjApLFxuICAgICAgICAgICAgICAgIGFjID0gdGhpcy5fYXRvcC5hYyxcbiAgICAgICAgICAgICAgICBnLFxuICAgICAgICAgICAgICAgIGYsXG4gICAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgICBvMixcbiAgICAgICAgICAgICAgICBwd2F2ZSxcbiAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgIHdmLFxuICAgICAgICAgICAgICAgIGJ3ZjtcbiAgICAgICAgICAgIC8vIE9ubHkgaG9vayB1cCB0b25lIGdlbmVyYXRvcnMgaWYgaXQgaXMgYW4gYXVkaWJsZSBzb3VuZC5cbiAgICAgICAgICAgIGlmIChyZWNvcmQuZHVyYXRpb24gPiAwICYmIHJlY29yZC52ZWxvY2l0eSA+IDApIHtcbiAgICAgICAgICAgICAgICBnID0gYWMuY3JlYXRlR2FpbigpO1xuICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCBzdGFydHRpbWUpO1xuICAgICAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShhbXAsIGF0dGFja3RpbWUpO1xuICAgICAgICAgICAgICAgIC8vIEZvciB0aGUgYmVnaW5uaW5nIG9mIHRoZSBkZWNheSwgdXNlIGxpbmVhclJhbXBUb1ZhbHVlIGluc3RlYWRcbiAgICAgICAgICAgICAgICAvLyBvZiBzZXRUYXJnZXRBdFRpbWUsIGJlY2F1c2UgaXQgYXZvaWRzIGh0dHA6Ly9jcmJ1Zy5jb20vMjU0OTQyLlxuICAgICAgICAgICAgICAgIHdoaWxlIChkZWNheXN0YXJ0dGltZSA8IGF0dGFja3RpbWUgKyAxIC8gMzIgJiYgZGVjYXlzdGFydHRpbWUgKyAxIC8gMjU2IDwgcmVsZWFzZXRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSnVzdCB0cmFjZSBvdXQgdGhlIGN1cnZlIGluIGluY3JlbWVudHMgb2YgMS8yNTYgc2VjXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciB1cCB0byAxLzMyIHNlY29uZHMuXG4gICAgICAgICAgICAgICAgICAgIGRlY2F5c3RhcnR0aW1lICs9IDEgLyAyNTY7XG4gICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gZGVjYXlzdGFydHRpbWUpIC8gZGVjYXl0aW1lKSksIGRlY2F5c3RhcnR0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRm9yIHRoZSByZXN0IG9mIHRoZSBkZWNheSwgdXNlIHNldFRhcmdldEF0VGltZS5cbiAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKGFtcCAqIHRpbWJyZS5zdXN0YWluLCBkZWNheXN0YXJ0dGltZSwgZGVjYXl0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBUaGVuIGF0IHJlbGVhc2UgdGltZSwgbWFyayB0aGUgdmFsdWUgYW5kIHJhbXAgdG8gemVyby5cbiAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoYW1wICogKHRpbWJyZS5zdXN0YWluICsgKDEgLSB0aW1icmUuc3VzdGFpbikgKiBNYXRoLmV4cCgoYXR0YWNrdGltZSAtIHJlbGVhc2V0aW1lKSAvIGRlY2F5dGltZSkpLCByZWxlYXNldGltZSk7XG4gICAgICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHN0b3B0aW1lKTtcbiAgICAgICAgICAgICAgICBnLmNvbm5lY3QodGhpcy5fb3V0KTtcbiAgICAgICAgICAgICAgICAvLyBIb29rIHVwIGEgbG93LXBhc3MgZmlsdGVyIGlmIGN1dG9mZiBpcyBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgaWYgKCghdGltYnJlLmN1dG9mZiAmJiAhdGltYnJlLmN1dGZvbGxvdykgfHwgdGltYnJlLmN1dG9mZiA9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICBmID0gZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgY3V0b2ZmIGZyZXF1ZW5jeSBhZGp1c3RlZCB1c2luZyBjdXRmb2xsb3cuXG4gICAgICAgICAgICAgICAgICAgIGYgPSBhYy5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZi5mcmVxdWVuY3kudmFsdWUgPSB0aW1icmUuY3V0b2ZmICsgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5jdXRmb2xsb3c7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBCVUcuXG4gICAgICAgICAgICAgICAgICAgIC8vIGYuUS52YWx1ZSA9IHRpbWJyZS5yZXNvbmFuY2U7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBCVUcuXG4gICAgICAgICAgICAgICAgICAgIGYuZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZSh0aW1icmUuY3V0b2ZmICsgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5jdXRmb2xsb3csIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgICAgICAgICAgICAgIGYuUS5zZXRUYXJnZXRBdFRpbWUodGltYnJlLnJlc29uYW5jZSwgdGhpcy5fYXRvcC5hYy5jdXJyZW50VGltZSwgMC4wMDEpOyAvLyBST05ZRUggQURERURcbiAgICAgICAgICAgICAgICAgICAgZi5jb25uZWN0KGcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIb29rIHVwIHRoZSBtYWluIG9zY2lsbGF0b3IuXG4gICAgICAgICAgICAgICAgbyA9IFV0aWxzLm1ha2VPc2NpbGxhdG9yKHRoaXMuX2F0b3AsIHRpbWJyZS53YXZlLCByZWNvcmQuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICBvLmNvbm5lY3QoZik7XG4gICAgICAgICAgICAgICAgby5zdGFydChzdGFydHRpbWUpO1xuICAgICAgICAgICAgICAgIG8uc3RvcChzdG9wdGltZSk7XG4gICAgICAgICAgICAgICAgLy8gSG9vayB1cCBhIGRldHVuZWQgb3NjaWxsYXRvci5cbiAgICAgICAgICAgICAgICBpZiAoZG91YmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBvMiA9IFV0aWxzLm1ha2VPc2NpbGxhdG9yKHRoaXMuX2F0b3AsIHRpbWJyZS53YXZlLCByZWNvcmQuZnJlcXVlbmN5ICogdGltYnJlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgICAgIG8yLmNvbm5lY3QoZik7XG4gICAgICAgICAgICAgICAgICAgIG8yLnN0YXJ0KHN0YXJ0dGltZSk7XG4gICAgICAgICAgICAgICAgICAgIG8yLnN0b3Aoc3RvcHRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBub2RlcyBpbiB0aGUgcmVjb3JkIHNvIHRoYXQgdGhleSBjYW4gYmUgbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSB0b25lIGlzIHRydW5jYXRlZCBsYXRlci5cbiAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBnO1xuICAgICAgICAgICAgICAgIHJlY29yZC5vc2NpbGxhdG9ycyA9IFtvXTtcbiAgICAgICAgICAgICAgICBpZiAoZG91YmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnMucHVzaChvMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29yZC5jbGVhbnVwdGltZSA9IHN0b3B0aW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbmF1ZGlibGUgc291bmRzIGFyZSBzY2hlZHVsZWQ6IHRoZWlyIHB1cnBvc2UgaXMgdG8gdHJ1bmNhdGVcbiAgICAgICAgICAgICAgICAvLyBhdWRpYmxlIHRvbmVzIGF0IHRoZSBzYW1lIHBpdGNoLiAgQnV0IGR1cmF0aW9uIGlzIHNldCB0byB6ZXJvXG4gICAgICAgICAgICAgICAgLy8gc28gdGhhdCB0aGV5IGFyZSBjbGVhbmVkIHVwIHF1aWNrbHkuXG4gICAgICAgICAgICAgICAgcmVjb3JkLmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U2V0LnB1c2gocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcnVuY2F0ZXMgYSBzb3VuZCBwcmV2aW91c2x5IHNjaGVkdWxlZCBieSBfbWFrZVNvdW5kIGJ5IHVzaW5nXG4gICAgICAgIC8vIGNhbmNlbFNjaGVkdWxlZFZhbHVlcyBhbmQgZGlyZWN0bHkgcmFtcGluZyBkb3duIHRvIHplcm8uXG4gICAgICAgIC8vIENhbiBvbmx5IGJlIHVzZWQgdG8gc2hvcnRlbiBhIHNvdW5kLlxuICAgICAgICBfdHJ1bmNhdGVTb3VuZChyZWNvcmQsIHRydW5jYXRldGltZSkge1xuICAgICAgICAgICAgaWYgKHRydW5jYXRldGltZSA8IHJlY29yZC50aW1lICsgcmVjb3JkLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLmR1cmF0aW9uID0gTWF0aC5tYXgoMCwgdHJ1bmNhdGV0aW1lIC0gcmVjb3JkLnRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuZ2Fpbk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnR0aW1lID0gcmVjb3JkLnRpbWUgKyBJbnN0cnVtZW50LnRpbWVPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNldGltZSA9IHRydW5jYXRldGltZSArIEluc3RydW1lbnQudGltZU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNheXRpbWUgPSB0aW1icmUuZGVjYXkgKiBNYXRoLnBvdyg0NDAgLyByZWNvcmQuZnJlcXVlbmN5LCB0aW1icmUuZGVjYXlmb2xsb3cpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHRpbWUgPSByZWxlYXNldGltZSArIHRpbWJyZS5yZWxlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cHRpbWUgPSBzdG9wdGltZSArIEluc3RydW1lbnQuY2xlYW51cERlbGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZG91YmxlZCA9IHRpbWJyZS5kZXR1bmUgJiYgdGltYnJlLmRldHVuZSAhPSAxLjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbXAgPSB0aW1icmUuZ2FpbiAqIHJlY29yZC52ZWxvY2l0eSAqIChkb3VibGVkID8gMC41IDogMS4wKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gcmVjb3JkLmdhaW5Ob2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgYW55IGVudmVsb3BlIHBvaW50cyBhZnRlciB0aGUgbmV3IHJlbGVhc2V0aW1lLlxuICAgICAgICAgICAgICAgICAgICBnLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGVhc2V0aW1lIDw9IHN0YXJ0dGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVsZWFzZSBiZWZvcmUgc3RhcnQ/ICBUb3RhbGx5IHNpbGVuY2UgdGhlIG5vdGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgcmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlbGVhc2V0aW1lIDw9IGF0dGFja3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgYmVmb3JlIGF0dGFjayBpcyBkb25lPyAgSW50ZXJydXB0IHJhbXAgdXAuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoKGFtcCAqIChyZWxlYXNldGltZSAtIHN0YXJ0dGltZSkpIC8gKGF0dGFja3RpbWUgLSBzdGFydHRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgoYW1wICogKHJlbGVhc2V0aW1lIC0gc3RhcnR0aW1lKSkgLyAoYXR0YWNrdGltZSAtIHN0YXJ0dGltZSksIHN0YXJ0dGltZSk7IC8vIFJPTllFSCBBRERFRCBTRUNPTkQgUEFSQU0gXCJzdGFydHRpbWVcIi5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgZHVyaW5nIGRlY2F5PyAgSW50ZXJydXB0IGRlY2F5IGRvd24uXG4gICAgICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoYW1wICogKHRpbWJyZS5zdXN0YWluICsgKDEgLSB0aW1icmUuc3VzdGFpbikgKiBNYXRoLmV4cCgoYXR0YWNrdGltZSAtIHJlbGVhc2V0aW1lKSAvIGRlY2F5dGltZSkpLCByZWxlYXNldGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlbiByYW1wIGRvd24gdG8gemVybyBhY2NvcmRpbmcgdG8gcmVjb3JkLnJlbGVhc2UuXG4gICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBzdG9wdGltZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHN0b3B0aW1lLCBzdG9wIHRoZSBvc2NpbGxhdG9ycy4gIFRoaXMgaXMgbmVjZXNzYXJ5IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsaW1pbmF0ZSBleHRyYSB3b3JrIGZvciBXZWJBdWRpbyBmb3Igbm8tbG9uZ2VyLWF1ZGlibGUgbm90ZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmQub3NjaWxsYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCByZWNvcmQub3NjaWxsYXRvcnMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnNbal0uc3RvcChzdG9wdGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgZGlzY29ubmVjdC5cbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNsZWFudXB0aW1lID0gY2xlYW51cHRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBjb3JlIHNjaGVkdWxpbmcgbG9vcCBpcyBtYW5hZ2VkIGJ5IEluc3RydW1lbnQuX2RvUG9sbC4gIEl0IHJlYWRzXG4gICAgICAgIC8vIHRoZSBhdWRpb2NvbnRleHQncyBjdXJyZW50IHRpbWUgYW5kIHB1c2hlcyB0b25lIHJlY29yZHMgZnJvbSBvbmVcbiAgICAgICAgLy8gc3RhZ2UgdG8gdGhlIG5leHQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSBmaXJzdCBzdGFnZSBpcyB0aGUgX3F1ZXVlLCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIG5vdFxuICAgICAgICAvLyAgICB5ZXQgYmVlbiBnaXZlbiB0byBXZWJBdWRpby4gVGhpcyBsb29wIHNjYW5zIF9xdWV1ZSB0byBmaW5kXG4gICAgICAgIC8vICAgIG5vdGVzIHRoYXQgbmVlZCB0byBiZWdpbiBpbiB0aGUgbmV4dCBmZXcgc2Vjb25kczsgdGhlbiBpdFxuICAgICAgICAvLyAgICBzZW5kcyB0aG9zZSB0byBXZWJBZHVpbyBhbmQgbW92ZXMgdGhlbSB0byBfc3RhcnRTZXQuIEJlY2F1c2VcbiAgICAgICAgLy8gICAgc2NoZWR1bGVkIHNvbmdzIGNhbiBiZSBsb25nLCBfcXVldWUgY2FuIGJlIGxhcmdlLlxuICAgICAgICAvL1xuICAgICAgICAvLyAyLiBTZWNvbmQgaXMgX3N0YXJ0U2V0LCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIGJlZW4gZ2l2ZW4gdG9cbiAgICAgICAgLy8gICAgV2ViQXVkaW8sIGJ1dCB3aG9zZSBzdGFydCB0aW1lcyBoYXZlIG5vdCB5ZXQgZWxhcHNlZC4gV2hlblxuICAgICAgICAvLyAgICB0aGUgdGltZSBhZHZhbmNlcyBwYXN0IHRoZSBzdGFydCB0aW1lIG9mIGEgcmVjb3JkLCBhICdub3Rlb24nXG4gICAgICAgIC8vICAgIG5vdGlmaWNhdGlvbiBpcyBmaXJlZCBmb3IgdGhlIHRvbmUsIGFuZCBpdCBpcyBtb3ZlZCB0b1xuICAgICAgICAvLyAgICBfZmluaXNoU2V0LlxuICAgICAgICAvL1xuICAgICAgICAvLyAzLiBfZmluaXNoU2V0IHJlcHJlc2VudHMgdGhlIG5vdGVzIHRoYXQgYXJlIGN1cnJlbnRseSBzb3VuZGluZy5cbiAgICAgICAgLy8gICAgVGhlIHByb2dyYW1taW5nIG1vZGVsIGZvciBJbnN0cnVtZW50IGlzIHRoYXQgb25seSBvbmUgdG9uZSBvZlxuICAgICAgICAvLyAgICBhIHNwZWNpZmljIGZyZXF1ZW5jeSBtYXkgYmUgcGxheWVkIGF0IG9uY2Ugd2l0aGluIGEgSW5zdHJ1bWVudCxcbiAgICAgICAgLy8gICAgc28gb25seSBvbmUgdG9uZSBvZiBhIGdpdmVuIGZyZXF1ZW5jeSBtYXkgZXhpc3QgaW4gX2ZpbmlzaFNldFxuICAgICAgICAvLyAgICBhdCBvbmNlLiAgV2hlbiB0aGVyZSBpcyBhIGNvbmZsaWN0LCB0aGUgc29vbmVyLXRvLWVuZC1ub3RlXG4gICAgICAgIC8vICAgIGlzIHRydW5jYXRlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gNC4gQWZ0ZXIgYSBub3RlIGlzIHJlbGVhc2VkLCBpdCBtYXkgaGF2ZSBhIGxpdGxlIHJlbGVhc2UgdGltZVxuICAgICAgICAvLyAgICAoZGVwZW5kaW5nIG9uIHRpbWJyZS5yZWxlYXNlKSwgYWZ0ZXIgd2hpY2ggdGhlIG5vZGVzIGNhblxuICAgICAgICAvLyAgICBiZSB0b3RhbGx5IGRpc2Nvbm5lY3RlZCBhbmQgY2xlYW5lZCB1cC4gIF9jbGVhbnVwU2V0IGhvbGRzXG4gICAgICAgIC8vICAgIG5vdGVzIGZvciB3aGljaCB3ZSBhcmUgYXdhaXRpbmcgY2xlYW51cC5cbiAgICAgICAgX2RvUG9sbCgpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcImludGVycnVwdGVkXCIpICYmIHdpbmRvd1tcImludGVycnVwdGVkXCJdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaWxlbmNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIHNob3J0ZXN0IHRpbWUgd2UgY2FuIGRlbGF5IGlzIDEgLyAxMDAwIHNlY3MsIHNvIGlmIGFuIGV2ZW50XG4gICAgICAgICAgICAvLyBpcyB3aXRoaW4gdGhlIG5leHQgMC41IG1zLCBub3cgaXMgdGhlIGNsb3Nlc3QgbW9tZW50LCBhbmQgd2UgZ29cbiAgICAgICAgICAgIC8vIGFoZWFkIGFuZCBwcm9jZXNzIGl0LlxuICAgICAgICAgICAgdmFyIGluc3RhbnQgPSB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lICsgMSAvIDIwMDAsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gW10sXG4gICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICB3b3JrLFxuICAgICAgICAgICAgICAgIHdoZW4sXG4gICAgICAgICAgICAgICAgZnJlcSxcbiAgICAgICAgICAgICAgICByZWNvcmQsXG4gICAgICAgICAgICAgICAgY29uZmxpY3QsXG4gICAgICAgICAgICAgICAgc2F2ZSxcbiAgICAgICAgICAgICAgICBjYjtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGEgYmF0Y2ggb2Ygbm90ZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5RdWV1ZVRpbWUgLSBpbnN0YW50IDw9IEluc3RydW1lbnQuYnVmZmVyU2Vjcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl91bnNvcnRlZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnRpbWUgIT0gYi50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudGltZSAtIGIudGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmR1cmF0aW9uICE9IGIuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5kdXJhdGlvbiAtIGIuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5mcmVxdWVuY3kgLSBiLmZyZXF1ZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX3F1ZXVlLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZVtqXS50aW1lIC0gaW5zdGFudCA+IEluc3RydW1lbnQuYnVmZmVyU2Vjcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmsgPSB0aGlzLl9xdWV1ZS5zcGxpY2UoMCwgaik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB3b3JrLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYWtlU291bmQod29ya1tqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gdGhpcy5fcXVldWUubGVuZ3RoID4gMCA/IHRoaXMuX3F1ZXVlWzBdLnRpbWUgOiBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0IG5vdGVzIGZyb20gdGhlIGNsZWFudXAgc2V0LlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NsZWFudXBTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9jbGVhbnVwU2V0W2pdO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuY2xlYW51cHRpbWUgPCBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuZ2Fpbk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZXhwbGljaXQgZGlzY29ubmVjdCBpcyBuZWVkZWQgb3IgZWxzZSBDaHJvbWUncyBXZWJBdWRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRzIGdldHRpbmcgb3ZlcmxvYWRlZCBhZnRlciBhIGNvdXBsZSB0aG91c2FuZCBub3Rlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5nYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICBqIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90aWZ5IGFib3V0IGFueSBub3RlcyBmaW5pc2hpbmcuXG4gICAgICAgICAgICBmb3IgKGZyZXEgaW4gdGhpcy5fZmluaXNoU2V0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fZmluaXNoU2V0W2ZyZXFdO1xuICAgICAgICAgICAgICAgIHdoZW4gPSByZWNvcmQudGltZSArIHJlY29yZC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAod2hlbiA8PSBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbd2hlbiwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmOiB0aGlzLl90cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGE6IFtcIm5vdGVvZmZcIiwgcmVjb3JkXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuY2xlYW51cHRpbWUgIT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsbCBhbnkgc3BlY2lmaWMgb25lLXRpbWUgY2FsbGJhY2tzIHRoYXQgd2VyZSByZWdpc3RlcmVkLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NhbGxiYWNrU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgY2IgPSB0aGlzLl9jYWxsYmFja1NldFtqXTtcbiAgICAgICAgICAgICAgICB3aGVuID0gY2IudGltZTtcbiAgICAgICAgICAgICAgICBpZiAod2hlbiA8PSBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbd2hlbiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmOiBjYi5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrU2V0LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaiAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGlmeSBhYm91dCBhbnkgbm90ZXMgc3RhcnRpbmcuXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fc3RhcnRTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhcnRTZXRbal0udGltZSA8PSBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNhdmUgPSByZWNvcmQgPSB0aGlzLl9zdGFydFNldFtqXTtcbiAgICAgICAgICAgICAgICAgICAgZnJlcSA9IHJlY29yZC5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaFNldC5oYXNPd25Qcm9wZXJ0eShmcmVxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIG5vdGUgYXQgdGhlIHNhbWUgZnJlcXVlbmN5IHBsYXlpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHJlbGVhc2UgdGhlIG9uZSB0aGF0IHN0YXJ0cyBmaXJzdCwgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCA9IHRoaXMuX2ZpbmlzaFNldFtmcmVxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25mbGljdC50aW1lIDwgcmVjb3JkLnRpbWUgfHwgKGNvbmZsaWN0LnRpbWUgPT0gcmVjb3JkLnRpbWUgJiYgY29uZmxpY3QuZHVyYXRpb24gPCByZWNvcmQuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3VyIG5ldyBzb3VuZCBjb25mbGljdHMgd2l0aCBhbiBvbGQgb25lOiBlbmQgdGhlIG9sZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgbm90aWZ5IGltbWVkaWF0ZWx5IG9mIGl0cyBub3Rlb2ZmIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RydW5jYXRlU291bmQoY29uZmxpY3QsIHJlY29yZC50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbcmVjb3JkLnRpbWUsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOiB0aGlzLl90cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOiBbXCJub3Rlb2ZmXCIsIGNvbmZsaWN0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZmluaXNoU2V0W2ZyZXFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBIGNvbmZsaWN0IGZyb20gdGhlIGZ1dHVyZSBoYXMgYWxyZWFkeSBzY2hlZHVsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gb3VyIG93biBub3RlIHNob3VsZG4ndCBzb3VuZC4gIFRydW5jYXRlIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5LCBhbmQgc3VwcHJlc3Mgb3VyIG93biBub3Rlb24gYW5kIG5vdGVvZmYuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ1bmNhdGVTb3VuZChyZWNvcmQsIGNvbmZsaWN0LnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0ID0gcmVjb3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0U2V0LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaiAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmR1cmF0aW9uID4gMCAmJiByZWNvcmQudmVsb2NpdHkgPiAwICYmIGNvbmZsaWN0ICE9PSByZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFNldFtmcmVxXSA9IHJlY29yZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3JlY29yZC50aW1lLCAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOiB0aGlzLl90cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9uXCIsIHJlY29yZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIHRoZSBuZXh0IF9kb1BvbGwuXG4gICAgICAgICAgICB0aGlzLl9zdGFydFBvbGxUaW1lcigpO1xuXG4gICAgICAgICAgICAvLyBTb3J0IGNhbGxiYWNrcyBhY2NvcmRpbmcgdG8gdGhlIFwib3JkZXJcIiB0dXBsZSwgc28gZWFybGllciBldmVudHNcbiAgICAgICAgICAgIC8vIGFyZSBub3RpZmllZCBmaXJzdC5cbiAgICAgICAgICAgIGNhbGxiYWNrcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEub3JkZXJbMF0gIT0gYi5vcmRlclswXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlclswXSAtIGIub3JkZXJbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRpZWJyZWFrIGJ5IG5vdGlmeWluZyAnbm90ZW9mZicgZmlyc3QgYW5kICdub3Rlb24nIGxhc3QuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJbMV0gLSBiLm9yZGVyWzFdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBBdCB0aGUgZW5kLCBjYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGhvdXQgZGVwZW5kaW5nIG9uIFwidGhpc1wiIHN0YXRlLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGNiID0gY2FsbGJhY2tzW2pdO1xuICAgICAgICAgICAgICAgIGNiLmYuYXBwbHkoY2IudCwgY2IuYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2NoZWR1bGVzIHRoZSBuZXh0IF9kb1BvbGwgY2FsbCBieSBleGFtaW5pbmcgdGltZXMgaW4gdGhlIHZhcmlvdXNcbiAgICAgICAgLy8gc2V0cyBhbmQgZGV0ZXJtaW5pbmcgdGhlIHNvb25lc3QgZXZlbnQgdGhhdCBuZWVkcyBfZG9Qb2xsIHByb2Nlc3NpbmcuXG4gICAgICAgIF9zdGFydFBvbGxUaW1lcihzZXRub3c6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgYSBcInNldG5vd1wiLCB0aGVuIHBvbGxUaW1lciBpcyB6ZXJvLXRpbWVvdXRcbiAgICAgICAgICAgIC8vIGFuZCBjYW5ub3QgYmUgZmFzdGVyLlxuICAgICAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lciAmJiB0aGlzLl9ub3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kb1BvbGwoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVhcmxpZXN0ID0gSW5maW5pdHksXG4gICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICBkZWxheTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb2xsVGltZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBhbnkgb2xkIHRpbWVyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3BvbGxUaW1lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9sbFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXRub3cpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHNjaGVkdWxpbmcgdG9uZXMsIGNhY2hlIF9ub3cgYW5kIGtlZXAgYSB6ZXJvLXRpbWVvdXQgcG9sbC5cbiAgICAgICAgICAgICAgICAvLyBfbm93IHdpbGwgYmUgY2xlYXJlZCB0aGUgbmV4dCB0aW1lIHdlIGV4ZWN1dGUgX2RvUG9sbC5cbiAgICAgICAgICAgICAgICB0aGlzLl9ub3cgPSBVdGlscy5hdWRpb0N1cnJlbnRTdGFydFRpbWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KHBvbGwsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRpbWVyIGR1ZSB0byBub3RlcyBzdGFydGluZzogd2FrZSB1cCBmb3IgJ25vdGVvbicgbm90aWZpY2F0aW9uLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX3N0YXJ0U2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fc3RhcnRTZXRbal0udGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaW1lciBkdWUgdG8gbm90ZXMgZmluaXNoaW5nOiB3YWtlIHVwIGZvciAnbm90ZW9mZicgbm90aWZpY2F0aW9uLlxuICAgICAgICAgICAgZm9yIChqIGluIHRoaXMuX2ZpbmlzaFNldCkge1xuICAgICAgICAgICAgICAgIGVhcmxpZXN0ID0gTWF0aC5taW4oZWFybGllc3QsIHRoaXMuX2ZpbmlzaFNldFtqXS50aW1lICsgdGhpcy5fZmluaXNoU2V0W2pdLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRpbWVyIGR1ZSB0byBzY2hlZHVsZWQgY2FsbGJhY2suXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fY2FsbGJhY2tTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBlYXJsaWVzdCA9IE1hdGgubWluKGVhcmxpZXN0LCB0aGlzLl9jYWxsYmFja1NldFtqXS50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRpbWVyIGR1ZSB0byBjbGVhbnVwOiBhZGQgYSBzZWNvbmQgdG8gZ2l2ZSBzb21lIHRpbWUgdG8gYmF0Y2ggdXAuXG4gICAgICAgICAgICBpZiAodGhpcy5fY2xlYW51cFNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fY2xlYW51cFNldFswXS5jbGVhbnVwdGltZSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGltZXIgZHVlIHRvIHNlcXVlbmNlciBldmVudHM6IHN1YnRyYWN0IGEgbGl0dGxlIHRpbWUgdG8gc3RheSBhaGVhZC5cbiAgICAgICAgICAgIGVhcmxpZXN0ID0gTWF0aC5taW4oZWFybGllc3QsIHRoaXMuX21pblF1ZXVlVGltZSAtIEluc3RydW1lbnQuZGVxdWV1ZVRpbWUpO1xuXG4gICAgICAgICAgICBkZWxheSA9IE1hdGgubWF4KDAuMDAxLCBlYXJsaWVzdCAtIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gZnV0dXJlIGV2ZW50cywgdGhlbiB3ZSBkbyBub3QgbmVlZCBhIHRpbWVyLlxuICAgICAgICAgICAgaWYgKGlzTmFOKGRlbGF5KSB8fCBkZWxheSA9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXNlIHRoZSBKYXZhc2NyaXB0IHRpbWVyIHRvIHdha2UgdXAgYXQgdGhlIHJpZ2h0IG1vbWVudC5cbiAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IHNldFRpbWVvdXQocG9sbCwgTWF0aC5yb3VuZChkZWxheSAqIDEwMDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBsb3ctbGV2ZWwgdG9uZSBmdW5jdGlvbi5cbiAgICAgICAgdG9uZShwaXRjaCwgZHVyYXRpb24sIHZlbG9jaXR5LCBkZWxheSwgdGltYnJlLCBvcmlnaW4pIHtcbiAgICAgICAgICAgIC8vIElmIGF1ZGlvIGlzIG5vdCBwcmVzZW50LCB0aGlzIGlzIGEgbm8tb3AuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGxlZCB3aXRoIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGxpc3RlZCBhcmdzLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwaXRjaCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID09IG51bGwpIHZlbG9jaXR5ID0gcGl0Y2gudmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09IG51bGwpIGR1cmF0aW9uID0gcGl0Y2guZHVyYXRpb247XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5ID09IG51bGwpIGRlbGF5ID0gcGl0Y2guZGVsYXk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWJyZSA9PSBudWxsKSB0aW1icmUgPSBwaXRjaC50aW1icmU7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbiA9PSBudWxsKSBvcmlnaW4gPSBwaXRjaC5vcmlnaW47XG4gICAgICAgICAgICAgICAgcGl0Y2ggPSBwaXRjaC5waXRjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29udmVydCBwaXRjaCBmcm9tIHZhcmlvdXMgZm9ybWF0cyB0byBIeiBmcmVxdWVuY3kgYW5kIGEgbWlkaSBudW0uXG4gICAgICAgICAgICB2YXIgbWlkaSwgZnJlcXVlbmN5O1xuICAgICAgICAgICAgaWYgKCFwaXRjaCkge1xuICAgICAgICAgICAgICAgIHBpdGNoID0gXCJDXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNOYU4ocGl0Y2gpKSB7XG4gICAgICAgICAgICAgICAgbWlkaSA9IFV0aWxzLnBpdGNoVG9NaWRpKHBpdGNoKTtcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3kgPSBVdGlscy5taWRpVG9GcmVxdWVuY3kobWlkaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IE51bWJlcihwaXRjaCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyZXF1ZW5jeSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWlkaSA9IC1mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShtaWRpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaWRpID0gVXRpbHMuZnJlcXVlbmN5VG9NaWRpKGZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRpbWJyZSkge1xuICAgICAgICAgICAgICAgIHRpbWJyZSA9IHRoaXMuX3RpbWJyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgY3VzdG9tIHRpbWJyZSwgdmFsaWRhdGUgYW5kIGNvcHkgaXQuXG4gICAgICAgICAgICBpZiAodGltYnJlICE9PSB0aGlzLl90aW1icmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2l2ZW4gPSB0aW1icmUsXG4gICAgICAgICAgICAgICAgICAgIGtleTtcbiAgICAgICAgICAgICAgICB0aW1icmUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBVdGlscy5kZWZhdWx0VGltYnJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gZ2l2ZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWJyZVtrZXldID0gZ2l2ZW5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWJyZVtrZXldID0gVXRpbHMuZGVmYXVsdFRpbWJyZVtrZXldOyAvLyBST05ZRUg6IFRoZXJlIHdhcyBhIHR5cG8gYnVnIGluIHRoZSBvcmlnaW5hbCBNdXNpY2FsLmpzLiBJdCB3YXMgY2F1Z2h0IGJ5IG91ciBUeXBlU2NyaXB0IGNvbXBpbGVyLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHJlY29yZCBmb3IgYSB0b25lLlxuICAgICAgICAgICAgdmFyIGFjID0gdGhpcy5fYXRvcC5hYyxcbiAgICAgICAgICAgICAgICBub3cgPSB0aGlzLm5vdygpLFxuICAgICAgICAgICAgICAgIHRpbWUgPSBub3cgKyAoZGVsYXkgfHwgMCksXG4gICAgICAgICAgICAgICAgcmVjb3JkID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgICAgICAgICAgICBvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogZnJlcXVlbmN5LFxuICAgICAgICAgICAgICAgICAgICBtaWRpOiBtaWRpLFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eTogdmVsb2NpdHkgPT0gbnVsbCA/IDEgOiB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uID09IG51bGwgPyBJbnN0cnVtZW50LnRvbmVMZW5ndGggOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGltYnJlOiB0aW1icmUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGdhaW5Ob2RlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBvc2NpbGxhdG9yczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cHRpbWU6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IG9yaWdpbiwgLy8gc2F2ZSB0aGUgb3JpZ2luIG9mIHRoZSB0b25lIGZvciB2aXNpYmxlIGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRpbWUgPCBub3cgKyBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdG9uZSBzdGFydHMgc29vbiEgIEdpdmUgaXQgZGlyZWN0bHkgdG8gV2ViQXVkaW8uXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFrZVNvdW5kKHJlY29yZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB0b25lIGlzIGxhdGVyOiBxdWV1ZSBpdC5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Vuc29ydGVkUXVldWUgJiYgdGhpcy5fcXVldWUubGVuZ3RoICYmIHRpbWUgPCB0aGlzLl9xdWV1ZVt0aGlzLl9xdWV1ZS5sZW5ndGggLSAxXS50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gTWF0aC5taW4odGhpcy5fbWluUXVldWVUaW1lLCByZWNvcmQudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGxvdy1sZXZlbCBjYWxsYmFjayBzY2hlZHVsaW5nIG1ldGhvZC5cbiAgICAgICAgc2NoZWR1bGUoZGVsYXksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja1NldC5wdXNoKHsgdGltZTogdGhpcy5ub3coKSArIGRlbGF5LCBjYWxsYmFjazogY2FsbGJhY2sgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGhpZ2gtbGV2ZWwgc2VxdWVuY2luZyBtZXRob2QuXG4gICAgICAgIHBsYXkoYWJjc3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgZG9uZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgb3B0cyA9IHt9LFxuICAgICAgICAgICAgICAgIHN1YmZpbGUsXG4gICAgICAgICAgICAgICAgYWJjZmlsZSxcbiAgICAgICAgICAgICAgICBhcmdpbmRleCxcbiAgICAgICAgICAgICAgICB0ZW1wbyxcbiAgICAgICAgICAgICAgICB0aW1icmUsXG4gICAgICAgICAgICAgICAgayxcbiAgICAgICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgICAgICBtYXhkZWxheSA9IDAsXG4gICAgICAgICAgICAgICAgYXR0ZW51YXRlLFxuICAgICAgICAgICAgICAgIHZvaWNlbmFtZSxcbiAgICAgICAgICAgICAgICBzdGVtcyxcbiAgICAgICAgICAgICAgICBuaSxcbiAgICAgICAgICAgICAgICB2bixcbiAgICAgICAgICAgICAgICBqLFxuICAgICAgICAgICAgICAgIHN0ZW0sXG4gICAgICAgICAgICAgICAgbm90ZSxcbiAgICAgICAgICAgICAgICBiZWF0c2VjcyxcbiAgICAgICAgICAgICAgICBzZWNzLFxuICAgICAgICAgICAgICAgIHYsXG4gICAgICAgICAgICAgICAgZmlsZXMgPSBbXTtcbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGNvbnRpbnVhdGlvbiBhcyBsYXN0IGFyZ3VtZW50LlxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIG9wdGlvbnMgYXMgZmlyc3Qgb2JqZWN0LlxuICAgICAgICAgICAgYXJnaW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgICAgICAgICAgICAvLyBDb3B5IG93biBwcm9wZXJ0aWVzIGludG8gYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICAgICAgICAgICAgZm9yIChrIGluIGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzW2tdID0gYXJnc1swXVtrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ2luZGV4ID0gMTtcbiAgICAgICAgICAgICAgICAvLyBJZiBhIHNvbmcgaXMgc3VwcGxpZWQgYnkgb3B0aW9ucyBvYmplY3QsIHByb2Nlc3MgaXQuXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuaGFzT3duUHJvcGVydHkoXCJzb25nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChvcHRzW1wic29uZ1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyc2UgYW55IG51bWJlciBvZiBBQkMgZmlsZXMgYXMgaW5wdXQuXG4gICAgICAgICAgICBmb3IgKDsgYXJnaW5kZXggPCBhcmdzLmxlbmd0aDsgKythcmdpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzcGxpdHRpbmcgb2YgQUJDIHN1YmZpbGVzIGF0IFg6IGxpbmVzLlxuICAgICAgICAgICAgICAgIHN1YmZpbGUgPSBhcmdzW2FyZ2luZGV4XS5zcGxpdCgvXFxuKD89WDopLyk7XG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHN1YmZpbGUubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgYWJjZmlsZSA9IHBhcnNlQUJDRmlsZShzdWJmaWxlW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhYmNmaWxlKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGFrZSB0ZW1wbyBtYXJraW5ncyBmcm9tIHRoZSBmaXJzdCBmaWxlLCBhbmQgc2hhcmUgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmhhc093blByb3BlcnR5KFwidGVtcG9cIikgJiYgYWJjZmlsZS50ZW1wbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0c1tcInRlbXBvXCJdID0gYWJjZmlsZS50ZW1wbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYmNmaWxlLnVuaXRiZWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0c1tcInRlbXBvXCJdID0gKG9wdHNbXCJ0ZW1wb1wiXSAqIGFiY2ZpbGUudW5pdGJlYXQpIC8gKGFiY2ZpbGUudW5pdG5vdGUgfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGZpbGVzIHdpdGhvdXQgc29uZ3MuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWJjZmlsZS52b2ljZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goYWJjZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVmYXVsdCB0ZW1wbyB0byAxMjAgaWYgbm90aGluZyBlbHNlIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmICghb3B0cy5oYXNPd25Qcm9wZXJ0eShcInRlbXBvXCIpKSB7XG4gICAgICAgICAgICAgICAgb3B0c1tcInRlbXBvXCJdID0gMTIwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVmYXVsdCB2b2x1bWUgdG8gMSBpZiBub3RoaW5nIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmICghb3B0cy5oYXNPd25Qcm9wZXJ0eShcInZvbHVtZVwiKSkge1xuICAgICAgICAgICAgICAgIG9wdHNbXCJ2b2x1bWVcIl0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmVhdHNlY3MgPSA2MC4wIC8gb3B0c1tcInRlbXBvXCJdO1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYWxsIG5vdGVzIGZyb20gYWxsIHRoZSBmaWxlcy5cbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBmaWxlcy5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgIGFiY2ZpbGUgPSBmaWxlc1trXTtcbiAgICAgICAgICAgICAgICAvLyBFYWNoIGZpbGUgY2FuIGhhdmUgbXVsdGlwbGUgdm9pY2VzIChlLmcuLCBsZWZ0IGFuZCByaWdodCBoYW5kcylcbiAgICAgICAgICAgICAgICBmb3IgKHZuIGluIGFiY2ZpbGUudm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCB2b2ljZSBjb3VsZCBoYXZlIGEgc2VwYXJhdGUgdGltYnJlLlxuICAgICAgICAgICAgICAgICAgICB0aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKG9wdHNbXCJ0aW1icmVcIl0gfHwgYWJjZmlsZS52b2ljZVt2bl0udGltYnJlIHx8IGFiY2ZpbGUudGltYnJlIHx8IHRoaXMuX3RpbWJyZSwgdGhpcy5fYXRvcCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggdm9pY2UgaGFzIGEgc2VyaWVzIG9mIHN0ZW1zIChub3RlcyBvciBjaG9yZHMpLlxuICAgICAgICAgICAgICAgICAgICBzdGVtcyA9IGFiY2ZpbGUudm9pY2Vbdm5dLnN0ZW1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0ZW1zKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnRpbmcgYXQgZGVsYXkgemVybyAobm93KSwgc2NoZWR1bGUgYWxsIHRvbmVzLlxuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobmkgPSAwOyBuaSA8IHN0ZW1zLmxlbmd0aDsgKytuaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlbSA9IHN0ZW1zW25pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dGVudWF0ZSBjaG9yZHMgdG8gcmVkdWNlIGNsaXBwaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW51YXRlID0gMSAvIE1hdGguc3FydChzdGVtLm5vdGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBldmVyeSBub3RlIGluc2lkZSBhIHN0ZW0uXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgPSBzdGVtLm5vdGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmhvbGRvdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgaG9sZG92ZXIgbm90ZXMgZnJvbSB0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyA9IChub3RlLnRpbWUgfHwgc3RlbS50aW1lKSAqIGJlYXRzZWNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVtLnN0YWNjYXRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3J0ZW4gc3RhY2NhdG8gbm90ZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgPSBNYXRoLm1pbihNYXRoLm1pbihzZWNzLCBiZWF0c2VjcyAvIDE2KSwgdGltYnJlLmF0dGFjayArIHRpbWJyZS5kZWNheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbm90ZS5zbHVycmVkICYmIHNlY3MgPj0gMSAvIDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VwYXJhdGUgdW5zbHVycmVkIG5vdGVzIGJ5IGFib3V0IGEgMzB0aCBvZiBhIHNlY29uZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyAtPSAxIC8gMzI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAobm90ZS52ZWxvY2l0eSB8fCAxKSAqIGF0dGVudWF0ZSAqIG9wdHNbXCJ2b2x1bWVcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBpbm5zZXJtb3N0IHBhcnQgb2YgdGhlIGlubmVyIGxvb3AhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGF5IHRoZSB0b25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlLnBpdGNoLCAvLyBhdCB0aGUgZ2l2ZW4gcGl0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcywgLy8gZm9yIHRoZSBnaXZlbiBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LCAvLyB3aXRoIHRoZSBnaXZlbiB2b2x1bWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXksIC8vIHN0YXJ0aW5nIGF0IHRoZSBwcm9wZXIgdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1icmUsIC8vIHdpdGggdGhlIHNlbGVjdGVkIHRpbWJyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlIC8vIHRoZSBvcmlnaW4gb2JqZWN0IGZvciB2aXN1YWwgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgKz0gc3RlbS50aW1lICogYmVhdHNlY3M7IC8vIEFkdmFuY2UgdGhlIHNlcXVlbmNlZCB0aW1lLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1heGRlbGF5ID0gTWF0aC5tYXgoZGVsYXksIG1heGRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhTY2hlZHVsZWRUaW1lID0gTWF0aC5tYXgodGhpcy5fbWF4U2NoZWR1bGVkVGltZSwgdGhpcy5ub3coKSArIG1heGRlbGF5KTtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBcImRvbmVcIiBjYWxsYmFjayBhZnRlciBhbGwgc2VxdWVuY2luZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKG1heGRlbGF5LCBkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gRU5EIElOU1RSVU1FTlRcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xufVxuXG5uYW1lc3BhY2UgTXVzaWNhbCB7XG4gICAgZXhwb3J0IHR5cGUgSW5zdHJ1bWVudCA9IF9JbnN0cnVtZW50O1xuICAgIGV4cG9ydCBjb25zdCBwYXJzZUFCQ0ZpbGUgPSBfcGFyc2VBQkNGaWxlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNdXNpY2FsO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apps/shared/sound/Musical.ts\n");

/***/ })

})