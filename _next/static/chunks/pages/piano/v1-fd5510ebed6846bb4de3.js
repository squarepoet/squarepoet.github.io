_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{AQz0:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var i=n("nKUr"),a=n("MX0m"),r=n.n(a),s=(n("q1tI"),function(t){var e=t.width;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:r.a.dynamic([["2109619428",[e]]]),children:"\xa0"}),Object(i.jsx)(r.a,{id:"2109619428",dynamic:[e],children:["div.__jsx-style-dynamic-selector{display:inline-block;min-width:".concat(e,"px;}")]})]})}),o=function(){return Object(i.jsx)(s,{width:20})},c=function(){return Object(i.jsx)(s,{width:30})},l=function(){return Object(i.jsx)(s,{width:60})}},OTm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return p}));var i=n("1OyB"),a=n("vuIU"),r=n("rePB"),s=n("B7GI"),o=n("XlTo");function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var u=function t(e){var n=this;Object(i.a)(this,t),Object(r.a)(this,"filesToLoad",[]);var a,s=c(e);try{var l=function(){var t=a.value,e=new o.i(t,(function(){console.log("Preloaded "+t)}));n.filesToLoad.push(e)};for(s.s();!(a=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}},f=function t(){Object(i.a)(this,t)};Object(r.a)(f,"isRunning",!1);var h,d=f;!function(t){t[t.SynthBasic=0]="SynthBasic",t[t.SynthFM=1]="SynthFM",t[t.SynthAM=2]="SynthAM",t[t.SynthMusicalJS=3]="SynthMusicalJS",t[t.Sampled_1=4]="Sampled_1",t[t.Sampled_2=5]="Sampled_2",t[t.SynthPluck=6]="SynthPluck",t[t.COUNT=7]="COUNT"}(h||(h={}));var p=function(t){var e=parseInt(t);return!isNaN(e)&&e>=0&&e<h.COUNT?e:h.SynthBasic},m=function(){function t(e){if(Object(i.a)(this,t),Object(r.a)(this,"type",h.SynthBasic),Object(r.a)(this,"toneJS_SynthOrSampler",null),Object(r.a)(this,"toneJS_Pluck",null),Object(r.a)(this,"musicalJS_Synth",null),Object(r.a)(this,"isReady",!1),Object(r.a)(this,"preloader",null),Object(r.a)(this,"samplesMap",void 0),Object(r.a)(this,"baseURL",""),this.type=e,this.type===h.SynthMusicalJS)console.log("Creating a Musical JS Instrument"),this.musicalJS_Synth=new s.a.Instrument("piano"),this.isReady=!0;else switch(console.log("Creating a Tone JS Instrument"),d.isRunning||o.k().then((function(){console.log("Tone is Ready!"),d.isRunning=!0})),this.type){case h.Sampled_1:this.baseURL="/s/m/grand/",this.samplesMap={C1:"4.mp3",C2:"16.mp3",C3:"28.mp3",D3:"30.mp3",E3:"32.mp3",G3:"35.mp3",A3:"37.mp3",B3:"39.mp3",C4:"40.mp3",D4:"42.mp3",E4:"44.mp3",F4:"45.mp3",G4:"47.mp3",A4:"49.mp3",C5:"52.mp3",F5:"57.mp3",A5:"61.mp3",C6:"64.mp3",F6:"69.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.01});break;case h.Sampled_2:this.baseURL="/s/m/bright/",this.samplesMap={C1:"4.mp3",G1:"11.mp3",C2:"16.mp3",G2:"23.mp3",C3:"28.mp3",G3:"35.mp3",C4:"40.mp3",G4:"47.mp3",C5:"52.mp3",G5:"59.mp3",C6:"64.mp3",G6:"71.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.05});break;case h.SynthFM:this.toneJS_SynthOrSampler=new o.f(o.c).toDestination(),this.isReady=!0;break;case h.SynthAM:this.toneJS_SynthOrSampler=new o.f(o.a).toDestination(),this.isReady=!0;break;case h.SynthPluck:console.log("%cThe pluck synth is currently really shitty. Please do not proceed. \ud83d\ude49","color:red;font-size:16px;font-weight:bold;"),this.toneJS_Pluck=new o.e({attackNoise:.2,dampening:2e3,resonance:.982,release:1}).toDestination(),this.isReady=!0;break;case h.SynthBasic:default:this.toneJS_SynthOrSampler=new o.f(o.h).toDestination(),this.isReady=!0}}return Object(a.a)(t,[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n>1?n=1:n<0&&(n=0),e<0&&(e=0);var i=e>0?" for ".concat(e," seconds"):"",a=" at velocity = "+n;console.log("Instrument: PLAY "+t+i+a);var r=t+20,s=o.d(r,"midi").toNote();this.toneJS_SynthOrSampler?e>0?this.toneJS_SynthOrSampler.triggerAttackRelease(s,e,o.j(),n):this.toneJS_SynthOrSampler.triggerAttack(s,o.j(),n):this.toneJS_Pluck?this.toneJS_Pluck.triggerAttack(s):this.musicalJS_Synth.tone(-r)}},{key:"stop",value:function(t){if(console.log("Instrument: STOP "+t),this.toneJS_SynthOrSampler){var e=t+20,n=o.d(e,"midi").toNote();this.toneJS_SynthOrSampler.triggerRelease(n)}}},{key:"setupSamplerInstrument",value:function(t){var e=this;this.isReady=!1;var n=[];for(var i in this.samplesMap){var a=this.samplesMap[i];n.push(this.baseURL+a)}this.preloader=new u(n);var r={urls:this.samplesMap,baseUrl:this.baseURL,attack:t.attack,release:.8,curve:"exponential",onload:function(){e.isReady=!0}};this.toneJS_SynthOrSampler=new o.g(r).toDestination()}},{key:"dispose",value:function(){this.preloader=null,this.toneJS_SynthOrSampler&&(this.toneJS_SynthOrSampler.dispose(),this.toneJS_SynthOrSampler=null),this.toneJS_Pluck&&(this.toneJS_Pluck.dispose(),this.toneJS_Pluck=null),this.musicalJS_Synth&&(this.musicalJS_Synth=null)}},{key:"isInitialized",get:function(){return this.isReady}}]),t}();e.b=m},eRSt:function(t,e,n){"use strict";var i=n("nKUr"),a=n("MX0m"),r=n.n(a);e.a=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"jsx-1079321350"}),Object(i.jsx)(r.a,{id:"1079321350",children:["div.jsx-1079321350{clear:both;}"]})]})}},nbY2:function(t,e,n){"use strict";n.r(e),n.d(e,"__N_SSG",(function(){return g}));var i=n("nKUr"),a=n("nZzK"),r=n("WKqS"),s=n("KQm4"),o=n("OTm4"),c=null;function l(t){document.getElementById("textarea").value=t}var u={90:18,88:20,67:21,86:23,66:25,78:27,77:28,188:30,190:32,191:33,65:35,83:37,68:39,70:40,71:42,72:44,74:45,75:47,76:49,186:51,59:51,222:52,81:47,87:49,69:51,82:52,84:54,89:56,85:57,73:59,79:61,80:63,219:64,221:66,220:68,49:59,50:61,51:63,52:64,53:66,54:68,55:69,56:71,57:73,48:75,189:76,187:78},f=function(){var t=[],e=0,n=[2,-1,5,7,-1,10,0],i=[1,3,4,6,8,9,11],a=["a","b","c","d","e","f","g"],f=["z","x","c","v","b","n","m",",",".","/","a","s","d","f","g","h","j","k","l",";","r","t","y","u","i","o","p","4","5","6","7","8","9","0","-","="],h=null;function d(){console.log("Reset Everything!"),e=0,t=[],p()}function p(){console.log(t);var e=t.join(" ");localStorage.text=e,l(e),y()}function m(e){if(0!==t.length){var n=t[t.length-1];if(0!=n.length){var i=n.split(".");for(var a in i){e(parseInt(i[a]))}}}}function y(){var t=h.current;if(t.getContext){var r=t.getContext("2d");r&&(r.scale(2,2),r.fillStyle="#444",r.fillRect(0,0,2080,300),function(t){t.strokeStyle="#000",t.lineWidth=.2,t.fillStyle="#FFF";for(var e=0;e<52;e++)t.fillRect(20*e,0,20,120),t.strokeRect(20*e,0,20,120);t.fillStyle="#FCC",t.fillRect(460,0,20,120)}(r),function(t){t.fillStyle="#323232";for(var e=0;e<7;e++)for(var n=0;n<7;n++)1!=n&&4!=n&&t.fillRect(12+20*(n+7*e),0,16,72);t.fillRect(992,0,16,72)}(r),function(t){t.textAlign="center";for(var n=1;n<=88;n++){var r=n%12;if(i.includes(r)){var s=Math.floor(n/12),o=i.indexOf(r),c=7*s+o,l=a[o];t.font="c"==l?"bold 13px Tahoma":"13px Tahoma",t.fillStyle="#777",t.fillText(l,20*c+10,100),t.font="12px Consolas",t.fillStyle="#999",t.fillText(n,20*c+10,115)}}t.font="15px Consolas",t.fillStyle="#FFF",t.textAlign="center";for(var u=7*(e+2)-4,h=f.length,d=0;d<h;d++)t.fillText(f[d],20*(d+u)+10,140)}(r),function(t){m((function(e){var a=e%12,r=Math.floor((e-1)/12);if(t.beginPath(),n.includes(a)){var s=7*r+n.indexOf(a);t.arc(20*s+20,60,6,0,2*Math.PI,!1)}else{var o=7*r+i.indexOf(a);t.arc(20*o+10,96,7,0,2*Math.PI,!1)}t.fillStyle="#BB0",t.fill()}))}(r),r.setTransform(1,0,0,1,0,0))}}return{startUI:function(e){h=e,function(){localStorage.text||(localStorage.text="");var e=localStorage.text.trim();l((t=""==e?[]:e.split(" ")).join(" "))}(),y()},startAudio:function(){c=new o.b(o.a.SynthBasic)},onKeydown:function(n){if(c&&c.isInitialized){if(91!=n.keyCode&&93!=n.keyCode||document.getElementById("textarea").select(),n.metaKey)88!=n.keyCode&&67!=n.keyCode||(document.execCommand("copy"),setTimeout(d,10));else if(!n.altKey){var o=0;switch(n.ctrlKey?o=-1:n.shiftKey&&(o=1),n.preventDefault(),n.keyCode){case 32:m((function(t){c.play(t,.7,.88)}));break;case 27:n.shiftKey?d():(console.log("Reset Offsets"),e=0);break;case 192:d();break;case 8:t.pop(),p();break;case 9:!function(){if(t.length>=2){var e=(t.pop()+"."+t.pop()).split("."),n=new Set(e);e=Object(s.a)(n).sort(),t.push(e.join(".")),p()}}();break;case 38:e++,y();break;case 40:e--,y();break;default:!function(n,s){if(u.hasOwnProperty(n)){var o=u[n]%12,l=i.indexOf(o),f=a[l].toUpperCase();console.log("play() noteLabel "+f),r.a.isNoteSharp(f)&&s++,r.a.isNoteFlat(f)&&s--;var h=u[n]+s+12*e;if(h<1||h>88)return;t.push(h+""),c.play(h,.7,.88),p()}}(n.keyCode,o)}}}else console.log("Piano is not initialized.")}}}(),h=n("MX0m"),d=n.n(h),p=n("AQz0"),m=n("q1tI"),y=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"jsx-2586494596",children:["shift + esc \u2192 clear ",Object(i.jsx)(p.a,{})," cmd + c \u2192 copy",Object(i.jsx)("br",{className:"jsx-2586494596"}),"shift \u2192 sharp ",Object(i.jsx)(p.a,{})," ctrl \u2192 flat",Object(i.jsx)("br",{className:"jsx-2586494596"}),"up/down \u2192 +/- octave ",Object(i.jsx)(p.a,{})," tab \u2192 combine"]}),Object(i.jsx)(d.a,{id:"2586494596",children:["div.jsx-2586494596{font-size:14pt;float:right;text-align:right;}"]})]})},b=function(t){var e=t.currentTarget.getBoundingClientRect(),n=t.pageX-e.left,i=t.pageY-e.top;console.log("Clicked at "+n+", "+i)},S=function(t){var e=t.canvasRef;return Object(i.jsxs)("div",{id:"content",className:"jsx-3141200938",children:[Object(i.jsx)("textarea",{id:"textarea",rows:8,cols:100,className:"jsx-3141200938"}),Object(i.jsx)("canvas",{ref:e,width:2080,height:300,onClick:b,className:"jsx-3141200938"}),Object(i.jsx)(d.a,{id:"3141200938",children:["div.jsx-3141200938{width:100%;text-align:center;}","textarea.jsx-3141200938{font-family:Hack,Inconsolata,Menlo,Monaco,monospace;font-size:16pt;box-sizing:border-box;border:none;width:1044px;display:block;margin:0 auto;}","canvas.jsx-3141200938{border:2px solid #444;width:1040px;height:150px;display:block;margin:0 auto;}"]})]})},j=n("eRSt"),v=n("t1q6"),x=n("xgb5"),O=function(){var t=Object(m.useRef)(null),e=Object(m.useState)(!0),n=e[0],s=e[1];Object(x.a)("keydown",(function(t){r.a.isFocusedOnInputs()||f.onKeydown(t)}));var o=Object(m.useRef)();return Object(m.useEffect)((function(){r.a.setRef(o),f.startUI(t)}),[]),Object(i.jsxs)(i.Fragment,{children:[n?Object(i.jsx)(v.a,{initialOpenState:n,preloadNow:function(){f.startAudio(),s(!1)}}):null,Object(i.jsxs)("div",{children:[Object(i.jsx)(y,{}),Object(i.jsx)(a.a,{ref:o,localStorageKeyPrefix:"piano",style:{float:"left"}}),Object(i.jsx)(j.a,{}),Object(i.jsx)("br",{}),Object(i.jsx)(S,{canvasRef:t})]})]})},g=!0;e.default=function(){return Object(i.jsx)(O,{})}},ngH8:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/piano/v1",function(){return n("nbY2")}])},t1q6:function(t,e,n){"use strict";var i=n("nKUr"),a=n("q1tI"),r=n("xgb5"),s=n("kfFl"),o=n("yv+Y"),c=n("EQI2"),l=n("++HY"),u=n("+JwS"),f=n("Z3vd");e.a=function(t){var e=t.initialOpenState,n=t.preloadNow,h=Object(a.useState)(e),d=h[0],p=h[1],m=function(t,e){p(!1)};return Object(r.a)("keydown",(function(t){m()})),Object(a.useEffect)((function(){return function(){}}),[]),Object(i.jsx)("div",{children:Object(i.jsxs)(s.a,{onClose:m,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",open:d,onExited:n,children:[Object(i.jsx)(o.a,{id:"dialog-title",children:"Let's Make Music"}),Object(i.jsx)(c.a,{children:Object(i.jsx)(l.a,{id:"dialog-description",children:"This is going to be fun!"})}),Object(i.jsx)(u.a,{children:Object(i.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(t){m()},children:"OK"})})]})})}}},[["ngH8",0,1,3,2,4,5,8,6,9]]]);