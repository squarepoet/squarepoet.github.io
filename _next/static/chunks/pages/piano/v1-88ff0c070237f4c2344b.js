_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{AQz0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s}));var a=n("nKUr"),i=n("MX0m"),c=n.n(i),o=(n("q1tI"),function(e){var t=e.width;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:c.a.dynamic([["2109619428",[t]]]),children:"\xa0"}),Object(a.jsx)(c.a,{id:"2109619428",dynamic:[t],children:["div.__jsx-style-dynamic-selector{display:inline-block;min-width:".concat(t,"px;}")]})]})}),r=function(){return Object(a.jsx)(o,{width:20})},l=function(){return Object(a.jsx)(o,{width:30})},s=function(){return Object(a.jsx)(o,{width:60})}},eRSt:function(e,t,n){"use strict";var a=n("nKUr"),i=n("MX0m"),c=n.n(i);t.a=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"jsx-1079321350"}),Object(a.jsx)(c.a,{id:"1079321350",children:["div.jsx-1079321350{clear:both;}"]})]})}},nbY2:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return w}));var a=n("nKUr"),i=n("nZzK"),c=n("WKqS"),o=n("KQm4"),r=n("OTm4"),l=null;function s(e){document.getElementById("textarea").value=e}var f={90:18,88:20,67:21,86:23,66:25,78:27,77:28,188:30,190:32,191:33,65:35,83:37,68:39,70:40,71:42,72:44,74:45,75:47,76:49,186:51,59:51,222:52,81:47,87:49,69:51,82:52,84:54,89:56,85:57,73:59,79:61,80:63,219:64,221:66,220:68,49:59,50:61,51:63,52:64,53:66,54:68,55:69,56:71,57:73,48:75,189:76,187:78},d=function(){var e=[],t=0,n=[2,-1,5,7,-1,10,0],a=[1,3,4,6,8,9,11],i=["a","b","c","d","e","f","g"],d=["z","x","c","v","b","n","m",",",".","/","a","s","d","f","g","h","j","k","l",";","r","t","y","u","i","o","p","4","5","6","7","8","9","0","-","="],u=null;function j(){console.log("Reset Everything!"),t=0,e=[],x()}function x(){console.log(e);var t=e.join(" ");localStorage.text=t,s(t),h()}function b(t){if(0!==e.length){var n=e[e.length-1];if(0!=n.length){var a=n.split(".");for(var i in a){t(parseInt(a[i]))}}}}function h(){var e=u.current;if(e.getContext){var c=e.getContext("2d");c&&(c.scale(2,2),c.fillStyle="#444",c.fillRect(0,0,2080,300),function(e){e.strokeStyle="#000",e.lineWidth=.2,e.fillStyle="#FFF";for(var t=0;t<52;t++)e.fillRect(20*t,0,20,120),e.strokeRect(20*t,0,20,120);e.fillStyle="#FCC",e.fillRect(460,0,20,120)}(c),function(e){e.fillStyle="#323232";for(var t=0;t<7;t++)for(var n=0;n<7;n++)1!=n&&4!=n&&e.fillRect(12+20*(n+7*t),0,16,72);e.fillRect(992,0,16,72)}(c),function(e){e.textAlign="center";for(var n=1;n<=88;n++){var c=n%12;if(a.includes(c)){var o=Math.floor(n/12),r=a.indexOf(c),l=7*o+r,s=i[r];e.font="c"==s?"bold 13px Tahoma":"13px Tahoma",e.fillStyle="#777",e.fillText(s,20*l+10,100),e.font="12px Consolas",e.fillStyle="#999",e.fillText(n,20*l+10,115)}}e.font="15px Consolas",e.fillStyle="#FFF",e.textAlign="center";for(var f=7*(t+2)-4,u=d.length,j=0;j<u;j++)e.fillText(d[j],20*(j+f)+10,140)}(c),function(e){b((function(t){var i=t%12,c=Math.floor((t-1)/12);if(e.beginPath(),n.includes(i)){var o=7*c+n.indexOf(i);e.arc(20*o+20,60,6,0,2*Math.PI,!1)}else{var r=7*c+a.indexOf(i);e.arc(20*r+10,96,7,0,2*Math.PI,!1)}e.fillStyle="#BB0",e.fill()}))}(c),c.setTransform(1,0,0,1,0,0))}}return{startUI:function(t){u=t,function(){localStorage.text||(localStorage.text="");var t=localStorage.text.trim();s((e=""==t?[]:t.split(" ")).join(" "))}(),h()},startAudio:function(){l=new r.b(r.a.SynthBasic)},onKeydown:function(n){if(l&&l.isInitialized){if(91!=n.keyCode&&93!=n.keyCode||document.getElementById("textarea").select(),n.metaKey)88!=n.keyCode&&67!=n.keyCode||(document.execCommand("copy"),setTimeout(j,10));else if(!n.altKey){var r=0;switch(n.ctrlKey?r=-1:n.shiftKey&&(r=1),n.preventDefault(),n.keyCode){case 32:b((function(e){l.play(e,.7,.88)}));break;case 27:n.shiftKey?j():(console.log("Reset Offsets"),t=0);break;case 192:j();break;case 8:e.pop(),x();break;case 9:!function(){if(e.length>=2){var t=(e.pop()+"."+e.pop()).split("."),n=new Set(t);t=Object(o.a)(n).sort(),e.push(t.join(".")),x()}}();break;case 38:t++,h();break;case 40:t--,h();break;default:!function(n,o){if(f.hasOwnProperty(n)){var r=f[n]%12,s=a.indexOf(r),d=i[s].toUpperCase();console.log("play() noteLabel "+d),c.a.isNoteSharp(d)&&o++,c.a.isNoteFlat(d)&&o--;var u=f[n]+o+12*t;if(u<1||u>88)return;e.push(u+""),l.play(u,.7,.88),x()}}(n.keyCode,r)}}}else console.log("Piano is not initialized.")}}}(),u=n("MX0m"),j=n.n(u),x=n("AQz0"),b=n("q1tI"),h=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"jsx-2586494596",children:["shift + esc \u2192 clear ",Object(a.jsx)(x.a,{})," cmd + c \u2192 copy",Object(a.jsx)("br",{className:"jsx-2586494596"}),"shift \u2192 sharp ",Object(a.jsx)(x.a,{})," ctrl \u2192 flat",Object(a.jsx)("br",{className:"jsx-2586494596"}),"up/down \u2192 +/- octave ",Object(a.jsx)(x.a,{})," tab \u2192 combine"]}),Object(a.jsx)(j.a,{id:"2586494596",children:["div.jsx-2586494596{font-size:14pt;float:right;text-align:right;}"]})]})},p=function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.pageX-t.left,a=e.pageY-t.top;console.log("Clicked at "+n+", "+a)},v=function(e){var t=e.canvasRef;return Object(a.jsxs)("div",{id:"content",className:"jsx-3141200938",children:[Object(a.jsx)("textarea",{id:"textarea",rows:8,cols:100,className:"jsx-3141200938"}),Object(a.jsx)("canvas",{ref:t,width:2080,height:300,onClick:p,className:"jsx-3141200938"}),Object(a.jsx)(j.a,{id:"3141200938",children:["div.jsx-3141200938{width:100%;text-align:center;}","textarea.jsx-3141200938{font-family:Hack,Inconsolata,Menlo,Monaco,monospace;font-size:16pt;box-sizing:border-box;border:none;width:1044px;display:block;margin:0 auto;}","canvas.jsx-3141200938{border:2px solid #444;width:1040px;height:150px;display:block;margin:0 auto;}"]})]})},g=n("eRSt"),O=n("t1q6"),y=n("xgb5"),m=function(){var e=Object(b.useRef)(null),t=Object(b.useState)(!0),n=t[0],o=t[1];Object(y.a)("keydown",(function(e){c.a.isFocusedOnInputs()||d.onKeydown(e)}));var r=Object(b.useRef)();return Object(b.useEffect)((function(){c.a.setRef(r),d.startUI(e)}),[]),Object(a.jsxs)(a.Fragment,{children:[n?Object(a.jsx)(O.a,{initialOpenState:n,preloadNow:function(){d.startAudio(),o(!1)}}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{}),Object(a.jsx)(i.a,{ref:r,localStorageKeyPrefix:"piano",style:{float:"left"}}),Object(a.jsx)(g.a,{}),Object(a.jsx)("br",{}),Object(a.jsx)(v,{canvasRef:e})]})]})},w=!0;t.default=function(){return Object(a.jsx)(m,{})}},ngH8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/piano/v1",function(){return n("nbY2")}])}},[["ngH8",0,1,2,3,4,5,6,7,11,12]]]);