_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"907G":function(t,e,n){"use strict";n.r(e);var i,r=n("nKUr"),a=n("OTm4"),o=n("q1tI");function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=new Set,u=function(){function t(t){i.play(t),l.add(t)}function e(){var t,e=s(l);try{for(e.s();!(t=e.n()).done;){var n=t.value;i.stop(n)}}catch(r){e.e(r)}finally{e.f()}l.clear()}return Object(o.useEffect)((function(){}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){i=new a.b(a.a.SynthBasic)},children:"Start Tone"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:e,children:"Stop Piano Sounds"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"scales",children:"Choose a scale:"})," ",Object(r.jsxs)("select",{name:"scales",id:"scales",children:[Object(r.jsx)("option",{value:"cmajor",children:"C Major"}),Object(r.jsx)("option",{value:"aminor",children:"A Minor"}),Object(r.jsx)("option",{value:"gmajor",children:"G Major"}),Object(r.jsx)("option",{value:"amajor",children:"A Major"})]})]}),Object(r.jsx)("div",{onClick:e,children:"STOP ALL SOUNDS"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"1"}),Object(r.jsx)("div",{children:"2"}),Object(r.jsx)("div",{children:"3"}),Object(r.jsx)("div",{children:"4"}),Object(r.jsx)("div",{children:"5"}),Object(r.jsx)("div",{children:"6"}),Object(r.jsx)("div",{children:"7"}),Object(r.jsx)("div",{onClick:function(){return t(40)},children:"C"}),Object(r.jsx)("div",{onClick:function(){return t(42)},children:"D"}),Object(r.jsx)("div",{children:"3"}),Object(r.jsx)("div",{children:"4"}),Object(r.jsx)("div",{children:"5"}),Object(r.jsx)("div",{children:"6"}),Object(r.jsx)("div",{onClick:function(){return t(51)},children:"B"}),Object(r.jsx)("div",{onClick:function(){return t(52)},children:"C"}),Object(r.jsx)("div",{children:"2"}),Object(r.jsx)("div",{children:"3"}),Object(r.jsx)("div",{children:"4"}),Object(r.jsx)("div",{children:"5"}),Object(r.jsx)("div",{children:"6"}),Object(r.jsx)("div",{children:"7"})]})]})};e.default=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"A Simple Piano Component"}),Object(r.jsx)(u,{})]})}},I2xE:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tests/03-piano-component",function(){return n("907G")}])},OTm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return m}));var i=n("1OyB"),r=n("vuIU"),a=n("rePB"),o=n("B7GI"),s=n("XlTo");function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var u=function t(e){var n=this;Object(i.a)(this,t),Object(a.a)(this,"filesToLoad",[]);var r,o=c(e);try{var l=function(){var t=r.value,e=new s.i(t,(function(){console.log("Preloaded "+t)}));n.filesToLoad.push(e)};for(o.s();!(r=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}},h=function t(){Object(i.a)(this,t)};Object(a.a)(h,"isRunning",!1);var d,p=h;!function(t){t[t.SynthBasic=0]="SynthBasic",t[t.SynthFM=1]="SynthFM",t[t.SynthAM=2]="SynthAM",t[t.SynthMusicalJS=3]="SynthMusicalJS",t[t.Sampled_1=4]="Sampled_1",t[t.Sampled_2=5]="Sampled_2",t[t.SynthPluck=6]="SynthPluck",t[t.COUNT=7]="COUNT"}(d||(d={}));var m=function(t){var e=parseInt(t);return!isNaN(e)&&e>=0&&e<d.COUNT?e:d.SynthBasic},S=function(){function t(e){if(Object(i.a)(this,t),Object(a.a)(this,"type",d.SynthBasic),Object(a.a)(this,"toneJS_SynthOrSampler",null),Object(a.a)(this,"toneJS_Pluck",null),Object(a.a)(this,"musicalJS_Synth",null),Object(a.a)(this,"isReady",!1),Object(a.a)(this,"preloader",null),Object(a.a)(this,"samplesMap",void 0),Object(a.a)(this,"baseURL",""),this.type=e,this.type===d.SynthMusicalJS)console.log("Creating a Musical JS Instrument"),this.musicalJS_Synth=new o.a.Instrument("piano"),this.isReady=!0;else switch(console.log("Creating a Tone JS Instrument"),p.isRunning||s.k().then((function(){console.log("Tone is Ready!"),p.isRunning=!0})),this.type){case d.Sampled_1:this.baseURL="/s/m/grand/",this.samplesMap={C1:"4.mp3",C2:"16.mp3",C3:"28.mp3",D3:"30.mp3",E3:"32.mp3",G3:"35.mp3",A3:"37.mp3",B3:"39.mp3",C4:"40.mp3",D4:"42.mp3",E4:"44.mp3",F4:"45.mp3",G4:"47.mp3",A4:"49.mp3",C5:"52.mp3",F5:"57.mp3",A5:"61.mp3",C6:"64.mp3",F6:"69.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.01});break;case d.Sampled_2:this.baseURL="/s/m/bright/",this.samplesMap={C1:"4.mp3",G1:"11.mp3",C2:"16.mp3",G2:"23.mp3",C3:"28.mp3",G3:"35.mp3",C4:"40.mp3",G4:"47.mp3",C5:"52.mp3",G5:"59.mp3",C6:"64.mp3",G6:"71.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.05});break;case d.SynthFM:this.toneJS_SynthOrSampler=new s.f(s.c).toDestination(),this.isReady=!0;break;case d.SynthAM:this.toneJS_SynthOrSampler=new s.f(s.a).toDestination(),this.isReady=!0;break;case d.SynthPluck:console.log("%cThe pluck synth is currently really shitty. Please do not proceed. \ud83d\ude49","color:red;font-size:16px;font-weight:bold;"),this.toneJS_Pluck=new s.e({attackNoise:.2,dampening:2e3,resonance:.982,release:1}).toDestination(),this.isReady=!0;break;case d.SynthBasic:default:this.toneJS_SynthOrSampler=new s.f(s.h).toDestination(),this.isReady=!0}}return Object(r.a)(t,[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n>1?n=1:n<0&&(n=0),e<0&&(e=0);var i=e>0?" for ".concat(e," seconds"):"",r=" at velocity = "+n;console.log("Instrument: PLAY "+t+i+r);var a=t+20,o=s.d(a,"midi").toNote();this.toneJS_SynthOrSampler?e>0?this.toneJS_SynthOrSampler.triggerAttackRelease(o,e,s.j(),n):this.toneJS_SynthOrSampler.triggerAttack(o,s.j(),n):this.toneJS_Pluck?this.toneJS_Pluck.triggerAttack(o):this.musicalJS_Synth.tone(-a)}},{key:"stop",value:function(t){if(console.log("Instrument: STOP "+t),this.toneJS_SynthOrSampler){var e=t+20,n=s.d(e,"midi").toNote();this.toneJS_SynthOrSampler.triggerRelease(n)}}},{key:"setupSamplerInstrument",value:function(t){var e=this;this.isReady=!1;var n=[];for(var i in this.samplesMap){var r=this.samplesMap[i];n.push(this.baseURL+r)}this.preloader=new u(n);var a={urls:this.samplesMap,baseUrl:this.baseURL,attack:t.attack,release:.8,curve:"exponential",onload:function(){e.isReady=!0}};this.toneJS_SynthOrSampler=new s.g(a).toDestination()}},{key:"dispose",value:function(){this.preloader=null,this.toneJS_SynthOrSampler&&(this.toneJS_SynthOrSampler.dispose(),this.toneJS_SynthOrSampler=null),this.toneJS_Pluck&&(this.toneJS_Pluck.dispose(),this.toneJS_Pluck=null),this.musicalJS_Synth&&(this.musicalJS_Synth=null)}},{key:"isInitialized",get:function(){return this.isReady}}]),t}();e.b=S}},[["I2xE",0,1,3,2]]]);