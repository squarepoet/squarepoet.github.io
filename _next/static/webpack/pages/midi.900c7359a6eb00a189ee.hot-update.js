webpackHotUpdate_N_E("pages/midi",{

/***/ "./apps/shared/sound/Musical.ts":
/*!**************************************!*\
  !*** ./apps/shared/sound/Musical.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\n\n\n// musical.js\n// https://github.com/PencilCode/musical.js\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// WAVETABLE-BUILDER\n// wavetable is a table of names for nonstandard waveforms.\n// The table maps names to objects that have wave: and freq:\n// properties. The wave: property is a PeriodicWave to use\n// for the oscillator.  The freq: property, if present,\n// is a map from higher frequencies to more PeriodicWave\n// objects; when a frequency higher than the given threshold\n// is requested, the alternate PeriodicWave is used.\nvar makeWavetable = function makeWavetable(ac) {\n  return function (wavedata) {\n    function makePeriodicWave(data) {\n      var n = data.real.length,\n          real = new Float32Array(n),\n          imag = new Float32Array(n),\n          j;\n\n      for (j = 0; j < n; ++j) {\n        real[j] = data.real[j];\n        imag[j] = data.imag[j];\n      }\n\n      try {\n        // Latest API naming.\n        return ac.createPeriodicWave(real, imag);\n      } catch (e) {}\n\n      try {\n        // Earlier API naming.\n        return ac.createWaveTable(real, imag);\n      } catch (e) {}\n\n      return null;\n    }\n\n    function makeMultiple(data, mult, amt) {\n      var result = {\n        real: [],\n        imag: []\n      },\n          j,\n          n = data.real.length,\n          m;\n\n      for (j = 0; j < n; ++j) {\n        m = Math.log(mult[Math.min(j, mult.length - 1)]);\n        result.real.push(data.real[j] * Math.exp(amt * m));\n        result.imag.push(data.imag[j] * Math.exp(amt * m));\n      }\n\n      return result;\n    }\n\n    var result = {},\n        k,\n        d,\n        n,\n        j,\n        ff,\n        record,\n        wave,\n        pw;\n\n    for (k in wavedata) {\n      d = wavedata[k];\n      wave = makePeriodicWave(d);\n\n      if (!wave) {\n        continue;\n      }\n\n      record = {\n        wave: wave\n      }; // A strategy for computing higher frequency waveforms: apply\n      // multipliers to each harmonic according to d.mult.  These\n      // multipliers can be interpolated and applied at any number\n      // of transition frequencies.\n\n      if (d.mult) {\n        ff = wavedata[k].freq;\n        record.freq = {};\n\n        for (j = 0; j < ff.length; ++j) {\n          wave = makePeriodicWave(makeMultiple(d, d.mult, (j + 1) / ff.length));\n\n          if (wave) {\n            record.freq[ff[j]] = wave;\n          }\n        }\n      } // This wave has some default filter settings.\n\n\n      if (d.defs) {\n        record.defs = d.defs;\n      }\n\n      result[k] = record;\n    }\n\n    return result;\n  }({\n    // Currently the only nonstandard waveform is \"piano\".\n    // It is based on the first 32 harmonics from the example:\n    // https://github.com/GoogleChrome/web-audio-samples\n    // /blob/gh-pages/samples/audio/wave-tables/Piano\n    // That is a terrific sound for the lowest piano tones.\n    // For higher tones, interpolate to a customzed wave\n    // shape created by hand, and apply a lowpass filter.\n    piano: {\n      real: [0, 0, -0.203569, 0.5, -0.401676, 0.137128, -0.104117, 0.115965, -0.004413, 0.067884, -0.00888, 0.0793, -0.038756, 0.011882, -0.030883, 0.027608, -0.013429, 0.00393, -0.014029, 0.00972, -0.007653, 0.007866, -0.032029, 0.046127, -0.024155, 0.023095, -0.005522, 0.004511, -0.003593, 0.011248, -0.004919, 0.008505],\n      imag: [0, 0.147621, 0, 0.000007, -0.00001, 0.000005, -0.000006, 0.000009, 0, 0.000008, -0.000001, 0.000014, -0.000008, 0.000003, -0.000009, 0.000009, -0.000005, 0.000002, -0.000007, 0.000005, -0.000005, 0.000005, -0.000023, 0.000037, -0.000021, 0.000022, -0.000006, 0.000005, -0.000004, 0.000014, -0.000007, 0.000012],\n      // How to adjust the harmonics for the higest notes.\n      mult: [1, 1, 0.18, 0.016, 0.01, 0.01, 0.01, 0.004, 0.014, 0.02, 0.014, 0.004, 0.002, 0.00001],\n      // The frequencies at which to interpolate the harmonics.\n      freq: [65, 80, 100, 135, 180, 240, 620, 1360],\n      // The default filter settings to use for the piano wave.\n      // TODO: this approach attenuates low notes too much -\n      // this should be fixed.\n      defs: {\n        wave: \"piano\",\n        gain: 0.5,\n        attack: 0.002,\n        decay: 0.25,\n        sustain: 0.03,\n        release: 0.1,\n        decayfollow: 0.7,\n        cutoff: 800,\n        cutfollow: 0.1,\n        resonance: 1,\n        detune: 0.9994\n      }\n    }\n  });\n}; // END WAVETABLE-BUILDER\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// UTILS\n\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Utils);\n  }\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Utils, null, [{\n    key: \"isAudioPresent\",\n    // Tests for the presence of HTML5 Web Audio (or webkit's version).\n    value: function isAudioPresent() {\n      return !!(global.AudioContext || global.webkitAudioContext);\n    } // All our audio funnels through the same AudioContext with a\n    // DynamicsCompressorNode used as the main output, to compress the\n    // dynamic range of all audio.  getAudioTop sets this up.\n\n  }, {\n    key: \"getAudioTop\",\n    value: function getAudioTop() {\n      if (Utils._audioTop) {\n        return Utils._audioTop;\n      }\n\n      if (!Utils.isAudioPresent()) {\n        return null;\n      }\n\n      var ac = new (global.AudioContext || global.webkitAudioContext)();\n      Utils._audioTop = {\n        ac: ac,\n        wavetable: makeWavetable(ac),\n        out: null,\n        currentStart: null\n      };\n      Utils.resetAudio();\n      return Utils._audioTop;\n    } // When audio needs to be interrupted globally (e.g., when you press the\n    // stop button in the IDE), resetAudio does the job.\n\n  }, {\n    key: \"resetAudio\",\n    value: function resetAudio() {\n      if (Utils._audioTop) {\n        var atop = Utils._audioTop; // Disconnect the top-level node and make a new one.\n\n        if (atop.out) {\n          atop.out.disconnect();\n          atop.out = null;\n          atop.currentStart = null;\n        }\n\n        var dcn = atop.ac.createDynamicsCompressor();\n        dcn.ratio.setValueAtTime(16, 0);\n        dcn.attack.setValueAtTime(0.0005, 0); // dcn.ratio = 16; // RONYEH: .ratio is a READ ONLY property.\n        // dcn.attack = 0.0005; // RONYEH: .ratio is a READ ONLY property.\n\n        dcn.connect(atop.ac.destination);\n        atop.out = dcn;\n      }\n    } // For precise scheduling of future notes, the AudioContext currentTime is\n    // cached and is held constant until the script releases to the event loop.\n\n  }, {\n    key: \"audioCurrentStartTime\",\n    value: function audioCurrentStartTime() {\n      var atop = Utils.getAudioTop();\n\n      if (atop.currentStart != null) {\n        return atop.currentStart;\n      } // A delay could be added below to introduce a universal delay in\n      // all beginning sounds (without skewing durations for scheduled\n      // sequences).\n\n\n      atop.currentStart = Math.max(0.25, atop.ac.currentTime\n      /* + 0.0 delay */\n      );\n      setTimeout(function () {\n        atop.currentStart = null;\n      }, 0);\n      return atop.currentStart;\n    } // Converts a midi note number to a frequency in Hz.\n\n  }, {\n    key: \"midiToFrequency\",\n    value: function midiToFrequency(midi) {\n      return 440 * Math.pow(2, (midi - 69) / 12);\n    } // Some constants.\n\n  }, {\n    key: \"frequencyToMidi\",\n    // Converts a frequency in Hz to the closest midi number.\n    value: function frequencyToMidi(freq) {\n      return Math.round(69 + Math.log(freq / 440) * 12 / Math.LN2);\n    } // Converts an ABC pitch (such as \"^G,,\") to a midi note number.\n\n  }, {\n    key: \"pitchToMidi\",\n    value: function pitchToMidi(pitch) {\n      var m = /^(\\^+|_+|=|)([A-Ga-g])([,']*)$/.exec(pitch);\n\n      if (!m) {\n        return null;\n      }\n\n      var octave = m[3].replace(/,/g, \"\").length - m[3].replace(/'/g, \"\").length;\n      var semitone = Utils.noteNum[m[2]] + Utils.accSym[m[1].charAt(0)] * m[1].length + 12 * octave;\n      return semitone + 60; // 60 = midi code middle \"C\".\n    } // Converts a midi number to an ABC notation pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(midi) {\n      var index = (midi - 72) % 12;\n\n      if (midi > 60 || index != 0) {\n        index += 12;\n      }\n\n      var octaves = Math.round((midi - index - 60) / 12),\n          result = Utils.noteName[index];\n\n      while (octaves != 0) {\n        result += octaves > 0 ? \"'\" : \",\";\n        octaves += octaves > 0 ? -1 : 1;\n      }\n\n      return result;\n    } // Converts an ABC pitch to a frequency in Hz.\n\n  }, {\n    key: \"pitchToFrequency\",\n    value: function pitchToFrequency(pitch) {\n      return Utils.midiToFrequency(Utils.pitchToMidi(pitch));\n    } // The default sound is a square wave with a pretty quick decay to zero.\n\n  }, {\n    key: \"makeTimbre\",\n    // Norrmalizes a timbre object by making a copy that has exactly\n    // the right set of timbre fields, defaulting when needed.\n    // A timbre can specify any of the fields of defaultTimbre; any\n    // unspecified fields are treated as they are set in defaultTimbre.\n    value: function makeTimbre(options, atop) {\n      if (!options) {\n        options = {};\n      }\n\n      if (typeof options == \"string\") {\n        // Abbreviation: name a wave to get a default timbre for that wave.\n        options = {\n          wave: options\n        };\n      }\n\n      var result = {},\n          key,\n          wt = atop && atop.wavetable && atop.wavetable[options.wave];\n\n      for (key in Utils.defaultTimbre) {\n        if (options.hasOwnProperty(key)) {\n          result[key] = options[key];\n        } else if (wt && wt.defs && wt.defs.hasOwnProperty(key)) {\n          result[key] = wt.defs[key];\n        } else {\n          result[key] = Utils.defaultTimbre[key];\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getWhiteNoiseBuf\",\n    // cache\n    value: function getWhiteNoiseBuf() {\n      if (whiteNoiseBuf == null) {\n        var ac = Utils.getAudioTop().ac,\n            bufferSize = 2 * ac.sampleRate,\n            whiteNoiseBuf = ac.createBuffer(1, bufferSize, ac.sampleRate),\n            output = whiteNoiseBuf.getChannelData(0);\n\n        for (var i = 0; i < bufferSize; i++) {\n          output[i] = Math.random() * 2 - 1;\n        }\n      }\n\n      return whiteNoiseBuf;\n    } // This utility function creates an oscillator at the given frequency\n    // and the given wavename.  It supports lookups in a static wavetable,\n    // defined right below.\n\n  }, {\n    key: \"makeOscillator\",\n    value: function makeOscillator(atop, wavename, freq) {\n      if (wavename == \"noise\") {\n        var whiteNoise = atop.ac.createBufferSource();\n        whiteNoise.buffer = Utils.getWhiteNoiseBuf();\n        whiteNoise.loop = true;\n        return whiteNoise;\n      }\n\n      var wavetable = atop.wavetable,\n          o = atop.ac.createOscillator(),\n          k,\n          pwave,\n          bwf,\n          wf;\n\n      try {\n        if (wavetable.hasOwnProperty(wavename)) {\n          // Use a customized wavetable.\n          pwave = wavetable[wavename].wave;\n\n          if (wavetable[wavename].freq) {\n            bwf = 0; // Look for a higher-frequency variant.\n\n            for (k in wavetable[wavename].freq) {\n              wf = Number(k);\n\n              if (freq > wf && wf > bwf) {\n                bwf = wf;\n                pwave = wavetable[wavename].freq[bwf];\n              }\n            }\n          }\n\n          if (!o.setPeriodicWave && o.setWaveTable) {\n            // The old API name: Safari 7 still uses this.\n            o.setWaveTable(pwave);\n          } else {\n            // The new API name.\n            o.setPeriodicWave(pwave);\n          }\n        } else {\n          o.type = wavename;\n        }\n      } catch (e) {\n        if (window.console) {\n          window.console.log(e);\n        } // If unrecognized, just use square.\n        // TODO: support \"noise\" or other wave shapes.\n\n\n        o.type = \"square\";\n      } // o.frequency.value = freq; // RONYEH REMOVED DUE TO SOME BUG.\n\n\n      o.frequency.setTargetAtTime(freq, atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n      return o;\n    }\n  }]);\n\n  return Utils;\n}(); // END UTILS\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Parses an ABC file to an object with the following structure:\n// {\n//   X: value from the X: lines in header (\\n separated for multiple values)\n//   V: value from the V:myname lines that appear before K:\n//   (etc): for all the one-letter header-names.\n//   K: value from the K: lines in header.\n//   tempo: Q: line parsed as beatsecs\n//   timbre: ... I:timbre line as parsed by makeTimbre\n//   voice: {\n//     myname: { // voice with id \"myname\"\n//       V: value from the V:myname lines (from the body)\n//       stems: [...] as parsed by parseABCstems\n//    }\n//  }\n// }\n// ABC files are idiosyncratic to parse: the written specifications\n// do not necessarily reflect the defacto standard implemented by\n// ABC content on the web.  This implementation is designed to be\n// practical, working on content as it appears on the web, and only\n// using the written standard as a guideline.\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"_audioTop\", null);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteNum\", {\n  C: 0,\n  D: 2,\n  E: 4,\n  F: 5,\n  G: 7,\n  A: 9,\n  B: 11,\n  c: 12,\n  d: 14,\n  e: 16,\n  f: 17,\n  g: 19,\n  a: 21,\n  b: 23\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"accSym\", {\n  \"^\": 1,\n  \"\": 0,\n  \"=\": 0,\n  _: -1\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteName\", [\"C\", \"^C\", \"D\", \"_E\", \"E\", \"F\", \"^F\", \"G\", \"_A\", \"A\", \"_B\", \"B\", \"c\", \"^c\", \"d\", \"_e\", \"e\", \"f\", \"^f\", \"g\", \"_a\", \"a\", \"_b\", \"b\"]);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"defaultTimbre\", {\n  wave: \"square\",\n  // Oscillator type.\n  gain: 0.1,\n  // Overall gain at maximum attack.\n  attack: 0.002,\n  // Attack time at the beginning of a tone.\n  decay: 0.4,\n  // Rate of exponential decay after attack.\n  decayfollow: 0,\n  // Amount of decay shortening for higher notes.\n  sustain: 0,\n  // Portion of gain to sustain indefinitely.\n  release: 0.1,\n  // Release time after a tone is done.\n  cutoff: 0,\n  // Low-pass filter cutoff frequency.\n  cutfollow: 0,\n  // Cutoff adjustment, a multiple of oscillator freq.\n  resonance: 0,\n  // Low-pass filter resonance.\n  detune: 0 // Detune factor for a second oscillator.\n\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"whiteNoiseBuf\", null);\n\nvar ABCheader = /^([A-Za-z]):\\s*(.*)$/;\nvar ABCtoken = /(?:\\[[A-Za-z]:[^\\]]*\\])|\\s+|%[^\\n]*|![^\\s!:|\\[\\]]*!|\\+[^+|!]*\\+|[_<>@^]?\"[^\"]*\"|\\[|\\]|>+|<+|(?:(?:\\^+|_+|=|)[A-Ga-g](?:,+|'+|))|\\(\\d+(?::\\d+){0,2}|\\d*\\/\\d+|\\d+\\/?|\\/+|[xzXZ]|\\[?\\|\\]?|:?\\|:?|::|./g;\n\nfunction parseABCFile(str) {\n  var lines = str.split(\"\\n\"),\n      result = {},\n      context = result,\n      timbre,\n      j,\n      k,\n      header,\n      stems,\n      key = {},\n      accent = {\n    slurred: 0\n  },\n      voiceid,\n      out; // ABC files are parsed one line at a time.\n\n  for (j = 0; j < lines.length; ++j) {\n    // First, check to see if the line is a header line.\n    header = ABCheader.exec(lines[j]);\n\n    if (header) {\n      handleInformation(header[1], header[2].trim());\n    } else if (/^\\s*(?:%.*)?$/.test(lines[j])) {\n      // Skip blank and comment lines.\n      continue;\n    } else {\n      // Parse the notes.\n      parseABCNotes(lines[j]);\n    }\n  }\n\n  var infer = [\"unitnote\", \"unitbeat\", \"tempo\"];\n\n  if (result.hasOwnProperty(\"voice\") && result.voice !== null) {\n    out = [];\n\n    for (j in result.voice) {\n      if (result.voice[j].stems && result.voice[j].stems.length) {\n        // Calculate times for all the tied notes.  This happens at the end\n        // because in principle, the first note of a song could be tied all\n        // the way through to the last note.\n        processTies(result.voice[j].stems); // Bring up inferred tempo values from voices if not specified\n        // in the header.\n\n        for (k = 0; k < infer.length; ++k) {\n          if (!(infer[k] in result) && infer[k] in result.voice[j]) {\n            result[infer[k]] = result.voice[j][infer[k]];\n          }\n        } // Remove this internal state variable;\n\n\n        delete result.voice[j].accent;\n      } else {\n        out.push(j);\n      }\n    } // Delete any voices that had no stems.\n\n\n    for (j = 0; j < out.length; ++j) {\n      delete result.voice[out[j]];\n    }\n  }\n\n  return result; ////////////////////////////////////////////////////////////////////////\n  // Parsing helper functions below.\n  ////////////////////////////////////////////////////////////////////////\n  // Processes header fields such as V: voice, which may appear at the\n  // top of the ABC file, or in the ABC body in a [V:voice] directive.\n\n  function handleInformation(field, value) {\n    // The following headers are recognized and processed.\n    switch (field) {\n      case \"V\":\n        // A V: header switches voices if in the body.\n        // If in the header, then it is just advisory.\n        if (context !== result) {\n          startVoiceContext(value.split(\" \")[0]);\n        }\n\n        break;\n\n      case \"M\":\n        parseMeter(value, context);\n        break;\n\n      case \"L\":\n        parseUnitNote(value, context);\n        break;\n\n      case \"Q\":\n        parseTempo(value, context);\n        break;\n    } // All headers (including unrecognized ones) are\n    // just accumulated as properties. Repeated header\n    // lines are accumulated as multiline properties.\n\n\n    if (context.hasOwnProperty(field)) {\n      context[field] += \"\\n\" + value;\n    } else {\n      context[field] = value;\n    } // The K header is special: it should be the last one\n    // before the voices and notes begin.\n\n\n    if (field == \"K\") {\n      key = keysig(value);\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n    }\n  } // Shifts context to a voice with the given id given.  If no id\n  // given, then just sticks with the current voice.  If the current\n  // voice is unnamed and empty, renames the current voice.\n\n\n  function startVoiceContext(id) {\n    id = id || \"\";\n\n    if (!id && context !== result) {\n      return;\n    }\n\n    if (!result.voice) {\n      result.voice = {};\n    }\n\n    if (result.voice.hasOwnProperty(id)) {\n      // Resume a named voice.\n      context = result.voice[id];\n      accent = context.accent;\n    } else {\n      // Start a new voice.\n      context = {\n        id: id,\n        accent: {\n          slurred: 0\n        }\n      };\n      result.voice[id] = context;\n      accent = context.accent;\n    }\n  } // For picking a default voice, looks for the first voice name.\n\n\n  function firstVoiceName() {\n    if (result.V) {\n      return result.V.split(/\\s+/)[0];\n    } else {\n      return \"\";\n    }\n  } // Parses a single line of ABC notes (i.e., not a header line).\n  //\n  // We process an ABC song stream by dividing it into tokens, each of\n  // which is a pitch, duration, or special decoration symbol; then\n  // we process each decoration individually, and we process each\n  // stem as a group using parseStem.\n  // The structure of a single ABC note is something like this:\n  //\n  // NOTE -> STACCATO? PITCH DURATION? TIE?\n  //\n  // I.e., it always has a pitch, and it is prefixed by some optional\n  // decorations such as a (.) staccato marking, and it is suffixed by\n  // an optional duration and an optional tie (-) marking.\n  //\n  // A stem is either a note or a bracketed series of notes, followed\n  // by duration and tie.\n  //\n  // STEM -> NOTE   OR    '[' NOTE * ']' DURAITON? TIE?\n  //\n  // Then a song is just a sequence of stems interleaved with other\n  // decorations such as dynamics markings and measure delimiters.\n\n\n  function parseABCNotes(str) {\n    var tokens = str.match(ABCtoken),\n        parsed = null,\n        index = 0,\n        dotted = 0,\n        beatlet = null,\n        t;\n\n    if (!tokens) {\n      return null;\n    }\n\n    while (index < tokens.length) {\n      // Ignore %comments and !markings!\n      if (/^[\\s%]/.test(tokens[index])) {\n        index++;\n        continue;\n      } // Handle inline [X:...] information fields\n\n\n      if (/^\\[[A-Za-z]:[^\\]]*\\]$/.test(tokens[index])) {\n        handleInformation(tokens[index].substring(1, 2), tokens[index].substring(3, tokens[index].length - 1).trim());\n        index++;\n        continue;\n      } // Handled dotted notation abbreviations.\n\n\n      if (/</.test(tokens[index])) {\n        dotted = -tokens[index++].length;\n        continue;\n      }\n\n      if (/>/.test(tokens[index])) {\n        dotted = tokens[index++].length;\n        continue;\n      }\n\n      if (/^\\(\\d+(?::\\d+)*/.test(tokens[index])) {\n        beatlet = parseBeatlet(tokens[index++]);\n        continue;\n      }\n\n      if (/^[!+].*[!+]$/.test(tokens[index])) {\n        parseDecoration(tokens[index++], accent);\n        continue;\n      }\n\n      if (/^.?\".*\"$/.test(tokens[index])) {\n        // Ignore double-quoted tokens (chords and general text annotations).\n        index++;\n        continue;\n      }\n\n      if (/^[()]$/.test(tokens[index])) {\n        if (tokens[index++] == \"(\") {\n          accent.slurred += 1;\n        } else {\n          accent.slurred -= 1;\n\n          if (accent.slurred <= 0) {\n            accent.slurred = 0;\n\n            if (context.stems && context.stems.length >= 1) {\n              // The last notes in a slur are not slurred.\n              slurStem(context.stems[context.stems.length - 1], false);\n            }\n          }\n        }\n\n        continue;\n      } // Handle measure markings by clearing accidentals.\n\n\n      if (/\\|/.test(tokens[index])) {\n        for (t in accent) {\n          if (t.length == 1) {\n            // Single-letter accent properties are note accidentals.\n            delete accent[t];\n          }\n        }\n\n        index++;\n        continue;\n      }\n\n      parsed = parseStem(tokens, index, key, accent); // Skip unparsable bits\n\n      if (parsed === null) {\n        index++;\n        continue;\n      } // Process a parsed stem.\n\n\n      if (beatlet) {\n        scaleStem(parsed.stem, beatlet.time);\n        beatlet.count -= 1;\n\n        if (!beatlet.count) {\n          beatlet = null;\n        }\n      } // If syncopated with > or < notation, shift part of a beat\n      // between this stem and the previous one.\n\n\n      if (dotted && context.stems && context.stems.length) {\n        if (dotted > 0) {\n          t = (1 - Math.pow(0.5, dotted)) * parsed.stem.time;\n        } else {\n          t = (Math.pow(0.5, -dotted) - 1) * context.stems[context.stems.length - 1].time;\n        }\n\n        syncopateStem(context.stems[context.stems.length - 1], t);\n        syncopateStem(parsed.stem, -t);\n      }\n\n      dotted = 0; // Slur all the notes contained within a strem.\n\n      if (accent.slurred) {\n        slurStem(parsed.stem, true);\n      } // Start a default voice if we're not in a voice yet.\n\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n\n      if (!(\"stems\" in context)) {\n        context.stems = [];\n      } // Add the stem to the sequence of stems for this voice.\n\n\n      context.stems.push(parsed.stem); // Advance the parsing index since a stem is multiple tokens.\n\n      index = parsed.index;\n    }\n  } // Parse M: lines.  \"3/4\" is 3/4 time and \"C\" is 4/4 (common) time.\n\n\n  function parseMeter(mline, beatinfo) {\n    var d = /^C/.test(mline) ? 4 / 4 : durationToTime(mline);\n\n    if (!d) {\n      return;\n    }\n\n    if (!beatinfo.unitnote) {\n      if (d < 0.75) {\n        beatinfo.unitnote = 1 / 16;\n      } else {\n        beatinfo.unitnote = 1 / 8;\n      }\n    }\n  } // Parse L: lines, e.g., \"1/8\".\n\n\n  function parseUnitNote(lline, beatinfo) {\n    var d = durationToTime(lline);\n\n    if (!d) {\n      return;\n    }\n\n    beatinfo.unitnote = d;\n  } // Parse Q: line, e.g., \"1/4=66\".\n\n\n  function parseTempo(qline, beatinfo) {\n    var parts = qline.split(/\\s+|=/),\n        j,\n        unit = null,\n        tempo = null;\n\n    for (j = 0; j < parts.length; ++j) {\n      // It could be reversed, like \"66=1/4\", or just \"120\", so\n      // determine what is going on by looking for a slash etc.\n      if (parts[j].indexOf(\"/\") >= 0 || /^[1-4]$/.test(parts[j])) {\n        // The note-unit (e.g., 1/4).\n        unit = unit || durationToTime(parts[j]);\n      } else {\n        // The tempo-number (e.g., 120)\n        tempo = tempo || Number(parts[j]);\n      }\n    }\n\n    if (unit) {\n      beatinfo.unitbeat = unit;\n    }\n\n    if (tempo) {\n      beatinfo.tempo = tempo;\n    }\n  } // Run through all the notes, adding up time for tied notes,\n  // and marking notes that were held over with holdover = true.\n\n\n  function processTies(stems) {\n    var tied = {},\n        nextTied,\n        j,\n        k,\n        note,\n        firstNote;\n\n    for (j = 0; j < stems.length; ++j) {\n      nextTied = {};\n\n      for (k = 0; k < stems[j].notes.length; ++k) {\n        firstNote = note = stems[j].notes[k];\n\n        if (tied.hasOwnProperty(note.pitch)) {\n          // Pitch was tied from before.\n          firstNote = tied[note.pitch]; // Get the earliest note in the tie.\n\n          firstNote.time += note.time; // Extend its time.\n\n          note.holdover = true; // Silence this note as a holdover.\n        }\n\n        if (note.tie) {\n          // This note is tied with the next.\n          nextTied[note.pitch] = firstNote; // Save it away.\n        }\n      }\n\n      tied = nextTied;\n    }\n  } // Returns a map of A-G -> accidentals, according to the key signature.\n  // When n is zero, there are no accidentals (e.g., C major or A minor).\n  // When n is positive, there are n sharps (e.g., for G major, n = 1).\n  // When n is negative, there are -n flats (e.g., for F major, n = -1).\n\n\n  function accidentals(n) {\n    var sharps = \"FCGDAEB\",\n        result = {},\n        j;\n\n    if (!n) {\n      return result;\n    }\n\n    if (n > 0) {\n      // Handle sharps.\n      for (j = 0; j < n && j < 7; ++j) {\n        result[sharps.charAt(j)] = \"^\";\n      }\n    } else {\n      // Flats are in the opposite order.\n      for (j = 0; j > n && j > -7; --j) {\n        result[sharps.charAt(6 + j)] = \"_\";\n      }\n    }\n\n    return result;\n  } // Decodes the key signature line (e.g., K: C#m) at the front of an ABC tune.\n  // Supports the whole range of scale systems listed in the ABC spec.\n\n\n  function keysig(keyname) {\n    if (!keyname) {\n      return {};\n    }\n\n    var kkey,\n        sigcodes = {\n      // Major\n      \"c#\": 7,\n      \"f#\": 6,\n      b: 5,\n      e: 4,\n      a: 3,\n      d: 2,\n      g: 1,\n      c: 0,\n      f: -1,\n      bb: -2,\n      eb: -3,\n      ab: -4,\n      db: -5,\n      gb: -6,\n      cb: -7,\n      // Minor\n      \"a#m\": 7,\n      \"d#m\": 6,\n      \"g#m\": 5,\n      \"c#m\": 4,\n      \"f#m\": 3,\n      bm: 2,\n      em: 1,\n      am: 0,\n      dm: -1,\n      gm: -2,\n      cm: -3,\n      fm: -4,\n      bbm: -5,\n      ebm: -6,\n      abm: -7,\n      // Mixolydian\n      \"g#mix\": 7,\n      \"c#mix\": 6,\n      \"f#mix\": 5,\n      bmix: 4,\n      emix: 3,\n      amix: 2,\n      dmix: 1,\n      gmix: 0,\n      cmix: -1,\n      fmix: -2,\n      bbmix: -3,\n      ebmix: -4,\n      abmix: -5,\n      dbmix: -6,\n      gbmix: -7,\n      // Dorian\n      \"d#dor\": 7,\n      \"g#dor\": 6,\n      \"c#dor\": 5,\n      \"f#dor\": 4,\n      bdor: 3,\n      edor: 2,\n      ador: 1,\n      ddor: 0,\n      gdor: -1,\n      cdor: -2,\n      fdor: -3,\n      bbdor: -4,\n      ebdor: -5,\n      abdor: -6,\n      dbdor: -7,\n      // Phrygian\n      \"e#phr\": 7,\n      \"a#phr\": 6,\n      \"d#phr\": 5,\n      \"g#phr\": 4,\n      \"c#phr\": 3,\n      \"f#phr\": 2,\n      bphr: 1,\n      ephr: 0,\n      aphr: -1,\n      dphr: -2,\n      gphr: -3,\n      cphr: -4,\n      fphr: -5,\n      bbphr: -6,\n      ebphr: -7,\n      // Lydian\n      \"f#lyd\": 7,\n      blyd: 6,\n      elyd: 5,\n      alyd: 4,\n      dlyd: 3,\n      glyd: 2,\n      clyd: 1,\n      flyd: 0,\n      bblyd: -1,\n      eblyd: -2,\n      ablyd: -3,\n      dblyd: -4,\n      gblyd: -5,\n      cblyd: -6,\n      fblyd: -7,\n      // Locrian\n      \"b#loc\": 7,\n      \"e#loc\": 6,\n      \"a#loc\": 5,\n      \"d#loc\": 4,\n      \"g#loc\": 3,\n      \"c#loc\": 2,\n      \"f#loc\": 1,\n      bloc: 0,\n      eloc: -1,\n      aloc: -2,\n      dloc: -3,\n      gloc: -4,\n      cloc: -5,\n      floc: -6,\n      bbloc: -7\n    };\n    var k = keyname.replace(/\\s+/g, \"\").toLowerCase().substr(0, 5);\n    var scale = k.match(/maj|min|mix|dor|phr|lyd|loc|m/);\n\n    if (scale) {\n      if (scale == \"maj\") {\n        kkey = k.substr(0, scale.index);\n      } else if (scale == \"min\") {\n        kkey = k.substr(0, scale.index + 1);\n      } else {\n        kkey = k.substr(0, scale.index + scale[0].length);\n      }\n    } else {\n      kkey = /^[a-g][#b]?/.exec(k) || \"\";\n    }\n\n    var result = accidentals(sigcodes[kkey]);\n    var extras = keyname.substr(kkey.length).match(/(_+|=|\\^+)[a-g]/gi);\n\n    if (extras) {\n      for (var j = 0; j < extras.length; ++j) {\n        var note = extras[j].charAt(extras[j].length - 1).toUpperCase();\n\n        if (extras[j].charAt(0) == \"=\") {\n          delete result[note];\n        } else {\n          result[note] = extras[j].substr(0, extras[j].length - 1);\n        }\n      }\n    }\n\n    return result;\n  } // Additively adjusts the beats for a stem and the contained notes.\n\n\n  function syncopateStem(stem, t) {\n    var j,\n        note,\n        stemtime = stem.time,\n        newtime = stemtime + t;\n    stem.time = newtime;\n    syncopateStem;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j]; // Only adjust a note's duration if it matched the stem's duration.\n\n      if (note.time == stemtime) {\n        note.time = newtime;\n      }\n    }\n  } // Marks everything in the stem with the slur attribute (or deletes it).\n\n\n  function slurStem(stem, addSlur) {\n    var j, note;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j];\n\n      if (addSlur) {\n        note.slurred = true;\n      } else if (note.slurred) {\n        delete note.slurred;\n      }\n    }\n  } // Scales the beats for a stem and the contained notes.\n\n\n  function scaleStem(stem, s) {\n    var j;\n    stem.time *= s;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      stem.notes[j].time *= s;\n    }\n  } // Parses notation of the form (3 or (5:2:10, which means to do\n  // the following 3 notes in the space of 2 notes, or to do the following\n  // 10 notes at the rate of 5 notes per 2 beats.\n\n\n  function parseBeatlet(token) {\n    var m = /^\\((\\d+)(?::(\\d+)(?::(\\d+))?)?$/.exec(token);\n\n    if (!m) {\n      return null;\n    }\n\n    var count = Number(m[1]),\n        beats = Number(m[2]) || 2,\n        duration = Number(m[3]) || count;\n    return {\n      time: beats / count,\n      count: duration\n    };\n  } // Parse !ppp! markings.\n\n\n  function parseDecoration(token, accent) {\n    if (token.length < 2) {\n      return;\n    }\n\n    token = token.substring(1, token.length - 1);\n\n    switch (token) {\n      case \"pppp\":\n      case \"ppp\":\n        accent.dynamics = 0.2;\n        break;\n\n      case \"pp\":\n        accent.dynamics = 0.4;\n        break;\n\n      case \"p\":\n        accent.dynamics = 0.6;\n        break;\n\n      case \"mp\":\n        accent.dynamics = 0.8;\n        break;\n\n      case \"mf\":\n        accent.dynamics = 1.0;\n        break;\n\n      case \"f\":\n        accent.dynamics = 1.2;\n        break;\n\n      case \"ff\":\n        accent.dynamics = 1.4;\n        break;\n\n      case \"fff\":\n      case \"ffff\":\n        accent.dynamics = 1.5;\n        break;\n    }\n  } // Parses a stem, which may be a single note, or which may be\n  // a chorded note.\n\n\n  function parseStem(tokens, index, key, accent) {\n    var notes = [],\n        duration = \"\",\n        staccato = false,\n        noteDuration,\n        noteTime,\n        velocity,\n        lastNote = null,\n        minStemTime = Infinity,\n        j; // A single staccato marking applies to the entire stem.\n\n    if (index < tokens.length && \".\" == tokens[index]) {\n      staccato = true;\n      index++;\n    }\n\n    if (index < tokens.length && tokens[index] == \"[\") {\n      // Deal with [CEG] chorded notation.\n      index++; // Scan notes within the chord.\n\n      while (index < tokens.length) {\n        // Ignore and space and %comments.\n        if (/^[\\s%]/.test(tokens[index])) {\n          index++;\n          continue;\n        }\n\n        if (/[A-Ga-g]/.test(tokens[index])) {\n          // Grab a pitch.\n          lastNote = {\n            pitch: applyAccent(tokens[index++], key, accent),\n            tie: false\n          };\n          lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n          notes.push(lastNote);\n        } else if (/[xzXZ]/.test(tokens[index])) {\n          // Grab a rest.\n          lastNote = null;\n          index++;\n        } else if (\".\" == tokens[index]) {\n          // A staccato mark applies to the entire stem.\n          staccato = true;\n          index++;\n          continue;\n        } else {\n          // Stop parsing the stem if something is unrecognized.\n          break;\n        } // After a pitch or rest, look for a duration.\n\n\n        if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n          noteDuration = tokens[index++];\n          noteTime = durationToTime(noteDuration);\n        } else {\n          noteDuration = \"\";\n          noteTime = 1;\n        } // If it's a note (not a rest), store the duration\n\n\n        if (lastNote) {\n          lastNote.duration = noteDuration;\n          lastNote.time = noteTime;\n        } // When a stem has more than one duration, use the shortest\n        // one for timing. The standard says to pick the first one,\n        // but in practice, transcribed music online seems to\n        // follow the rule that the stem's duration is determined\n        // by the shortest contained duration.\n\n\n        if (noteTime && noteTime < minStemTime) {\n          duration = noteDuration;\n          minStemTime = noteTime;\n        } // After a duration, look for a tie mark.  Individual notes\n        // within a stem can be tied.\n\n\n        if (index < tokens.length && \"-\" == tokens[index]) {\n          if (lastNote) {\n            notes[notes.length - 1].tie = true;\n          }\n\n          index++;\n        }\n      } // The last thing in a chord should be a ].  If it isn't, then\n      // this doesn't look like a stem after all, and return null.\n\n\n      if (tokens[index] != \"]\") {\n        return null;\n      }\n\n      index++;\n    } else if (index < tokens.length && /[A-Ga-g]/.test(tokens[index])) {\n      // Grab a single note.\n      lastNote = {\n        pitch: applyAccent(tokens[index++], key, accent),\n        tie: false,\n        duration: \"\",\n        time: 1\n      };\n      lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n      notes.push(lastNote);\n    } else if (index < tokens.length && /^[xzXZ]$/.test(tokens[index])) {\n      // Grab a rest - no pitch.\n      index++;\n    } else {\n      // Something we don't recognize - not a stem.\n      return null;\n    } // Right after a [chord], note, or rest, look for a duration marking.\n\n\n    if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n      duration = tokens[index++];\n      noteTime = durationToTime(duration); // Apply the duration to all the ntoes in the stem.\n      // NOTE: spec suggests multiplying this duration, but that\n      // idiom is not seen (so far) in practice.\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].duration = duration;\n        notes[j].time = noteTime;\n      }\n    } // Then look for a trailing tie marking.  Will tie every note in a chord.\n\n\n    if (index < tokens.length && \"-\" == tokens[index]) {\n      index++;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].tie = true;\n      }\n    }\n\n    if (accent.dynamics) {\n      velocity = accent.dynamics;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].velocity = velocity;\n      }\n    }\n\n    return {\n      index: index,\n      stem: {\n        notes: notes,\n        duration: duration,\n        staccato: staccato,\n        time: durationToTime(duration)\n      }\n    };\n  } // Normalizes pitch markings by stripping leading = if present.\n\n\n  function stripNatural(pitch) {\n    if (pitch.length > 0 && pitch.charAt(0) == \"=\") {\n      return pitch.substr(1);\n    }\n\n    return pitch;\n  } // Processes an accented pitch, automatically applying accidentals\n  // that have accumulated within the measure, and also saving\n  // explicit accidentals to continue to apply in the measure.\n\n\n  function applyAccent(pitch, key, accent) {\n    var m = /^(\\^+|_+|=|)([A-Ga-g])(.*)$/.exec(pitch),\n        letter;\n\n    if (!m) {\n      return pitch;\n    } // Note that an accidental in one octave applies in other octaves.\n\n\n    letter = m[2].toUpperCase();\n\n    if (m[1].length > 0) {\n      // When there is an explicit accidental, then remember it for\n      // the rest of the measure.\n      accent[letter] = m[1];\n      return stripNatural(pitch);\n    }\n\n    if (accent.hasOwnProperty(letter)) {\n      // Accidentals from this measure apply to unaccented notes.\n      return stripNatural(accent[letter] + m[2] + m[3]);\n    }\n\n    if (key.hasOwnProperty(letter)) {\n      // Key signatures apply by default.\n      return stripNatural(key[letter] + m[2] + m[3]);\n    }\n\n    return stripNatural(pitch);\n  } // Converts an ABC duration to a number (e.g., \"/3\"->0.333 or \"11/2\"->1.5).\n\n\n  function durationToTime(duration) {\n    var m = /^(\\d*)(?:\\/(\\d*))?$|^(\\/+)$/.exec(duration),\n        n,\n        d,\n        i = 0,\n        ilen;\n    if (!m) return;\n    if (m[3]) return Math.pow(0.5, m[3].length);\n    d = m[2] ? parseFloat(m[2]) : /\\//.test(duration) ? 2 : 1; // Handle mixed frations:\n\n    ilen = 0;\n    n = m[1] ? parseFloat(m[1]) : 1;\n\n    if (m[2]) {\n      while (ilen + 1 < m[1].length && n > d) {\n        ilen += 1;\n        i = parseFloat(m[1].substring(0, ilen));\n        n = parseFloat(m[1].substring(ilen));\n      }\n    }\n\n    return i + n / d;\n  }\n} //////////////////////////////////////////////////////////////////////////////////////////////////\n// INSTRUMENTS\n//\n// All further details of audio handling are encapsulated in the Instrument\n// class, which knows how to synthesize a basic timbre; how to play and\n// schedule a tone; and how to parse and sequence a song written in ABC\n// notation.\n// The constructor accepts a timbre string or object, specifying\n// its default sound.  The main mechanisms in Instrument are for handling\n// sequencing of a (potentially large) set of notes over a (potentially\n// long) period of time.  The overall strategy:\n//\n//                       Events:      'noteon'        'noteoff'\n//                                      |               |\n// tone()-(quick tones)->| _startSet -->| _finishSet -->| _cleanupSet -->|\n//   \\                   |  /           | Playing tones | Done tones     |\n//    \\---- _queue ------|-/                                             |\n//      of future tones  |3 secs ahead sent to WebAudio, removed when done\n//\n// The reason for this queuing is to reduce the complexity of the\n// node graph sent to WebAudio: at any time, WebAudio is only\n// responsible for about 2 seconds of music.  If a graph with too\n// too many nodes is sent to WebAudio at once, output distorts badly.\n\n\nvar Instrument = /*#__PURE__*/function () {\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, null, [{\n    key: \"pitchToMidi\",\n    // Seconds to delay all audiable timing.\n    // Seconds before an event to reexamine queue.\n    // Seconds ahead to put notes in WebAudio.\n    // Default duration of a tone.\n    // Silent time before disconnecting nodes.\n    // Accepts either an ABC pitch or a midi number and converts to midi.\n    value: function pitchToMidi(n) {\n      if (typeof n == \"string\") {\n        return Utils.pitchToMidi(n);\n      }\n\n      return n;\n    } // Accepts either an ABC pitch or a midi number and converts to ABC pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(n) {\n      if (typeof n == \"number\") {\n        return Utils.midiToPitch(n);\n      }\n\n      return n;\n    }\n  }]);\n\n  function Instrument(options) {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Instrument);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_out\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_atop\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_timbre\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_queue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_minQueueTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_maxScheduledTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_unsortedQueue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_startSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_finishSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_cleanupSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_callbackSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_handlers\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_now\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_pollTimer\", void 0);\n\n    this._atop = Utils.getAudioTop(); // Audio context.\n\n    this._timbre = Utils.makeTimbre(options, this._atop); // The instrument's timbre.\n\n    this._queue = []; // A queue of future tones to play.\n\n    this._minQueueTime = Infinity; // The earliest time in _queue.\n\n    this._maxScheduledTime = 0; // The latest time in _queue.\n\n    this._unsortedQueue = false; // True if _queue is unsorted.\n\n    this._startSet = []; // Unstarted tones already sent to WebAudio.\n\n    this._finishSet = {}; // Started tones playing in WebAudio.\n\n    this._cleanupSet = []; // Tones waiting for cleanup.\n\n    this._callbackSet = []; // A set of scheduled callbacks.\n\n    this._handlers = {}; // 'noteon' and 'noteoff' handlers.\n\n    this._now = null; // A cached current-time value.\n\n    if (Utils.isAudioPresent()) {\n      this.silence(); // Initializes top-level audio node.\n    }\n  } // Sets the default timbre for the instrument.  See defaultTimbre.\n\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, [{\n    key: \"setTimbre\",\n    value: function setTimbre(t) {\n      this._timbre = Utils.makeTimbre(t, this._atop); // Saves a copy.\n    } // Returns the default timbre for the instrument as an object.\n\n  }, {\n    key: \"getTimbre\",\n    value: function getTimbre(t) {\n      return Utils.makeTimbre(this._timbre, this._atop); // Makes a copy.\n    } // Sets the overall volume for the instrument immediately.\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(v) {\n      // Without an audio system, volume cannot be set.\n      if (!this._out) {\n        return;\n      }\n\n      if (!isNaN(v)) {\n        this._out.gain.value = v;\n      }\n    } // Sets the overall volume for the instrument.\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume(v) {\n      // Without an audio system, volume is stuck at zero.\n      if (!this._out) {\n        return 0.0;\n      }\n\n      return this._out.gain.value;\n    } // Silences the instrument immediately by reinitializing the audio\n    // graph for this instrument and emptying or flushing all queues in the\n    // scheduler.  Carefully notifies all notes that have started but not\n    // yet finished, and sequences that are awaiting scheduled callbacks.\n    // Does not notify notes that have not yet started.\n\n  }, {\n    key: \"silence\",\n    value: function silence() {\n      var j,\n          finished,\n          callbacks,\n          initvolume = 1; // Clear future notes.\n\n      this._queue.length = 0;\n      this._minQueueTime = Infinity;\n      this._maxScheduledTime = 0; // Don't notify notes that haven't started yet.\n\n      this._startSet.length = 0; // Flush finish callbacks that are promised.\n\n      finished = this._finishSet;\n      this._finishSet = {}; // Flush one-time callacks that are promised.\n\n      callbacks = this._callbackSet;\n      this._callbackSet = []; // Disconnect the audio graph for this instrument.\n\n      if (this._out) {\n        this._out.disconnect();\n\n        initvolume = this._out.gain.value;\n      } // Reinitialize the audio graph: all audio for the instrument\n      // multiplexes through a single gain node with a master volume.\n\n\n      this._atop = Utils.getAudioTop();\n      this._out = this._atop.ac.createGain(); // this._out.gain.value = initvolume; // RONYEH REMOVED DUE TO BUG.\n\n      this._out.gain.setTargetAtTime(initvolume, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n\n      this._out.connect(this._atop.out); // As a last step, call all promised notifications.\n\n\n      for (j in finished) {\n        this._trigger(\"noteoff\", finished[j]);\n      }\n\n      for (j = 0; j < callbacks.length; ++j) {\n        callbacks[j].callback();\n      }\n    } // Future notes are scheduled relative to now(), which provides\n    // access to audioCurrentStartTime(), a time that holds steady\n    // until the script releases to the event loop.  When _now is\n    // non-null, it indicates that scheduling is already in progress.\n    // The timer-driven _doPoll function clears the cached _now.\n\n  }, {\n    key: \"now\",\n    value: function now() {\n      if (this._now != null) {\n        return this._now;\n      }\n\n      this._startPollTimer(true); // passing (true) sets this._now.\n\n\n      return this._now;\n    } // Register an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"on\",\n    value: function on(eventname, cb) {\n      if (!this._handlers.hasOwnProperty(eventname)) {\n        this._handlers[eventname] = [];\n      }\n\n      this._handlers[eventname].push(cb);\n    } // Unregister an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"off\",\n    value: function off(eventname, cb) {\n      if (this._handlers.hasOwnProperty(eventname)) {\n        if (!cb) {\n          this._handlers[eventname] = [];\n        } else {\n          var j,\n              hunt = this._handlers[eventname];\n\n          for (j = 0; j < hunt.length; ++j) {\n            if (hunt[j] === cb) {\n              hunt.splice(j, 1);\n              j -= 1;\n            }\n          }\n        }\n      }\n    } // Trigger an event, notifying any registered handlers.\n\n  }, {\n    key: \"_trigger\",\n    value: function _trigger(eventname, record) {\n      var cb = this._handlers[eventname],\n          j;\n\n      if (!cb) {\n        return;\n      }\n\n      if (cb.length == 1) {\n        // Special, common case of one handler: no copy needed.\n        cb[0](record);\n        return;\n      } // Copy the array of callbacks before iterating, because the\n      // main this._handlers copy could be changed by a handler.\n      // You get notified if-and-only-if you are registered\n      // at the starting moment of _trigger.\n\n\n      cb = cb.slice();\n\n      for (j = 0; j < cb.length; ++j) {\n        cb[j](record);\n      }\n    } // Tells the WebAudio API to play a tone (now or soon).  The passed\n    // record specifies a start time and release time, an ADSR envelope,\n    // and other timbre parameters.  This function sets up a WebAudio\n    // node graph for the tone generators and filters for the tone.\n\n  }, {\n    key: \"_makeSound\",\n    value: function _makeSound(record) {\n      var timbre = record.timbre || this._timbre,\n          starttime = record.time + Instrument.timeOffset,\n          releasetime = starttime + record.duration,\n          attacktime = Math.min(releasetime, starttime + timbre.attack),\n          decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n          decaystarttime = attacktime,\n          stoptime = releasetime + timbre.release,\n          doubled = timbre.detune && timbre.detune != 1.0,\n          amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n          ac = this._atop.ac,\n          g,\n          f,\n          o,\n          o2,\n          pwave,\n          k,\n          wf,\n          bwf; // Only hook up tone generators if it is an audible sound.\n\n      if (record.duration > 0 && record.velocity > 0) {\n        g = ac.createGain();\n        g.gain.setValueAtTime(0, starttime);\n        g.gain.linearRampToValueAtTime(amp, attacktime); // For the beginning of the decay, use linearRampToValue instead\n        // of setTargetAtTime, because it avoids http://crbug.com/254942.\n\n        while (decaystarttime < attacktime + 1 / 32 && decaystarttime + 1 / 256 < releasetime) {\n          // Just trace out the curve in increments of 1/256 sec\n          // for up to 1/32 seconds.\n          decaystarttime += 1 / 256;\n          g.gain.linearRampToValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - decaystarttime) / decaytime)), decaystarttime);\n        } // For the rest of the decay, use setTargetAtTime.\n\n\n        g.gain.setTargetAtTime(amp * timbre.sustain, decaystarttime, decaytime); // Then at release time, mark the value and ramp to zero.\n\n        g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n        g.gain.linearRampToValueAtTime(0, stoptime);\n        g.connect(this._out); // Hook up a low-pass filter if cutoff is specified.\n\n        if (!timbre.cutoff && !timbre.cutfollow || timbre.cutoff == Infinity) {\n          f = g;\n        } else {\n          // Apply the cutoff frequency adjusted using cutfollow.\n          f = ac.createBiquadFilter(); // f.frequency.value = timbre.cutoff + record.frequency * timbre.cutfollow; // RONYEH REMOVED DUE TO BUG.\n          // f.Q.value = timbre.resonance; // RONYEH REMOVED DUE TO BUG.\n\n          f.frequency.setTargetAtTime(timbre.cutoff + record.frequency * timbre.cutfollow, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.Q.setTargetAtTime(timbre.resonance, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.connect(g);\n        } // Hook up the main oscillator.\n\n\n        o = Utils.makeOscillator(this._atop, timbre.wave, record.frequency);\n        o.connect(f);\n        o.start(starttime);\n        o.stop(stoptime); // Hook up a detuned oscillator.\n\n        if (doubled) {\n          o2 = Utils.makeOscillator(this._atop, timbre.wave, record.frequency * timbre.detune);\n          o2.connect(f);\n          o2.start(starttime);\n          o2.stop(stoptime);\n        } // Store nodes in the record so that they can be modified\n        // in case the tone is truncated later.\n\n\n        record.gainNode = g;\n        record.oscillators = [o];\n\n        if (doubled) {\n          record.oscillators.push(o2);\n        }\n\n        record.cleanuptime = stoptime;\n      } else {\n        // Inaudible sounds are scheduled: their purpose is to truncate\n        // audible tones at the same pitch.  But duration is set to zero\n        // so that they are cleaned up quickly.\n        record.duration = 0;\n      }\n\n      this._startSet.push(record);\n    } // Truncates a sound previously scheduled by _makeSound by using\n    // cancelScheduledValues and directly ramping down to zero.\n    // Can only be used to shorten a sound.\n\n  }, {\n    key: \"_truncateSound\",\n    value: function _truncateSound(record, truncatetime) {\n      if (truncatetime < record.time + record.duration) {\n        record.duration = Math.max(0, truncatetime - record.time);\n\n        if (record.gainNode) {\n          var timbre = record.timbre || this._timbre,\n              starttime = record.time + Instrument.timeOffset,\n              releasetime = truncatetime + Instrument.timeOffset,\n              attacktime = Math.min(releasetime, starttime + timbre.attack),\n              decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n              stoptime = releasetime + timbre.release,\n              cleanuptime = stoptime + Instrument.cleanupDelay,\n              doubled = timbre.detune && timbre.detune != 1.0,\n              amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n              j,\n              g = record.gainNode; // Cancel any envelope points after the new releasetime.\n\n          g.gain.cancelScheduledValues(releasetime);\n\n          if (releasetime <= starttime) {\n            // Release before start?  Totally silence the note.\n            g.gain.setValueAtTime(0, releasetime);\n          } else if (releasetime <= attacktime) {\n            // Release before attack is done?  Interrupt ramp up.\n            // g.gain.linearRampToValueAtTime((amp * (releasetime - starttime)) / (attacktime - starttime));\n            g.gain.linearRampToValueAtTime(amp * (releasetime - starttime) / (attacktime - starttime), starttime); // RONYEH ADDED SECOND PARAM \"starttime\".\n          } else {\n            // Release during decay?  Interrupt decay down.\n            g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n          } // Then ramp down to zero according to record.release.\n\n\n          g.gain.linearRampToValueAtTime(0, stoptime); // After stoptime, stop the oscillators.  This is necessary to\n          // eliminate extra work for WebAudio for no-longer-audible notes.\n\n          if (record.oscillators) {\n            for (j = 0; j < record.oscillators.length; ++j) {\n              record.oscillators[j].stop(stoptime);\n            }\n          } // Schedule disconnect.\n\n\n          record.cleanuptime = cleanuptime;\n        }\n      }\n    } // The core scheduling loop is managed by Instrument._doPoll.  It reads\n    // the audiocontext's current time and pushes tone records from one\n    // stage to the next.\n    //\n    // 1. The first stage is the _queue, which has tones that have not\n    //    yet been given to WebAudio. This loop scans _queue to find\n    //    notes that need to begin in the next few seconds; then it\n    //    sends those to WebAduio and moves them to _startSet. Because\n    //    scheduled songs can be long, _queue can be large.\n    //\n    // 2. Second is _startSet, which has tones that have been given to\n    //    WebAudio, but whose start times have not yet elapsed. When\n    //    the time advances past the start time of a record, a 'noteon'\n    //    notification is fired for the tone, and it is moved to\n    //    _finishSet.\n    //\n    // 3. _finishSet represents the notes that are currently sounding.\n    //    The programming model for Instrument is that only one tone of\n    //    a specific frequency may be played at once within a Instrument,\n    //    so only one tone of a given frequency may exist in _finishSet\n    //    at once.  When there is a conflict, the sooner-to-end-note\n    //    is truncated.\n    //\n    // 4. After a note is released, it may have a litle release time\n    //    (depending on timbre.release), after which the nodes can\n    //    be totally disconnected and cleaned up.  _cleanupSet holds\n    //    notes for which we are awaiting cleanup.\n\n  }, {\n    key: \"_doPoll\",\n    value: function _doPoll() {\n      this._pollTimer = null;\n      this._now = null;\n\n      if (window.hasOwnProperty(\"interrupted\") && window[\"interrupted\"] === true) {\n        this.silence();\n        return;\n      } // The shortest time we can delay is 1 / 1000 secs, so if an event\n      // is within the next 0.5 ms, now is the closest moment, and we go\n      // ahead and process it.\n\n\n      var instant = this._atop.ac.currentTime + 1 / 2000,\n          callbacks = [],\n          j,\n          work,\n          when,\n          freq,\n          record,\n          conflict,\n          save,\n          cb; // Schedule a batch of notes\n\n      if (this._minQueueTime - instant <= Instrument.bufferSecs) {\n        if (this._unsortedQueue) {\n          this._queue.sort(function (a, b) {\n            if (a.time != b.time) {\n              return a.time - b.time;\n            }\n\n            if (a.duration != b.duration) {\n              return a.duration - b.duration;\n            }\n\n            return a.frequency - b.frequency;\n          });\n\n          this._unsortedQueue = false;\n        }\n\n        for (j = 0; j < this._queue.length; ++j) {\n          if (this._queue[j].time - instant > Instrument.bufferSecs) {\n            break;\n          }\n        }\n\n        if (j > 0) {\n          work = this._queue.splice(0, j);\n\n          for (j = 0; j < work.length; ++j) {\n            this._makeSound(work[j]);\n          }\n\n          this._minQueueTime = this._queue.length > 0 ? this._queue[0].time : Infinity;\n        }\n      } // Disconnect notes from the cleanup set.\n\n\n      for (j = 0; j < this._cleanupSet.length; ++j) {\n        record = this._cleanupSet[j];\n\n        if (record.cleanuptime < instant) {\n          if (record.gainNode) {\n            // This explicit disconnect is needed or else Chrome's WebAudio\n            // starts getting overloaded after a couple thousand notes.\n            record.gainNode.disconnect();\n            record.gainNode = null;\n          }\n\n          this._cleanupSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes finishing.\n\n\n      for (freq in this._finishSet) {\n        record = this._finishSet[freq];\n        when = record.time + record.duration;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 0],\n            f: this._trigger,\n            t: this,\n            a: [\"noteoff\", record]\n          });\n\n          if (record.cleanuptime != Infinity) {\n            this._cleanupSet.push(record);\n          }\n\n          delete this._finishSet[freq];\n        }\n      } // Call any specific one-time callbacks that were registered.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        cb = this._callbackSet[j];\n        when = cb.time;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 1],\n            f: cb.callback,\n            t: null,\n            a: []\n          });\n\n          this._callbackSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes starting.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        if (this._startSet[j].time <= instant) {\n          save = record = this._startSet[j];\n          freq = record.frequency;\n          conflict = null;\n\n          if (this._finishSet.hasOwnProperty(freq)) {\n            // If there is already a note at the same frequency playing,\n            // then release the one that starts first, immediately.\n            conflict = this._finishSet[freq];\n\n            if (conflict.time < record.time || conflict.time == record.time && conflict.duration < record.duration) {\n              // Our new sound conflicts with an old one: end the old one\n              // and notify immediately of its noteoff event.\n              this._truncateSound(conflict, record.time);\n\n              callbacks.push({\n                order: [record.time, 0],\n                f: this._trigger,\n                t: this,\n                a: [\"noteoff\", conflict]\n              });\n              delete this._finishSet[freq];\n            } else {\n              // A conflict from the future has already scheduled,\n              // so our own note shouldn't sound.  Truncate ourselves\n              // immediately, and suppress our own noteon and noteoff.\n              this._truncateSound(record, conflict.time);\n\n              conflict = record;\n            }\n          }\n\n          this._startSet.splice(j, 1);\n\n          j -= 1;\n\n          if (record.duration > 0 && record.velocity > 0 && conflict !== record) {\n            this._finishSet[freq] = record;\n            callbacks.push({\n              order: [record.time, 2],\n              f: this._trigger,\n              t: this,\n              a: [\"noteon\", record]\n            });\n          }\n        }\n      } // Schedule the next _doPoll.\n\n\n      this._startPollTimer(); // Sort callbacks according to the \"order\" tuple, so earlier events\n      // are notified first.\n\n\n      callbacks.sort(function (a, b) {\n        if (a.order[0] != b.order[0]) {\n          return a.order[0] - b.order[0];\n        } // tiebreak by notifying 'noteoff' first and 'noteon' last.\n\n\n        return a.order[1] - b.order[1];\n      }); // At the end, call all the callbacks without depending on \"this\" state.\n\n      for (j = 0; j < callbacks.length; ++j) {\n        cb = callbacks[j];\n        cb.f.apply(cb.t, cb.a);\n      }\n    } // Schedules the next _doPoll call by examining times in the various\n    // sets and determining the soonest event that needs _doPoll processing.\n\n  }, {\n    key: \"_startPollTimer\",\n    value: function _startPollTimer() {\n      var setnow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      // If we have already done a \"setnow\", then pollTimer is zero-timeout\n      // and cannot be faster.\n      if (this._pollTimer && this._now != null) {\n        return;\n      }\n\n      var self = this,\n          poll = function poll() {\n        self._doPoll();\n      },\n          earliest = Infinity,\n          j,\n          delay;\n\n      if (this._pollTimer) {\n        // Clear any old timer\n        clearTimeout(this._pollTimer);\n        this._pollTimer = null;\n      }\n\n      if (setnow) {\n        // When scheduling tones, cache _now and keep a zero-timeout poll.\n        // _now will be cleared the next time we execute _doPoll.\n        this._now = Utils.audioCurrentStartTime();\n        this._pollTimer = setTimeout(poll, 0);\n        return;\n      } // Timer due to notes starting: wake up for 'noteon' notification.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        earliest = Math.min(earliest, this._startSet[j].time);\n      } // Timer due to notes finishing: wake up for 'noteoff' notification.\n\n\n      for (j in this._finishSet) {\n        earliest = Math.min(earliest, this._finishSet[j].time + this._finishSet[j].duration);\n      } // Timer due to scheduled callback.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        earliest = Math.min(earliest, this._callbackSet[j].time);\n      } // Timer due to cleanup: add a second to give some time to batch up.\n\n\n      if (this._cleanupSet.length > 0) {\n        earliest = Math.min(earliest, this._cleanupSet[0].cleanuptime + 1);\n      } // Timer due to sequencer events: subtract a little time to stay ahead.\n\n\n      earliest = Math.min(earliest, this._minQueueTime - Instrument.dequeueTime);\n      delay = Math.max(0.001, earliest - this._atop.ac.currentTime); // If there are no future events, then we do not need a timer.\n\n      if (isNaN(delay) || delay == Infinity) {\n        return;\n      } // Use the Javascript timer to wake up at the right moment.\n\n\n      this._pollTimer = setTimeout(poll, Math.round(delay * 1000));\n    } // The low-level tone function.\n\n  }, {\n    key: \"tone\",\n    value: function tone(pitch, duration, velocity, delay, timbre, origin) {\n      // If audio is not present, this is a no-op.\n      if (!this._atop) {\n        return;\n      } // Called with an object instead of listed args.\n\n\n      if (typeof pitch == \"object\") {\n        if (velocity == null) velocity = pitch.velocity;\n        if (duration == null) duration = pitch.duration;\n        if (delay == null) delay = pitch.delay;\n        if (timbre == null) timbre = pitch.timbre;\n        if (origin == null) origin = pitch.origin;\n        pitch = pitch.pitch;\n      } // Convert pitch from various formats to Hz frequency and a midi num.\n\n\n      var midi, frequency;\n\n      if (!pitch) {\n        pitch = \"C\";\n      }\n\n      if (isNaN(pitch)) {\n        midi = Utils.pitchToMidi(pitch);\n        frequency = Utils.midiToFrequency(midi);\n      } else {\n        frequency = Number(pitch);\n\n        if (frequency < 0) {\n          midi = -frequency;\n          frequency = Utils.midiToFrequency(midi);\n        } else {\n          midi = Utils.frequencyToMidi(frequency);\n        }\n      }\n\n      if (!timbre) {\n        timbre = this._timbre;\n      } // If there is a custom timbre, validate and copy it.\n\n\n      if (timbre !== this._timbre) {\n        var given = timbre,\n            key;\n        timbre = {};\n\n        for (key in Utils.defaultTimbre) {\n          if (key in given) {\n            timbre[key] = given[key];\n          } else {\n            timbre[key] = Utils.defaultTimbre[key]; // RONYEH: There was a typo bug in the original Musical.js. It was caught by our TypeScript compiler.\n          }\n        }\n      } // Create the record for a tone.\n\n\n      var ac = this._atop.ac,\n          now = this.now(),\n          time = now + (delay || 0),\n          record = {\n        time: time,\n        on: false,\n        frequency: frequency,\n        midi: midi,\n        velocity: velocity == null ? 1 : velocity,\n        duration: duration == null ? Instrument.toneLength : duration,\n        timbre: timbre,\n        instrument: this,\n        gainNode: null,\n        oscillators: null,\n        cleanuptime: Infinity,\n        origin: origin // save the origin of the tone for visible feedback\n\n      };\n\n      if (time < now + Instrument.bufferSecs) {\n        // The tone starts soon!  Give it directly to WebAudio.\n        this._makeSound(record);\n      } else {\n        // The tone is later: queue it.\n        if (!this._unsortedQueue && this._queue.length && time < this._queue[this._queue.length - 1].time) {\n          this._unsortedQueue = true;\n        }\n\n        this._queue.push(record);\n\n        this._minQueueTime = Math.min(this._minQueueTime, record.time);\n      }\n    } // The low-level callback scheduling method.\n\n  }, {\n    key: \"schedule\",\n    value: function schedule(delay, callback) {\n      this._callbackSet.push({\n        time: this.now() + delay,\n        callback: callback\n      });\n    } // The high-level sequencing method.\n\n  }, {\n    key: \"play\",\n    value: function play(abcstring) {\n      var args = Array.prototype.slice.call(arguments),\n          done = null,\n          opts = {},\n          subfile,\n          abcfile,\n          argindex,\n          tempo,\n          timbre,\n          k,\n          delay,\n          maxdelay = 0,\n          attenuate,\n          voicename,\n          stems,\n          ni,\n          vn,\n          j,\n          stem,\n          note,\n          beatsecs,\n          secs,\n          v,\n          files = []; // Look for continuation as last argument.\n\n      if (args.length && \"function\" == typeof args[args.length - 1]) {\n        done = args.pop();\n      }\n\n      if (!this._atop) {\n        if (done) {\n          done();\n        }\n\n        return;\n      } // Look for options as first object.\n\n\n      argindex = 0;\n\n      if (\"object\" == typeof args[0]) {\n        // Copy own properties into an options object.\n        for (k in args[0]) {\n          if (args[0].hasOwnProperty(k)) {\n            opts[k] = args[0][k];\n          }\n        }\n\n        argindex = 1; // If a song is supplied by options object, process it.\n\n        if (opts.hasOwnProperty(\"song\")) {\n          args.push(opts[\"song\"]);\n        }\n      } // Parse any number of ABC files as input.\n\n\n      for (; argindex < args.length; ++argindex) {\n        // Handle splitting of ABC subfiles at X: lines.\n        subfile = args[argindex].split(/\\n(?=X:)/);\n\n        for (k = 0; k < subfile.length; ++k) {\n          abcfile = parseABCFile(subfile[k]);\n          if (!abcfile) continue; // Take tempo markings from the first file, and share them.\n\n          if (!opts.hasOwnProperty(\"tempo\") && abcfile.tempo) {\n            opts[\"tempo\"] = abcfile.tempo;\n\n            if (abcfile.unitbeat) {\n              opts[\"tempo\"] = opts[\"tempo\"] * abcfile.unitbeat / (abcfile.unitnote || 1);\n            }\n          } // Ignore files without songs.\n\n\n          if (!abcfile.voice) continue;\n          files.push(abcfile);\n        }\n      } // Default tempo to 120 if nothing else is specified.\n\n\n      if (!opts.hasOwnProperty(\"tempo\")) {\n        opts[\"tempo\"] = 120;\n      } // Default volume to 1 if nothing is specified.\n\n\n      if (!opts.hasOwnProperty(\"volume\")) {\n        opts[\"volume\"] = 1;\n      }\n\n      beatsecs = 60.0 / opts[\"tempo\"]; // Schedule all notes from all the files.\n\n      for (k = 0; k < files.length; ++k) {\n        abcfile = files[k]; // Each file can have multiple voices (e.g., left and right hands)\n\n        for (vn in abcfile.voice) {\n          // Each voice could have a separate timbre.\n          timbre = Utils.makeTimbre(opts[\"timbre\"] || abcfile.voice[vn].timbre || abcfile.timbre || this._timbre, this._atop); // Each voice has a series of stems (notes or chords).\n\n          stems = abcfile.voice[vn].stems;\n          if (!stems) continue; // Starting at delay zero (now), schedule all tones.\n\n          delay = 0;\n\n          for (ni = 0; ni < stems.length; ++ni) {\n            stem = stems[ni]; // Attenuate chords to reduce clipping.\n\n            attenuate = 1 / Math.sqrt(stem.notes.length); // Schedule every note inside a stem.\n\n            for (j = 0; j < stem.notes.length; ++j) {\n              note = stem.notes[j];\n\n              if (note.holdover) {\n                // Skip holdover notes from ties.\n                continue;\n              }\n\n              secs = (note.time || stem.time) * beatsecs;\n\n              if (stem.staccato) {\n                // Shorten staccato notes.\n                secs = Math.min(Math.min(secs, beatsecs / 16), timbre.attack + timbre.decay);\n              } else if (!note.slurred && secs >= 1 / 8) {\n                // Separate unslurred notes by about a 30th of a second.\n                secs -= 1 / 32;\n              }\n\n              v = (note.velocity || 1) * attenuate * opts[\"volume\"]; // This is innsermost part of the inner loop!\n\n              this.tone( // Play the tone:\n              note.pitch, // at the given pitch\n              secs, // for the given duration\n              v, // with the given volume\n              delay, // starting at the proper time\n              timbre, // with the selected timbre\n              note // the origin object for visual feedback\n              );\n            }\n\n            delay += stem.time * beatsecs; // Advance the sequenced time.\n          }\n\n          maxdelay = Math.max(delay, maxdelay);\n        }\n      }\n\n      this._maxScheduledTime = Math.max(this._maxScheduledTime, this.now() + maxdelay);\n\n      if (done) {\n        // Schedule a \"done\" callback after all sequencing is complete.\n        this.schedule(maxdelay, done);\n      }\n    }\n  }]);\n\n  return Instrument;\n}(); //\n// END INSTRUMENT\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Musical JS\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"timeOffset\", 0.0625);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"dequeueTime\", 0.5);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"bufferSecs\", 2);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"toneLength\", 1);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"cleanupDelay\", 0.1);\n\nvar _Instrument = Instrument;\nvar _parseABCFile = parseABCFile;\nvar Musical;\n\n(function (_Musical) {\n  var Instrument = _Musical.Instrument = _Instrument;\n  var parseABCFile = _Musical.parseABCFile = _parseABCFile;\n})(Musical || (Musical = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Musical);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9zaGFyZWQvc291bmQvTXVzaWNhbC50cz8wN2IxIl0sIm5hbWVzIjpbIm1ha2VXYXZldGFibGUiLCJhYyIsIndhdmVkYXRhIiwibWFrZVBlcmlvZGljV2F2ZSIsImRhdGEiLCJuIiwicmVhbCIsImxlbmd0aCIsIkZsb2F0MzJBcnJheSIsImltYWciLCJqIiwiY3JlYXRlUGVyaW9kaWNXYXZlIiwiZSIsImNyZWF0ZVdhdmVUYWJsZSIsIm1ha2VNdWx0aXBsZSIsIm11bHQiLCJhbXQiLCJyZXN1bHQiLCJtIiwiTWF0aCIsImxvZyIsIm1pbiIsInB1c2giLCJleHAiLCJrIiwiZCIsImZmIiwicmVjb3JkIiwid2F2ZSIsInB3IiwiZnJlcSIsImRlZnMiLCJwaWFubyIsImdhaW4iLCJhdHRhY2siLCJkZWNheSIsInN1c3RhaW4iLCJyZWxlYXNlIiwiZGVjYXlmb2xsb3ciLCJjdXRvZmYiLCJjdXRmb2xsb3ciLCJyZXNvbmFuY2UiLCJkZXR1bmUiLCJVdGlscyIsImdsb2JhbCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIl9hdWRpb1RvcCIsImlzQXVkaW9QcmVzZW50Iiwid2F2ZXRhYmxlIiwib3V0IiwiY3VycmVudFN0YXJ0IiwicmVzZXRBdWRpbyIsImF0b3AiLCJkaXNjb25uZWN0IiwiZGNuIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwicmF0aW8iLCJzZXRWYWx1ZUF0VGltZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImdldEF1ZGlvVG9wIiwibWF4IiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwibWlkaSIsInBvdyIsInJvdW5kIiwiTE4yIiwicGl0Y2giLCJleGVjIiwib2N0YXZlIiwicmVwbGFjZSIsInNlbWl0b25lIiwibm90ZU51bSIsImFjY1N5bSIsImNoYXJBdCIsImluZGV4Iiwib2N0YXZlcyIsIm5vdGVOYW1lIiwibWlkaVRvRnJlcXVlbmN5IiwicGl0Y2hUb01pZGkiLCJvcHRpb25zIiwia2V5Iiwid3QiLCJkZWZhdWx0VGltYnJlIiwiaGFzT3duUHJvcGVydHkiLCJ3aGl0ZU5vaXNlQnVmIiwiYnVmZmVyU2l6ZSIsInNhbXBsZVJhdGUiLCJjcmVhdGVCdWZmZXIiLCJvdXRwdXQiLCJnZXRDaGFubmVsRGF0YSIsImkiLCJyYW5kb20iLCJ3YXZlbmFtZSIsIndoaXRlTm9pc2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJnZXRXaGl0ZU5vaXNlQnVmIiwibG9vcCIsIm8iLCJjcmVhdGVPc2NpbGxhdG9yIiwicHdhdmUiLCJid2YiLCJ3ZiIsIk51bWJlciIsInNldFBlcmlvZGljV2F2ZSIsInNldFdhdmVUYWJsZSIsInR5cGUiLCJ3aW5kb3ciLCJjb25zb2xlIiwiZnJlcXVlbmN5Iiwic2V0VGFyZ2V0QXRUaW1lIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJBIiwiQiIsImMiLCJmIiwiZyIsImEiLCJiIiwiXyIsIkFCQ2hlYWRlciIsIkFCQ3Rva2VuIiwicGFyc2VBQkNGaWxlIiwic3RyIiwibGluZXMiLCJzcGxpdCIsImNvbnRleHQiLCJ0aW1icmUiLCJoZWFkZXIiLCJzdGVtcyIsImFjY2VudCIsInNsdXJyZWQiLCJ2b2ljZWlkIiwiaGFuZGxlSW5mb3JtYXRpb24iLCJ0cmltIiwidGVzdCIsInBhcnNlQUJDTm90ZXMiLCJpbmZlciIsInZvaWNlIiwicHJvY2Vzc1RpZXMiLCJmaWVsZCIsInZhbHVlIiwic3RhcnRWb2ljZUNvbnRleHQiLCJwYXJzZU1ldGVyIiwicGFyc2VVbml0Tm90ZSIsInBhcnNlVGVtcG8iLCJrZXlzaWciLCJmaXJzdFZvaWNlTmFtZSIsImlkIiwiViIsInRva2VucyIsIm1hdGNoIiwicGFyc2VkIiwiZG90dGVkIiwiYmVhdGxldCIsInQiLCJzdWJzdHJpbmciLCJwYXJzZUJlYXRsZXQiLCJwYXJzZURlY29yYXRpb24iLCJzbHVyU3RlbSIsInBhcnNlU3RlbSIsInNjYWxlU3RlbSIsInN0ZW0iLCJ0aW1lIiwiY291bnQiLCJzeW5jb3BhdGVTdGVtIiwibWxpbmUiLCJiZWF0aW5mbyIsImR1cmF0aW9uVG9UaW1lIiwidW5pdG5vdGUiLCJsbGluZSIsInFsaW5lIiwicGFydHMiLCJ1bml0IiwidGVtcG8iLCJpbmRleE9mIiwidW5pdGJlYXQiLCJ0aWVkIiwibmV4dFRpZWQiLCJub3RlIiwiZmlyc3ROb3RlIiwibm90ZXMiLCJob2xkb3ZlciIsInRpZSIsImFjY2lkZW50YWxzIiwic2hhcnBzIiwia2V5bmFtZSIsImtrZXkiLCJzaWdjb2RlcyIsImJiIiwiZWIiLCJhYiIsImRiIiwiZ2IiLCJjYiIsImJtIiwiZW0iLCJhbSIsImRtIiwiZ20iLCJjbSIsImZtIiwiYmJtIiwiZWJtIiwiYWJtIiwiYm1peCIsImVtaXgiLCJhbWl4IiwiZG1peCIsImdtaXgiLCJjbWl4IiwiZm1peCIsImJibWl4IiwiZWJtaXgiLCJhYm1peCIsImRibWl4IiwiZ2JtaXgiLCJiZG9yIiwiZWRvciIsImFkb3IiLCJkZG9yIiwiZ2RvciIsImNkb3IiLCJmZG9yIiwiYmJkb3IiLCJlYmRvciIsImFiZG9yIiwiZGJkb3IiLCJicGhyIiwiZXBociIsImFwaHIiLCJkcGhyIiwiZ3BociIsImNwaHIiLCJmcGhyIiwiYmJwaHIiLCJlYnBociIsImJseWQiLCJlbHlkIiwiYWx5ZCIsImRseWQiLCJnbHlkIiwiY2x5ZCIsImZseWQiLCJiYmx5ZCIsImVibHlkIiwiYWJseWQiLCJkYmx5ZCIsImdibHlkIiwiY2JseWQiLCJmYmx5ZCIsImJsb2MiLCJlbG9jIiwiYWxvYyIsImRsb2MiLCJnbG9jIiwiY2xvYyIsImZsb2MiLCJiYmxvYyIsInRvTG93ZXJDYXNlIiwic3Vic3RyIiwic2NhbGUiLCJleHRyYXMiLCJ0b1VwcGVyQ2FzZSIsInN0ZW10aW1lIiwibmV3dGltZSIsImFkZFNsdXIiLCJzIiwidG9rZW4iLCJiZWF0cyIsImR1cmF0aW9uIiwiZHluYW1pY3MiLCJzdGFjY2F0byIsIm5vdGVEdXJhdGlvbiIsIm5vdGVUaW1lIiwidmVsb2NpdHkiLCJsYXN0Tm90ZSIsIm1pblN0ZW1UaW1lIiwiSW5maW5pdHkiLCJhcHBseUFjY2VudCIsInBpdGNoVG9GcmVxdWVuY3kiLCJzdHJpcE5hdHVyYWwiLCJsZXR0ZXIiLCJpbGVuIiwicGFyc2VGbG9hdCIsIkluc3RydW1lbnQiLCJtaWRpVG9QaXRjaCIsIl9hdG9wIiwiX3RpbWJyZSIsIm1ha2VUaW1icmUiLCJfcXVldWUiLCJfbWluUXVldWVUaW1lIiwiX21heFNjaGVkdWxlZFRpbWUiLCJfdW5zb3J0ZWRRdWV1ZSIsIl9zdGFydFNldCIsIl9maW5pc2hTZXQiLCJfY2xlYW51cFNldCIsIl9jYWxsYmFja1NldCIsIl9oYW5kbGVycyIsIl9ub3ciLCJzaWxlbmNlIiwidiIsIl9vdXQiLCJpc05hTiIsImZpbmlzaGVkIiwiY2FsbGJhY2tzIiwiaW5pdHZvbHVtZSIsImNyZWF0ZUdhaW4iLCJfdHJpZ2dlciIsImNhbGxiYWNrIiwiX3N0YXJ0UG9sbFRpbWVyIiwiZXZlbnRuYW1lIiwiaHVudCIsInNwbGljZSIsInNsaWNlIiwic3RhcnR0aW1lIiwidGltZU9mZnNldCIsInJlbGVhc2V0aW1lIiwiYXR0YWNrdGltZSIsImRlY2F5dGltZSIsImRlY2F5c3RhcnR0aW1lIiwic3RvcHRpbWUiLCJkb3VibGVkIiwiYW1wIiwibzIiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsIlEiLCJtYWtlT3NjaWxsYXRvciIsInN0YXJ0Iiwic3RvcCIsImdhaW5Ob2RlIiwib3NjaWxsYXRvcnMiLCJjbGVhbnVwdGltZSIsInRydW5jYXRldGltZSIsImNsZWFudXBEZWxheSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsIl9wb2xsVGltZXIiLCJpbnN0YW50Iiwid29yayIsIndoZW4iLCJjb25mbGljdCIsInNhdmUiLCJidWZmZXJTZWNzIiwic29ydCIsIl9tYWtlU291bmQiLCJvcmRlciIsIl90cnVuY2F0ZVNvdW5kIiwiYXBwbHkiLCJzZXRub3ciLCJzZWxmIiwicG9sbCIsIl9kb1BvbGwiLCJlYXJsaWVzdCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9DdXJyZW50U3RhcnRUaW1lIiwiZGVxdWV1ZVRpbWUiLCJvcmlnaW4iLCJmcmVxdWVuY3lUb01pZGkiLCJnaXZlbiIsIm5vdyIsIm9uIiwidG9uZUxlbmd0aCIsImluc3RydW1lbnQiLCJhYmNzdHJpbmciLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXJndW1lbnRzIiwiZG9uZSIsIm9wdHMiLCJzdWJmaWxlIiwiYWJjZmlsZSIsImFyZ2luZGV4IiwibWF4ZGVsYXkiLCJhdHRlbnVhdGUiLCJ2b2ljZW5hbWUiLCJuaSIsInZuIiwiYmVhdHNlY3MiLCJzZWNzIiwiZmlsZXMiLCJwb3AiLCJzcXJ0IiwidG9uZSIsInNjaGVkdWxlIiwiX0luc3RydW1lbnQiLCJfcGFyc2VBQkNGaWxlIiwiTXVzaWNhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFVQyxFQUFWLEVBQWM7QUFDaEMsU0FBUSxVQUFVQyxRQUFWLEVBQW9CO0FBQ3hCLGFBQVNDLGdCQUFULENBQTBCQyxJQUExQixFQUFnQztBQUM1QixVQUFJQyxDQUFDLEdBQUdELElBQUksQ0FBQ0UsSUFBTCxDQUFVQyxNQUFsQjtBQUFBLFVBQ0lELElBQUksR0FBRyxJQUFJRSxZQUFKLENBQWlCSCxDQUFqQixDQURYO0FBQUEsVUFFSUksSUFBSSxHQUFHLElBQUlELFlBQUosQ0FBaUJILENBQWpCLENBRlg7QUFBQSxVQUdJSyxDQUhKOztBQUlBLFdBQUtBLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR0wsQ0FBaEIsRUFBbUIsRUFBRUssQ0FBckIsRUFBd0I7QUFDcEJKLFlBQUksQ0FBQ0ksQ0FBRCxDQUFKLEdBQVVOLElBQUksQ0FBQ0UsSUFBTCxDQUFVSSxDQUFWLENBQVY7QUFDQUQsWUFBSSxDQUFDQyxDQUFELENBQUos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QSxhQUFLZ0IsUUFBTCxDQUFjWCxRQUFkLEVBQXdCTCxJQUF4QjtBQUNIO0FBQ0o7Ozs7S0FHTDtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7d0pBbHhCTXRGLFUsZ0JBQ2tCLE07O3dKQURsQkEsVSxpQkFFbUIsRzs7d0pBRm5CQSxVLGdCQUdrQixDOzt3SkFIbEJBLFUsZ0JBSWtCLEM7O3dKQUpsQkEsVSxrQkFLb0IsRzs7QUErd0IxQixJQUFNdUcsV0FBVyxHQUFHdkcsVUFBcEI7QUFDQSxJQUFNd0csYUFBYSxHQUFHM1EsWUFBdEI7Ozs7QUFFVyxNQUFNbUssVUFBVSx5QkFBR3VHLFdBQW5CO0FBQ0EsTUFBTTFRLFlBQVksMkJBQUcyUSxhQUFyQjtHQUZEQyxPLEtBQUFBLE87O0FBS0tBLHNFQUFmIiwiZmlsZSI6Ii4vYXBwcy9zaGFyZWQvc291bmQvTXVzaWNhbC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG11c2ljYWwuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9QZW5jaWxDb2RlL211c2ljYWwuanNcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdBVkVUQUJMRS1CVUlMREVSXG5cbi8vIHdhdmV0YWJsZSBpcyBhIHRhYmxlIG9mIG5hbWVzIGZvciBub25zdGFuZGFyZCB3YXZlZm9ybXMuXG4vLyBUaGUgdGFibGUgbWFwcyBuYW1lcyB0byBvYmplY3RzIHRoYXQgaGF2ZSB3YXZlOiBhbmQgZnJlcTpcbi8vIHByb3BlcnRpZXMuIFRoZSB3YXZlOiBwcm9wZXJ0eSBpcyBhIFBlcmlvZGljV2F2ZSB0byB1c2Vcbi8vIGZvciB0aGUgb3NjaWxsYXRvci4gIFRoZSBmcmVxOiBwcm9wZXJ0eSwgaWYgcHJlc2VudCxcbi8vIGlzIGEgbWFwIGZyb20gaGlnaGVyIGZyZXF1ZW5jaWVzIHRvIG1vcmUgUGVyaW9kaWNXYXZlXG4vLyBvYmplY3RzOyB3aGVuIGEgZnJlcXVlbmN5IGhpZ2hlciB0aGFuIHRoZSBnaXZlbiB0aHJlc2hvbGRcbi8vIGlzIHJlcXVlc3RlZCwgdGhlIGFsdGVybmF0ZSBQZXJpb2RpY1dhdmUgaXMgdXNlZC5cblxuY29uc3QgbWFrZVdhdmV0YWJsZSA9IGZ1bmN0aW9uIChhYykge1xuICAgIHJldHVybiAoZnVuY3Rpb24gKHdhdmVkYXRhKSB7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VQZXJpb2RpY1dhdmUoZGF0YSkge1xuICAgICAgICAgICAgdmFyIG4gPSBkYXRhLnJlYWwubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHJlYWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pLFxuICAgICAgICAgICAgICAgIGltYWcgPSBuZXcgRmxvYXQzMkFycmF5KG4pLFxuICAgICAgICAgICAgICAgIGo7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgcmVhbFtqXSA9IGRhdGEucmVhbFtqXTtcbiAgICAgICAgICAgICAgICBpbWFnW2pdID0gZGF0YS5pbWFnW2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBMYXRlc3QgQVBJIG5hbWluZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gYWMuY3JlYXRlUGVyaW9kaWNXYXZlKHJlYWwsIGltYWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRWFybGllciBBUEkgbmFtaW5nLlxuICAgICAgICAgICAgICAgIHJldHVybiBhYy5jcmVhdGVXYXZlVGFibGUocmVhbCwgaW1hZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZU11bHRpcGxlKGRhdGEsIG11bHQsIGFtdCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmVhbDogW10sIGltYWc6IFtdIH0sXG4gICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICBuID0gZGF0YS5yZWFsLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIG0gPSBNYXRoLmxvZyhtdWx0W01hdGgubWluKGosIG11bHQubGVuZ3RoIC0gMSldKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucmVhbC5wdXNoKGRhdGEucmVhbFtqXSAqIE1hdGguZXhwKGFtdCAqIG0pKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuaW1hZy5wdXNoKGRhdGEuaW1hZ1tqXSAqIE1hdGguZXhwKGFtdCAqIG0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9LFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGZmLFxuICAgICAgICAgICAgcmVjb3JkLFxuICAgICAgICAgICAgd2F2ZSxcbiAgICAgICAgICAgIHB3O1xuICAgICAgICBmb3IgKGsgaW4gd2F2ZWRhdGEpIHtcbiAgICAgICAgICAgIGQgPSB3YXZlZGF0YVtrXTtcbiAgICAgICAgICAgIHdhdmUgPSBtYWtlUGVyaW9kaWNXYXZlKGQpO1xuICAgICAgICAgICAgaWYgKCF3YXZlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQgPSB7IHdhdmU6IHdhdmUgfTtcbiAgICAgICAgICAgIC8vIEEgc3RyYXRlZ3kgZm9yIGNvbXB1dGluZyBoaWdoZXIgZnJlcXVlbmN5IHdhdmVmb3JtczogYXBwbHlcbiAgICAgICAgICAgIC8vIG11bHRpcGxpZXJzIHRvIGVhY2ggaGFybW9uaWMgYWNjb3JkaW5nIHRvIGQubXVsdC4gIFRoZXNlXG4gICAgICAgICAgICAvLyBtdWx0aXBsaWVycyBjYW4gYmUgaW50ZXJwb2xhdGVkIGFuZCBhcHBsaWVkIGF0IGFueSBudW1iZXJcbiAgICAgICAgICAgIC8vIG9mIHRyYW5zaXRpb24gZnJlcXVlbmNpZXMuXG4gICAgICAgICAgICBpZiAoZC5tdWx0KSB7XG4gICAgICAgICAgICAgICAgZmYgPSB3YXZlZGF0YVtrXS5mcmVxO1xuICAgICAgICAgICAgICAgIHJlY29yZC5mcmVxID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGZmLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhdmUgPSBtYWtlUGVyaW9kaWNXYXZlKG1ha2VNdWx0aXBsZShkLCBkLm11bHQsIChqICsgMSkgLyBmZi5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5mcmVxW2ZmW2pdXSA9IHdhdmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHdhdmUgaGFzIHNvbWUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MuXG4gICAgICAgICAgICBpZiAoZC5kZWZzKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLmRlZnMgPSBkLmRlZnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRba10gPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KSh7XG4gICAgICAgIC8vIEN1cnJlbnRseSB0aGUgb25seSBub25zdGFuZGFyZCB3YXZlZm9ybSBpcyBcInBpYW5vXCIuXG4gICAgICAgIC8vIEl0IGlzIGJhc2VkIG9uIHRoZSBmaXJzdCAzMiBoYXJtb25pY3MgZnJvbSB0aGUgZXhhbXBsZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItYXVkaW8tc2FtcGxlc1xuICAgICAgICAvLyAvYmxvYi9naC1wYWdlcy9zYW1wbGVzL2F1ZGlvL3dhdmUtdGFibGVzL1BpYW5vXG4gICAgICAgIC8vIFRoYXQgaXMgYSB0ZXJyaWZpYyBzb3VuZCBmb3IgdGhlIGxvd2VzdCBwaWFubyB0b25lcy5cbiAgICAgICAgLy8gRm9yIGhpZ2hlciB0b25lcywgaW50ZXJwb2xhdGUgdG8gYSBjdXN0b216ZWQgd2F2ZVxuICAgICAgICAvLyBzaGFwZSBjcmVhdGVkIGJ5IGhhbmQsIGFuZCBhcHBseSBhIGxvd3Bhc3MgZmlsdGVyLlxuICAgICAgICBwaWFubzoge1xuICAgICAgICAgICAgcmVhbDogW1xuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAtMC4yMDM1NjksXG4gICAgICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgICAgIC0wLjQwMTY3NixcbiAgICAgICAgICAgICAgICAwLjEzNzEyOCxcbiAgICAgICAgICAgICAgICAtMC4xMDQxMTcsXG4gICAgICAgICAgICAgICAgMC4xMTU5NjUsXG4gICAgICAgICAgICAgICAgLTAuMDA0NDEzLFxuICAgICAgICAgICAgICAgIDAuMDY3ODg0LFxuICAgICAgICAgICAgICAgIC0wLjAwODg4LFxuICAgICAgICAgICAgICAgIDAuMDc5MyxcbiAgICAgICAgICAgICAgICAtMC4wMzg3NTYsXG4gICAgICAgICAgICAgICAgMC4wMTE4ODIsXG4gICAgICAgICAgICAgICAgLTAuMDMwODgzLFxuICAgICAgICAgICAgICAgIDAuMDI3NjA4LFxuICAgICAgICAgICAgICAgIC0wLjAxMzQyOSxcbiAgICAgICAgICAgICAgICAwLjAwMzkzLFxuICAgICAgICAgICAgICAgIC0wLjAxNDAyOSxcbiAgICAgICAgICAgICAgICAwLjAwOTcyLFxuICAgICAgICAgICAgICAgIC0wLjAwNzY1MyxcbiAgICAgICAgICAgICAgICAwLjAwNzg2NixcbiAgICAgICAgICAgICAgICAtMC4wMzIwMjksXG4gICAgICAgICAgICAgICAgMC4wNDYxMjcsXG4gICAgICAgICAgICAgICAgLTAuMDI0MTU1LFxuICAgICAgICAgICAgICAgIDAuMDIzMDk1LFxuICAgICAgICAgICAgICAgIC0wLjAwNTUyMixcbiAgICAgICAgICAgICAgICAwLjAwNDUxMSxcbiAgICAgICAgICAgICAgICAtMC4wMDM1OTMsXG4gICAgICAgICAgICAgICAgMC4wMTEyNDgsXG4gICAgICAgICAgICAgICAgLTAuMDA0OTE5LFxuICAgICAgICAgICAgICAgIDAuMDA4NTA1LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGltYWc6IFtcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAuMTQ3NjIxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDEsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA2LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA5LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDgsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDAxLFxuICAgICAgICAgICAgICAgIDAuMDAwMDE0LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwOCxcbiAgICAgICAgICAgICAgICAwLjAwMDAwMyxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDksXG4gICAgICAgICAgICAgICAgMC4wMDAwMDksXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIDAuMDAwMDAyLFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNyxcbiAgICAgICAgICAgICAgICAwLjAwMDAwNSxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDIzLFxuICAgICAgICAgICAgICAgIDAuMDAwMDM3LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAyMSxcbiAgICAgICAgICAgICAgICAwLjAwMDAyMixcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDYsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA0LFxuICAgICAgICAgICAgICAgIDAuMDAwMDE0LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNyxcbiAgICAgICAgICAgICAgICAwLjAwMDAxMixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvLyBIb3cgdG8gYWRqdXN0IHRoZSBoYXJtb25pY3MgZm9yIHRoZSBoaWdlc3Qgbm90ZXMuXG4gICAgICAgICAgICBtdWx0OiBbMSwgMSwgMC4xOCwgMC4wMTYsIDAuMDEsIDAuMDEsIDAuMDEsIDAuMDA0LCAwLjAxNCwgMC4wMiwgMC4wMTQsIDAuMDA0LCAwLjAwMiwgMC4wMDAwMV0sXG4gICAgICAgICAgICAvLyBUaGUgZnJlcXVlbmNpZXMgYXQgd2hpY2ggdG8gaW50ZXJwb2xhdGUgdGhlIGhhcm1vbmljcy5cbiAgICAgICAgICAgIGZyZXE6IFs2NSwgODAsIDEwMCwgMTM1LCAxODAsIDI0MCwgNjIwLCAxMzYwXSxcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IGZpbHRlciBzZXR0aW5ncyB0byB1c2UgZm9yIHRoZSBwaWFubyB3YXZlLlxuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBhcHByb2FjaCBhdHRlbnVhdGVzIGxvdyBub3RlcyB0b28gbXVjaCAtXG4gICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBiZSBmaXhlZC5cbiAgICAgICAgICAgIGRlZnM6IHsgd2F2ZTogXCJwaWFub1wiLCBnYWluOiAwLjUsIGF0dGFjazogMC4wMDIsIGRlY2F5OiAwLjI1LCBzdXN0YWluOiAwLjAzLCByZWxlYXNlOiAwLjEsIGRlY2F5Zm9sbG93OiAwLjcsIGN1dG9mZjogODAwLCBjdXRmb2xsb3c6IDAuMSwgcmVzb25hbmNlOiAxLCBkZXR1bmU6IDAuOTk5NCB9LFxuICAgICAgICB9LFxuICAgIH0pO1xufTtcblxuLy8gRU5EIFdBVkVUQUJMRS1CVUlMREVSXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVVRJTFNcblxuY2xhc3MgVXRpbHMge1xuICAgIC8vIFRlc3RzIGZvciB0aGUgcHJlc2VuY2Ugb2YgSFRNTDUgV2ViIEF1ZGlvIChvciB3ZWJraXQncyB2ZXJzaW9uKS5cbiAgICBzdGF0aWMgaXNBdWRpb1ByZXNlbnQoKSB7XG4gICAgICAgIHJldHVybiAhIShnbG9iYWwuQXVkaW9Db250ZXh0IHx8IGdsb2JhbC53ZWJraXRBdWRpb0NvbnRleHQpO1xuICAgIH1cblxuICAgIC8vIEFsbCBvdXIgYXVkaW8gZnVubmVscyB0aHJvdWdoIHRoZSBzYW1lIEF1ZGlvQ29udGV4dCB3aXRoIGFcbiAgICAvLyBEeW5hbWljc0NvbXByZXNzb3JOb2RlIHVzZWQgYXMgdGhlIG1haW4gb3V0cHV0LCB0byBjb21wcmVzcyB0aGVcbiAgICAvLyBkeW5hbWljIHJhbmdlIG9mIGFsbCBhdWRpby4gIGdldEF1ZGlvVG9wIHNldHMgdGhpcyB1cC5cbiAgICBwcml2YXRlIHN0YXRpYyBfYXVkaW9Ub3AgPSBudWxsO1xuICAgIHN0YXRpYyBnZXRBdWRpb1RvcCgpIHtcbiAgICAgICAgaWYgKFV0aWxzLl9hdWRpb1RvcCkge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLl9hdWRpb1RvcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIVV0aWxzLmlzQXVkaW9QcmVzZW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhYyA9IG5ldyAoZ2xvYmFsLkF1ZGlvQ29udGV4dCB8fCBnbG9iYWwud2Via2l0QXVkaW9Db250ZXh0KSgpO1xuICAgICAgICBVdGlscy5fYXVkaW9Ub3AgPSB7XG4gICAgICAgICAgICBhYzogYWMsXG4gICAgICAgICAgICB3YXZldGFibGU6IG1ha2VXYXZldGFibGUoYWMpLFxuICAgICAgICAgICAgb3V0OiBudWxsLFxuICAgICAgICAgICAgY3VycmVudFN0YXJ0OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBVdGlscy5yZXNldEF1ZGlvKCk7XG4gICAgICAgIHJldHVybiBVdGlscy5fYXVkaW9Ub3A7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBhdWRpbyBuZWVkcyB0byBiZSBpbnRlcnJ1cHRlZCBnbG9iYWxseSAoZS5nLiwgd2hlbiB5b3UgcHJlc3MgdGhlXG4gICAgLy8gc3RvcCBidXR0b24gaW4gdGhlIElERSksIHJlc2V0QXVkaW8gZG9lcyB0aGUgam9iLlxuICAgIHN0YXRpYyByZXNldEF1ZGlvKCkge1xuICAgICAgICBpZiAoVXRpbHMuX2F1ZGlvVG9wKSB7XG4gICAgICAgICAgICB2YXIgYXRvcCA9IFV0aWxzLl9hdWRpb1RvcDtcbiAgICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHRvcC1sZXZlbCBub2RlIGFuZCBtYWtlIGEgbmV3IG9uZS5cbiAgICAgICAgICAgIGlmIChhdG9wLm91dCkge1xuICAgICAgICAgICAgICAgIGF0b3Aub3V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBhdG9wLm91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYXRvcC5jdXJyZW50U3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRjbiA9IGF0b3AuYWMuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCk7XG4gICAgICAgICAgICBkY24ucmF0aW8uc2V0VmFsdWVBdFRpbWUoMTYsIDApO1xuICAgICAgICAgICAgZGNuLmF0dGFjay5zZXRWYWx1ZUF0VGltZSgwLjAwMDUsIDApO1xuICAgICAgICAgICAgLy8gZGNuLnJhdGlvID0gMTY7IC8vIFJPTllFSDogLnJhdGlvIGlzIGEgUkVBRCBPTkxZIHByb3BlcnR5LlxuICAgICAgICAgICAgLy8gZGNuLmF0dGFjayA9IDAuMDAwNTsgLy8gUk9OWUVIOiAucmF0aW8gaXMgYSBSRUFEIE9OTFkgcHJvcGVydHkuXG4gICAgICAgICAgICBkY24uY29ubmVjdChhdG9wLmFjLmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIGF0b3Aub3V0ID0gZGNuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIHByZWNpc2Ugc2NoZWR1bGluZyBvZiBmdXR1cmUgbm90ZXMsIHRoZSBBdWRpb0NvbnRleHQgY3VycmVudFRpbWUgaXNcbiAgICAvLyBjYWNoZWQgYW5kIGlzIGhlbGQgY29uc3RhbnQgdW50aWwgdGhlIHNjcmlwdCByZWxlYXNlcyB0byB0aGUgZXZlbnQgbG9vcC5cbiAgICBzdGF0aWMgYXVkaW9DdXJyZW50U3RhcnRUaW1lKCkge1xuICAgICAgICB2YXIgYXRvcCA9IFV0aWxzLmdldEF1ZGlvVG9wKCk7XG4gICAgICAgIGlmIChhdG9wLmN1cnJlbnRTdGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYXRvcC5jdXJyZW50U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBkZWxheSBjb3VsZCBiZSBhZGRlZCBiZWxvdyB0byBpbnRyb2R1Y2UgYSB1bml2ZXJzYWwgZGVsYXkgaW5cbiAgICAgICAgLy8gYWxsIGJlZ2lubmluZyBzb3VuZHMgKHdpdGhvdXQgc2tld2luZyBkdXJhdGlvbnMgZm9yIHNjaGVkdWxlZFxuICAgICAgICAvLyBzZXF1ZW5jZXMpLlxuICAgICAgICBhdG9wLmN1cnJlbnRTdGFydCA9IE1hdGgubWF4KDAuMjUsIGF0b3AuYWMuY3VycmVudFRpbWUgLyogKyAwLjAgZGVsYXkgKi8pO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGF0b3AuY3VycmVudFN0YXJ0ID0gbnVsbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiBhdG9wLmN1cnJlbnRTdGFydDtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0cyBhIG1pZGkgbm90ZSBudW1iZXIgdG8gYSBmcmVxdWVuY3kgaW4gSHouXG4gICAgc3RhdGljIG1pZGlUb0ZyZXF1ZW5jeShtaWRpKSB7XG4gICAgICAgIHJldHVybiA0NDAgKiBNYXRoLnBvdygyLCAobWlkaSAtIDY5KSAvIDEyKTtcbiAgICB9XG5cbiAgICAvLyBTb21lIGNvbnN0YW50cy5cbiAgICBzdGF0aWMgbm90ZU51bSA9IHsgQzogMCwgRDogMiwgRTogNCwgRjogNSwgRzogNywgQTogOSwgQjogMTEsIGM6IDEyLCBkOiAxNCwgZTogMTYsIGY6IDE3LCBnOiAxOSwgYTogMjEsIGI6IDIzIH07XG4gICAgc3RhdGljIGFjY1N5bSA9IHsgXCJeXCI6IDEsIFwiXCI6IDAsIFwiPVwiOiAwLCBfOiAtMSB9O1xuICAgIHN0YXRpYyBub3RlTmFtZSA9IFtcIkNcIiwgXCJeQ1wiLCBcIkRcIiwgXCJfRVwiLCBcIkVcIiwgXCJGXCIsIFwiXkZcIiwgXCJHXCIsIFwiX0FcIiwgXCJBXCIsIFwiX0JcIiwgXCJCXCIsIFwiY1wiLCBcIl5jXCIsIFwiZFwiLCBcIl9lXCIsIFwiZVwiLCBcImZcIiwgXCJeZlwiLCBcImdcIiwgXCJfYVwiLCBcImFcIiwgXCJfYlwiLCBcImJcIl07XG5cbiAgICAvLyBDb252ZXJ0cyBhIGZyZXF1ZW5jeSBpbiBIeiB0byB0aGUgY2xvc2VzdCBtaWRpIG51bWJlci5cbiAgICBzdGF0aWMgZnJlcXVlbmN5VG9NaWRpKGZyZXEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoNjkgKyAoTWF0aC5sb2coZnJlcSAvIDQ0MCkgKiAxMikgLyBNYXRoLkxOMik7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgYW4gQUJDIHBpdGNoIChzdWNoIGFzIFwiXkcsLFwiKSB0byBhIG1pZGkgbm90ZSBudW1iZXIuXG4gICAgc3RhdGljIHBpdGNoVG9NaWRpKHBpdGNoKSB7XG4gICAgICAgIHZhciBtID0gL14oXFxeK3xfK3w9fCkoW0EtR2EtZ10pKFssJ10qKSQvLmV4ZWMocGl0Y2gpO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvY3RhdmUgPSBtWzNdLnJlcGxhY2UoLywvZywgXCJcIikubGVuZ3RoIC0gbVszXS5yZXBsYWNlKC8nL2csIFwiXCIpLmxlbmd0aDtcbiAgICAgICAgdmFyIHNlbWl0b25lID0gVXRpbHMubm90ZU51bVttWzJdXSArIFV0aWxzLmFjY1N5bVttWzFdLmNoYXJBdCgwKV0gKiBtWzFdLmxlbmd0aCArIDEyICogb2N0YXZlO1xuICAgICAgICByZXR1cm4gc2VtaXRvbmUgKyA2MDsgLy8gNjAgPSBtaWRpIGNvZGUgbWlkZGxlIFwiQ1wiLlxuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIGEgbWlkaSBudW1iZXIgdG8gYW4gQUJDIG5vdGF0aW9uIHBpdGNoLlxuICAgIHN0YXRpYyBtaWRpVG9QaXRjaChtaWRpKSB7XG4gICAgICAgIHZhciBpbmRleCA9IChtaWRpIC0gNzIpICUgMTI7XG4gICAgICAgIGlmIChtaWRpID4gNjAgfHwgaW5kZXggIT0gMCkge1xuICAgICAgICAgICAgaW5kZXggKz0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9jdGF2ZXMgPSBNYXRoLnJvdW5kKChtaWRpIC0gaW5kZXggLSA2MCkgLyAxMiksXG4gICAgICAgICAgICByZXN1bHQgPSBVdGlscy5ub3RlTmFtZVtpbmRleF07XG4gICAgICAgIHdoaWxlIChvY3RhdmVzICE9IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBvY3RhdmVzID4gMCA/IFwiJ1wiIDogXCIsXCI7XG4gICAgICAgICAgICBvY3RhdmVzICs9IG9jdGF2ZXMgPiAwID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgYW4gQUJDIHBpdGNoIHRvIGEgZnJlcXVlbmN5IGluIEh6LlxuICAgIHN0YXRpYyBwaXRjaFRvRnJlcXVlbmN5KHBpdGNoKSB7XG4gICAgICAgIHJldHVybiBVdGlscy5taWRpVG9GcmVxdWVuY3koVXRpbHMucGl0Y2hUb01pZGkocGl0Y2gpKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBzb3VuZCBpcyBhIHNxdWFyZSB3YXZlIHdpdGggYSBwcmV0dHkgcXVpY2sgZGVjYXkgdG8gemVyby5cbiAgICBzdGF0aWMgZGVmYXVsdFRpbWJyZSA9IHtcbiAgICAgICAgd2F2ZTogXCJzcXVhcmVcIiwgLy8gT3NjaWxsYXRvciB0eXBlLlxuICAgICAgICBnYWluOiAwLjEsIC8vIE92ZXJhbGwgZ2FpbiBhdCBtYXhpbXVtIGF0dGFjay5cbiAgICAgICAgYXR0YWNrOiAwLjAwMiwgLy8gQXR0YWNrIHRpbWUgYXQgdGhlIGJlZ2lubmluZyBvZiBhIHRvbmUuXG4gICAgICAgIGRlY2F5OiAwLjQsIC8vIFJhdGUgb2YgZXhwb25lbnRpYWwgZGVjYXkgYWZ0ZXIgYXR0YWNrLlxuICAgICAgICBkZWNheWZvbGxvdzogMCwgLy8gQW1vdW50IG9mIGRlY2F5IHNob3J0ZW5pbmcgZm9yIGhpZ2hlciBub3Rlcy5cbiAgICAgICAgc3VzdGFpbjogMCwgLy8gUG9ydGlvbiBvZiBnYWluIHRvIHN1c3RhaW4gaW5kZWZpbml0ZWx5LlxuICAgICAgICByZWxlYXNlOiAwLjEsIC8vIFJlbGVhc2UgdGltZSBhZnRlciBhIHRvbmUgaXMgZG9uZS5cbiAgICAgICAgY3V0b2ZmOiAwLCAvLyBMb3ctcGFzcyBmaWx0ZXIgY3V0b2ZmIGZyZXF1ZW5jeS5cbiAgICAgICAgY3V0Zm9sbG93OiAwLCAvLyBDdXRvZmYgYWRqdXN0bWVudCwgYSBtdWx0aXBsZSBvZiBvc2NpbGxhdG9yIGZyZXEuXG4gICAgICAgIHJlc29uYW5jZTogMCwgLy8gTG93LXBhc3MgZmlsdGVyIHJlc29uYW5jZS5cbiAgICAgICAgZGV0dW5lOiAwLCAvLyBEZXR1bmUgZmFjdG9yIGZvciBhIHNlY29uZCBvc2NpbGxhdG9yLlxuICAgIH07XG5cbiAgICAvLyBOb3JybWFsaXplcyBhIHRpbWJyZSBvYmplY3QgYnkgbWFraW5nIGEgY29weSB0aGF0IGhhcyBleGFjdGx5XG4gICAgLy8gdGhlIHJpZ2h0IHNldCBvZiB0aW1icmUgZmllbGRzLCBkZWZhdWx0aW5nIHdoZW4gbmVlZGVkLlxuICAgIC8vIEEgdGltYnJlIGNhbiBzcGVjaWZ5IGFueSBvZiB0aGUgZmllbGRzIG9mIGRlZmF1bHRUaW1icmU7IGFueVxuICAgIC8vIHVuc3BlY2lmaWVkIGZpZWxkcyBhcmUgdHJlYXRlZCBhcyB0aGV5IGFyZSBzZXQgaW4gZGVmYXVsdFRpbWJyZS5cbiAgICBzdGF0aWMgbWFrZVRpbWJyZShvcHRpb25zLCBhdG9wKSB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBBYmJyZXZpYXRpb246IG5hbWUgYSB3YXZlIHRvIGdldCBhIGRlZmF1bHQgdGltYnJlIGZvciB0aGF0IHdhdmUuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3YXZlOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9LFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgd3QgPSBhdG9wICYmIGF0b3Aud2F2ZXRhYmxlICYmIGF0b3Aud2F2ZXRhYmxlW29wdGlvbnMud2F2ZV07XG4gICAgICAgIGZvciAoa2V5IGluIFV0aWxzLmRlZmF1bHRUaW1icmUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod3QgJiYgd3QuZGVmcyAmJiB3dC5kZWZzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHd0LmRlZnNba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBVdGlscy5kZWZhdWx0VGltYnJlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzdGF0aWMgd2hpdGVOb2lzZUJ1ZiA9IG51bGw7IC8vIGNhY2hlXG4gICAgc3RhdGljIGdldFdoaXRlTm9pc2VCdWYoKSB7XG4gICAgICAgIGlmICh3aGl0ZU5vaXNlQnVmID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBhYyA9IFV0aWxzLmdldEF1ZGlvVG9wKCkuYWMsXG4gICAgICAgICAgICAgICAgYnVmZmVyU2l6ZSA9IDIgKiBhYy5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgICAgIHdoaXRlTm9pc2VCdWYgPSBhYy5jcmVhdGVCdWZmZXIoMSwgYnVmZmVyU2l6ZSwgYWMuc2FtcGxlUmF0ZSksXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gd2hpdGVOb2lzZUJ1Zi5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W2ldID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aGl0ZU5vaXNlQnVmO1xuICAgIH1cblxuICAgIC8vIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBjcmVhdGVzIGFuIG9zY2lsbGF0b3IgYXQgdGhlIGdpdmVuIGZyZXF1ZW5jeVxuICAgIC8vIGFuZCB0aGUgZ2l2ZW4gd2F2ZW5hbWUuICBJdCBzdXBwb3J0cyBsb29rdXBzIGluIGEgc3RhdGljIHdhdmV0YWJsZSxcbiAgICAvLyBkZWZpbmVkIHJpZ2h0IGJlbG93LlxuICAgIHN0YXRpYyBtYWtlT3NjaWxsYXRvcihhdG9wLCB3YXZlbmFtZSwgZnJlcSkge1xuICAgICAgICBpZiAod2F2ZW5hbWUgPT0gXCJub2lzZVwiKSB7XG4gICAgICAgICAgICB2YXIgd2hpdGVOb2lzZSA9IGF0b3AuYWMuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICB3aGl0ZU5vaXNlLmJ1ZmZlciA9IFV0aWxzLmdldFdoaXRlTm9pc2VCdWYoKTtcbiAgICAgICAgICAgIHdoaXRlTm9pc2UubG9vcCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gd2hpdGVOb2lzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2F2ZXRhYmxlID0gYXRvcC53YXZldGFibGUsXG4gICAgICAgICAgICBvID0gYXRvcC5hYy5jcmVhdGVPc2NpbGxhdG9yKCksXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgcHdhdmUsXG4gICAgICAgICAgICBid2YsXG4gICAgICAgICAgICB3ZjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh3YXZldGFibGUuaGFzT3duUHJvcGVydHkod2F2ZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIGEgY3VzdG9taXplZCB3YXZldGFibGUuXG4gICAgICAgICAgICAgICAgcHdhdmUgPSB3YXZldGFibGVbd2F2ZW5hbWVdLndhdmU7XG4gICAgICAgICAgICAgICAgaWYgKHdhdmV0YWJsZVt3YXZlbmFtZV0uZnJlcSkge1xuICAgICAgICAgICAgICAgICAgICBid2YgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhIGhpZ2hlci1mcmVxdWVuY3kgdmFyaWFudC5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChrIGluIHdhdmV0YWJsZVt3YXZlbmFtZV0uZnJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2YgPSBOdW1iZXIoayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlcSA+IHdmICYmIHdmID4gYndmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYndmID0gd2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhdmUgPSB3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXFbYndmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW8uc2V0UGVyaW9kaWNXYXZlICYmIG8uc2V0V2F2ZVRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBvbGQgQVBJIG5hbWU6IFNhZmFyaSA3IHN0aWxsIHVzZXMgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgby5zZXRXYXZlVGFibGUocHdhdmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBuZXcgQVBJIG5hbWUuXG4gICAgICAgICAgICAgICAgICAgIG8uc2V0UGVyaW9kaWNXYXZlKHB3YXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG8udHlwZSA9IHdhdmVuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB1bnJlY29nbml6ZWQsIGp1c3QgdXNlIHNxdWFyZS5cbiAgICAgICAgICAgIC8vIFRPRE86IHN1cHBvcnQgXCJub2lzZVwiIG9yIG90aGVyIHdhdmUgc2hhcGVzLlxuICAgICAgICAgICAgby50eXBlID0gXCJzcXVhcmVcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXE7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBTT01FIEJVRy5cbiAgICAgICAgby5mcmVxdWVuY3kuc2V0VGFyZ2V0QXRUaW1lKGZyZXEsIGF0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbn1cblxuLy8gRU5EIFVUSUxTXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBQYXJzZXMgYW4gQUJDIGZpbGUgdG8gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4vLyB7XG4vLyAgIFg6IHZhbHVlIGZyb20gdGhlIFg6IGxpbmVzIGluIGhlYWRlciAoXFxuIHNlcGFyYXRlZCBmb3IgbXVsdGlwbGUgdmFsdWVzKVxuLy8gICBWOiB2YWx1ZSBmcm9tIHRoZSBWOm15bmFtZSBsaW5lcyB0aGF0IGFwcGVhciBiZWZvcmUgSzpcbi8vICAgKGV0Yyk6IGZvciBhbGwgdGhlIG9uZS1sZXR0ZXIgaGVhZGVyLW5hbWVzLlxuLy8gICBLOiB2YWx1ZSBmcm9tIHRoZSBLOiBsaW5lcyBpbiBoZWFkZXIuXG4vLyAgIHRlbXBvOiBROiBsaW5lIHBhcnNlZCBhcyBiZWF0c2Vjc1xuLy8gICB0aW1icmU6IC4uLiBJOnRpbWJyZSBsaW5lIGFzIHBhcnNlZCBieSBtYWtlVGltYnJlXG4vLyAgIHZvaWNlOiB7XG4vLyAgICAgbXluYW1lOiB7IC8vIHZvaWNlIHdpdGggaWQgXCJteW5hbWVcIlxuLy8gICAgICAgVjogdmFsdWUgZnJvbSB0aGUgVjpteW5hbWUgbGluZXMgKGZyb20gdGhlIGJvZHkpXG4vLyAgICAgICBzdGVtczogWy4uLl0gYXMgcGFyc2VkIGJ5IHBhcnNlQUJDc3RlbXNcbi8vICAgIH1cbi8vICB9XG4vLyB9XG4vLyBBQkMgZmlsZXMgYXJlIGlkaW9zeW5jcmF0aWMgdG8gcGFyc2U6IHRoZSB3cml0dGVuIHNwZWNpZmljYXRpb25zXG4vLyBkbyBub3QgbmVjZXNzYXJpbHkgcmVmbGVjdCB0aGUgZGVmYWN0byBzdGFuZGFyZCBpbXBsZW1lbnRlZCBieVxuLy8gQUJDIGNvbnRlbnQgb24gdGhlIHdlYi4gIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgZGVzaWduZWQgdG8gYmVcbi8vIHByYWN0aWNhbCwgd29ya2luZyBvbiBjb250ZW50IGFzIGl0IGFwcGVhcnMgb24gdGhlIHdlYiwgYW5kIG9ubHlcbi8vIHVzaW5nIHRoZSB3cml0dGVuIHN0YW5kYXJkIGFzIGEgZ3VpZGVsaW5lLlxuXG52YXIgQUJDaGVhZGVyID0gL14oW0EtWmEtel0pOlxccyooLiopJC87XG52YXIgQUJDdG9rZW4gPSAvKD86XFxbW0EtWmEtel06W15cXF1dKlxcXSl8XFxzK3wlW15cXG5dKnwhW15cXHMhOnxcXFtcXF1dKiF8XFwrW14rfCFdKlxcK3xbXzw+QF5dP1wiW15cIl0qXCJ8XFxbfFxcXXw+K3w8K3woPzooPzpcXF4rfF8rfD18KVtBLUdhLWddKD86LCt8Jyt8KSl8XFwoXFxkKyg/OjpcXGQrKXswLDJ9fFxcZCpcXC9cXGQrfFxcZCtcXC8/fFxcLyt8W3h6WFpdfFxcWz9cXHxcXF0/fDo/XFx8Oj98Ojp8Li9nO1xuXG5mdW5jdGlvbiBwYXJzZUFCQ0ZpbGUoc3RyKSB7XG4gICAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICByZXN1bHQ6IGFueSA9IHt9LFxuICAgICAgICBjb250ZXh0ID0gcmVzdWx0LFxuICAgICAgICB0aW1icmUsXG4gICAgICAgIGosXG4gICAgICAgIGssXG4gICAgICAgIGhlYWRlcixcbiAgICAgICAgc3RlbXMsXG4gICAgICAgIGtleSA9IHt9LFxuICAgICAgICBhY2NlbnQgPSB7IHNsdXJyZWQ6IDAgfSxcbiAgICAgICAgdm9pY2VpZCxcbiAgICAgICAgb3V0O1xuICAgIC8vIEFCQyBmaWxlcyBhcmUgcGFyc2VkIG9uZSBsaW5lIGF0IGEgdGltZS5cbiAgICBmb3IgKGogPSAwOyBqIDwgbGluZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgLy8gRmlyc3QsIGNoZWNrIHRvIHNlZSBpZiB0aGUgbGluZSBpcyBhIGhlYWRlciBsaW5lLlxuICAgICAgICBoZWFkZXIgPSBBQkNoZWFkZXIuZXhlYyhsaW5lc1tqXSk7XG4gICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgIGhhbmRsZUluZm9ybWF0aW9uKGhlYWRlclsxXSwgaGVhZGVyWzJdLnRyaW0oKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoL15cXHMqKD86JS4qKT8kLy50ZXN0KGxpbmVzW2pdKSkge1xuICAgICAgICAgICAgLy8gU2tpcCBibGFuayBhbmQgY29tbWVudCBsaW5lcy5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGFyc2UgdGhlIG5vdGVzLlxuICAgICAgICAgICAgcGFyc2VBQkNOb3RlcyhsaW5lc1tqXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGluZmVyID0gW1widW5pdG5vdGVcIiwgXCJ1bml0YmVhdFwiLCBcInRlbXBvXCJdO1xuICAgIGlmIChyZXN1bHQuaGFzT3duUHJvcGVydHkoXCJ2b2ljZVwiKSAmJiByZXN1bHQudm9pY2UgIT09IG51bGwpIHtcbiAgICAgICAgb3V0ID0gW107XG4gICAgICAgIGZvciAoaiBpbiByZXN1bHQudm9pY2UpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQudm9pY2Vbal0uc3RlbXMgJiYgcmVzdWx0LnZvaWNlW2pdLnN0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aW1lcyBmb3IgYWxsIHRoZSB0aWVkIG5vdGVzLiAgVGhpcyBoYXBwZW5zIGF0IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGluIHByaW5jaXBsZSwgdGhlIGZpcnN0IG5vdGUgb2YgYSBzb25nIGNvdWxkIGJlIHRpZWQgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHdheSB0aHJvdWdoIHRvIHRoZSBsYXN0IG5vdGUuXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1RpZXMocmVzdWx0LnZvaWNlW2pdLnN0ZW1zKTtcbiAgICAgICAgICAgICAgICAvLyBCcmluZyB1cCBpbmZlcnJlZCB0ZW1wbyB2YWx1ZXMgZnJvbSB2b2ljZXMgaWYgbm90IHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBoZWFkZXIuXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGluZmVyLmxlbmd0aDsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGluZmVyW2tdIGluIHJlc3VsdCkgJiYgaW5mZXJba10gaW4gcmVzdWx0LnZvaWNlW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaW5mZXJba11dID0gcmVzdWx0LnZvaWNlW2pdW2luZmVyW2tdXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBpbnRlcm5hbCBzdGF0ZSB2YXJpYWJsZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LnZvaWNlW2pdLmFjY2VudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRlIGFueSB2b2ljZXMgdGhhdCBoYWQgbm8gc3RlbXMuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBvdXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGRlbGV0ZSByZXN1bHQudm9pY2Vbb3V0W2pdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gUGFyc2luZyBoZWxwZXIgZnVuY3Rpb25zIGJlbG93LlxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gUHJvY2Vzc2VzIGhlYWRlciBmaWVsZHMgc3VjaCBhcyBWOiB2b2ljZSwgd2hpY2ggbWF5IGFwcGVhciBhdCB0aGVcbiAgICAvLyB0b3Agb2YgdGhlIEFCQyBmaWxlLCBvciBpbiB0aGUgQUJDIGJvZHkgaW4gYSBbVjp2b2ljZV0gZGlyZWN0aXZlLlxuICAgIGZ1bmN0aW9uIGhhbmRsZUluZm9ybWF0aW9uKGZpZWxkLCB2YWx1ZSkge1xuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGhlYWRlcnMgYXJlIHJlY29nbml6ZWQgYW5kIHByb2Nlc3NlZC5cbiAgICAgICAgc3dpdGNoIChmaWVsZCkge1xuICAgICAgICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgICAgICAgICAvLyBBIFY6IGhlYWRlciBzd2l0Y2hlcyB2b2ljZXMgaWYgaW4gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgLy8gSWYgaW4gdGhlIGhlYWRlciwgdGhlbiBpdCBpcyBqdXN0IGFkdmlzb3J5LlxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRWb2ljZUNvbnRleHQodmFsdWUuc3BsaXQoXCIgXCIpWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgIHBhcnNlTWV0ZXIodmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZVVuaXROb3RlKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VUZW1wbyh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIGhlYWRlcnMgKGluY2x1ZGluZyB1bnJlY29nbml6ZWQgb25lcykgYXJlXG4gICAgICAgIC8vIGp1c3QgYWNjdW11bGF0ZWQgYXMgcHJvcGVydGllcy4gUmVwZWF0ZWQgaGVhZGVyXG4gICAgICAgIC8vIGxpbmVzIGFyZSBhY2N1bXVsYXRlZCBhcyBtdWx0aWxpbmUgcHJvcGVydGllcy5cbiAgICAgICAgaWYgKGNvbnRleHQuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgICAgICBjb250ZXh0W2ZpZWxkXSArPSBcIlxcblwiICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0W2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBLIGhlYWRlciBpcyBzcGVjaWFsOiBpdCBzaG91bGQgYmUgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIGJlZm9yZSB0aGUgdm9pY2VzIGFuZCBub3RlcyBiZWdpbi5cbiAgICAgICAgaWYgKGZpZWxkID09IFwiS1wiKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXlzaWcodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0Vm9pY2VDb250ZXh0KGZpcnN0Vm9pY2VOYW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2hpZnRzIGNvbnRleHQgdG8gYSB2b2ljZSB3aXRoIHRoZSBnaXZlbiBpZCBnaXZlbi4gIElmIG5vIGlkXG4gICAgLy8gZ2l2ZW4sIHRoZW4ganVzdCBzdGlja3Mgd2l0aCB0aGUgY3VycmVudCB2b2ljZS4gIElmIHRoZSBjdXJyZW50XG4gICAgLy8gdm9pY2UgaXMgdW5uYW1lZCBhbmQgZW1wdHksIHJlbmFtZXMgdGhlIGN1cnJlbnQgdm9pY2UuXG4gICAgZnVuY3Rpb24gc3RhcnRWb2ljZUNvbnRleHQoaWQpIHtcbiAgICAgICAgaWQgPSBpZCB8fCBcIlwiO1xuICAgICAgICBpZiAoIWlkICYmIGNvbnRleHQgIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0LnZvaWNlKSB7XG4gICAgICAgICAgICByZXN1bHQudm9pY2UgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LnZvaWNlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgICAgLy8gUmVzdW1lIGEgbmFtZWQgdm9pY2UuXG4gICAgICAgICAgICBjb250ZXh0ID0gcmVzdWx0LnZvaWNlW2lkXTtcbiAgICAgICAgICAgIGFjY2VudCA9IGNvbnRleHQuYWNjZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdm9pY2UuXG4gICAgICAgICAgICBjb250ZXh0ID0geyBpZDogaWQsIGFjY2VudDogeyBzbHVycmVkOiAwIH0gfTtcbiAgICAgICAgICAgIHJlc3VsdC52b2ljZVtpZF0gPSBjb250ZXh0O1xuICAgICAgICAgICAgYWNjZW50ID0gY29udGV4dC5hY2NlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGb3IgcGlja2luZyBhIGRlZmF1bHQgdm9pY2UsIGxvb2tzIGZvciB0aGUgZmlyc3Qgdm9pY2UgbmFtZS5cbiAgICBmdW5jdGlvbiBmaXJzdFZvaWNlTmFtZSgpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5WKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LlYuc3BsaXQoL1xccysvKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGFyc2VzIGEgc2luZ2xlIGxpbmUgb2YgQUJDIG5vdGVzIChpLmUuLCBub3QgYSBoZWFkZXIgbGluZSkuXG4gICAgLy9cbiAgICAvLyBXZSBwcm9jZXNzIGFuIEFCQyBzb25nIHN0cmVhbSBieSBkaXZpZGluZyBpdCBpbnRvIHRva2VucywgZWFjaCBvZlxuICAgIC8vIHdoaWNoIGlzIGEgcGl0Y2gsIGR1cmF0aW9uLCBvciBzcGVjaWFsIGRlY29yYXRpb24gc3ltYm9sOyB0aGVuXG4gICAgLy8gd2UgcHJvY2VzcyBlYWNoIGRlY29yYXRpb24gaW5kaXZpZHVhbGx5LCBhbmQgd2UgcHJvY2VzcyBlYWNoXG4gICAgLy8gc3RlbSBhcyBhIGdyb3VwIHVzaW5nIHBhcnNlU3RlbS5cbiAgICAvLyBUaGUgc3RydWN0dXJlIG9mIGEgc2luZ2xlIEFCQyBub3RlIGlzIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gICAgLy9cbiAgICAvLyBOT1RFIC0+IFNUQUNDQVRPPyBQSVRDSCBEVVJBVElPTj8gVElFP1xuICAgIC8vXG4gICAgLy8gSS5lLiwgaXQgYWx3YXlzIGhhcyBhIHBpdGNoLCBhbmQgaXQgaXMgcHJlZml4ZWQgYnkgc29tZSBvcHRpb25hbFxuICAgIC8vIGRlY29yYXRpb25zIHN1Y2ggYXMgYSAoLikgc3RhY2NhdG8gbWFya2luZywgYW5kIGl0IGlzIHN1ZmZpeGVkIGJ5XG4gICAgLy8gYW4gb3B0aW9uYWwgZHVyYXRpb24gYW5kIGFuIG9wdGlvbmFsIHRpZSAoLSkgbWFya2luZy5cbiAgICAvL1xuICAgIC8vIEEgc3RlbSBpcyBlaXRoZXIgYSBub3RlIG9yIGEgYnJhY2tldGVkIHNlcmllcyBvZiBub3RlcywgZm9sbG93ZWRcbiAgICAvLyBieSBkdXJhdGlvbiBhbmQgdGllLlxuICAgIC8vXG4gICAgLy8gU1RFTSAtPiBOT1RFICAgT1IgICAgJ1snIE5PVEUgKiAnXScgRFVSQUlUT04/IFRJRT9cbiAgICAvL1xuICAgIC8vIFRoZW4gYSBzb25nIGlzIGp1c3QgYSBzZXF1ZW5jZSBvZiBzdGVtcyBpbnRlcmxlYXZlZCB3aXRoIG90aGVyXG4gICAgLy8gZGVjb3JhdGlvbnMgc3VjaCBhcyBkeW5hbWljcyBtYXJraW5ncyBhbmQgbWVhc3VyZSBkZWxpbWl0ZXJzLlxuICAgIGZ1bmN0aW9uIHBhcnNlQUJDTm90ZXMoc3RyKSB7XG4gICAgICAgIHZhciB0b2tlbnMgPSBzdHIubWF0Y2goQUJDdG9rZW4pLFxuICAgICAgICAgICAgcGFyc2VkID0gbnVsbCxcbiAgICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICAgIGRvdHRlZCA9IDAsXG4gICAgICAgICAgICBiZWF0bGV0ID0gbnVsbCxcbiAgICAgICAgICAgIHQ7XG4gICAgICAgIGlmICghdG9rZW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXggPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgJWNvbW1lbnRzIGFuZCAhbWFya2luZ3MhXG4gICAgICAgICAgICBpZiAoL15bXFxzJV0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIGlubGluZSBbWDouLi5dIGluZm9ybWF0aW9uIGZpZWxkc1xuICAgICAgICAgICAgaWYgKC9eXFxbW0EtWmEtel06W15cXF1dKlxcXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVJbmZvcm1hdGlvbih0b2tlbnNbaW5kZXhdLnN1YnN0cmluZygxLCAyKSwgdG9rZW5zW2luZGV4XS5zdWJzdHJpbmcoMywgdG9rZW5zW2luZGV4XS5sZW5ndGggLSAxKS50cmltKCkpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIYW5kbGVkIGRvdHRlZCBub3RhdGlvbiBhYmJyZXZpYXRpb25zLlxuICAgICAgICAgICAgaWYgKC88Ly50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgZG90dGVkID0gLXRva2Vuc1tpbmRleCsrXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoLz4vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBkb3R0ZWQgPSB0b2tlbnNbaW5kZXgrK10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eXFwoXFxkKyg/OjpcXGQrKSovLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBiZWF0bGV0ID0gcGFyc2VCZWF0bGV0KHRva2Vuc1tpbmRleCsrXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL15bIStdLipbIStdJC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlRGVjb3JhdGlvbih0b2tlbnNbaW5kZXgrK10sIGFjY2VudCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL14uP1wiLipcIiQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZG91YmxlLXF1b3RlZCB0b2tlbnMgKGNob3JkcyBhbmQgZ2VuZXJhbCB0ZXh0IGFubm90YXRpb25zKS5cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eWygpXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zW2luZGV4KytdID09IFwiKFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5zbHVycmVkICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50LnNsdXJyZWQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2VudC5zbHVycmVkIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VudC5zbHVycmVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnN0ZW1zICYmIGNvbnRleHQuc3RlbXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbGFzdCBub3RlcyBpbiBhIHNsdXIgYXJlIG5vdCBzbHVycmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsdXJTdGVtKGNvbnRleHQuc3RlbXNbY29udGV4dC5zdGVtcy5sZW5ndGggLSAxXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIG1lYXN1cmUgbWFya2luZ3MgYnkgY2xlYXJpbmcgYWNjaWRlbnRhbHMuXG4gICAgICAgICAgICBpZiAoL1xcfC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGZvciAodCBpbiBhY2NlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmdsZS1sZXR0ZXIgYWNjZW50IHByb3BlcnRpZXMgYXJlIG5vdGUgYWNjaWRlbnRhbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYWNjZW50W3RdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZWQgPSBwYXJzZVN0ZW0odG9rZW5zLCBpbmRleCwga2V5LCBhY2NlbnQpO1xuICAgICAgICAgICAgLy8gU2tpcCB1bnBhcnNhYmxlIGJpdHNcbiAgICAgICAgICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHJvY2VzcyBhIHBhcnNlZCBzdGVtLlxuICAgICAgICAgICAgaWYgKGJlYXRsZXQpIHtcbiAgICAgICAgICAgICAgICBzY2FsZVN0ZW0ocGFyc2VkLnN0ZW0sIGJlYXRsZXQudGltZSk7XG4gICAgICAgICAgICAgICAgYmVhdGxldC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGlmICghYmVhdGxldC5jb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBiZWF0bGV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBzeW5jb3BhdGVkIHdpdGggPiBvciA8IG5vdGF0aW9uLCBzaGlmdCBwYXJ0IG9mIGEgYmVhdFxuICAgICAgICAgICAgLy8gYmV0d2VlbiB0aGlzIHN0ZW0gYW5kIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgICAgICBpZiAoZG90dGVkICYmIGNvbnRleHQuc3RlbXMgJiYgY29udGV4dC5zdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG90dGVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gKDEgLSBNYXRoLnBvdygwLjUsIGRvdHRlZCkpICogcGFyc2VkLnN0ZW0udGltZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ID0gKE1hdGgucG93KDAuNSwgLWRvdHRlZCkgLSAxKSAqIGNvbnRleHQuc3RlbXNbY29udGV4dC5zdGVtcy5sZW5ndGggLSAxXS50aW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzeW5jb3BhdGVTdGVtKGNvbnRleHQuc3RlbXNbY29udGV4dC5zdGVtcy5sZW5ndGggLSAxXSwgdCk7XG4gICAgICAgICAgICAgICAgc3luY29wYXRlU3RlbShwYXJzZWQuc3RlbSwgLXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG90dGVkID0gMDtcbiAgICAgICAgICAgIC8vIFNsdXIgYWxsIHRoZSBub3RlcyBjb250YWluZWQgd2l0aGluIGEgc3RyZW0uXG4gICAgICAgICAgICBpZiAoYWNjZW50LnNsdXJyZWQpIHtcbiAgICAgICAgICAgICAgICBzbHVyU3RlbShwYXJzZWQuc3RlbSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGFydCBhIGRlZmF1bHQgdm9pY2UgaWYgd2UncmUgbm90IGluIGEgdm9pY2UgeWV0LlxuICAgICAgICAgICAgaWYgKGNvbnRleHQgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0Vm9pY2VDb250ZXh0KGZpcnN0Vm9pY2VOYW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoXCJzdGVtc1wiIGluIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdGVtcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRoZSBzdGVtIHRvIHRoZSBzZXF1ZW5jZSBvZiBzdGVtcyBmb3IgdGhpcyB2b2ljZS5cbiAgICAgICAgICAgIGNvbnRleHQuc3RlbXMucHVzaChwYXJzZWQuc3RlbSk7XG4gICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBwYXJzaW5nIGluZGV4IHNpbmNlIGEgc3RlbSBpcyBtdWx0aXBsZSB0b2tlbnMuXG4gICAgICAgICAgICBpbmRleCA9IHBhcnNlZC5pbmRleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhcnNlIE06IGxpbmVzLiAgXCIzLzRcIiBpcyAzLzQgdGltZSBhbmQgXCJDXCIgaXMgNC80IChjb21tb24pIHRpbWUuXG4gICAgZnVuY3Rpb24gcGFyc2VNZXRlcihtbGluZSwgYmVhdGluZm8pIHtcbiAgICAgICAgdmFyIGQgPSAvXkMvLnRlc3QobWxpbmUpID8gNCAvIDQgOiBkdXJhdGlvblRvVGltZShtbGluZSk7XG4gICAgICAgIGlmICghZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmVhdGluZm8udW5pdG5vdGUpIHtcbiAgICAgICAgICAgIGlmIChkIDwgMC43NSkge1xuICAgICAgICAgICAgICAgIGJlYXRpbmZvLnVuaXRub3RlID0gMSAvIDE2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IDEgLyA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlIEw6IGxpbmVzLCBlLmcuLCBcIjEvOFwiLlxuICAgIGZ1bmN0aW9uIHBhcnNlVW5pdE5vdGUobGxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgIHZhciBkID0gZHVyYXRpb25Ub1RpbWUobGxpbmUpO1xuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IGQ7XG4gICAgfVxuICAgIC8vIFBhcnNlIFE6IGxpbmUsIGUuZy4sIFwiMS80PTY2XCIuXG4gICAgZnVuY3Rpb24gcGFyc2VUZW1wbyhxbGluZSwgYmVhdGluZm8pIHtcbiAgICAgICAgdmFyIHBhcnRzID0gcWxpbmUuc3BsaXQoL1xccyt8PS8pLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIHVuaXQgPSBudWxsLFxuICAgICAgICAgICAgdGVtcG8gPSBudWxsO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIC8vIEl0IGNvdWxkIGJlIHJldmVyc2VkLCBsaWtlIFwiNjY9MS80XCIsIG9yIGp1c3QgXCIxMjBcIiwgc29cbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGF0IGlzIGdvaW5nIG9uIGJ5IGxvb2tpbmcgZm9yIGEgc2xhc2ggZXRjLlxuICAgICAgICAgICAgaWYgKHBhcnRzW2pdLmluZGV4T2YoXCIvXCIpID49IDAgfHwgL15bMS00XSQvLnRlc3QocGFydHNbal0pKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIG5vdGUtdW5pdCAoZS5nLiwgMS80KS5cbiAgICAgICAgICAgICAgICB1bml0ID0gdW5pdCB8fCBkdXJhdGlvblRvVGltZShwYXJ0c1tqXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB0ZW1wby1udW1iZXIgKGUuZy4sIDEyMClcbiAgICAgICAgICAgICAgICB0ZW1wbyA9IHRlbXBvIHx8IE51bWJlcihwYXJ0c1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXQpIHtcbiAgICAgICAgICAgIGJlYXRpbmZvLnVuaXRiZWF0ID0gdW5pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcG8pIHtcbiAgICAgICAgICAgIGJlYXRpbmZvLnRlbXBvID0gdGVtcG87XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUnVuIHRocm91Z2ggYWxsIHRoZSBub3RlcywgYWRkaW5nIHVwIHRpbWUgZm9yIHRpZWQgbm90ZXMsXG4gICAgLy8gYW5kIG1hcmtpbmcgbm90ZXMgdGhhdCB3ZXJlIGhlbGQgb3ZlciB3aXRoIGhvbGRvdmVyID0gdHJ1ZS5cbiAgICBmdW5jdGlvbiBwcm9jZXNzVGllcyhzdGVtcykge1xuICAgICAgICB2YXIgdGllZCA9IHt9LFxuICAgICAgICAgICAgbmV4dFRpZWQsXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIG5vdGUsXG4gICAgICAgICAgICBmaXJzdE5vdGU7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBzdGVtcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbmV4dFRpZWQgPSB7fTtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBzdGVtc1tqXS5ub3Rlcy5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgIGZpcnN0Tm90ZSA9IG5vdGUgPSBzdGVtc1tqXS5ub3Rlc1trXTtcbiAgICAgICAgICAgICAgICBpZiAodGllZC5oYXNPd25Qcm9wZXJ0eShub3RlLnBpdGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQaXRjaCB3YXMgdGllZCBmcm9tIGJlZm9yZS5cbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROb3RlID0gdGllZFtub3RlLnBpdGNoXTsgLy8gR2V0IHRoZSBlYXJsaWVzdCBub3RlIGluIHRoZSB0aWUuXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Tm90ZS50aW1lICs9IG5vdGUudGltZTsgLy8gRXh0ZW5kIGl0cyB0aW1lLlxuICAgICAgICAgICAgICAgICAgICBub3RlLmhvbGRvdmVyID0gdHJ1ZTsgLy8gU2lsZW5jZSB0aGlzIG5vdGUgYXMgYSBob2xkb3Zlci5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdGUudGllKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbm90ZSBpcyB0aWVkIHdpdGggdGhlIG5leHQuXG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWVkW25vdGUucGl0Y2hdID0gZmlyc3ROb3RlOyAvLyBTYXZlIGl0IGF3YXkuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGllZCA9IG5leHRUaWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBtYXAgb2YgQS1HIC0+IGFjY2lkZW50YWxzLCBhY2NvcmRpbmcgdG8gdGhlIGtleSBzaWduYXR1cmUuXG4gICAgLy8gV2hlbiBuIGlzIHplcm8sIHRoZXJlIGFyZSBubyBhY2NpZGVudGFscyAoZS5nLiwgQyBtYWpvciBvciBBIG1pbm9yKS5cbiAgICAvLyBXaGVuIG4gaXMgcG9zaXRpdmUsIHRoZXJlIGFyZSBuIHNoYXJwcyAoZS5nLiwgZm9yIEcgbWFqb3IsIG4gPSAxKS5cbiAgICAvLyBXaGVuIG4gaXMgbmVnYXRpdmUsIHRoZXJlIGFyZSAtbiBmbGF0cyAoZS5nLiwgZm9yIEYgbWFqb3IsIG4gPSAtMSkuXG4gICAgZnVuY3Rpb24gYWNjaWRlbnRhbHMobikge1xuICAgICAgICB2YXIgc2hhcnBzID0gXCJGQ0dEQUVCXCIsXG4gICAgICAgICAgICByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGo7XG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA+IDApIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzaGFycHMuXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbiAmJiBqIDwgNzsgKytqKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3NoYXJwcy5jaGFyQXQoaildID0gXCJeXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGbGF0cyBhcmUgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA+IG4gJiYgaiA+IC03OyAtLWopIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbc2hhcnBzLmNoYXJBdCg2ICsgaildID0gXCJfXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gRGVjb2RlcyB0aGUga2V5IHNpZ25hdHVyZSBsaW5lIChlLmcuLCBLOiBDI20pIGF0IHRoZSBmcm9udCBvZiBhbiBBQkMgdHVuZS5cbiAgICAvLyBTdXBwb3J0cyB0aGUgd2hvbGUgcmFuZ2Ugb2Ygc2NhbGUgc3lzdGVtcyBsaXN0ZWQgaW4gdGhlIEFCQyBzcGVjLlxuICAgIGZ1bmN0aW9uIGtleXNpZyhrZXluYW1lKSB7XG4gICAgICAgIGlmICgha2V5bmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBra2V5LFxuICAgICAgICAgICAgc2lnY29kZXMgPSB7XG4gICAgICAgICAgICAgICAgLy8gTWFqb3JcbiAgICAgICAgICAgICAgICBcImMjXCI6IDcsXG4gICAgICAgICAgICAgICAgXCJmI1wiOiA2LFxuICAgICAgICAgICAgICAgIGI6IDUsXG4gICAgICAgICAgICAgICAgZTogNCxcbiAgICAgICAgICAgICAgICBhOiAzLFxuICAgICAgICAgICAgICAgIGQ6IDIsXG4gICAgICAgICAgICAgICAgZzogMSxcbiAgICAgICAgICAgICAgICBjOiAwLFxuICAgICAgICAgICAgICAgIGY6IC0xLFxuICAgICAgICAgICAgICAgIGJiOiAtMixcbiAgICAgICAgICAgICAgICBlYjogLTMsXG4gICAgICAgICAgICAgICAgYWI6IC00LFxuICAgICAgICAgICAgICAgIGRiOiAtNSxcbiAgICAgICAgICAgICAgICBnYjogLTYsXG4gICAgICAgICAgICAgICAgY2I6IC03LFxuICAgICAgICAgICAgICAgIC8vIE1pbm9yXG4gICAgICAgICAgICAgICAgXCJhI21cIjogNyxcbiAgICAgICAgICAgICAgICBcImQjbVwiOiA2LFxuICAgICAgICAgICAgICAgIFwiZyNtXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJjI21cIjogNCxcbiAgICAgICAgICAgICAgICBcImYjbVwiOiAzLFxuICAgICAgICAgICAgICAgIGJtOiAyLFxuICAgICAgICAgICAgICAgIGVtOiAxLFxuICAgICAgICAgICAgICAgIGFtOiAwLFxuICAgICAgICAgICAgICAgIGRtOiAtMSxcbiAgICAgICAgICAgICAgICBnbTogLTIsXG4gICAgICAgICAgICAgICAgY206IC0zLFxuICAgICAgICAgICAgICAgIGZtOiAtNCxcbiAgICAgICAgICAgICAgICBiYm06IC01LFxuICAgICAgICAgICAgICAgIGVibTogLTYsXG4gICAgICAgICAgICAgICAgYWJtOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBNaXhvbHlkaWFuXG4gICAgICAgICAgICAgICAgXCJnI21peFwiOiA3LFxuICAgICAgICAgICAgICAgIFwiYyNtaXhcIjogNixcbiAgICAgICAgICAgICAgICBcImYjbWl4XCI6IDUsXG4gICAgICAgICAgICAgICAgYm1peDogNCxcbiAgICAgICAgICAgICAgICBlbWl4OiAzLFxuICAgICAgICAgICAgICAgIGFtaXg6IDIsXG4gICAgICAgICAgICAgICAgZG1peDogMSxcbiAgICAgICAgICAgICAgICBnbWl4OiAwLFxuICAgICAgICAgICAgICAgIGNtaXg6IC0xLFxuICAgICAgICAgICAgICAgIGZtaXg6IC0yLFxuICAgICAgICAgICAgICAgIGJibWl4OiAtMyxcbiAgICAgICAgICAgICAgICBlYm1peDogLTQsXG4gICAgICAgICAgICAgICAgYWJtaXg6IC01LFxuICAgICAgICAgICAgICAgIGRibWl4OiAtNixcbiAgICAgICAgICAgICAgICBnYm1peDogLTcsXG4gICAgICAgICAgICAgICAgLy8gRG9yaWFuXG4gICAgICAgICAgICAgICAgXCJkI2RvclwiOiA3LFxuICAgICAgICAgICAgICAgIFwiZyNkb3JcIjogNixcbiAgICAgICAgICAgICAgICBcImMjZG9yXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJmI2RvclwiOiA0LFxuICAgICAgICAgICAgICAgIGJkb3I6IDMsXG4gICAgICAgICAgICAgICAgZWRvcjogMixcbiAgICAgICAgICAgICAgICBhZG9yOiAxLFxuICAgICAgICAgICAgICAgIGRkb3I6IDAsXG4gICAgICAgICAgICAgICAgZ2RvcjogLTEsXG4gICAgICAgICAgICAgICAgY2RvcjogLTIsXG4gICAgICAgICAgICAgICAgZmRvcjogLTMsXG4gICAgICAgICAgICAgICAgYmJkb3I6IC00LFxuICAgICAgICAgICAgICAgIGViZG9yOiAtNSxcbiAgICAgICAgICAgICAgICBhYmRvcjogLTYsXG4gICAgICAgICAgICAgICAgZGJkb3I6IC03LFxuICAgICAgICAgICAgICAgIC8vIFBocnlnaWFuXG4gICAgICAgICAgICAgICAgXCJlI3BoclwiOiA3LFxuICAgICAgICAgICAgICAgIFwiYSNwaHJcIjogNixcbiAgICAgICAgICAgICAgICBcImQjcGhyXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJnI3BoclwiOiA0LFxuICAgICAgICAgICAgICAgIFwiYyNwaHJcIjogMyxcbiAgICAgICAgICAgICAgICBcImYjcGhyXCI6IDIsXG4gICAgICAgICAgICAgICAgYnBocjogMSxcbiAgICAgICAgICAgICAgICBlcGhyOiAwLFxuICAgICAgICAgICAgICAgIGFwaHI6IC0xLFxuICAgICAgICAgICAgICAgIGRwaHI6IC0yLFxuICAgICAgICAgICAgICAgIGdwaHI6IC0zLFxuICAgICAgICAgICAgICAgIGNwaHI6IC00LFxuICAgICAgICAgICAgICAgIGZwaHI6IC01LFxuICAgICAgICAgICAgICAgIGJicGhyOiAtNixcbiAgICAgICAgICAgICAgICBlYnBocjogLTcsXG4gICAgICAgICAgICAgICAgLy8gTHlkaWFuXG4gICAgICAgICAgICAgICAgXCJmI2x5ZFwiOiA3LFxuICAgICAgICAgICAgICAgIGJseWQ6IDYsXG4gICAgICAgICAgICAgICAgZWx5ZDogNSxcbiAgICAgICAgICAgICAgICBhbHlkOiA0LFxuICAgICAgICAgICAgICAgIGRseWQ6IDMsXG4gICAgICAgICAgICAgICAgZ2x5ZDogMixcbiAgICAgICAgICAgICAgICBjbHlkOiAxLFxuICAgICAgICAgICAgICAgIGZseWQ6IDAsXG4gICAgICAgICAgICAgICAgYmJseWQ6IC0xLFxuICAgICAgICAgICAgICAgIGVibHlkOiAtMixcbiAgICAgICAgICAgICAgICBhYmx5ZDogLTMsXG4gICAgICAgICAgICAgICAgZGJseWQ6IC00LFxuICAgICAgICAgICAgICAgIGdibHlkOiAtNSxcbiAgICAgICAgICAgICAgICBjYmx5ZDogLTYsXG4gICAgICAgICAgICAgICAgZmJseWQ6IC03LFxuICAgICAgICAgICAgICAgIC8vIExvY3JpYW5cbiAgICAgICAgICAgICAgICBcImIjbG9jXCI6IDcsXG4gICAgICAgICAgICAgICAgXCJlI2xvY1wiOiA2LFxuICAgICAgICAgICAgICAgIFwiYSNsb2NcIjogNSxcbiAgICAgICAgICAgICAgICBcImQjbG9jXCI6IDQsXG4gICAgICAgICAgICAgICAgXCJnI2xvY1wiOiAzLFxuICAgICAgICAgICAgICAgIFwiYyNsb2NcIjogMixcbiAgICAgICAgICAgICAgICBcImYjbG9jXCI6IDEsXG4gICAgICAgICAgICAgICAgYmxvYzogMCxcbiAgICAgICAgICAgICAgICBlbG9jOiAtMSxcbiAgICAgICAgICAgICAgICBhbG9jOiAtMixcbiAgICAgICAgICAgICAgICBkbG9jOiAtMyxcbiAgICAgICAgICAgICAgICBnbG9jOiAtNCxcbiAgICAgICAgICAgICAgICBjbG9jOiAtNSxcbiAgICAgICAgICAgICAgICBmbG9jOiAtNixcbiAgICAgICAgICAgICAgICBiYmxvYzogLTcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB2YXIgayA9IGtleW5hbWUucmVwbGFjZSgvXFxzKy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpLnN1YnN0cigwLCA1KTtcbiAgICAgICAgdmFyIHNjYWxlID0gay5tYXRjaCgvbWFqfG1pbnxtaXh8ZG9yfHBocnxseWR8bG9jfG0vKTtcbiAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT0gXCJtYWpcIikge1xuICAgICAgICAgICAgICAgIGtrZXkgPSBrLnN1YnN0cigwLCBzY2FsZS5pbmRleCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNjYWxlID09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBra2V5ID0gay5zdWJzdHIoMCwgc2NhbGUuaW5kZXggKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4ICsgc2NhbGVbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtrZXkgPSAvXlthLWddWyNiXT8vLmV4ZWMoaykgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gYWNjaWRlbnRhbHMoc2lnY29kZXNba2tleV0pO1xuICAgICAgICB2YXIgZXh0cmFzID0ga2V5bmFtZS5zdWJzdHIoa2tleS5sZW5ndGgpLm1hdGNoKC8oXyt8PXxcXF4rKVthLWddL2dpKTtcbiAgICAgICAgaWYgKGV4dHJhcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBleHRyYXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgbm90ZSA9IGV4dHJhc1tqXS5jaGFyQXQoZXh0cmFzW2pdLmxlbmd0aCAtIDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhc1tqXS5jaGFyQXQoMCkgPT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdFtub3RlXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbm90ZV0gPSBleHRyYXNbal0uc3Vic3RyKDAsIGV4dHJhc1tqXS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gQWRkaXRpdmVseSBhZGp1c3RzIHRoZSBiZWF0cyBmb3IgYSBzdGVtIGFuZCB0aGUgY29udGFpbmVkIG5vdGVzLlxuICAgIGZ1bmN0aW9uIHN5bmNvcGF0ZVN0ZW0oc3RlbSwgdCkge1xuICAgICAgICB2YXIgaixcbiAgICAgICAgICAgIG5vdGUsXG4gICAgICAgICAgICBzdGVtdGltZSA9IHN0ZW0udGltZSxcbiAgICAgICAgICAgIG5ld3RpbWUgPSBzdGVtdGltZSArIHQ7XG4gICAgICAgIHN0ZW0udGltZSA9IG5ld3RpbWU7XG4gICAgICAgIHN5bmNvcGF0ZVN0ZW07XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBzdGVtLm5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBub3RlID0gc3RlbS5ub3Rlc1tqXTtcbiAgICAgICAgICAgIC8vIE9ubHkgYWRqdXN0IGEgbm90ZSdzIGR1cmF0aW9uIGlmIGl0IG1hdGNoZWQgdGhlIHN0ZW0ncyBkdXJhdGlvbi5cbiAgICAgICAgICAgIGlmIChub3RlLnRpbWUgPT0gc3RlbXRpbWUpIHtcbiAgICAgICAgICAgICAgICBub3RlLnRpbWUgPSBuZXd0aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE1hcmtzIGV2ZXJ5dGhpbmcgaW4gdGhlIHN0ZW0gd2l0aCB0aGUgc2x1ciBhdHRyaWJ1dGUgKG9yIGRlbGV0ZXMgaXQpLlxuICAgIGZ1bmN0aW9uIHNsdXJTdGVtKHN0ZW0sIGFkZFNsdXIpIHtcbiAgICAgICAgdmFyIGosIG5vdGU7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBzdGVtLm5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBub3RlID0gc3RlbS5ub3Rlc1tqXTtcbiAgICAgICAgICAgIGlmIChhZGRTbHVyKSB7XG4gICAgICAgICAgICAgICAgbm90ZS5zbHVycmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm90ZS5zbHVycmVkKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5vdGUuc2x1cnJlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTY2FsZXMgdGhlIGJlYXRzIGZvciBhIHN0ZW0gYW5kIHRoZSBjb250YWluZWQgbm90ZXMuXG4gICAgZnVuY3Rpb24gc2NhbGVTdGVtKHN0ZW0sIHMpIHtcbiAgICAgICAgdmFyIGo7XG4gICAgICAgIHN0ZW0udGltZSAqPSBzO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgc3RlbS5ub3Rlc1tqXS50aW1lICo9IHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUGFyc2VzIG5vdGF0aW9uIG9mIHRoZSBmb3JtICgzIG9yICg1OjI6MTAsIHdoaWNoIG1lYW5zIHRvIGRvXG4gICAgLy8gdGhlIGZvbGxvd2luZyAzIG5vdGVzIGluIHRoZSBzcGFjZSBvZiAyIG5vdGVzLCBvciB0byBkbyB0aGUgZm9sbG93aW5nXG4gICAgLy8gMTAgbm90ZXMgYXQgdGhlIHJhdGUgb2YgNSBub3RlcyBwZXIgMiBiZWF0cy5cbiAgICBmdW5jdGlvbiBwYXJzZUJlYXRsZXQodG9rZW4pIHtcbiAgICAgICAgdmFyIG0gPSAvXlxcKChcXGQrKSg/OjooXFxkKykoPzo6KFxcZCspKT8pPyQvLmV4ZWModG9rZW4pO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3VudCA9IE51bWJlcihtWzFdKSxcbiAgICAgICAgICAgIGJlYXRzID0gTnVtYmVyKG1bMl0pIHx8IDIsXG4gICAgICAgICAgICBkdXJhdGlvbiA9IE51bWJlcihtWzNdKSB8fCBjb3VudDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpbWU6IGJlYXRzIC8gY291bnQsXG4gICAgICAgICAgICBjb3VudDogZHVyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFBhcnNlICFwcHAhIG1hcmtpbmdzLlxuICAgIGZ1bmN0aW9uIHBhcnNlRGVjb3JhdGlvbih0b2tlbiwgYWNjZW50KSB7XG4gICAgICAgIGlmICh0b2tlbi5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4gPSB0b2tlbi5zdWJzdHJpbmcoMSwgdG9rZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcHBwXCI6XG4gICAgICAgICAgICBjYXNlIFwicHBwXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC4yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBwXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC40O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAwLjY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibXBcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAwLjg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWZcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAxLjA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDEuMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmZlwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDEuNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmZmZcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmZmZmXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS41O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlcyBhIHN0ZW0sIHdoaWNoIG1heSBiZSBhIHNpbmdsZSBub3RlLCBvciB3aGljaCBtYXkgYmVcbiAgICAvLyBhIGNob3JkZWQgbm90ZS5cbiAgICBmdW5jdGlvbiBwYXJzZVN0ZW0odG9rZW5zLCBpbmRleCwga2V5LCBhY2NlbnQpIHtcbiAgICAgICAgdmFyIG5vdGVzID0gW10sXG4gICAgICAgICAgICBkdXJhdGlvbiA9IFwiXCIsXG4gICAgICAgICAgICBzdGFjY2F0byA9IGZhbHNlLFxuICAgICAgICAgICAgbm90ZUR1cmF0aW9uLFxuICAgICAgICAgICAgbm90ZVRpbWUsXG4gICAgICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgICAgIGxhc3ROb3RlID0gbnVsbCxcbiAgICAgICAgICAgIG1pblN0ZW1UaW1lID0gSW5maW5pdHksXG4gICAgICAgICAgICBqO1xuICAgICAgICAvLyBBIHNpbmdsZSBzdGFjY2F0byBtYXJraW5nIGFwcGxpZXMgdG8gdGhlIGVudGlyZSBzdGVtLlxuICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIFwiLlwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHN0YWNjYXRvID0gdHJ1ZTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiB0b2tlbnNbaW5kZXhdID09IFwiW1wiKSB7XG4gICAgICAgICAgICAvLyBEZWFsIHdpdGggW0NFR10gY2hvcmRlZCBub3RhdGlvbi5cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAvLyBTY2FuIG5vdGVzIHdpdGhpbiB0aGUgY2hvcmQuXG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGFuZCBzcGFjZSBhbmQgJWNvbW1lbnRzLlxuICAgICAgICAgICAgICAgIGlmICgvXltcXHMlXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKC9bQS1HYS1nXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHcmFiIGEgcGl0Y2guXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2g6IGFwcGx5QWNjZW50KHRva2Vuc1tpbmRleCsrXSwga2V5LCBhY2NlbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGllOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vdGUuZnJlcXVlbmN5ID0gVXRpbHMucGl0Y2hUb0ZyZXF1ZW5jeShsYXN0Tm90ZS5waXRjaCk7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzLnB1c2gobGFzdE5vdGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1t4elhaXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHcmFiIGEgcmVzdC5cbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIuXCIgPT0gdG9rZW5zW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHN0YWNjYXRvIG1hcmsgYXBwbGllcyB0byB0aGUgZW50aXJlIHN0ZW0uXG4gICAgICAgICAgICAgICAgICAgIHN0YWNjYXRvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBwYXJzaW5nIHRoZSBzdGVtIGlmIHNvbWV0aGluZyBpcyB1bnJlY29nbml6ZWQuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZnRlciBhIHBpdGNoIG9yIHJlc3QsIGxvb2sgZm9yIGEgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvXig/IVtcXHMlIV0pLipbXFxkXFwvXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBub3RlRHVyYXRpb24gPSB0b2tlbnNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIG5vdGVUaW1lID0gZHVyYXRpb25Ub1RpbWUobm90ZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub3RlRHVyYXRpb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBub3RlVGltZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBub3RlIChub3QgYSByZXN0KSwgc3RvcmUgdGhlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGxhc3ROb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlLmR1cmF0aW9uID0gbm90ZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZS50aW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBzdGVtIGhhcyBtb3JlIHRoYW4gb25lIGR1cmF0aW9uLCB1c2UgdGhlIHNob3J0ZXN0XG4gICAgICAgICAgICAgICAgLy8gb25lIGZvciB0aW1pbmcuIFRoZSBzdGFuZGFyZCBzYXlzIHRvIHBpY2sgdGhlIGZpcnN0IG9uZSxcbiAgICAgICAgICAgICAgICAvLyBidXQgaW4gcHJhY3RpY2UsIHRyYW5zY3JpYmVkIG11c2ljIG9ubGluZSBzZWVtcyB0b1xuICAgICAgICAgICAgICAgIC8vIGZvbGxvdyB0aGUgcnVsZSB0aGF0IHRoZSBzdGVtJ3MgZHVyYXRpb24gaXMgZGV0ZXJtaW5lZFxuICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBzaG9ydGVzdCBjb250YWluZWQgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKG5vdGVUaW1lICYmIG5vdGVUaW1lIDwgbWluU3RlbVRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBub3RlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIG1pblN0ZW1UaW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFmdGVyIGEgZHVyYXRpb24sIGxvb2sgZm9yIGEgdGllIG1hcmsuICBJbmRpdmlkdWFsIG5vdGVzXG4gICAgICAgICAgICAgICAgLy8gd2l0aGluIGEgc3RlbSBjYW4gYmUgdGllZC5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIFwiLVwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3ROb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3Rlc1tub3Rlcy5sZW5ndGggLSAxXS50aWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIGxhc3QgdGhpbmcgaW4gYSBjaG9yZCBzaG91bGQgYmUgYSBdLiAgSWYgaXQgaXNuJ3QsIHRoZW5cbiAgICAgICAgICAgIC8vIHRoaXMgZG9lc24ndCBsb29rIGxpa2UgYSBzdGVtIGFmdGVyIGFsbCwgYW5kIHJldHVybiBudWxsLlxuICAgICAgICAgICAgaWYgKHRva2Vuc1tpbmRleF0gIT0gXCJdXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIC9bQS1HYS1nXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgLy8gR3JhYiBhIHNpbmdsZSBub3RlLlxuICAgICAgICAgICAgbGFzdE5vdGUgPSB7XG4gICAgICAgICAgICAgICAgcGl0Y2g6IGFwcGx5QWNjZW50KHRva2Vuc1tpbmRleCsrXSwga2V5LCBhY2NlbnQpLFxuICAgICAgICAgICAgICAgIHRpZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IFwiXCIsXG4gICAgICAgICAgICAgICAgdGltZTogMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsYXN0Tm90ZS5mcmVxdWVuY3kgPSBVdGlscy5waXRjaFRvRnJlcXVlbmN5KGxhc3ROb3RlLnBpdGNoKTtcbiAgICAgICAgICAgIG5vdGVzLnB1c2gobGFzdE5vdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvXlt4elhaXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgIC8vIEdyYWIgYSByZXN0IC0gbm8gcGl0Y2guXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlIGRvbid0IHJlY29nbml6ZSAtIG5vdCBhIHN0ZW0uXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSaWdodCBhZnRlciBhIFtjaG9yZF0sIG5vdGUsIG9yIHJlc3QsIGxvb2sgZm9yIGEgZHVyYXRpb24gbWFya2luZy5cbiAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvXig/IVtcXHMlIV0pLipbXFxkXFwvXS8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB0b2tlbnNbaW5kZXgrK107XG4gICAgICAgICAgICBub3RlVGltZSA9IGR1cmF0aW9uVG9UaW1lKGR1cmF0aW9uKTtcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBkdXJhdGlvbiB0byBhbGwgdGhlIG50b2VzIGluIHRoZSBzdGVtLlxuICAgICAgICAgICAgLy8gTk9URTogc3BlYyBzdWdnZXN0cyBtdWx0aXBseWluZyB0aGlzIGR1cmF0aW9uLCBidXQgdGhhdFxuICAgICAgICAgICAgLy8gaWRpb20gaXMgbm90IHNlZW4gKHNvIGZhcikgaW4gcHJhY3RpY2UuXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIG5vdGVzW2pdLnRpbWUgPSBub3RlVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVuIGxvb2sgZm9yIGEgdHJhaWxpbmcgdGllIG1hcmtpbmcuICBXaWxsIHRpZSBldmVyeSBub3RlIGluIGEgY2hvcmQuXG4gICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgXCItXCIgPT0gdG9rZW5zW2luZGV4XSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIG5vdGVzW2pdLnRpZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjY2VudC5keW5hbWljcykge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBhY2NlbnQuZHluYW1pY3M7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBzdGVtOiB7XG4gICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVzLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBzdGFjY2F0bzogc3RhY2NhdG8sXG4gICAgICAgICAgICAgICAgdGltZTogZHVyYXRpb25Ub1RpbWUoZHVyYXRpb24pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTm9ybWFsaXplcyBwaXRjaCBtYXJraW5ncyBieSBzdHJpcHBpbmcgbGVhZGluZyA9IGlmIHByZXNlbnQuXG4gICAgZnVuY3Rpb24gc3RyaXBOYXR1cmFsKHBpdGNoKSB7XG4gICAgICAgIGlmIChwaXRjaC5sZW5ndGggPiAwICYmIHBpdGNoLmNoYXJBdCgwKSA9PSBcIj1cIikge1xuICAgICAgICAgICAgcmV0dXJuIHBpdGNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGl0Y2g7XG4gICAgfVxuICAgIC8vIFByb2Nlc3NlcyBhbiBhY2NlbnRlZCBwaXRjaCwgYXV0b21hdGljYWxseSBhcHBseWluZyBhY2NpZGVudGFsc1xuICAgIC8vIHRoYXQgaGF2ZSBhY2N1bXVsYXRlZCB3aXRoaW4gdGhlIG1lYXN1cmUsIGFuZCBhbHNvIHNhdmluZ1xuICAgIC8vIGV4cGxpY2l0IGFjY2lkZW50YWxzIHRvIGNvbnRpbnVlIHRvIGFwcGx5IGluIHRoZSBtZWFzdXJlLlxuICAgIGZ1bmN0aW9uIGFwcGx5QWNjZW50KHBpdGNoLCBrZXksIGFjY2VudCkge1xuICAgICAgICB2YXIgbSA9IC9eKFxcXit8Xyt8PXwpKFtBLUdhLWddKSguKikkLy5leGVjKHBpdGNoKSxcbiAgICAgICAgICAgIGxldHRlcjtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gcGl0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZSB0aGF0IGFuIGFjY2lkZW50YWwgaW4gb25lIG9jdGF2ZSBhcHBsaWVzIGluIG90aGVyIG9jdGF2ZXMuXG4gICAgICAgIGxldHRlciA9IG1bMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKG1bMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGVyZSBpcyBhbiBleHBsaWNpdCBhY2NpZGVudGFsLCB0aGVuIHJlbWVtYmVyIGl0IGZvclxuICAgICAgICAgICAgLy8gdGhlIHJlc3Qgb2YgdGhlIG1lYXN1cmUuXG4gICAgICAgICAgICBhY2NlbnRbbGV0dGVyXSA9IG1bMV07XG4gICAgICAgICAgICByZXR1cm4gc3RyaXBOYXR1cmFsKHBpdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWNjZW50Lmhhc093blByb3BlcnR5KGxldHRlcikpIHtcbiAgICAgICAgICAgIC8vIEFjY2lkZW50YWxzIGZyb20gdGhpcyBtZWFzdXJlIGFwcGx5IHRvIHVuYWNjZW50ZWQgbm90ZXMuXG4gICAgICAgICAgICByZXR1cm4gc3RyaXBOYXR1cmFsKGFjY2VudFtsZXR0ZXJdICsgbVsyXSArIG1bM10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkuaGFzT3duUHJvcGVydHkobGV0dGVyKSkge1xuICAgICAgICAgICAgLy8gS2V5IHNpZ25hdHVyZXMgYXBwbHkgYnkgZGVmYXVsdC5cbiAgICAgICAgICAgIHJldHVybiBzdHJpcE5hdHVyYWwoa2V5W2xldHRlcl0gKyBtWzJdICsgbVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChwaXRjaCk7XG4gICAgfVxuICAgIC8vIENvbnZlcnRzIGFuIEFCQyBkdXJhdGlvbiB0byBhIG51bWJlciAoZS5nLiwgXCIvM1wiLT4wLjMzMyBvciBcIjExLzJcIi0+MS41KS5cbiAgICBmdW5jdGlvbiBkdXJhdGlvblRvVGltZShkdXJhdGlvbikge1xuICAgICAgICB2YXIgbSA9IC9eKFxcZCopKD86XFwvKFxcZCopKT8kfF4oXFwvKykkLy5leGVjKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBpbGVuO1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgaWYgKG1bM10pIHJldHVybiBNYXRoLnBvdygwLjUsIG1bM10ubGVuZ3RoKTtcbiAgICAgICAgZCA9IG1bMl0gPyBwYXJzZUZsb2F0KG1bMl0pIDogL1xcLy8udGVzdChkdXJhdGlvbikgPyAyIDogMTtcbiAgICAgICAgLy8gSGFuZGxlIG1peGVkIGZyYXRpb25zOlxuICAgICAgICBpbGVuID0gMDtcbiAgICAgICAgbiA9IG1bMV0gPyBwYXJzZUZsb2F0KG1bMV0pIDogMTtcbiAgICAgICAgaWYgKG1bMl0pIHtcbiAgICAgICAgICAgIHdoaWxlIChpbGVuICsgMSA8IG1bMV0ubGVuZ3RoICYmIG4gPiBkKSB7XG4gICAgICAgICAgICAgICAgaWxlbiArPSAxO1xuICAgICAgICAgICAgICAgIGkgPSBwYXJzZUZsb2F0KG1bMV0uc3Vic3RyaW5nKDAsIGlsZW4pKTtcbiAgICAgICAgICAgICAgICBuID0gcGFyc2VGbG9hdChtWzFdLnN1YnN0cmluZyhpbGVuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGkgKyBuIC8gZDtcbiAgICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJTlNUUlVNRU5UU1xuLy9cbi8vIEFsbCBmdXJ0aGVyIGRldGFpbHMgb2YgYXVkaW8gaGFuZGxpbmcgYXJlIGVuY2Fwc3VsYXRlZCBpbiB0aGUgSW5zdHJ1bWVudFxuLy8gY2xhc3MsIHdoaWNoIGtub3dzIGhvdyB0byBzeW50aGVzaXplIGEgYmFzaWMgdGltYnJlOyBob3cgdG8gcGxheSBhbmRcbi8vIHNjaGVkdWxlIGEgdG9uZTsgYW5kIGhvdyB0byBwYXJzZSBhbmQgc2VxdWVuY2UgYSBzb25nIHdyaXR0ZW4gaW4gQUJDXG4vLyBub3RhdGlvbi5cblxuLy8gVGhlIGNvbnN0cnVjdG9yIGFjY2VwdHMgYSB0aW1icmUgc3RyaW5nIG9yIG9iamVjdCwgc3BlY2lmeWluZ1xuLy8gaXRzIGRlZmF1bHQgc291bmQuICBUaGUgbWFpbiBtZWNoYW5pc21zIGluIEluc3RydW1lbnQgYXJlIGZvciBoYW5kbGluZ1xuLy8gc2VxdWVuY2luZyBvZiBhIChwb3RlbnRpYWxseSBsYXJnZSkgc2V0IG9mIG5vdGVzIG92ZXIgYSAocG90ZW50aWFsbHlcbi8vIGxvbmcpIHBlcmlvZCBvZiB0aW1lLiAgVGhlIG92ZXJhbGwgc3RyYXRlZ3k6XG4vL1xuLy8gICAgICAgICAgICAgICAgICAgICAgIEV2ZW50czogICAgICAnbm90ZW9uJyAgICAgICAgJ25vdGVvZmYnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbi8vIHRvbmUoKS0ocXVpY2sgdG9uZXMpLT58IF9zdGFydFNldCAtLT58IF9maW5pc2hTZXQgLS0+fCBfY2xlYW51cFNldCAtLT58XG4vLyAgIFxcICAgICAgICAgICAgICAgICAgIHwgIC8gICAgICAgICAgIHwgUGxheWluZyB0b25lcyB8IERvbmUgdG9uZXMgICAgIHxcbi8vICAgIFxcLS0tLSBfcXVldWUgLS0tLS0tfC0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuLy8gICAgICBvZiBmdXR1cmUgdG9uZXMgIHwzIHNlY3MgYWhlYWQgc2VudCB0byBXZWJBdWRpbywgcmVtb3ZlZCB3aGVuIGRvbmVcbi8vXG4vLyBUaGUgcmVhc29uIGZvciB0aGlzIHF1ZXVpbmcgaXMgdG8gcmVkdWNlIHRoZSBjb21wbGV4aXR5IG9mIHRoZVxuLy8gbm9kZSBncmFwaCBzZW50IHRvIFdlYkF1ZGlvOiBhdCBhbnkgdGltZSwgV2ViQXVkaW8gaXMgb25seVxuLy8gcmVzcG9uc2libGUgZm9yIGFib3V0IDIgc2Vjb25kcyBvZiBtdXNpYy4gIElmIGEgZ3JhcGggd2l0aCB0b29cbi8vIHRvbyBtYW55IG5vZGVzIGlzIHNlbnQgdG8gV2ViQXVkaW8gYXQgb25jZSwgb3V0cHV0IGRpc3RvcnRzIGJhZGx5LlxuXG5jbGFzcyBJbnN0cnVtZW50IHtcbiAgICBzdGF0aWMgdGltZU9mZnNldCA9IDAuMDYyNTsgLy8gU2Vjb25kcyB0byBkZWxheSBhbGwgYXVkaWFibGUgdGltaW5nLlxuICAgIHN0YXRpYyBkZXF1ZXVlVGltZSA9IDAuNTsgLy8gU2Vjb25kcyBiZWZvcmUgYW4gZXZlbnQgdG8gcmVleGFtaW5lIHF1ZXVlLlxuICAgIHN0YXRpYyBidWZmZXJTZWNzID0gMjsgLy8gU2Vjb25kcyBhaGVhZCB0byBwdXQgbm90ZXMgaW4gV2ViQXVkaW8uXG4gICAgc3RhdGljIHRvbmVMZW5ndGggPSAxOyAvLyBEZWZhdWx0IGR1cmF0aW9uIG9mIGEgdG9uZS5cbiAgICBzdGF0aWMgY2xlYW51cERlbGF5ID0gMC4xOyAvLyBTaWxlbnQgdGltZSBiZWZvcmUgZGlzY29ubmVjdGluZyBub2Rlcy5cblxuICAgIC8vIEFjY2VwdHMgZWl0aGVyIGFuIEFCQyBwaXRjaCBvciBhIG1pZGkgbnVtYmVyIGFuZCBjb252ZXJ0cyB0byBtaWRpLlxuICAgIHN0YXRpYyBwaXRjaFRvTWlkaShuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMucGl0Y2hUb01pZGkobik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuXG4gICAgLy8gQWNjZXB0cyBlaXRoZXIgYW4gQUJDIHBpdGNoIG9yIGEgbWlkaSBudW1iZXIgYW5kIGNvbnZlcnRzIHRvIEFCQyBwaXRjaC5cbiAgICBzdGF0aWMgbWlkaVRvUGl0Y2gobikge1xuICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLm1pZGlUb1BpdGNoKG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cblxuICAgIF9vdXQ7XG4gICAgX2F0b3A7XG4gICAgX3RpbWJyZTtcbiAgICBfcXVldWU7XG4gICAgX21pblF1ZXVlVGltZTtcbiAgICBfbWF4U2NoZWR1bGVkVGltZTtcbiAgICBfdW5zb3J0ZWRRdWV1ZTtcbiAgICBfc3RhcnRTZXQ7XG4gICAgX2ZpbmlzaFNldDtcbiAgICBfY2xlYW51cFNldDtcbiAgICBfY2FsbGJhY2tTZXQ7XG4gICAgX2hhbmRsZXJzO1xuICAgIF9ub3c7XG4gICAgX3BvbGxUaW1lcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fYXRvcCA9IFV0aWxzLmdldEF1ZGlvVG9wKCk7IC8vIEF1ZGlvIGNvbnRleHQuXG4gICAgICAgIHRoaXMuX3RpbWJyZSA9IFV0aWxzLm1ha2VUaW1icmUob3B0aW9ucywgdGhpcy5fYXRvcCk7IC8vIFRoZSBpbnN0cnVtZW50J3MgdGltYnJlLlxuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdOyAvLyBBIHF1ZXVlIG9mIGZ1dHVyZSB0b25lcyB0byBwbGF5LlxuICAgICAgICB0aGlzLl9taW5RdWV1ZVRpbWUgPSBJbmZpbml0eTsgLy8gVGhlIGVhcmxpZXN0IHRpbWUgaW4gX3F1ZXVlLlxuICAgICAgICB0aGlzLl9tYXhTY2hlZHVsZWRUaW1lID0gMDsgLy8gVGhlIGxhdGVzdCB0aW1lIGluIF9xdWV1ZS5cbiAgICAgICAgdGhpcy5fdW5zb3J0ZWRRdWV1ZSA9IGZhbHNlOyAvLyBUcnVlIGlmIF9xdWV1ZSBpcyB1bnNvcnRlZC5cbiAgICAgICAgdGhpcy5fc3RhcnRTZXQgPSBbXTsgLy8gVW5zdGFydGVkIHRvbmVzIGFscmVhZHkgc2VudCB0byBXZWJBdWRpby5cbiAgICAgICAgdGhpcy5fZmluaXNoU2V0ID0ge307IC8vIFN0YXJ0ZWQgdG9uZXMgcGxheWluZyBpbiBXZWJBdWRpby5cbiAgICAgICAgdGhpcy5fY2xlYW51cFNldCA9IFtdOyAvLyBUb25lcyB3YWl0aW5nIGZvciBjbGVhbnVwLlxuICAgICAgICB0aGlzLl9jYWxsYmFja1NldCA9IFtdOyAvLyBBIHNldCBvZiBzY2hlZHVsZWQgY2FsbGJhY2tzLlxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHt9OyAvLyAnbm90ZW9uJyBhbmQgJ25vdGVvZmYnIGhhbmRsZXJzLlxuICAgICAgICB0aGlzLl9ub3cgPSBudWxsOyAvLyBBIGNhY2hlZCBjdXJyZW50LXRpbWUgdmFsdWUuXG4gICAgICAgIGlmIChVdGlscy5pc0F1ZGlvUHJlc2VudCgpKSB7XG4gICAgICAgICAgICB0aGlzLnNpbGVuY2UoKTsgLy8gSW5pdGlhbGl6ZXMgdG9wLWxldmVsIGF1ZGlvIG5vZGUuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXRzIHRoZSBkZWZhdWx0IHRpbWJyZSBmb3IgdGhlIGluc3RydW1lbnQuICBTZWUgZGVmYXVsdFRpbWJyZS5cbiAgICBzZXRUaW1icmUodCkge1xuICAgICAgICB0aGlzLl90aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKHQsIHRoaXMuX2F0b3ApOyAvLyBTYXZlcyBhIGNvcHkuXG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgZGVmYXVsdCB0aW1icmUgZm9yIHRoZSBpbnN0cnVtZW50IGFzIGFuIG9iamVjdC5cbiAgICBnZXRUaW1icmUodCkge1xuICAgICAgICByZXR1cm4gVXRpbHMubWFrZVRpbWJyZSh0aGlzLl90aW1icmUsIHRoaXMuX2F0b3ApOyAvLyBNYWtlcyBhIGNvcHkuXG4gICAgfVxuXG4gICAgLy8gU2V0cyB0aGUgb3ZlcmFsbCB2b2x1bWUgZm9yIHRoZSBpbnN0cnVtZW50IGltbWVkaWF0ZWx5LlxuICAgIHNldFZvbHVtZSh2KSB7XG4gICAgICAgIC8vIFdpdGhvdXQgYW4gYXVkaW8gc3lzdGVtLCB2b2x1bWUgY2Fubm90IGJlIHNldC5cbiAgICAgICAgaWYgKCF0aGlzLl9vdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTmFOKHYpKSB7XG4gICAgICAgICAgICB0aGlzLl9vdXQuZ2Fpbi52YWx1ZSA9IHY7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXRzIHRoZSBvdmVyYWxsIHZvbHVtZSBmb3IgdGhlIGluc3RydW1lbnQuXG4gICAgZ2V0Vm9sdW1lKHYpIHtcbiAgICAgICAgLy8gV2l0aG91dCBhbiBhdWRpbyBzeXN0ZW0sIHZvbHVtZSBpcyBzdHVjayBhdCB6ZXJvLlxuICAgICAgICBpZiAoIXRoaXMuX291dCkge1xuICAgICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fb3V0LmdhaW4udmFsdWU7XG4gICAgfVxuXG4gICAgLy8gU2lsZW5jZXMgdGhlIGluc3RydW1lbnQgaW1tZWRpYXRlbHkgYnkgcmVpbml0aWFsaXppbmcgdGhlIGF1ZGlvXG4gICAgLy8gZ3JhcGggZm9yIHRoaXMgaW5zdHJ1bWVudCBhbmQgZW1wdHlpbmcgb3IgZmx1c2hpbmcgYWxsIHF1ZXVlcyBpbiB0aGVcbiAgICAvLyBzY2hlZHVsZXIuICBDYXJlZnVsbHkgbm90aWZpZXMgYWxsIG5vdGVzIHRoYXQgaGF2ZSBzdGFydGVkIGJ1dCBub3RcbiAgICAvLyB5ZXQgZmluaXNoZWQsIGFuZCBzZXF1ZW5jZXMgdGhhdCBhcmUgYXdhaXRpbmcgc2NoZWR1bGVkIGNhbGxiYWNrcy5cbiAgICAvLyBEb2VzIG5vdCBub3RpZnkgbm90ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgc3RhcnRlZC5cbiAgICBzaWxlbmNlKCkge1xuICAgICAgICB2YXIgaixcbiAgICAgICAgICAgIGZpbmlzaGVkLFxuICAgICAgICAgICAgY2FsbGJhY2tzLFxuICAgICAgICAgICAgaW5pdHZvbHVtZSA9IDE7XG5cbiAgICAgICAgLy8gQ2xlYXIgZnV0dXJlIG5vdGVzLlxuICAgICAgICB0aGlzLl9xdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9taW5RdWV1ZVRpbWUgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5fbWF4U2NoZWR1bGVkVGltZSA9IDA7XG5cbiAgICAgICAgLy8gRG9uJ3Qgbm90aWZ5IG5vdGVzIHRoYXQgaGF2ZW4ndCBzdGFydGVkIHlldC5cbiAgICAgICAgdGhpcy5fc3RhcnRTZXQubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyBGbHVzaCBmaW5pc2ggY2FsbGJhY2tzIHRoYXQgYXJlIHByb21pc2VkLlxuICAgICAgICBmaW5pc2hlZCA9IHRoaXMuX2ZpbmlzaFNldDtcbiAgICAgICAgdGhpcy5fZmluaXNoU2V0ID0ge307XG5cbiAgICAgICAgLy8gRmx1c2ggb25lLXRpbWUgY2FsbGFja3MgdGhhdCBhcmUgcHJvbWlzZWQuXG4gICAgICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrU2V0O1xuICAgICAgICB0aGlzLl9jYWxsYmFja1NldCA9IFtdO1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIGdyYXBoIGZvciB0aGlzIGluc3RydW1lbnQuXG4gICAgICAgIGlmICh0aGlzLl9vdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX291dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBpbml0dm9sdW1lID0gdGhpcy5fb3V0LmdhaW4udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWluaXRpYWxpemUgdGhlIGF1ZGlvIGdyYXBoOiBhbGwgYXVkaW8gZm9yIHRoZSBpbnN0cnVtZW50XG4gICAgICAgIC8vIG11bHRpcGxleGVzIHRocm91Z2ggYSBzaW5nbGUgZ2FpbiBub2RlIHdpdGggYSBtYXN0ZXIgdm9sdW1lLlxuICAgICAgICB0aGlzLl9hdG9wID0gVXRpbHMuZ2V0QXVkaW9Ub3AoKTtcbiAgICAgICAgdGhpcy5fb3V0ID0gdGhpcy5fYXRvcC5hYy5jcmVhdGVHYWluKCk7XG4gICAgICAgIC8vIHRoaXMuX291dC5nYWluLnZhbHVlID0gaW5pdHZvbHVtZTsgLy8gUk9OWUVIIFJFTU9WRUQgRFVFIFRPIEJVRy5cbiAgICAgICAgdGhpcy5fb3V0LmdhaW4uc2V0VGFyZ2V0QXRUaW1lKGluaXR2b2x1bWUsIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgIHRoaXMuX291dC5jb25uZWN0KHRoaXMuX2F0b3Aub3V0KTtcblxuICAgICAgICAvLyBBcyBhIGxhc3Qgc3RlcCwgY2FsbCBhbGwgcHJvbWlzZWQgbm90aWZpY2F0aW9ucy5cbiAgICAgICAgZm9yIChqIGluIGZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwibm90ZW9mZlwiLCBmaW5pc2hlZFtqXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY2FsbGJhY2tzW2pdLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGdXR1cmUgbm90ZXMgYXJlIHNjaGVkdWxlZCByZWxhdGl2ZSB0byBub3coKSwgd2hpY2ggcHJvdmlkZXNcbiAgICAvLyBhY2Nlc3MgdG8gYXVkaW9DdXJyZW50U3RhcnRUaW1lKCksIGEgdGltZSB0aGF0IGhvbGRzIHN0ZWFkeVxuICAgIC8vIHVudGlsIHRoZSBzY3JpcHQgcmVsZWFzZXMgdG8gdGhlIGV2ZW50IGxvb3AuICBXaGVuIF9ub3cgaXNcbiAgICAvLyBub24tbnVsbCwgaXQgaW5kaWNhdGVzIHRoYXQgc2NoZWR1bGluZyBpcyBhbHJlYWR5IGluIHByb2dyZXNzLlxuICAgIC8vIFRoZSB0aW1lci1kcml2ZW4gX2RvUG9sbCBmdW5jdGlvbiBjbGVhcnMgdGhlIGNhY2hlZCBfbm93LlxuICAgIG5vdygpIHtcbiAgICAgICAgaWYgKHRoaXMuX25vdyAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0UG9sbFRpbWVyKHRydWUpOyAvLyBwYXNzaW5nICh0cnVlKSBzZXRzIHRoaXMuX25vdy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdztcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBhbiBldmVudCBoYW5kbGVyLiAgRG9uZSB3aXRob3V0IGpRdWVyeSB0byByZWR1Y2UgZGVwZW5kZW5jaWVzLlxuICAgIG9uKGV2ZW50bmFtZSwgY2IpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudG5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyc1tldmVudG5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXS5wdXNoKGNiKTtcbiAgICB9XG5cbiAgICAvLyBVbnJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIuICBEb25lIHdpdGhvdXQgalF1ZXJ5IHRvIHJlZHVjZSBkZXBlbmRlbmNpZXMuXG4gICAgb2ZmKGV2ZW50bmFtZSwgY2IpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLmhhc093blByb3BlcnR5KGV2ZW50bmFtZSkpIHtcbiAgICAgICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVyc1tldmVudG5hbWVdID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBqLFxuICAgICAgICAgICAgICAgICAgICBodW50ID0gdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgaHVudC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHVudFtqXSA9PT0gY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh1bnQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaiAtPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlciBhbiBldmVudCwgbm90aWZ5aW5nIGFueSByZWdpc3RlcmVkIGhhbmRsZXJzLlxuICAgIF90cmlnZ2VyKGV2ZW50bmFtZSwgcmVjb3JkKSB7XG4gICAgICAgIHZhciBjYiA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV0sXG4gICAgICAgICAgICBqO1xuICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNiLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsLCBjb21tb24gY2FzZSBvZiBvbmUgaGFuZGxlcjogbm8gY29weSBuZWVkZWQuXG4gICAgICAgICAgICBjYlswXShyZWNvcmQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvcHkgdGhlIGFycmF5IG9mIGNhbGxiYWNrcyBiZWZvcmUgaXRlcmF0aW5nLCBiZWNhdXNlIHRoZVxuICAgICAgICAvLyBtYWluIHRoaXMuX2hhbmRsZXJzIGNvcHkgY291bGQgYmUgY2hhbmdlZCBieSBhIGhhbmRsZXIuXG4gICAgICAgIC8vIFlvdSBnZXQgbm90aWZpZWQgaWYtYW5kLW9ubHktaWYgeW91IGFyZSByZWdpc3RlcmVkXG4gICAgICAgIC8vIGF0IHRoZSBzdGFydGluZyBtb21lbnQgb2YgX3RyaWdnZXIuXG4gICAgICAgIGNiID0gY2Iuc2xpY2UoKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGNiLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBjYltqXShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGVsbHMgdGhlIFdlYkF1ZGlvIEFQSSB0byBwbGF5IGEgdG9uZSAobm93IG9yIHNvb24pLiAgVGhlIHBhc3NlZFxuICAgIC8vIHJlY29yZCBzcGVjaWZpZXMgYSBzdGFydCB0aW1lIGFuZCByZWxlYXNlIHRpbWUsIGFuIEFEU1IgZW52ZWxvcGUsXG4gICAgLy8gYW5kIG90aGVyIHRpbWJyZSBwYXJhbWV0ZXJzLiAgVGhpcyBmdW5jdGlvbiBzZXRzIHVwIGEgV2ViQXVkaW9cbiAgICAvLyBub2RlIGdyYXBoIGZvciB0aGUgdG9uZSBnZW5lcmF0b3JzIGFuZCBmaWx0ZXJzIGZvciB0aGUgdG9uZS5cbiAgICBfbWFrZVNvdW5kKHJlY29yZCkge1xuICAgICAgICB2YXIgdGltYnJlID0gcmVjb3JkLnRpbWJyZSB8fCB0aGlzLl90aW1icmUsXG4gICAgICAgICAgICBzdGFydHRpbWUgPSByZWNvcmQudGltZSArIEluc3RydW1lbnQudGltZU9mZnNldCxcbiAgICAgICAgICAgIHJlbGVhc2V0aW1lID0gc3RhcnR0aW1lICsgcmVjb3JkLmR1cmF0aW9uLFxuICAgICAgICAgICAgYXR0YWNrdGltZSA9IE1hdGgubWluKHJlbGVhc2V0aW1lLCBzdGFydHRpbWUgKyB0aW1icmUuYXR0YWNrKSxcbiAgICAgICAgICAgIGRlY2F5dGltZSA9IHRpbWJyZS5kZWNheSAqIE1hdGgucG93KDQ0MCAvIHJlY29yZC5mcmVxdWVuY3ksIHRpbWJyZS5kZWNheWZvbGxvdyksXG4gICAgICAgICAgICBkZWNheXN0YXJ0dGltZSA9IGF0dGFja3RpbWUsXG4gICAgICAgICAgICBzdG9wdGltZSA9IHJlbGVhc2V0aW1lICsgdGltYnJlLnJlbGVhc2UsXG4gICAgICAgICAgICBkb3VibGVkID0gdGltYnJlLmRldHVuZSAmJiB0aW1icmUuZGV0dW5lICE9IDEuMCxcbiAgICAgICAgICAgIGFtcCA9IHRpbWJyZS5nYWluICogcmVjb3JkLnZlbG9jaXR5ICogKGRvdWJsZWQgPyAwLjUgOiAxLjApLFxuICAgICAgICAgICAgYWMgPSB0aGlzLl9hdG9wLmFjLFxuICAgICAgICAgICAgZyxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICBvLFxuICAgICAgICAgICAgbzIsXG4gICAgICAgICAgICBwd2F2ZSxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICB3ZixcbiAgICAgICAgICAgIGJ3ZjtcbiAgICAgICAgLy8gT25seSBob29rIHVwIHRvbmUgZ2VuZXJhdG9ycyBpZiBpdCBpcyBhbiBhdWRpYmxlIHNvdW5kLlxuICAgICAgICBpZiAocmVjb3JkLmR1cmF0aW9uID4gMCAmJiByZWNvcmQudmVsb2NpdHkgPiAwKSB7XG4gICAgICAgICAgICBnID0gYWMuY3JlYXRlR2FpbigpO1xuICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHN0YXJ0dGltZSk7XG4gICAgICAgICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoYW1wLCBhdHRhY2t0aW1lKTtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgYmVnaW5uaW5nIG9mIHRoZSBkZWNheSwgdXNlIGxpbmVhclJhbXBUb1ZhbHVlIGluc3RlYWRcbiAgICAgICAgICAgIC8vIG9mIHNldFRhcmdldEF0VGltZSwgYmVjYXVzZSBpdCBhdm9pZHMgaHR0cDovL2NyYnVnLmNvbS8yNTQ5NDIuXG4gICAgICAgICAgICB3aGlsZSAoZGVjYXlzdGFydHRpbWUgPCBhdHRhY2t0aW1lICsgMSAvIDMyICYmIGRlY2F5c3RhcnR0aW1lICsgMSAvIDI1NiA8IHJlbGVhc2V0aW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gSnVzdCB0cmFjZSBvdXQgdGhlIGN1cnZlIGluIGluY3JlbWVudHMgb2YgMS8yNTYgc2VjXG4gICAgICAgICAgICAgICAgLy8gZm9yIHVwIHRvIDEvMzIgc2Vjb25kcy5cbiAgICAgICAgICAgICAgICBkZWNheXN0YXJ0dGltZSArPSAxIC8gMjU2O1xuICAgICAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gZGVjYXlzdGFydHRpbWUpIC8gZGVjYXl0aW1lKSksIGRlY2F5c3RhcnR0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgZGVjYXksIHVzZSBzZXRUYXJnZXRBdFRpbWUuXG4gICAgICAgICAgICBnLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKGFtcCAqIHRpbWJyZS5zdXN0YWluLCBkZWNheXN0YXJ0dGltZSwgZGVjYXl0aW1lKTtcbiAgICAgICAgICAgIC8vIFRoZW4gYXQgcmVsZWFzZSB0aW1lLCBtYXJrIHRoZSB2YWx1ZSBhbmQgcmFtcCB0byB6ZXJvLlxuICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKGFtcCAqICh0aW1icmUuc3VzdGFpbiArICgxIC0gdGltYnJlLnN1c3RhaW4pICogTWF0aC5leHAoKGF0dGFja3RpbWUgLSByZWxlYXNldGltZSkgLyBkZWNheXRpbWUpKSwgcmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHN0b3B0aW1lKTtcbiAgICAgICAgICAgIGcuY29ubmVjdCh0aGlzLl9vdXQpO1xuICAgICAgICAgICAgLy8gSG9vayB1cCBhIGxvdy1wYXNzIGZpbHRlciBpZiBjdXRvZmYgaXMgc3BlY2lmaWVkLlxuICAgICAgICAgICAgaWYgKCghdGltYnJlLmN1dG9mZiAmJiAhdGltYnJlLmN1dGZvbGxvdykgfHwgdGltYnJlLmN1dG9mZiA9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIGYgPSBnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgY3V0b2ZmIGZyZXF1ZW5jeSBhZGp1c3RlZCB1c2luZyBjdXRmb2xsb3cuXG4gICAgICAgICAgICAgICAgZiA9IGFjLmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xuICAgICAgICAgICAgICAgIC8vIGYuZnJlcXVlbmN5LnZhbHVlID0gdGltYnJlLmN1dG9mZiArIHJlY29yZC5mcmVxdWVuY3kgKiB0aW1icmUuY3V0Zm9sbG93OyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gQlVHLlxuICAgICAgICAgICAgICAgIC8vIGYuUS52YWx1ZSA9IHRpbWJyZS5yZXNvbmFuY2U7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBCVUcuXG4gICAgICAgICAgICAgICAgZi5mcmVxdWVuY3kuc2V0VGFyZ2V0QXRUaW1lKHRpbWJyZS5jdXRvZmYgKyByZWNvcmQuZnJlcXVlbmN5ICogdGltYnJlLmN1dGZvbGxvdywgdGhpcy5fYXRvcC5hYy5jdXJyZW50VGltZSwgMC4wMDEpOyAvLyBST05ZRUggQURERURcbiAgICAgICAgICAgICAgICBmLlEuc2V0VGFyZ2V0QXRUaW1lKHRpbWJyZS5yZXNvbmFuY2UsIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgICAgICAgICAgZi5jb25uZWN0KGcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSG9vayB1cCB0aGUgbWFpbiBvc2NpbGxhdG9yLlxuICAgICAgICAgICAgbyA9IFV0aWxzLm1ha2VPc2NpbGxhdG9yKHRoaXMuX2F0b3AsIHRpbWJyZS53YXZlLCByZWNvcmQuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgIG8uY29ubmVjdChmKTtcbiAgICAgICAgICAgIG8uc3RhcnQoc3RhcnR0aW1lKTtcbiAgICAgICAgICAgIG8uc3RvcChzdG9wdGltZSk7XG4gICAgICAgICAgICAvLyBIb29rIHVwIGEgZGV0dW5lZCBvc2NpbGxhdG9yLlxuICAgICAgICAgICAgaWYgKGRvdWJsZWQpIHtcbiAgICAgICAgICAgICAgICBvMiA9IFV0aWxzLm1ha2VPc2NpbGxhdG9yKHRoaXMuX2F0b3AsIHRpbWJyZS53YXZlLCByZWNvcmQuZnJlcXVlbmN5ICogdGltYnJlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgbzIuY29ubmVjdChmKTtcbiAgICAgICAgICAgICAgICBvMi5zdGFydChzdGFydHRpbWUpO1xuICAgICAgICAgICAgICAgIG8yLnN0b3Aoc3RvcHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RvcmUgbm9kZXMgaW4gdGhlIHJlY29yZCBzbyB0aGF0IHRoZXkgY2FuIGJlIG1vZGlmaWVkXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSB0b25lIGlzIHRydW5jYXRlZCBsYXRlci5cbiAgICAgICAgICAgIHJlY29yZC5nYWluTm9kZSA9IGc7XG4gICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnMgPSBbb107XG4gICAgICAgICAgICBpZiAoZG91YmxlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5vc2NpbGxhdG9ycy5wdXNoKG8yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY29yZC5jbGVhbnVwdGltZSA9IHN0b3B0aW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW5hdWRpYmxlIHNvdW5kcyBhcmUgc2NoZWR1bGVkOiB0aGVpciBwdXJwb3NlIGlzIHRvIHRydW5jYXRlXG4gICAgICAgICAgICAvLyBhdWRpYmxlIHRvbmVzIGF0IHRoZSBzYW1lIHBpdGNoLiAgQnV0IGR1cmF0aW9uIGlzIHNldCB0byB6ZXJvXG4gICAgICAgICAgICAvLyBzbyB0aGF0IHRoZXkgYXJlIGNsZWFuZWQgdXAgcXVpY2tseS5cbiAgICAgICAgICAgIHJlY29yZC5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRTZXQucHVzaChyZWNvcmQpO1xuICAgIH1cbiAgICAvLyBUcnVuY2F0ZXMgYSBzb3VuZCBwcmV2aW91c2x5IHNjaGVkdWxlZCBieSBfbWFrZVNvdW5kIGJ5IHVzaW5nXG4gICAgLy8gY2FuY2VsU2NoZWR1bGVkVmFsdWVzIGFuZCBkaXJlY3RseSByYW1waW5nIGRvd24gdG8gemVyby5cbiAgICAvLyBDYW4gb25seSBiZSB1c2VkIHRvIHNob3J0ZW4gYSBzb3VuZC5cbiAgICBfdHJ1bmNhdGVTb3VuZChyZWNvcmQsIHRydW5jYXRldGltZSkge1xuICAgICAgICBpZiAodHJ1bmNhdGV0aW1lIDwgcmVjb3JkLnRpbWUgKyByZWNvcmQuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHJlY29yZC5kdXJhdGlvbiA9IE1hdGgubWF4KDAsIHRydW5jYXRldGltZSAtIHJlY29yZC50aW1lKTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQuZ2Fpbk5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGltYnJlID0gcmVjb3JkLnRpbWJyZSB8fCB0aGlzLl90aW1icmUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0dGltZSA9IHJlY29yZC50aW1lICsgSW5zdHJ1bWVudC50aW1lT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICByZWxlYXNldGltZSA9IHRydW5jYXRldGltZSArIEluc3RydW1lbnQudGltZU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNrdGltZSA9IE1hdGgubWluKHJlbGVhc2V0aW1lLCBzdGFydHRpbWUgKyB0aW1icmUuYXR0YWNrKSxcbiAgICAgICAgICAgICAgICAgICAgZGVjYXl0aW1lID0gdGltYnJlLmRlY2F5ICogTWF0aC5wb3coNDQwIC8gcmVjb3JkLmZyZXF1ZW5jeSwgdGltYnJlLmRlY2F5Zm9sbG93KSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcHRpbWUgPSByZWxlYXNldGltZSArIHRpbWJyZS5yZWxlYXNlLFxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwdGltZSA9IHN0b3B0aW1lICsgSW5zdHJ1bWVudC5jbGVhbnVwRGVsYXksXG4gICAgICAgICAgICAgICAgICAgIGRvdWJsZWQgPSB0aW1icmUuZGV0dW5lICYmIHRpbWJyZS5kZXR1bmUgIT0gMS4wLFxuICAgICAgICAgICAgICAgICAgICBhbXAgPSB0aW1icmUuZ2FpbiAqIHJlY29yZC52ZWxvY2l0eSAqIChkb3VibGVkID8gMC41IDogMS4wKSxcbiAgICAgICAgICAgICAgICAgICAgaixcbiAgICAgICAgICAgICAgICAgICAgZyA9IHJlY29yZC5nYWluTm9kZTtcbiAgICAgICAgICAgICAgICAvLyBDYW5jZWwgYW55IGVudmVsb3BlIHBvaW50cyBhZnRlciB0aGUgbmV3IHJlbGVhc2V0aW1lLlxuICAgICAgICAgICAgICAgIGcuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMocmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxlYXNldGltZSA8PSBzdGFydHRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVsZWFzZSBiZWZvcmUgc3RhcnQ/ICBUb3RhbGx5IHNpbGVuY2UgdGhlIG5vdGUuXG4gICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCByZWxlYXNldGltZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWxlYXNldGltZSA8PSBhdHRhY2t0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgYmVmb3JlIGF0dGFjayBpcyBkb25lPyAgSW50ZXJydXB0IHJhbXAgdXAuXG4gICAgICAgICAgICAgICAgICAgIC8vIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgoYW1wICogKHJlbGVhc2V0aW1lIC0gc3RhcnR0aW1lKSkgLyAoYXR0YWNrdGltZSAtIHN0YXJ0dGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoKGFtcCAqIChyZWxlYXNldGltZSAtIHN0YXJ0dGltZSkpIC8gKGF0dGFja3RpbWUgLSBzdGFydHRpbWUpLCBzdGFydHRpbWUpOyAvLyBST05ZRUggQURERUQgU0VDT05EIFBBUkFNIFwic3RhcnR0aW1lXCIuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVsZWFzZSBkdXJpbmcgZGVjYXk/ICBJbnRlcnJ1cHQgZGVjYXkgZG93bi5cbiAgICAgICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKGFtcCAqICh0aW1icmUuc3VzdGFpbiArICgxIC0gdGltYnJlLnN1c3RhaW4pICogTWF0aC5leHAoKGF0dGFja3RpbWUgLSByZWxlYXNldGltZSkgLyBkZWNheXRpbWUpKSwgcmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGVuIHJhbXAgZG93biB0byB6ZXJvIGFjY29yZGluZyB0byByZWNvcmQucmVsZWFzZS5cbiAgICAgICAgICAgICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgc3RvcHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIEFmdGVyIHN0b3B0aW1lLCBzdG9wIHRoZSBvc2NpbGxhdG9ycy4gIFRoaXMgaXMgbmVjZXNzYXJ5IHRvXG4gICAgICAgICAgICAgICAgLy8gZWxpbWluYXRlIGV4dHJhIHdvcmsgZm9yIFdlYkF1ZGlvIGZvciBuby1sb25nZXItYXVkaWJsZSBub3Rlcy5cbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLm9zY2lsbGF0b3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCByZWNvcmQub3NjaWxsYXRvcnMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5vc2NpbGxhdG9yc1tqXS5zdG9wKHN0b3B0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBkaXNjb25uZWN0LlxuICAgICAgICAgICAgICAgIHJlY29yZC5jbGVhbnVwdGltZSA9IGNsZWFudXB0aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRoZSBjb3JlIHNjaGVkdWxpbmcgbG9vcCBpcyBtYW5hZ2VkIGJ5IEluc3RydW1lbnQuX2RvUG9sbC4gIEl0IHJlYWRzXG4gICAgLy8gdGhlIGF1ZGlvY29udGV4dCdzIGN1cnJlbnQgdGltZSBhbmQgcHVzaGVzIHRvbmUgcmVjb3JkcyBmcm9tIG9uZVxuICAgIC8vIHN0YWdlIHRvIHRoZSBuZXh0LlxuICAgIC8vXG4gICAgLy8gMS4gVGhlIGZpcnN0IHN0YWdlIGlzIHRoZSBfcXVldWUsIHdoaWNoIGhhcyB0b25lcyB0aGF0IGhhdmUgbm90XG4gICAgLy8gICAgeWV0IGJlZW4gZ2l2ZW4gdG8gV2ViQXVkaW8uIFRoaXMgbG9vcCBzY2FucyBfcXVldWUgdG8gZmluZFxuICAgIC8vICAgIG5vdGVzIHRoYXQgbmVlZCB0byBiZWdpbiBpbiB0aGUgbmV4dCBmZXcgc2Vjb25kczsgdGhlbiBpdFxuICAgIC8vICAgIHNlbmRzIHRob3NlIHRvIFdlYkFkdWlvIGFuZCBtb3ZlcyB0aGVtIHRvIF9zdGFydFNldC4gQmVjYXVzZVxuICAgIC8vICAgIHNjaGVkdWxlZCBzb25ncyBjYW4gYmUgbG9uZywgX3F1ZXVlIGNhbiBiZSBsYXJnZS5cbiAgICAvL1xuICAgIC8vIDIuIFNlY29uZCBpcyBfc3RhcnRTZXQsIHdoaWNoIGhhcyB0b25lcyB0aGF0IGhhdmUgYmVlbiBnaXZlbiB0b1xuICAgIC8vICAgIFdlYkF1ZGlvLCBidXQgd2hvc2Ugc3RhcnQgdGltZXMgaGF2ZSBub3QgeWV0IGVsYXBzZWQuIFdoZW5cbiAgICAvLyAgICB0aGUgdGltZSBhZHZhbmNlcyBwYXN0IHRoZSBzdGFydCB0aW1lIG9mIGEgcmVjb3JkLCBhICdub3Rlb24nXG4gICAgLy8gICAgbm90aWZpY2F0aW9uIGlzIGZpcmVkIGZvciB0aGUgdG9uZSwgYW5kIGl0IGlzIG1vdmVkIHRvXG4gICAgLy8gICAgX2ZpbmlzaFNldC5cbiAgICAvL1xuICAgIC8vIDMuIF9maW5pc2hTZXQgcmVwcmVzZW50cyB0aGUgbm90ZXMgdGhhdCBhcmUgY3VycmVudGx5IHNvdW5kaW5nLlxuICAgIC8vICAgIFRoZSBwcm9ncmFtbWluZyBtb2RlbCBmb3IgSW5zdHJ1bWVudCBpcyB0aGF0IG9ubHkgb25lIHRvbmUgb2ZcbiAgICAvLyAgICBhIHNwZWNpZmljIGZyZXF1ZW5jeSBtYXkgYmUgcGxheWVkIGF0IG9uY2Ugd2l0aGluIGEgSW5zdHJ1bWVudCxcbiAgICAvLyAgICBzbyBvbmx5IG9uZSB0b25lIG9mIGEgZ2l2ZW4gZnJlcXVlbmN5IG1heSBleGlzdCBpbiBfZmluaXNoU2V0XG4gICAgLy8gICAgYXQgb25jZS4gIFdoZW4gdGhlcmUgaXMgYSBjb25mbGljdCwgdGhlIHNvb25lci10by1lbmQtbm90ZVxuICAgIC8vICAgIGlzIHRydW5jYXRlZC5cbiAgICAvL1xuICAgIC8vIDQuIEFmdGVyIGEgbm90ZSBpcyByZWxlYXNlZCwgaXQgbWF5IGhhdmUgYSBsaXRsZSByZWxlYXNlIHRpbWVcbiAgICAvLyAgICAoZGVwZW5kaW5nIG9uIHRpbWJyZS5yZWxlYXNlKSwgYWZ0ZXIgd2hpY2ggdGhlIG5vZGVzIGNhblxuICAgIC8vICAgIGJlIHRvdGFsbHkgZGlzY29ubmVjdGVkIGFuZCBjbGVhbmVkIHVwLiAgX2NsZWFudXBTZXQgaG9sZHNcbiAgICAvLyAgICBub3RlcyBmb3Igd2hpY2ggd2UgYXJlIGF3YWl0aW5nIGNsZWFudXAuXG4gICAgX2RvUG9sbCgpIHtcbiAgICAgICAgdGhpcy5fcG9sbFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbm93ID0gbnVsbDtcbiAgICAgICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcImludGVycnVwdGVkXCIpICYmIHdpbmRvd1tcImludGVycnVwdGVkXCJdID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnNpbGVuY2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc2hvcnRlc3QgdGltZSB3ZSBjYW4gZGVsYXkgaXMgMSAvIDEwMDAgc2Vjcywgc28gaWYgYW4gZXZlbnRcbiAgICAgICAgLy8gaXMgd2l0aGluIHRoZSBuZXh0IDAuNSBtcywgbm93IGlzIHRoZSBjbG9zZXN0IG1vbWVudCwgYW5kIHdlIGdvXG4gICAgICAgIC8vIGFoZWFkIGFuZCBwcm9jZXNzIGl0LlxuICAgICAgICB2YXIgaW5zdGFudCA9IHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUgKyAxIC8gMjAwMCxcbiAgICAgICAgICAgIGNhbGxiYWNrcyA9IFtdLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIHdvcmssXG4gICAgICAgICAgICB3aGVuLFxuICAgICAgICAgICAgZnJlcSxcbiAgICAgICAgICAgIHJlY29yZCxcbiAgICAgICAgICAgIGNvbmZsaWN0LFxuICAgICAgICAgICAgc2F2ZSxcbiAgICAgICAgICAgIGNiO1xuICAgICAgICAvLyBTY2hlZHVsZSBhIGJhdGNoIG9mIG5vdGVzXG4gICAgICAgIGlmICh0aGlzLl9taW5RdWV1ZVRpbWUgLSBpbnN0YW50IDw9IEluc3RydW1lbnQuYnVmZmVyU2Vjcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Vuc29ydGVkUXVldWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnRpbWUgIT0gYi50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS50aW1lIC0gYi50aW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLmR1cmF0aW9uICE9IGIuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmR1cmF0aW9uIC0gYi5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5mcmVxdWVuY3kgLSBiLmZyZXF1ZW5jeTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91bnNvcnRlZFF1ZXVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fcXVldWUubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcXVldWVbal0udGltZSAtIGluc3RhbnQgPiBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgd29yayA9IHRoaXMuX3F1ZXVlLnNwbGljZSgwLCBqKTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgd29yay5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYWtlU291bmQod29ya1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX21pblF1ZXVlVGltZSA9IHRoaXMuX3F1ZXVlLmxlbmd0aCA+IDAgPyB0aGlzLl9xdWV1ZVswXS50aW1lIDogSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGlzY29ubmVjdCBub3RlcyBmcm9tIHRoZSBjbGVhbnVwIHNldC5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NsZWFudXBTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2NsZWFudXBTZXRbal07XG4gICAgICAgICAgICBpZiAocmVjb3JkLmNsZWFudXB0aW1lIDwgaW5zdGFudCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuZ2Fpbk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBleHBsaWNpdCBkaXNjb25uZWN0IGlzIG5lZWRlZCBvciBlbHNlIENocm9tZSdzIFdlYkF1ZGlvXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyBnZXR0aW5nIG92ZXJsb2FkZWQgYWZ0ZXIgYSBjb3VwbGUgdGhvdXNhbmQgbm90ZXMuXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5nYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5nYWluTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RpZnkgYWJvdXQgYW55IG5vdGVzIGZpbmlzaGluZy5cbiAgICAgICAgZm9yIChmcmVxIGluIHRoaXMuX2ZpbmlzaFNldCkge1xuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fZmluaXNoU2V0W2ZyZXFdO1xuICAgICAgICAgICAgd2hlbiA9IHJlY29yZC50aW1lICsgcmVjb3JkLmR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKHdoZW4gPD0gaW5zdGFudCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IFt3aGVuLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgZjogdGhpcy5fdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9mZlwiLCByZWNvcmRdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuY2xlYW51cHRpbWUgIT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFNldC5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbCBhbnkgc3BlY2lmaWMgb25lLXRpbWUgY2FsbGJhY2tzIHRoYXQgd2VyZSByZWdpc3RlcmVkLlxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fY2FsbGJhY2tTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNiID0gdGhpcy5fY2FsbGJhY2tTZXRbal07XG4gICAgICAgICAgICB3aGVuID0gY2IudGltZTtcbiAgICAgICAgICAgIGlmICh3aGVuIDw9IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbd2hlbiwgMV0sXG4gICAgICAgICAgICAgICAgICAgIGY6IGNiLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICB0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhOiBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFja1NldC5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgaiAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGlmeSBhYm91dCBhbnkgbm90ZXMgc3RhcnRpbmcuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9zdGFydFNldC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXJ0U2V0W2pdLnRpbWUgPD0gaW5zdGFudCkge1xuICAgICAgICAgICAgICAgIHNhdmUgPSByZWNvcmQgPSB0aGlzLl9zdGFydFNldFtqXTtcbiAgICAgICAgICAgICAgICBmcmVxID0gcmVjb3JkLmZyZXF1ZW5jeTtcbiAgICAgICAgICAgICAgICBjb25mbGljdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaFNldC5oYXNPd25Qcm9wZXJ0eShmcmVxKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgbm90ZSBhdCB0aGUgc2FtZSBmcmVxdWVuY3kgcGxheWluZyxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiByZWxlYXNlIHRoZSBvbmUgdGhhdCBzdGFydHMgZmlyc3QsIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICAgICAgICBjb25mbGljdCA9IHRoaXMuX2ZpbmlzaFNldFtmcmVxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZsaWN0LnRpbWUgPCByZWNvcmQudGltZSB8fCAoY29uZmxpY3QudGltZSA9PSByZWNvcmQudGltZSAmJiBjb25mbGljdC5kdXJhdGlvbiA8IHJlY29yZC5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE91ciBuZXcgc291bmQgY29uZmxpY3RzIHdpdGggYW4gb2xkIG9uZTogZW5kIHRoZSBvbGQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgbm90aWZ5IGltbWVkaWF0ZWx5IG9mIGl0cyBub3Rlb2ZmIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ1bmNhdGVTb3VuZChjb25mbGljdCwgcmVjb3JkLnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbcmVjb3JkLnRpbWUsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGY6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOiBbXCJub3Rlb2ZmXCIsIGNvbmZsaWN0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZpbmlzaFNldFtmcmVxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgY29uZmxpY3QgZnJvbSB0aGUgZnV0dXJlIGhhcyBhbHJlYWR5IHNjaGVkdWxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIG91ciBvd24gbm90ZSBzaG91bGRuJ3Qgc291bmQuICBUcnVuY2F0ZSBvdXJzZWx2ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5LCBhbmQgc3VwcHJlc3Mgb3VyIG93biBub3Rlb24gYW5kIG5vdGVvZmYuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cnVuY2F0ZVNvdW5kKHJlY29yZCwgY29uZmxpY3QudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCA9IHJlY29yZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFNldC5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgaiAtPSAxO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuZHVyYXRpb24gPiAwICYmIHJlY29yZC52ZWxvY2l0eSA+IDAgJiYgY29uZmxpY3QgIT09IHJlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2hTZXRbZnJlcV0gPSByZWNvcmQ7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbcmVjb3JkLnRpbWUsIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZjogdGhpcy5fdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiBbXCJub3Rlb25cIiwgcmVjb3JkXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNjaGVkdWxlIHRoZSBuZXh0IF9kb1BvbGwuXG4gICAgICAgIHRoaXMuX3N0YXJ0UG9sbFRpbWVyKCk7XG5cbiAgICAgICAgLy8gU29ydCBjYWxsYmFja3MgYWNjb3JkaW5nIHRvIHRoZSBcIm9yZGVyXCIgdHVwbGUsIHNvIGVhcmxpZXIgZXZlbnRzXG4gICAgICAgIC8vIGFyZSBub3RpZmllZCBmaXJzdC5cbiAgICAgICAgY2FsbGJhY2tzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhLm9yZGVyWzBdICE9IGIub3JkZXJbMF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlclswXSAtIGIub3JkZXJbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aWVicmVhayBieSBub3RpZnlpbmcgJ25vdGVvZmYnIGZpcnN0IGFuZCAnbm90ZW9uJyBsYXN0LlxuICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJbMV0gLSBiLm9yZGVyWzFdO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQXQgdGhlIGVuZCwgY2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRob3V0IGRlcGVuZGluZyBvbiBcInRoaXNcIiBzdGF0ZS5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY2IgPSBjYWxsYmFja3Nbal07XG4gICAgICAgICAgICBjYi5mLmFwcGx5KGNiLnQsIGNiLmEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNjaGVkdWxlcyB0aGUgbmV4dCBfZG9Qb2xsIGNhbGwgYnkgZXhhbWluaW5nIHRpbWVzIGluIHRoZSB2YXJpb3VzXG4gICAgLy8gc2V0cyBhbmQgZGV0ZXJtaW5pbmcgdGhlIHNvb25lc3QgZXZlbnQgdGhhdCBuZWVkcyBfZG9Qb2xsIHByb2Nlc3NpbmcuXG4gICAgX3N0YXJ0UG9sbFRpbWVyKHNldG5vdzogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkb25lIGEgXCJzZXRub3dcIiwgdGhlbiBwb2xsVGltZXIgaXMgemVyby10aW1lb3V0XG4gICAgICAgIC8vIGFuZCBjYW5ub3QgYmUgZmFzdGVyLlxuICAgICAgICBpZiAodGhpcy5fcG9sbFRpbWVyICYmIHRoaXMuX25vdyAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgcG9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9kb1BvbGwoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYXJsaWVzdCA9IEluZmluaXR5LFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGRlbGF5O1xuICAgICAgICBpZiAodGhpcy5fcG9sbFRpbWVyKSB7XG4gICAgICAgICAgICAvLyBDbGVhciBhbnkgb2xkIHRpbWVyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcG9sbFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldG5vdykge1xuICAgICAgICAgICAgLy8gV2hlbiBzY2hlZHVsaW5nIHRvbmVzLCBjYWNoZSBfbm93IGFuZCBrZWVwIGEgemVyby10aW1lb3V0IHBvbGwuXG4gICAgICAgICAgICAvLyBfbm93IHdpbGwgYmUgY2xlYXJlZCB0aGUgbmV4dCB0aW1lIHdlIGV4ZWN1dGUgX2RvUG9sbC5cbiAgICAgICAgICAgIHRoaXMuX25vdyA9IFV0aWxzLmF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9sbFRpbWVyID0gc2V0VGltZW91dChwb2xsLCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaW1lciBkdWUgdG8gbm90ZXMgc3RhcnRpbmc6IHdha2UgdXAgZm9yICdub3Rlb24nIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX3N0YXJ0U2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBlYXJsaWVzdCA9IE1hdGgubWluKGVhcmxpZXN0LCB0aGlzLl9zdGFydFNldFtqXS50aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaW1lciBkdWUgdG8gbm90ZXMgZmluaXNoaW5nOiB3YWtlIHVwIGZvciAnbm90ZW9mZicgbm90aWZpY2F0aW9uLlxuICAgICAgICBmb3IgKGogaW4gdGhpcy5fZmluaXNoU2V0KSB7XG4gICAgICAgICAgICBlYXJsaWVzdCA9IE1hdGgubWluKGVhcmxpZXN0LCB0aGlzLl9maW5pc2hTZXRbal0udGltZSArIHRoaXMuX2ZpbmlzaFNldFtqXS5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIHNjaGVkdWxlZCBjYWxsYmFjay5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NhbGxiYWNrU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBlYXJsaWVzdCA9IE1hdGgubWluKGVhcmxpZXN0LCB0aGlzLl9jYWxsYmFja1NldFtqXS50aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaW1lciBkdWUgdG8gY2xlYW51cDogYWRkIGEgc2Vjb25kIHRvIGdpdmUgc29tZSB0aW1lIHRvIGJhdGNoIHVwLlxuICAgICAgICBpZiAodGhpcy5fY2xlYW51cFNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBlYXJsaWVzdCA9IE1hdGgubWluKGVhcmxpZXN0LCB0aGlzLl9jbGVhbnVwU2V0WzBdLmNsZWFudXB0aW1lICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIHNlcXVlbmNlciBldmVudHM6IHN1YnRyYWN0IGEgbGl0dGxlIHRpbWUgdG8gc3RheSBhaGVhZC5cbiAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fbWluUXVldWVUaW1lIC0gSW5zdHJ1bWVudC5kZXF1ZXVlVGltZSk7XG5cbiAgICAgICAgZGVsYXkgPSBNYXRoLm1heCgwLjAwMSwgZWFybGllc3QgLSB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gZnV0dXJlIGV2ZW50cywgdGhlbiB3ZSBkbyBub3QgbmVlZCBhIHRpbWVyLlxuICAgICAgICBpZiAoaXNOYU4oZGVsYXkpIHx8IGRlbGF5ID09IEluZmluaXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2UgdGhlIEphdmFzY3JpcHQgdGltZXIgdG8gd2FrZSB1cCBhdCB0aGUgcmlnaHQgbW9tZW50LlxuICAgICAgICB0aGlzLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KHBvbGwsIE1hdGgucm91bmQoZGVsYXkgKiAxMDAwKSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGxvdy1sZXZlbCB0b25lIGZ1bmN0aW9uLlxuICAgIHRvbmUocGl0Y2gsIGR1cmF0aW9uLCB2ZWxvY2l0eSwgZGVsYXksIHRpbWJyZSwgb3JpZ2luKSB7XG4gICAgICAgIC8vIElmIGF1ZGlvIGlzIG5vdCBwcmVzZW50LCB0aGlzIGlzIGEgbm8tb3AuXG4gICAgICAgIGlmICghdGhpcy5fYXRvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsbGVkIHdpdGggYW4gb2JqZWN0IGluc3RlYWQgb2YgbGlzdGVkIGFyZ3MuXG4gICAgICAgIGlmICh0eXBlb2YgcGl0Y2ggPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID09IG51bGwpIHZlbG9jaXR5ID0gcGl0Y2gudmVsb2NpdHk7XG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkgZHVyYXRpb24gPSBwaXRjaC5kdXJhdGlvbjtcbiAgICAgICAgICAgIGlmIChkZWxheSA9PSBudWxsKSBkZWxheSA9IHBpdGNoLmRlbGF5O1xuICAgICAgICAgICAgaWYgKHRpbWJyZSA9PSBudWxsKSB0aW1icmUgPSBwaXRjaC50aW1icmU7XG4gICAgICAgICAgICBpZiAob3JpZ2luID09IG51bGwpIG9yaWdpbiA9IHBpdGNoLm9yaWdpbjtcbiAgICAgICAgICAgIHBpdGNoID0gcGl0Y2gucGl0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IHBpdGNoIGZyb20gdmFyaW91cyBmb3JtYXRzIHRvIEh6IGZyZXF1ZW5jeSBhbmQgYSBtaWRpIG51bS5cbiAgICAgICAgdmFyIG1pZGksIGZyZXF1ZW5jeTtcbiAgICAgICAgaWYgKCFwaXRjaCkge1xuICAgICAgICAgICAgcGl0Y2ggPSBcIkNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4ocGl0Y2gpKSB7XG4gICAgICAgICAgICBtaWRpID0gVXRpbHMucGl0Y2hUb01pZGkocGl0Y2gpO1xuICAgICAgICAgICAgZnJlcXVlbmN5ID0gVXRpbHMubWlkaVRvRnJlcXVlbmN5KG1pZGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJlcXVlbmN5ID0gTnVtYmVyKHBpdGNoKTtcbiAgICAgICAgICAgIGlmIChmcmVxdWVuY3kgPCAwKSB7XG4gICAgICAgICAgICAgICAgbWlkaSA9IC1mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5ID0gVXRpbHMubWlkaVRvRnJlcXVlbmN5KG1pZGkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaWRpID0gVXRpbHMuZnJlcXVlbmN5VG9NaWRpKGZyZXF1ZW5jeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRpbWJyZSkge1xuICAgICAgICAgICAgdGltYnJlID0gdGhpcy5fdGltYnJlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgY3VzdG9tIHRpbWJyZSwgdmFsaWRhdGUgYW5kIGNvcHkgaXQuXG4gICAgICAgIGlmICh0aW1icmUgIT09IHRoaXMuX3RpbWJyZSkge1xuICAgICAgICAgICAgdmFyIGdpdmVuID0gdGltYnJlLFxuICAgICAgICAgICAgICAgIGtleTtcbiAgICAgICAgICAgIHRpbWJyZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gVXRpbHMuZGVmYXVsdFRpbWJyZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gZ2l2ZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGltYnJlW2tleV0gPSBnaXZlbltrZXldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWJyZVtrZXldID0gVXRpbHMuZGVmYXVsdFRpbWJyZVtrZXldOyAvLyBST05ZRUg6IFRoZXJlIHdhcyBhIHR5cG8gYnVnIGluIHRoZSBvcmlnaW5hbCBNdXNpY2FsLmpzLiBJdCB3YXMgY2F1Z2h0IGJ5IG91ciBUeXBlU2NyaXB0IGNvbXBpbGVyLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgcmVjb3JkIGZvciBhIHRvbmUuXG4gICAgICAgIHZhciBhYyA9IHRoaXMuX2F0b3AuYWMsXG4gICAgICAgICAgICBub3cgPSB0aGlzLm5vdygpLFxuICAgICAgICAgICAgdGltZSA9IG5vdyArIChkZWxheSB8fCAwKSxcbiAgICAgICAgICAgIHJlY29yZCA9IHtcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgICAgICAgIG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IGZyZXF1ZW5jeSxcbiAgICAgICAgICAgICAgICBtaWRpOiBtaWRpLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSA9PSBudWxsID8gMSA6IHZlbG9jaXR5LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiA9PSBudWxsID8gSW5zdHJ1bWVudC50b25lTGVuZ3RoIDogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgdGltYnJlOiB0aW1icmUsXG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudDogdGhpcyxcbiAgICAgICAgICAgICAgICBnYWluTm9kZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yczogbnVsbCxcbiAgICAgICAgICAgICAgICBjbGVhbnVwdGltZTogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBvcmlnaW4sIC8vIHNhdmUgdGhlIG9yaWdpbiBvZiB0aGUgdG9uZSBmb3IgdmlzaWJsZSBmZWVkYmFja1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAodGltZSA8IG5vdyArIEluc3RydW1lbnQuYnVmZmVyU2Vjcykge1xuICAgICAgICAgICAgLy8gVGhlIHRvbmUgc3RhcnRzIHNvb24hICBHaXZlIGl0IGRpcmVjdGx5IHRvIFdlYkF1ZGlvLlxuICAgICAgICAgICAgdGhpcy5fbWFrZVNvdW5kKHJlY29yZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgdG9uZSBpcyBsYXRlcjogcXVldWUgaXQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Vuc29ydGVkUXVldWUgJiYgdGhpcy5fcXVldWUubGVuZ3RoICYmIHRpbWUgPCB0aGlzLl9xdWV1ZVt0aGlzLl9xdWV1ZS5sZW5ndGggLSAxXS50aW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5zb3J0ZWRRdWV1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICB0aGlzLl9taW5RdWV1ZVRpbWUgPSBNYXRoLm1pbih0aGlzLl9taW5RdWV1ZVRpbWUsIHJlY29yZC50aW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgbG93LWxldmVsIGNhbGxiYWNrIHNjaGVkdWxpbmcgbWV0aG9kLlxuICAgIHNjaGVkdWxlKGRlbGF5LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja1NldC5wdXNoKHsgdGltZTogdGhpcy5ub3coKSArIGRlbGF5LCBjYWxsYmFjazogY2FsbGJhY2sgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBoaWdoLWxldmVsIHNlcXVlbmNpbmcgbWV0aG9kLlxuICAgIHBsYXkoYWJjc3RyaW5nKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGRvbmUgPSBudWxsLFxuICAgICAgICAgICAgb3B0cyA9IHt9LFxuICAgICAgICAgICAgc3ViZmlsZSxcbiAgICAgICAgICAgIGFiY2ZpbGUsXG4gICAgICAgICAgICBhcmdpbmRleCxcbiAgICAgICAgICAgIHRlbXBvLFxuICAgICAgICAgICAgdGltYnJlLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIGRlbGF5LFxuICAgICAgICAgICAgbWF4ZGVsYXkgPSAwLFxuICAgICAgICAgICAgYXR0ZW51YXRlLFxuICAgICAgICAgICAgdm9pY2VuYW1lLFxuICAgICAgICAgICAgc3RlbXMsXG4gICAgICAgICAgICBuaSxcbiAgICAgICAgICAgIHZuLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIHN0ZW0sXG4gICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgYmVhdHNlY3MsXG4gICAgICAgICAgICBzZWNzLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIGZpbGVzID0gW107XG4gICAgICAgIC8vIExvb2sgZm9yIGNvbnRpbnVhdGlvbiBhcyBsYXN0IGFyZ3VtZW50LlxuICAgICAgICBpZiAoYXJncy5sZW5ndGggJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGRvbmUgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fYXRvcCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9vayBmb3Igb3B0aW9ucyBhcyBmaXJzdCBvYmplY3QuXG4gICAgICAgIGFyZ2luZGV4ID0gMDtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgICAgICAgIC8vIENvcHkgb3duIHByb3BlcnRpZXMgaW50byBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgICAgICAgIGZvciAoayBpbiBhcmdzWzBdKVxuICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHNba10gPSBhcmdzWzBdW2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ2luZGV4ID0gMTtcbiAgICAgICAgICAgIC8vIElmIGEgc29uZyBpcyBzdXBwbGllZCBieSBvcHRpb25zIG9iamVjdCwgcHJvY2VzcyBpdC5cbiAgICAgICAgICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KFwic29uZ1wiKSkge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChvcHRzW1wic29uZ1wiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgYW55IG51bWJlciBvZiBBQkMgZmlsZXMgYXMgaW5wdXQuXG4gICAgICAgIGZvciAoOyBhcmdpbmRleCA8IGFyZ3MubGVuZ3RoOyArK2FyZ2luZGV4KSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3BsaXR0aW5nIG9mIEFCQyBzdWJmaWxlcyBhdCBYOiBsaW5lcy5cbiAgICAgICAgICAgIHN1YmZpbGUgPSBhcmdzW2FyZ2luZGV4XS5zcGxpdCgvXFxuKD89WDopLyk7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgc3ViZmlsZS5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgIGFiY2ZpbGUgPSBwYXJzZUFCQ0ZpbGUoc3ViZmlsZVtrXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFhYmNmaWxlKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBUYWtlIHRlbXBvIG1hcmtpbmdzIGZyb20gdGhlIGZpcnN0IGZpbGUsIGFuZCBzaGFyZSB0aGVtLlxuICAgICAgICAgICAgICAgIGlmICghb3B0cy5oYXNPd25Qcm9wZXJ0eShcInRlbXBvXCIpICYmIGFiY2ZpbGUudGVtcG8pIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0c1tcInRlbXBvXCJdID0gYWJjZmlsZS50ZW1wbztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFiY2ZpbGUudW5pdGJlYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHNbXCJ0ZW1wb1wiXSA9IChvcHRzW1widGVtcG9cIl0gKiBhYmNmaWxlLnVuaXRiZWF0KSAvIChhYmNmaWxlLnVuaXRub3RlIHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBmaWxlcyB3aXRob3V0IHNvbmdzLlxuICAgICAgICAgICAgICAgIGlmICghYWJjZmlsZS52b2ljZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZmlsZXMucHVzaChhYmNmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHRlbXBvIHRvIDEyMCBpZiBub3RoaW5nIGVsc2UgaXMgc3BlY2lmaWVkLlxuICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoXCJ0ZW1wb1wiKSkge1xuICAgICAgICAgICAgb3B0c1tcInRlbXBvXCJdID0gMTIwO1xuICAgICAgICB9XG4gICAgICAgIC8vIERlZmF1bHQgdm9sdW1lIHRvIDEgaWYgbm90aGluZyBpcyBzcGVjaWZpZWQuXG4gICAgICAgIGlmICghb3B0cy5oYXNPd25Qcm9wZXJ0eShcInZvbHVtZVwiKSkge1xuICAgICAgICAgICAgb3B0c1tcInZvbHVtZVwiXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgYmVhdHNlY3MgPSA2MC4wIC8gb3B0c1tcInRlbXBvXCJdO1xuICAgICAgICAvLyBTY2hlZHVsZSBhbGwgbm90ZXMgZnJvbSBhbGwgdGhlIGZpbGVzLlxuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgZmlsZXMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgIGFiY2ZpbGUgPSBmaWxlc1trXTtcbiAgICAgICAgICAgIC8vIEVhY2ggZmlsZSBjYW4gaGF2ZSBtdWx0aXBsZSB2b2ljZXMgKGUuZy4sIGxlZnQgYW5kIHJpZ2h0IGhhbmRzKVxuICAgICAgICAgICAgZm9yICh2biBpbiBhYmNmaWxlLnZvaWNlKSB7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCB2b2ljZSBjb3VsZCBoYXZlIGEgc2VwYXJhdGUgdGltYnJlLlxuICAgICAgICAgICAgICAgIHRpbWJyZSA9IFV0aWxzLm1ha2VUaW1icmUob3B0c1tcInRpbWJyZVwiXSB8fCBhYmNmaWxlLnZvaWNlW3ZuXS50aW1icmUgfHwgYWJjZmlsZS50aW1icmUgfHwgdGhpcy5fdGltYnJlLCB0aGlzLl9hdG9wKTtcbiAgICAgICAgICAgICAgICAvLyBFYWNoIHZvaWNlIGhhcyBhIHNlcmllcyBvZiBzdGVtcyAobm90ZXMgb3IgY2hvcmRzKS5cbiAgICAgICAgICAgICAgICBzdGVtcyA9IGFiY2ZpbGUudm9pY2Vbdm5dLnN0ZW1zO1xuICAgICAgICAgICAgICAgIGlmICghc3RlbXMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0aW5nIGF0IGRlbGF5IHplcm8gKG5vdyksIHNjaGVkdWxlIGFsbCB0b25lcy5cbiAgICAgICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChuaSA9IDA7IG5pIDwgc3RlbXMubGVuZ3RoOyArK25pKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZW0gPSBzdGVtc1tuaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVudWF0ZSBjaG9yZHMgdG8gcmVkdWNlIGNsaXBwaW5nLlxuICAgICAgICAgICAgICAgICAgICBhdHRlbnVhdGUgPSAxIC8gTWF0aC5zcXJ0KHN0ZW0ubm90ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgZXZlcnkgbm90ZSBpbnNpZGUgYSBzdGVtLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5ob2xkb3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgaG9sZG92ZXIgbm90ZXMgZnJvbSB0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyA9IChub3RlLnRpbWUgfHwgc3RlbS50aW1lKSAqIGJlYXRzZWNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZW0uc3RhY2NhdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG9ydGVuIHN0YWNjYXRvIG5vdGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgPSBNYXRoLm1pbihNYXRoLm1pbihzZWNzLCBiZWF0c2VjcyAvIDE2KSwgdGltYnJlLmF0dGFjayArIHRpbWJyZS5kZWNheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFub3RlLnNsdXJyZWQgJiYgc2VjcyA+PSAxIC8gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlcGFyYXRlIHVuc2x1cnJlZCBub3RlcyBieSBhYm91dCBhIDMwdGggb2YgYSBzZWNvbmQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyAtPSAxIC8gMzI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gKG5vdGUudmVsb2NpdHkgfHwgMSkgKiBhdHRlbnVhdGUgKiBvcHRzW1widm9sdW1lXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBpbm5zZXJtb3N0IHBhcnQgb2YgdGhlIGlubmVyIGxvb3AhXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvbmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxheSB0aGUgdG9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlLnBpdGNoLCAvLyBhdCB0aGUgZ2l2ZW4gcGl0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzLCAvLyBmb3IgdGhlIGdpdmVuIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiwgLy8gd2l0aCB0aGUgZ2l2ZW4gdm9sdW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXksIC8vIHN0YXJ0aW5nIGF0IHRoZSBwcm9wZXIgdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWJyZSwgLy8gd2l0aCB0aGUgc2VsZWN0ZWQgdGltYnJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSAvLyB0aGUgb3JpZ2luIG9iamVjdCBmb3IgdmlzdWFsIGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ICs9IHN0ZW0udGltZSAqIGJlYXRzZWNzOyAvLyBBZHZhbmNlIHRoZSBzZXF1ZW5jZWQgdGltZS5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWF4ZGVsYXkgPSBNYXRoLm1heChkZWxheSwgbWF4ZGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heFNjaGVkdWxlZFRpbWUgPSBNYXRoLm1heCh0aGlzLl9tYXhTY2hlZHVsZWRUaW1lLCB0aGlzLm5vdygpICsgbWF4ZGVsYXkpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBcImRvbmVcIiBjYWxsYmFjayBhZnRlciBhbGwgc2VxdWVuY2luZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUobWF4ZGVsYXksIGRvbmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vL1xuLy8gRU5EIElOU1RSVU1FTlRcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBNdXNpY2FsIEpTXG5cbmNvbnN0IF9JbnN0cnVtZW50ID0gSW5zdHJ1bWVudDtcbmNvbnN0IF9wYXJzZUFCQ0ZpbGUgPSBwYXJzZUFCQ0ZpbGU7XG5uYW1lc3BhY2UgTXVzaWNhbCB7XG4gICAgZXhwb3J0IGNvbnN0IEluc3RydW1lbnQgPSBfSW5zdHJ1bWVudDtcbiAgICBleHBvcnQgY29uc3QgcGFyc2VBQkNGaWxlID0gX3BhcnNlQUJDRmlsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXVzaWNhbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apps/shared/sound/Musical.ts\n");

/***/ })

})