_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{AQz0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("nKUr"),s=n("MX0m"),a=n.n(s),i=(n("q1tI"),function(e){var t=e.width;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:a.a.dynamic([["2109619428",[t]]]),children:"\xa0"}),Object(r.jsx)(a.a,{id:"2109619428",dynamic:[t],children:["div.__jsx-style-dynamic-selector{display:inline-block;min-width:".concat(t,"px;}")]})]})}),o=function(){return Object(r.jsx)(i,{width:20})},c=function(){return Object(r.jsx)(i,{width:30})},l=function(){return Object(r.jsx)(i,{width:60})}},Qk3H:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/midi",function(){return n("UKu6")}])},UKu6:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return _}));var r,s=n("nKUr"),a=n("MX0m"),i=n.n(a),o=n("xis2"),c=n.n(o);function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){var t=[0,33,16],n=[],r=[],s=null,a=0;function i(e){return e.manufacturer.startsWith("ROLI")&&e.name.startsWith("LUMI")}function o(e,t){return d(e)===t}function d(e){if(!e||0===e.length)return"";var t,n=[],r=l(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n.push(s.toString(16).padStart(2,"0").toUpperCase())}}catch(a){r.e(a)}finally{r.f()}return n.join(" ")}function u(e){var n,s=l(r);try{for(s.s();!(n=s.n()).done;){n.value.sendSysex(t,e)}}catch(a){s.e(a)}finally{s.f()}}function h(e){var t=[119,a].concat(e),n=function(e){for(var t=e.length,n=0;n<e.length;n++)t=3*t+e[n]&255;return 127&t}(e);u(t.concat(n))}e.connect=function(){var e,t=l(c.a.inputs);try{for(t.s();!(e=t.n()).done;){var a=e.value;i(a)&&(n.push(a),a.addListener("midimessage","all",(function(e){var t;t=e.data,s(d(t)),o(e.data,"F0 00 21 10 77 47 00 00 00 00 00 04 00 00 2C F7")&&s("POWER BUTTON PRESSED"),o(e.data,"F0 00 21 10 77 47 00 00 00 00 00 04 04 00 38 F7")&&s("OCTAVE DOWN PRESSED"),o(e.data,"F0 00 21 10 77 47 00 00 00 00 00 04 08 00 44 F7")&&s("OCTAVE UP PRESSED")})))}}catch(m){t.e(m)}finally{t.f()}var u,h=l(c.a.outputs);try{for(h.s();!(u=h.n()).done;){var b=u.value;i(b)&&(s("Found LUMI Keys with output port ID: "+b.id),r.push(b))}}catch(m){h.e(m)}finally{h.f()}},e.getClickHandler_SetScaleRoot=function(e){return function(){switch(e){case"C":default:h([16,48,3,0,0,0,0,0]);break;case"C#":h([16,48,35,0,0,0,0,0]);break;case"D":h([16,48,67,0,0,0,0,0]);break;case"D#":h([16,48,99,0,0,0,0,0]);break;case"E":h([16,48,3,1,0,0,0,0]);break;case"F":h([16,48,35,1,0,0,0,0]);break;case"F#":h([16,48,67,1,0,0,0,0]);break;case"G":h([16,48,99,1,0,0,0,0]);break;case"G#":h([16,48,3,2,0,0,0,0]);break;case"A":h([16,48,35,2,0,0,0,0]);break;case"A#":h([16,48,67,2,0,0,0,0]);break;case"B":h([16,48,99,2,0,0,0,0])}}},e.getClickHandler_SetBrightness=function(e){return function(){var t=null;switch(e){case 0:t=[16,64,4,0,0,0,0,0];break;case 1:t=[16,64,36,0,0,0,0,0];break;case 10:t=[16,64,68,2,0,0,0,0];break;case 20:t=[16,64,4,5,0,0,0,0];break;case 25:t=[16,64,36,6,0,0,0,0];break;case 50:t=[16,64,68,12,0,0,0,0];break;case 75:t=[16,64,100,18,0,0,0,0];break;case 100:default:t=[16,64,4,25,0,0,0,0]}h(t)}},e.getClickHandler_ResetToFactorySettings=function(){return function(){s("Factory Reset!"),u([119,7,17,20]),u([73])}},e.getClickHandler_SwitchToMode=function(e){return function(){var t=null;switch(s("Switch to Mode "+e),e){case 1:default:t=[16,64,2,0,0,0,0,0];break;case 2:t=[16,64,34,0,0,0,0,0];break;case 3:t=[16,64,66,0,0,0,0,0];break;case 4:t=[16,64,98,0,0,0,0,0]}h(t)}},e.getClickHandler_SetColorMode=function(e,t){return function(){s("Set color of mode: "+e+" to "+t);var n=null;switch(t){case"pro":switch(e){case 1:default:n=[16,64,12,0,0,0,0,0];break;case 2:n=[16,48,13,0,0,0,0,0];break;case 3:n=[16,32,14,0,0,0,0,0];break;case 4:n=[16,16,15,0,0,0,0,0]}break;case"user":switch(e){case 1:default:n=[16,64,44,0,0,0,0,0];break;case 2:n=[16,48,45,0,0,0,0,0];break;case 3:n=[16,32,46,0,0,0,0,0];break;case 4:n=[16,16,47,0,0,0,0,0]}break;case"piano":switch(e){case 1:default:n=[16,64,76,0,0,0,0,0];break;case 2:n=[16,48,77,0,0,0,0,0];break;case 3:n=[16,32,78,0,0,0,0,0];break;case 4:n=[16,16,79,0,0,0,0,0]}break;case"stage":switch(e){case 1:default:n=[16,64,108,0,0,0,0,0];break;case 2:n=[16,48,109,0,0,0,0,0];break;case 3:n=[16,32,110,0,0,0,0,0];break;case 4:n=[16,16,111,0,0,0,0,0]}break;case"rainbow":default:switch(e){case 1:default:n=[16,64,12,1,0,0,0,0];break;case 2:n=[16,48,13,1,0,0,0,0];break;case 3:n=[16,32,14,1,0,0,0,0];break;case 4:n=[16,16,15,1,0,0,0,0]}}h(n)}},e.getClickHandler_SetScaleType=function(e){return function(){var t=null;switch(e){case"chromatic":t=[16,96,66,4,0,0,0,0];break;case"major":default:t=[16,96,2,0,0,0,0,0];break;case"minor":t=[16,96,34,0,0,0,0,0];break;case"pentatonic-neutral":t=[16,96,98,0,0,0,0,0];break;case"pentatonic-major":t=[16,96,2,1,0,0,0,0];break;case"pentatonic-minor":t=[16,96,34,1,0,0,0,0];break;case"blues":t=[16,96,66,1,0,0,0,0];break;case"harmonic-minor":t=[16,96,66,0,0,0,0,0];break;case"dorian":t=[16,96,98,1,0,0,0,0];break;case"phrygian":t=[16,96,2,2,0,0,0,0];break;case"lydian":t=[16,96,34,2,0,0,0,0];break;case"mixolydian":t=[16,96,66,2,0,0,0,0];break;case"locrian":t=[16,96,98,2,0,0,0,0];break;case"whole-tone":t=[16,96,2,3,0,0,0,0];break;case"arabic-a":t=[16,96,34,2,0,0,0,0];break;case"arabic-b":t=[16,96,66,3,0,0,0,0];break;case"japanese":t=[16,96,98,3,0,0,0,0];break;case"ryukyu":t=[16,96,2,4,0,0,0,0];break;case"8-tone-spanish":t=[16,96,34,4,0,0,0,0]}h(t)}},e.getClickHandler_GetSerialNumber=function(){return function(){u([120,63])}},e.getClickHandler_Highlight=function(e){return function(){var t,n=l(r);try{for(n.s();!(t=n.n()).done;){t.value.playNote(e,"all",{duration:1200})}}catch(s){n.e(s)}finally{n.f()}}},e.getClickHandler_SetColorGlobalKey=function(){return function(){h([16,32,4,64,127,127,127,3])}},e.getClickHandler_SetColorRootKey=function(){return function(){h([16,48,100,63,0,0,126,3])}},e.getClickHandler_SetOctave=function(e){return function(){var t=null;switch(e){case 0:default:t=[16,64,0,0,0,0,0,0];break;case 1:t=[16,64,32,0,0,0,0,0];break;case 2:t=[16,64,64,0,0,0,0,0];break;case 3:t=[16,64,96,0,0,0,0,0];break;case 4:t=[16,64,0,1,0,0,0,0];break;case 5:t=[16,64,32,1,0,0,0,0];break;case-1:t=[16,64,96,127,127,127,127,3];break;case-2:t=[16,64,64,127,127,127,127,3];break;case-3:t=[16,64,32,127,127,127,127,3];break;case-4:t=[16,64,0,127,127,127,127,3]}h(t)}},e.getClickHandler_PitchBend=function(e,t){return function(){var n=null;switch(e){case 1:default:n=t?[16,96,44,0,0,0,0,0]:[16,96,12,0,0,0,0,0];break;case 2:n=t?[16,80,45,0,0,0,0,0]:[16,80,13,0,0,0,0,0];break;case 3:n=t?[16,64,46,0,0,0,0,0]:[16,64,14,0,0,0,0,0];break;case 4:n=t?[16,48,47,0,0,0,0,0]:[16,48,15,0,0,0,0,0]}h(n)}},e.getClickHandler_TestXXX1=function(){return function(){h([1,3,0])}},e.getClickHandler_TestXXX2=function(){return function(){}},e.attachLogOutput=function(e){s=e}}(r||(r={}));var u,h=r;function b(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){var t=[],n=[],r=null,s=null;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:127;if(null!==r){var n=0,s=e-20;r.play(s,n,t/127)}else console.log("playPianoNote: Piano has not been initialized.")}function i(e){if(null!==r){var t=e-20;r.stop(t)}else console.log("playPianoNote: Piano has not been initialized.")}e.start=function(){c.a.enable((function(e){if(e)console.log("WebMidi could not be enabled.",e);else{console.log("WebMidi enabled!"),window.wm=c.a,window.wm_i=c.a.inputs,window.wm_o=c.a.outputs,c.a.inputs.forEach((function(e){console.log(e)})),c.a.outputs.forEach((function(e){console.log(e)}));var r,o=b(c.a.inputs);try{for(o.s();!(r=o.n()).done;){var l=r.value;t.push(l),l.addListener("noteon","all",(function(e){a(e.note.number,e.rawVelocity),s("Note On: "+e.note.number+"  Velocity: "+e.rawVelocity)})),l.addListener("noteoff","all",(function(e){i(e.note.number,e.rawVelocity),s("Note Off: "+e.note.number+"  Velocity: "+e.rawVelocity)}))}}catch(e){o.e(e)}finally{o.f()}var d,u=b(c.a.outputs);try{for(u.s();!(d=u.n()).done;){var m=d.value;n.push(m)}}catch(e){u.e(e)}finally{u.f()}h.connect()}}),!0)},e.attachSoundOutput=function(e){r=e},e.attachLogOutput=function(e){s=e}}(u||(u={}));var j=u,f=n("OTm4"),p=n("t1q6"),x=n("AQz0"),g=n("q1tI"),_=!0;t.default=function(){var e=Object(g.useState)(!0),t=e[0],n=e[1],r=Object(g.useState)("[ ] List Devices Here"),a=r[0],o=(r[1],Object(g.useState)("")),c=o[0],l=o[1],d=[],u=Object(g.useState)(""),b=u[0],m=u[1],_=[];return Object(g.useEffect)((function(){console.log("MOUNT"),l("Press some keys on your MIDI controller to play sounds."),m("Connect your LUMI Keys via Bluetooth or USB."),j.attachLogOutput((function(e){console.log(e),d.unshift(e),l(d.join("\n"))})),h.attachLogOutput((function(e){console.log(e),_.unshift(e),m(_.join("\n"))})),j.start()}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"jsx-2145228261",children:[t?Object(s.jsx)(p.a,{initialOpenState:t,preloadNow:function(){var e=new f.a;j.attachSoundOutput(e),n(!1)}}):null,Object(s.jsx)("h1",{className:"jsx-2145228261",children:"MIDI Test Page"}),Object(s.jsx)("h2",{className:"jsx-2145228261",children:"Devices"}),Object(s.jsxs)("div",{className:"jsx-2145228261 devicesSectionLayout",children:[Object(s.jsx)("div",{className:"jsx-2145228261 eventsLog midi",children:Object(s.jsx)("pre",{className:"jsx-2145228261",children:c})}),Object(s.jsx)("div",{className:"jsx-2145228261 deviceList",children:Object(s.jsx)("pre",{className:"jsx-2145228261",children:a})})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsx)("h2",{className:"jsx-2145228261",children:"LUMI Keys"}),Object(s.jsx)("div",{className:"jsx-2145228261 eventsLog lumi",children:Object(s.jsx)("pre",{className:"jsx-2145228261",children:b})}),Object(s.jsx)("p",{className:"jsx-2145228261",children:"The buttons below are specific to LUMI Keys by ROLI."}),Object(s.jsx)("button",{onClick:h.getClickHandler_GetSerialNumber(),className:"jsx-2145228261",children:"Serial Number"}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsx)("button",{onClick:h.getClickHandler_ResetToFactorySettings(),className:"jsx-2145228261",children:"Factory Reset"}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"Light Up Note"}),Object(s.jsxs)("div",{className:"jsx-2145228261 blackKeys",children:[Object(s.jsx)(x.b,{}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("C#3"),className:"jsx-2145228261",children:["C#3",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Db3"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("D#3"),className:"jsx-2145228261",children:["D#3",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Eb3"]}),Object(s.jsx)(x.c,{}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("F#3"),className:"jsx-2145228261",children:["F#3",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Gb3"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("G#3"),className:"jsx-2145228261",children:["G#3",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Ab3"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("A#3"),className:"jsx-2145228261",children:["A#3",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Bb3"]}),Object(s.jsx)(x.c,{}),Object(s.jsx)(x.b,{}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("C#4"),className:"jsx-2145228261",children:["C#4",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Db4"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("D#4"),className:"jsx-2145228261",children:["D#4",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Eb4"]}),Object(s.jsx)(x.c,{}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("F#4"),className:"jsx-2145228261",children:["F#4",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Gb4"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("G#4"),className:"jsx-2145228261",children:["G#4",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Ab4"]}),Object(s.jsxs)("button",{onClick:h.getClickHandler_Highlight("A#4"),className:"jsx-2145228261",children:["A#4",Object(s.jsx)("br",{className:"jsx-2145228261"}),"Bb4"]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 whiteKeys",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("C3"),className:"jsx-2145228261",children:"C3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("D3"),className:"jsx-2145228261",children:"D3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("E3"),className:"jsx-2145228261",children:"E3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("F3"),className:"jsx-2145228261",children:"F3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("G3"),className:"jsx-2145228261",children:"G3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("A3"),className:"jsx-2145228261",children:"A3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("B3"),className:"jsx-2145228261",children:"B3"}),Object(s.jsx)(x.b,{}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("C4"),className:"jsx-2145228261",children:"C4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("D4"),className:"jsx-2145228261",children:"D4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("E4"),className:"jsx-2145228261",children:"E4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("F4"),className:"jsx-2145228261",children:"F4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("G4"),className:"jsx-2145228261",children:"G4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("A4"),className:"jsx-2145228261",children:"A4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_Highlight("B4"),className:"jsx-2145228261",children:"B4"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"Scale Root"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("C"),className:"jsx-2145228261",children:"C"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("C#"),className:"jsx-2145228261",children:"C#/Db"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("D"),className:"jsx-2145228261",children:"D"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("D#"),className:"jsx-2145228261",children:"D#/Eb"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("E"),className:"jsx-2145228261",children:"E"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("F"),className:"jsx-2145228261",children:"F"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("F#"),className:"jsx-2145228261",children:"F#/Gb"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("G"),className:"jsx-2145228261",children:"G"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("G#"),className:"jsx-2145228261",children:"G#/Ab"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("A"),className:"jsx-2145228261",children:"A"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("A#"),className:"jsx-2145228261",children:"A#/Bb"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleRoot("B"),className:"jsx-2145228261",children:"B"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"Scale Type"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("major"),className:"jsx-2145228261",children:"major"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("minor"),className:"jsx-2145228261",children:"minor"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("harmonic-minor"),className:"jsx-2145228261",children:"harmonic minor"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("pentatonic-major"),className:"jsx-2145228261",children:"major pentatonic"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("pentatonic-minor"),className:"jsx-2145228261",children:"minor pentatonic"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("blues"),className:"jsx-2145228261",children:"blues"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("dorian"),className:"jsx-2145228261",children:"dorian"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("phrygian"),className:"jsx-2145228261",children:"phrygian"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("lydian"),className:"jsx-2145228261",children:"lydian"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("mixolydian"),className:"jsx-2145228261",children:"mixolydian"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("locrian"),className:"jsx-2145228261",children:"locrian"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("chromatic"),className:"jsx-2145228261",children:"chromatic"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("whole-tone"),className:"jsx-2145228261",children:"whole-tone"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("arabic-a"),className:"jsx-2145228261",children:"arabic-a"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("arabic-b"),className:"jsx-2145228261",children:"arabic-b"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("japanese"),className:"jsx-2145228261",children:"japanese"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("ryukyu"),className:"jsx-2145228261",children:"ryukyu"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetScaleType("8-tone-spanish"),className:"jsx-2145228261",children:"8-tone-spanish"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{style:{border:"10px solid #000"},className:"jsx-2145228261 dt",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtHead",children:[Object(s.jsx)("div",{className:"jsx-2145228261 dtCell",children:Object(s.jsx)("a",{onClick:h.getClickHandler_SwitchToMode(1),className:"jsx-2145228261",children:"Mode 1"})}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCell",children:Object(s.jsx)("a",{onClick:h.getClickHandler_SwitchToMode(2),className:"jsx-2145228261",children:"Mode 2"})}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCell",children:Object(s.jsx)("a",{onClick:h.getClickHandler_SwitchToMode(3),className:"jsx-2145228261",children:"Mode 3"})}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCell",children:Object(s.jsx)("a",{onClick:h.getClickHandler_SwitchToMode(4),className:"jsx-2145228261",children:"Mode 4"})})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtBody",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(1,"pro"),className:"jsx-2145228261",children:"pro"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with single rainbow color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(2,"pro"),className:"jsx-2145228261",children:"pro"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with single rainbow color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(3,"pro"),className:"jsx-2145228261",children:"pro"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with single rainbow color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(4,"pro"),className:"jsx-2145228261",children:"pro"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with single rainbow color"})]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(1,"user"),className:"jsx-2145228261",children:"user"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with user selected color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(2,"user"),className:"jsx-2145228261",children:"user"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with user selected color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(3,"user"),className:"jsx-2145228261",children:"user"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with user selected color"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(4,"user"),className:"jsx-2145228261",children:"user"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"highlight root note with user selected color"})]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(1,"piano"),className:"jsx-2145228261",children:"piano"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"white and black keys"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(2,"piano"),className:"jsx-2145228261",children:"piano"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"white and black keys"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(3,"piano"),className:"jsx-2145228261",children:"piano"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"white and black keys"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(4,"piano"),className:"jsx-2145228261",children:"piano"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"white and black keys"})]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(1,"stage"),className:"jsx-2145228261",children:"stage"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"dim rainbow colors, appropriate for a dark room"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(2,"stage"),className:"jsx-2145228261",children:"stage"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"dim rainbow colors, appropriate for a dark room"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(3,"stage"),className:"jsx-2145228261",children:"stage"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"dim rainbow colors, appropriate for a dark room"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(4,"stage"),className:"jsx-2145228261",children:"stage"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"dim rainbow colors, appropriate for a dark room"})]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(1,"rainbow"),className:"jsx-2145228261",children:"rainbow"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"bright rainbow colors, black sharps/flats"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(2,"rainbow"),className:"jsx-2145228261",children:"rainbow"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"bright rainbow colors, black sharps/flats"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(3,"rainbow"),className:"jsx-2145228261",children:"rainbow"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"bright rainbow colors, black sharps/flats"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorMode(4,"rainbow"),className:"jsx-2145228261",children:"rainbow"}),Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"bright rainbow colors, black sharps/flats"})]})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtRow",children:[Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"pitch bend"}),Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(1,!0),className:"jsx-2145228261",children:"on"})," ",Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(1,!1),className:"jsx-2145228261",children:"off"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"pitch bend"}),Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(2,!0),className:"jsx-2145228261",children:"on"})," ",Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(2,!1),className:"jsx-2145228261",children:"off"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"pitch bend"}),Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(3,!0),className:"jsx-2145228261",children:"on"})," ",Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(3,!1),className:"jsx-2145228261",children:"off"})]}),Object(s.jsxs)("div",{className:"jsx-2145228261 dtCell",children:[Object(s.jsx)("div",{className:"jsx-2145228261 dtCellNote",children:"pitch bend"}),Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(4,!0),className:"jsx-2145228261",children:"on"})," ",Object(s.jsx)("button",{onClick:h.getClickHandler_PitchBend(4,!1),className:"jsx-2145228261",children:"off"})]})]})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"User Colors"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorGlobalKey(),className:"jsx-2145228261",children:"Global Key Color"}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetColorRootKey(),className:"jsx-2145228261",children:"Root Key Color"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"Set Octave"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(-4),className:"jsx-2145228261",children:"-4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(-3),className:"jsx-2145228261",children:"-3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(-2),className:"jsx-2145228261",children:"-2"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(-1),className:"jsx-2145228261",children:"-1"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(0),style:{width:"100px"},className:"jsx-2145228261",children:"0"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(1),className:"jsx-2145228261",children:"1"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(2),className:"jsx-2145228261",children:"2"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(3),className:"jsx-2145228261",children:"3"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(4),className:"jsx-2145228261",children:"4"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetOctave(5),className:"jsx-2145228261",children:"5"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("div",{className:"jsx-2145228261",children:"Brightness"}),Object(s.jsxs)("div",{className:"jsx-2145228261",children:[Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(100),className:"jsx-2145228261",children:"100%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(75),className:"jsx-2145228261",children:"75%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(50),className:"jsx-2145228261",children:"50%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(25),className:"jsx-2145228261",children:"25%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(20),className:"jsx-2145228261",children:"20%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(10),className:"jsx-2145228261",children:"10%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(1),className:"jsx-2145228261",children:"1%"}),Object(s.jsx)("button",{onClick:h.getClickHandler_SetBrightness(0),className:"jsx-2145228261",children:"0%"})]})]}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsx)("button",{onClick:h.getClickHandler_TestXXX1(),className:"jsx-2145228261",children:"Unknown Command 1"}),Object(s.jsx)("br",{className:"jsx-2145228261"}),Object(s.jsx)("button",{onClick:h.getClickHandler_TestXXX2(),className:"jsx-2145228261",children:"Unknown Command 2"})]}),Object(s.jsx)(i.a,{id:"2145228261",children:[".eventsLog.jsx-2145228261{border:1px solid #000;background-color:#111;height:300px;overflow:auto;font-size:12px;padding:10px 24px;}",".devicesSectionLayout.jsx-2145228261{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".eventsLog.midi.jsx-2145228261{-webkit-flex:6;-ms-flex:6;flex:6;margin-right:10px;}",".deviceList.jsx-2145228261{border:1px solid #000;background-color:#181818;height:300px;overflow:auto;font-size:12px;padding:10px 24px;margin-left:10px;-webkit-flex:4;-ms-flex:4;flex:4;}","pre.jsx-2145228261{font-family:Hack,Menlo,Consolas,Courier,monospace;line-height:180%;}",".dt.jsx-2145228261{display:table;width:100%;}",".dtHead.jsx-2145228261{display:table-header-group;background-color:#333;}",".dtBody.jsx-2145228261{display:table-row-group;}",".dtRow.jsx-2145228261{display:table-row;}",".dtCell.jsx-2145228261{border:1px solid #999999;display:table-cell;padding:3px 10px;}",".dtCell.jsx-2145228261 a.jsx-2145228261{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline;}",".dtCell.jsx-2145228261 button.jsx-2145228261{width:100%;}",".dtCellNote.jsx-2145228261{font-size:11px;line-height:100%;}",".blackKeys.jsx-2145228261 button.jsx-2145228261{background-color:#333;color:#ddd;width:60px;height:50px;}",".whiteKeys.jsx-2145228261 button.jsx-2145228261{width:60px;height:60px;}"]})]})}},t1q6:function(e,t,n){"use strict";var r=n("nKUr"),s=n("q1tI"),a=n("xgb5"),i=n("kfFl"),o=n("yv+Y"),c=n("EQI2"),l=n("++HY"),d=n("+JwS"),u=n("Z3vd");t.a=function(e){var t=e.initialOpenState,n=e.preloadNow,h=Object(s.useState)(t),b=h[0],m=h[1],j=function(e,t){m(!1)};return Object(a.a)("keydown",(function(e){j()})),Object(s.useEffect)((function(){return function(){}}),[]),Object(r.jsx)("div",{children:Object(r.jsxs)(i.a,{onClose:j,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",open:b,onExited:n,children:[Object(r.jsx)(o.a,{id:"dialog-title",children:"Let's Make Music"}),Object(r.jsx)(c.a,{children:Object(r.jsx)(l.a,{id:"dialog-description",children:"This is going to be fun!"})}),Object(r.jsx)(d.a,{children:Object(r.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){j()},children:"OK"})})]})})}},xis2:function(e,t,n){var r;!function(n){"use strict";function s(){if(s.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(s.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(e){return this._nrpnEventsEnabled=e,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var a=new s;function i(e){var t=this;this._userHandlers={channel:{},system:{}},this._midiInput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiInput.connection}},id:{enumerable:!0,get:function(){return t._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiInput.name}},state:{enumerable:!0,get:function(){return t._midiInput.state}},type:{enumerable:!0,get:function(){return t._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function o(e){var t=this;this._midiOutput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiOutput.connection}},id:{enumerable:!0,get:function(){return t._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiOutput.name}},state:{enumerable:!0,get:function(){return t._midiOutput.state}},type:{enumerable:!0,get:function(){return t._midiOutput.type}}})}s.prototype.enable=function(e,t){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:t}).then(function(t){var n,r=[],s=[];this.interface=t,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){r.push(e)};for(var a=t.inputs.values(),i=a.next();i&&!i.done;i=a.next())s.push(i.value.open());for(var o=t.outputs.values(),c=o.next();c&&!c.done;c=o.next())s.push(c.value.open());function l(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof e&&e.call(this),r.forEach(function(e){this._onInterfaceStateChange(e)}.bind(this))}n=setTimeout(l.bind(this),200),Promise&&Promise.all(s).catch((function(e){})).then(l.bind(this))}.bind(this),function(t){"function"==typeof e&&e.call(this,t)}.bind(this)):"function"==typeof e&&e(new Error("The Web MIDI API is not supported by your browser.")))},s.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach((function(e){e.removeListener()}))),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},s.prototype.addListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[e].push(t),this},s.prototype.hasListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[e].length;n++)if(this._userHandlers[e][n]===t)return!0;return!1},s.prototype.removeListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(e))if(t)for(var n=0;n<this._userHandlers[e].length;n++)this._userHandlers[e][n]===t&&this._userHandlers[e].splice(n,1);else this._userHandlers[e]=[];else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},s.prototype.toMIDIChannels=function(e){var t;if("all"===e||void 0===e)t=["all"];else{if("none"===e)return[];t=Array.isArray(e)?e:[e]}return-1<t.indexOf("all")&&(t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),t.map((function(e){return parseInt(e)})).filter((function(e){return 1<=e&&e<=16}))},s.prototype.getInputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].id===e)return this.inputs[t];return!1},s.prototype.getOutputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.outputs.length;t++)if(this.outputs[t].id===e)return this.outputs[t];return!1},s.prototype.getInputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.inputs.length;t++)if(~this.inputs[t].name.indexOf(e))return this.inputs[t];return!1},s.prototype.getOctave=function(e){if(null!=e&&0<=e&&e<=127)return Math.floor(Math.floor(e)/12-1)+Math.floor(a.octaveOffset)},s.prototype.getOutputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.outputs.length;t++)if(~this.outputs[t].name.indexOf(e))return this.outputs[t];return!1},s.prototype.guessNoteNumber=function(e){var t=!1;if(e&&e.toFixed&&0<=e&&e<=127?t=Math.round(e):0<=parseInt(e)&&parseInt(e)<=127?t=parseInt(e):("string"==typeof e||e instanceof String)&&(t=this.noteNameToNumber(e)),!1===t)throw new Error("Invalid input value ("+e+").");return t},s.prototype.noteNameToNumber=function(e){"string"!=typeof e&&(e="");var t=e.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!t)throw new RangeError("Invalid note name.");var n=a._semitones[t[1].toUpperCase()],r=12*(parseInt(t[3])+1-Math.floor(a.octaveOffset))+n;if(-1<t[2].toLowerCase().indexOf("b")?r-=t[2].length:-1<t[2].toLowerCase().indexOf("#")&&(r+=t[2].length),r<0||127<r)throw new RangeError("Invalid note name or note outside valid range.");return r},s.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},s.prototype._updateInputs=function(){for(var e=0;e<this._inputs.length;e++){for(var t=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[e]._midiInput===r.value){t=!1;break}t&&this._inputs.splice(e,1)}this.interface&&this.interface.inputs.forEach(function(e){for(var t=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===e&&(t=!1);t&&this._inputs.push(new i(e))}.bind(this))},s.prototype._updateOutputs=function(){for(var e=0;e<this._outputs.length;e++){for(var t=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[e]._midiOutput===r.value){t=!1;break}t&&this._outputs.splice(e,1)}this.interface&&this.interface.outputs.forEach(function(e){for(var t=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===e&&(t=!1);t&&this._outputs.push(new o(e))}.bind(this))},s.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var t={timestamp:e.timeStamp,type:e.port.state};this.interface&&"connected"===e.port.state?"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)):t.port={connection:"closed",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach((function(e){e(t)}))},s.prototype._resetInterfaceUserHandlers=function(){for(var e=0;e<this._midiInterfaceEvents.length;e++)this._userHandlers[this._midiInterfaceEvents[e]]=[]},i.prototype.on=i.prototype.addListener=function(e,t,n){var r=this;if(void 0===t&&(t="all"),Array.isArray(t)||(t=[t]),t.forEach((function(e){if("all"!==e&&!(1<=e&&e<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==a.MIDI_SYSTEM_MESSAGES[e])this._userHandlers.system[e]||(this._userHandlers.system[e]=[]),this._userHandlers.system[e].push(n);else{if(void 0===a.MIDI_CHANNEL_MESSAGES[e])throw new TypeError("The specified event type is not supported.");if(-1<t.indexOf("all")){t=[];for(var s=1;s<=16;s++)t.push(s)}this._userHandlers.channel[e]||(this._userHandlers.channel[e]=[]),t.forEach((function(t){r._userHandlers.channel[e][t]||(r._userHandlers.channel[e][t]=[]),r._userHandlers.channel[e][t].push(n)}))}return this},i.prototype.hasListener=function(e,t,n){var r=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==a.MIDI_SYSTEM_MESSAGES[e]){for(var s=0;s<this._userHandlers.system[e].length;s++)if(this._userHandlers.system[e][s]===n)return!0}else if(void 0!==a.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}return!!this._userHandlers.channel[e]&&t.every((function(t){var s=r._userHandlers.channel[e][t];return s&&-1<s.indexOf(n)}))}return!1},i.prototype.removeListener=function(e,t,n){var r=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==a.MIDI_SYSTEM_MESSAGES[e])if(void 0===n)this._userHandlers.system[e]=[];else for(var s=0;s<this._userHandlers.system[e].length;s++)this._userHandlers.system[e][s]===n&&this._userHandlers.system[e].splice(s,1);else if(void 0!==a.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}if(!this._userHandlers.channel[e])return this;t.forEach((function(t){var s=r._userHandlers.channel[e][t];if(s)if(void 0===n)r._userHandlers.channel[e][t]=[];else for(var a=0;a<s.length;a++)s[a]===n&&s.splice(a,1)}))}else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},i.prototype._initializeUserHandlers=function(){for(var e in a.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(a.MIDI_CHANNEL_MESSAGES,e)&&(this._userHandlers.channel[e]={});for(var t in a.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(a.MIDI_SYSTEM_MESSAGES,t)&&(this._userHandlers.system[t]=[])},i.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var t={target:this,data:e.data,timestamp:e.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(e){e(t)}))}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},i.prototype._parseNrpnEvent=function(e){var t,n,r=e.data[0]>>4,s=15&e.data[0],i=1+s;if(1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0),a.nrpnEventsEnabled&&r===a.MIDI_CHANNEL_MESSAGES.controlchange&&(t>=a.MIDI_NRPN_MESSAGES.increment&&t<=a.MIDI_NRPN_MESSAGES.parammsb||t===a.MIDI_NRPN_MESSAGES.entrymsb||t===a.MIDI_NRPN_MESSAGES.entrylsb)){var o={target:this,type:"controlchange",data:e.data,timestamp:e.timeStamp,channel:i,controller:{number:t,name:this.getCcNameByNumber(t)},value:n};if(o.controller.number===a.MIDI_NRPN_MESSAGES.parammsb&&o.value!=a.MIDI_NRPN_MESSAGES.nullactiveparameter)a._nrpnBuffer[s]=[],a._nrpnBuffer[s][0]=o;else if(1===a._nrpnBuffer[s].length&&o.controller.number===a.MIDI_NRPN_MESSAGES.paramlsb)a._nrpnBuffer[s].push(o);else if(2!==a._nrpnBuffer[s].length||o.controller.number!==a.MIDI_NRPN_MESSAGES.increment&&o.controller.number!==a.MIDI_NRPN_MESSAGES.decrement&&o.controller.number!==a.MIDI_NRPN_MESSAGES.entrymsb)if(3===a._nrpnBuffer[s].length&&a._nrpnBuffer[s][2].number===a.MIDI_NRPN_MESSAGES.entrymsb&&o.controller.number===a.MIDI_NRPN_MESSAGES.entrylsb)a._nrpnBuffer[s].push(o);else if(3<=a._nrpnBuffer[s].length&&a._nrpnBuffer[s].length<=4&&o.controller.number===a.MIDI_NRPN_MESSAGES.parammsb&&o.value===a.MIDI_NRPN_MESSAGES.nullactiveparameter)a._nrpnBuffer[s].push(o);else if(4<=a._nrpnBuffer[s].length&&a._nrpnBuffer[s].length<=5&&o.controller.number===a.MIDI_NRPN_MESSAGES.paramlsb&&o.value===a.MIDI_NRPN_MESSAGES.nullactiveparameter){a._nrpnBuffer[s].push(o);var c=[];a._nrpnBuffer[s].forEach((function(e){c.push(e.data)}));var l=a._nrpnBuffer[s][0].value<<7|a._nrpnBuffer[s][1].value,d=a._nrpnBuffer[s][2].value;6===a._nrpnBuffer[s].length&&(d=a._nrpnBuffer[s][2].value<<7|a._nrpnBuffer[s][3].value);var u="";switch(a._nrpnBuffer[s][2].controller.number){case a.MIDI_NRPN_MESSAGES.entrymsb:u=a._nrpnTypes[0];break;case a.MIDI_NRPN_MESSAGES.increment:u=a._nrpnTypes[1];break;case a.MIDI_NRPN_MESSAGES.decrement:u=a._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var h={timestamp:o.timestamp,channel:o.channel,type:"nrpn",data:c,controller:{number:l,type:u,name:"Non-Registered Parameter "+l},value:d};a._nrpnBuffer[s]=[],this._userHandlers.channel[h.type]&&this._userHandlers.channel[h.type][h.channel]&&this._userHandlers.channel[h.type][h.channel].forEach((function(e){e(h)}))}else a._nrpnBuffer[s]=[];else a._nrpnBuffer[s].push(o)}},i.prototype._parseChannelEvent=function(e){var t,n,r=e.data[0]>>4,s=1+(15&e.data[0]);1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0);var i={target:this,data:e.data,timestamp:e.timeStamp,channel:s};r===a.MIDI_CHANNEL_MESSAGES.noteoff||r===a.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(i.type="noteoff",i.note={number:t,name:a._notes[t%12],octave:a.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):r===a.MIDI_CHANNEL_MESSAGES.noteon?(i.type="noteon",i.note={number:t,name:a._notes[t%12],octave:a.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):r===a.MIDI_CHANNEL_MESSAGES.keyaftertouch?(i.type="keyaftertouch",i.note={number:t,name:a._notes[t%12],octave:a.getOctave(t)},i.value=n/127):r===a.MIDI_CHANNEL_MESSAGES.controlchange&&0<=t&&t<=119?(i.type="controlchange",i.controller={number:t,name:this.getCcNameByNumber(t)},i.value=n):r===a.MIDI_CHANNEL_MESSAGES.channelmode&&120<=t&&t<=127?(i.type="channelmode",i.controller={number:t,name:this.getChannelModeByNumber(t)},i.value=n):r===a.MIDI_CHANNEL_MESSAGES.programchange?(i.type="programchange",i.value=t):r===a.MIDI_CHANNEL_MESSAGES.channelaftertouch?(i.type="channelaftertouch",i.value=t/127):r===a.MIDI_CHANNEL_MESSAGES.pitchbend?(i.type="pitchbend",i.value=((n<<7)+t-8192)/8192):i.type="unknownchannelmessage",this._userHandlers.channel[i.type]&&this._userHandlers.channel[i.type][s]&&this._userHandlers.channel[i.type][s].forEach((function(e){e(i)}))},i.prototype.getCcNameByNumber=function(e){if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var t in a.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(a.MIDI_CONTROL_CHANGE_MESSAGES,t)&&e===a.MIDI_CONTROL_CHANGE_MESSAGES[t])return t},i.prototype.getChannelModeByNumber=function(e){if(!(120<=(e=Math.floor(e))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var t in a.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(a.MIDI_CHANNEL_MODE_MESSAGES,t)&&e===a.MIDI_CHANNEL_MODE_MESSAGES[t])return t},i.prototype._parseSystemEvent=function(e){var t=e.data[0],n={target:this,data:e.data,timestamp:e.timeStamp};t===a.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":t===a.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":t===a.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":t===a.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=e.data[1]):t===a.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":t===a.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":t===a.MIDI_SYSTEM_MESSAGES.start?n.type="start":t===a.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":t===a.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":t===a.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":t===a.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(e){e(n)}))},o.prototype.send=function(e,t,n){if(!(128<=e&&e<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===t&&(t=[]),Array.isArray(t)||(t=[t]);var r=[];return t.forEach((function(e){var t=Math.floor(e);if(!(0<=t&&t<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(t)})),this._midiOutput.send([e].concat(r),parseFloat(n)||0),this},o.prototype.sendSysex=function(e,t,n){if(!a.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},e=[].concat(e),t.forEach((function(e){if(e<0||127<e)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),t=e.concat(t,a.MIDI_SYSTEM_MESSAGES.sysexend),this.send(a.MIDI_SYSTEM_MESSAGES.sysex,t,this._parseTimeParameter(n.time)),this},o.prototype.sendTimecodeQuarterFrame=function(e,t){return t=t||{},this.send(a.MIDI_SYSTEM_MESSAGES.timecode,e,this._parseTimeParameter(t.time)),this},o.prototype.sendSongPosition=function(e,t){t=t||{};var n=(e=Math.floor(e)||0)>>7&127,r=127&e;return this.send(a.MIDI_SYSTEM_MESSAGES.songposition,[n,r],this._parseTimeParameter(t.time)),this},o.prototype.sendSongSelect=function(e,t){if(t=t||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(a.MIDI_SYSTEM_MESSAGES.songselect,[e],this._parseTimeParameter(t.time)),this},o.prototype.sendTuningRequest=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendClock=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStart=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendContinue=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStop=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendActiveSensing=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(e.time)),this},o.prototype.sendReset=function(e){return e=e||{},this.send(a.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(e.time)),this},o.prototype.stopNote=function(e,t,n){if("all"===e)return this.sendChannelMode("allnotesoff",0,t,n);var r=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(r=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(r=127*n.velocity),this._convertNoteToArray(e).forEach(function(e){a.toMIDIChannels(t).forEach(function(t){this.send((a.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(r)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},o.prototype.playNote=function(e,t,n){var r,s=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(s=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(s=127*n.velocity),r=this._parseTimeParameter(n.time),this._convertNoteToArray(e).forEach(function(e){a.toMIDIChannels(t).forEach(function(t){this.send((a.MIDI_CHANNEL_MESSAGES.noteon<<4)+(t-1),[e,Math.round(s)],r)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var i=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(i=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(i=127*n.release),this._convertNoteToArray(e).forEach(function(e){a.toMIDIChannels(t).forEach(function(t){this.send((a.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(i)],(r||a.time)+n.duration)}.bind(this))}.bind(this))}return this},o.prototype.sendKeyAftertouch=function(e,t,n,r){var s=this;if(r=r||{},t<1||16<t)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var i=Math.round(127*n);return this._convertNoteToArray(e).forEach((function(e){a.toMIDIChannels(t).forEach((function(t){s.send((a.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(t-1),[e,i],s._parseTimeParameter(r.time))}))})),this},o.prototype.sendControlChange=function(e,t,n,r){if(r=r||{},"string"==typeof e){if(void 0===(e=a.MIDI_CONTROL_CHANGE_MESSAGES[e]))throw new TypeError("Invalid controller name.")}else if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("Controller value must be between 0 and 127.");return a.toMIDIChannels(n).forEach(function(n){this.send((a.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[e,t],this._parseTimeParameter(r.time))}.bind(this)),this},o.prototype._selectRegisteredParameter=function(e,t,n){var r=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return a.toMIDIChannels(t).forEach((function(){r.sendControlChange(101,e[0],t,{time:n}),r.sendControlChange(100,e[1],t,{time:n})})),this},o.prototype._selectNonRegisteredParameter=function(e,t,n){var r=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return a.toMIDIChannels(t).forEach((function(){r.sendControlChange(99,e[0],t,{time:n}),r.sendControlChange(98,e[1],t,{time:n})})),this},o.prototype._setCurrentRegisteredParameter=function(e,t,n){var r=this;if((e=[].concat(e))[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return a.toMIDIChannels(t).forEach((function(){r.sendControlChange(6,e[0],t,{time:n})})),e[1]=Math.floor(e[1]),0<=e[1]&&e[1]<=127&&a.toMIDIChannels(t).forEach((function(){r.sendControlChange(38,e[1],t,{time:n})})),this},o.prototype._deselectRegisteredParameter=function(e,t){var n=this;return a.toMIDIChannels(e).forEach((function(){n.sendControlChange(101,127,e,{time:t}),n.sendControlChange(100,127,e,{time:t})})),this},o.prototype.setRegisteredParameter=function(e,t,n,r){var s=this;if(r=r||{},!Array.isArray(e)){if(!a.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=a.MIDI_REGISTERED_PARAMETER[e]}return a.toMIDIChannels(n).forEach((function(){s._selectRegisteredParameter(e,n,r.time),s._setCurrentRegisteredParameter(t,n,r.time),s._deselectRegisteredParameter(n,r.time)})),this},o.prototype.setNonRegisteredParameter=function(e,t,n,r){var s=this;if(r=r||{},!(0<=e[0]&&e[0]<=127&&0<=e[1]&&e[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return t=[].concat(t),a.toMIDIChannels(n).forEach((function(){s._selectNonRegisteredParameter(e,n,r.time),s._setCurrentRegisteredParameter(t,n,r.time),s._deselectRegisteredParameter(n,r.time)})),this},o.prototype.incrementRegisteredParameter=function(e,t,n){var r=this;if(n=n||{},!Array.isArray(e)){if(!a.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=a.MIDI_REGISTERED_PARAMETER[e]}return a.toMIDIChannels(t).forEach((function(){r._selectRegisteredParameter(e,t,n.time),r.sendControlChange(96,0,t,{time:n.time}),r._deselectRegisteredParameter(t,n.time)})),this},o.prototype.decrementRegisteredParameter=function(e,t,n){if(n=n||{},!Array.isArray(e)){if(!a.MIDI_REGISTERED_PARAMETER[e])throw new TypeError("The specified parameter is not available.");e=a.MIDI_REGISTERED_PARAMETER[e]}return a.toMIDIChannels(t).forEach(function(){this._selectRegisteredParameter(e,t,n.time),this.sendControlChange(97,0,t,{time:n.time}),this._deselectRegisteredParameter(t,n.time)}.bind(this)),this},o.prototype.setPitchBendRange=function(e,t,n,r){var s=this;if(r=r||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return a.toMIDIChannels(n).forEach((function(){s.setRegisteredParameter("pitchbendrange",[e,t],n,{time:r.time})})),this},o.prototype.setModulationRange=function(e,t,n,r){var s=this;if(r=r||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return a.toMIDIChannels(n).forEach((function(){s.setRegisteredParameter("modulationrange",[e,t],n,{time:r.time})})),this},o.prototype.setMasterTuning=function(e,t,n){var r=this;if(n=n||{},(e=parseFloat(e)||0)<=-65||64<=e)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var s=Math.floor(e)+64,i=e-Math.floor(e),o=(i=Math.round((i+1)/2*16383))>>7&127,c=127&i;return a.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("channelcoarsetuning",s,t,{time:n.time}),r.setRegisteredParameter("channelfinetuning",[o,c],t,{time:n.time})})),this},o.prototype.setTuningProgram=function(e,t,n){var r=this;if(n=n||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The program value must be between 0 and 127");return a.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("tuningprogram",e,t,{time:n.time})})),this},o.prototype.setTuningBank=function(e,t,n){var r=this;if(n=n||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The bank value must be between 0 and 127");return a.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("tuningbank",e,t,{time:n.time})})),this},o.prototype.sendChannelMode=function(e,t,n,r){if(r=r||{},"string"==typeof e){if(!(e=a.MIDI_CHANNEL_MODE_MESSAGES[e]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(e=Math.floor(e))&&e<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((t=Math.floor(t)||0)<0||127<t)throw new RangeError("Value must be an integer between 0 and 127.");return a.toMIDIChannels(n).forEach(function(n){this.send((a.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[e,t],this._parseTimeParameter(r.time))}.bind(this)),this},o.prototype.sendProgramChange=function(e,t,n){var r=this;if(n=n||{},e=Math.floor(e),isNaN(e)||e<0||127<e)throw new RangeError("Program numbers must be between 0 and 127.");return a.toMIDIChannels(t).forEach((function(t){r.send((a.MIDI_CHANNEL_MESSAGES.programchange<<4)+(t-1),[e],r._parseTimeParameter(n.time))})),this},o.prototype.sendChannelAftertouch=function(e,t,n){var r=this;n=n||{},e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=.5);var s=Math.round(127*e);return a.toMIDIChannels(t).forEach((function(e){r.send((a.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(e-1),[s],r._parseTimeParameter(n.time))})),this},o.prototype.sendPitchBend=function(e,t,n){var r=this;if(n=n||{},isNaN(e)||e<-1||1<e)throw new RangeError("Pitch bend value must be between -1 and 1.");var s=Math.round((e+1)/2*16383),i=s>>7&127,o=127&s;return a.toMIDIChannels(t).forEach((function(e){r.send((a.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(e-1),[o,i],r._parseTimeParameter(n.time))})),this},o.prototype._parseTimeParameter=function(e){var t,n=parseFloat(e);return"string"==typeof e&&"+"===e.substring(0,1)?n&&0<n&&(t=a.time+n):n>a.time&&(t=n),t},o.prototype._convertNoteToArray=function(e){var t=[];return Array.isArray(e)||(e=[e]),e.forEach((function(e){t.push(a.guessNoteNumber(e))})),t},void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}},[["Qk3H",0,1,3,2,4,5,6,8]]]);