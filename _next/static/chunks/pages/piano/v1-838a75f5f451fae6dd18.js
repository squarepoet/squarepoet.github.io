_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"094J":function(e,t,n){"use strict";(function(e){var c=n("q1tI"),a=n("puqk"),r={},o=function(e,t,n){return r[e]||(r[e]={callbacks:[],value:n}),r[e].callbacks.push(t),{deregister:function(){var n=r[e].callbacks,c=n.indexOf(t);c>-1&&n.splice(c,1)},emit:function(n){r[e].value!==n&&(r[e].value=n,r[e].callbacks.forEach((function(e){t!==e&&e(n)})))}}};t.a=function(t,n){if(void 0===n&&(n="undefined"!=typeof e&&e.localStorage?e.localStorage:"undefined"!=typeof globalThis&&globalThis.localStorage?globalThis.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:"undefined"!=typeof localStorage?localStorage:null),n){var r=(i=n,{get:function(e,t){var n=i.getItem(e);return null==n?"function"==typeof t?t():t:JSON.parse(n)},set:function(e,t){i.setItem(e,JSON.stringify(t))}});return function(e){return function(e,t,n){var r=n.get,i=n.set,s=Object(c.useRef)(null),l=Object(c.useState)((function(){return r(t,e)})),u=l[0],f=l[1];Object(a.a)("storage",(function(e){if(e.key===t){var n=JSON.parse(e.newValue);u!==n&&f(n)}})),Object(c.useEffect)((function(){return s.current=o(t,f,e),function(){s.current.deregister()}}),[e,t]);var d=Object(c.useCallback)((function(e){var n="function"==typeof e?e(u):e;i(t,n),f(n),s.current.emit(e)}),[u,i,t]);return[u,d]}(e,t,r)}}var i;return c.useState}}).call(this,n("yLpj"))},AQz0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var c=n("nKUr"),a=n("MX0m"),r=n.n(a),o=(n("q1tI"),function(e){var t=e.width;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:r.a.dynamic([["2109619428",[t]]]),children:"\xa0"}),Object(c.jsx)(r.a,{id:"2109619428",dynamic:[t],children:["div.__jsx-style-dynamic-selector{display:inline-block;min-width:".concat(t,"px;}")]})]})}),i=function(){return Object(c.jsx)(o,{width:20})},s=function(){return Object(c.jsx)(o,{width:30})},l=function(){return Object(c.jsx)(o,{width:60})}},WKqS:function(e,t,n){"use strict";var c;!function(e){var t=null;e.setRef=function(e){t=e},e.isFocusedOnInputs=function(){return!!t.current&&t.current.hasFocus()},e.isNoteSharp=function(e){return new RegExp(e,"i").test(t.current?t.current.getSharps():"")},e.isNoteFlat=function(e){return new RegExp(e,"i").test(t.current?t.current.getFlats():"")}}(c||(c={})),t.a=c},eRSt:function(e,t,n){"use strict";var c=n("nKUr"),a=n("MX0m"),r=n.n(a);t.a=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"jsx-1079321350"}),Object(c.jsx)(r.a,{id:"1079321350",children:["div.jsx-1079321350{clear:both;}"]})]})}},nZzK:function(e,t,n){"use strict";var c=n("nKUr"),a=n("MX0m"),r=n.n(a),o=n("ODXe"),i=n("q1tI"),s=n("094J"),l=Object(i.forwardRef)((function(e,t){var n=e.label,a=e.persistedStateKey,l=Object(s.a)(a)(""),u=Object(o.a)(l,2),f=u[0],d=u[1],j=Object(i.useRef)();return Object(i.useImperativeHandle)(t,(function(){return{hasFocus:function(){return j.current===document.activeElement},getValue:function(){return f}}})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"jsx-3870922891",children:[n," \xa0",Object(c.jsx)("input",{ref:j,value:f,onChange:function(e){console.log("InputSaved: onChange"),d(e.target.value.toUpperCase().replace(/[^ABCDEFG]+/g,"")),console.dir(localStorage)},onKeyDown:function(e){console.log("InputSaved: onKeyDown key = ".concat(e.key," | code = ").concat(e.code)),console.dir(localStorage)},onKeyUp:function(e){console.log("InputSaved: onKeyUp key = ".concat(e.key," | code = ").concat(e.code)),d(e.target.value.toUpperCase().replace(/[^ABCDEFG]+/g,"")),console.dir(localStorage),"Escape"===e.code&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()},onBlur:function(e){console.log("InputSaved: onBlur"),console.dir(localStorage)},className:"jsx-3870922891"})]}),Object(c.jsx)(r.a,{id:"3870922891",children:["div.jsx-3870922891{display:block;}","input.jsx-3870922891{background-color:#444;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #222;padding:4px;width:100px;color:#ddd;}"]})]})})),u=Object(i.forwardRef)((function(e,t){var n=e.style,a=e.localStorageKeyPrefix,o=Object(i.useRef)(),s=Object(i.useRef)();return Object(i.useImperativeHandle)(t,(function(){return{hasFocus:function(){return!(!o.current||!o.current.hasFocus())||!(!s.current||!s.current.hasFocus())},getSharps:function(){if(o.current){var e=o.current.getValue();return console.log("SHARPS VALUE "+e),e}return""},getFlats:function(){if(s.current){var e=s.current.getValue();return console.log("FLATS VALUE "+e),e}return""}}})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{style:n,className:"jsx-2940738605 sharps-and-flats",children:[Object(c.jsx)(l,{ref:o,label:"sharps",persistedStateKey:a+"_sharps"}),Object(c.jsx)(l,{ref:s,label:"flats",persistedStateKey:a+"_flats"})]}),Object(c.jsx)(r.a,{id:"2940738605",children:["div.sharps-and-flats.jsx-2940738605{margin-right:20px;text-align:right;}","input.jsx-2940738605{width:150px;}"]})]})}));t.a=u},nbY2:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return S}));var c=n("nKUr"),a=n("nZzK"),r=n("WKqS"),o=n("KQm4"),i=n("OTm4"),s=null;function l(e){document.getElementById("textarea").value=e}var u={90:18,88:20,67:21,86:23,66:25,78:27,77:28,188:30,190:32,191:33,65:35,83:37,68:39,70:40,71:42,72:44,74:45,75:47,76:49,186:51,59:51,222:52,81:47,87:49,69:51,82:52,84:54,89:56,85:57,73:59,79:61,80:63,219:64,221:66,220:68,49:59,50:61,51:63,52:64,53:66,54:68,55:69,56:71,57:73,48:75,189:76,187:78},f=function(){var e=[],t=0,n=[2,-1,5,7,-1,10,0],c=[1,3,4,6,8,9,11],a=["a","b","c","d","e","f","g"],f=["z","x","c","v","b","n","m",",",".","/","a","s","d","f","g","h","j","k","l",";","r","t","y","u","i","o","p","4","5","6","7","8","9","0","-","="],d=null;function j(){console.log("Reset Everything!"),t=0,e=[],b()}function b(){console.log(e);var t=e.join(" ");localStorage.text=t,l(t),x()}function p(t){if(0!==e.length){var n=e[e.length-1];if(0!=n.length){var c=n.split(".");for(var a in c){t(parseInt(c[a]))}}}}function x(){var e=d.current;if(e.getContext){var r=e.getContext("2d");r&&(r.scale(2,2),r.fillStyle="#444",r.fillRect(0,0,2080,300),function(e){e.strokeStyle="#000",e.lineWidth=.2,e.fillStyle="#FFF";for(var t=0;t<52;t++)e.fillRect(20*t,0,20,120),e.strokeRect(20*t,0,20,120);e.fillStyle="#FCC",e.fillRect(460,0,20,120)}(r),function(e){e.fillStyle="#323232";for(var t=0;t<7;t++)for(var n=0;n<7;n++)1!=n&&4!=n&&e.fillRect(12+20*(n+7*t),0,16,72);e.fillRect(992,0,16,72)}(r),function(e){e.textAlign="center";for(var n=1;n<=88;n++){var r=n%12;if(c.includes(r)){var o=Math.floor(n/12),i=c.indexOf(r),s=7*o+i,l=a[i];e.font="c"==l?"bold 13px Tahoma":"13px Tahoma",e.fillStyle="#777",e.fillText(l,20*s+10,100),e.font="12px Consolas",e.fillStyle="#999",e.fillText(n,20*s+10,115)}}e.font="15px Consolas",e.fillStyle="#FFF",e.textAlign="center";for(var u=7*(t+2)-4,d=f.length,j=0;j<d;j++)e.fillText(f[j],20*(j+u)+10,140)}(r),function(e){p((function(t){var a=t%12,r=Math.floor((t-1)/12);if(e.beginPath(),n.includes(a)){var o=7*r+n.indexOf(a);e.arc(20*o+20,60,6,0,2*Math.PI,!1)}else{var i=7*r+c.indexOf(a);e.arc(20*i+10,96,7,0,2*Math.PI,!1)}e.fillStyle="#BB0",e.fill()}))}(r),r.setTransform(1,0,0,1,0,0))}}return{startUI:function(t){d=t,function(){localStorage.text||(localStorage.text="");var t=localStorage.text.trim();l((e=""==t?[]:t.split(" ")).join(" "))}(),x()},startAudio:function(){s=new i.a},onKeydown:function(n){if(s&&s.isInitialized){if(91!=n.keyCode&&93!=n.keyCode||document.getElementById("textarea").select(),n.metaKey)88!=n.keyCode&&67!=n.keyCode||(document.execCommand("copy"),setTimeout(j,10));else if(!n.altKey){var i=0;switch(n.ctrlKey?i=-1:n.shiftKey&&(i=1),n.preventDefault(),n.keyCode){case 32:p((function(e){s.play(e,.7,.88)}));break;case 27:n.shiftKey?j():(console.log("Reset Offsets"),t=0);break;case 192:j();break;case 8:e.pop(),b();break;case 9:!function(){if(e.length>=2){var t=(e.pop()+"."+e.pop()).split("."),n=new Set(t);t=Object(o.a)(n).sort(),e.push(t.join(".")),b()}}();break;case 38:t++,x();break;case 40:t--,x();break;default:!function(n,o){if(u.hasOwnProperty(n)){var i=u[n]%12,l=c.indexOf(i),f=a[l].toUpperCase();console.log("play() noteLabel "+f),r.a.isNoteSharp(f)&&o++,r.a.isNoteFlat(f)&&o--;var d=u[n]+o+12*t;if(d<1||d>88)return;e.push(d+""),s.play(d,.7,.88),b()}}(n.keyCode,i)}}}else console.log("Piano is not initialized.")}}}(),d=n("MX0m"),j=n.n(d),b=n("AQz0"),p=n("q1tI"),x=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"jsx-2586494596",children:["shift + esc \u2192 clear ",Object(c.jsx)(b.a,{})," cmd + c \u2192 copy",Object(c.jsx)("br",{className:"jsx-2586494596"}),"shift \u2192 sharp ",Object(c.jsx)(b.a,{})," ctrl \u2192 flat",Object(c.jsx)("br",{className:"jsx-2586494596"}),"up/down \u2192 +/- octave ",Object(c.jsx)(b.a,{})," tab \u2192 combine"]}),Object(c.jsx)(j.a,{id:"2586494596",children:["div.jsx-2586494596{font-size:14pt;float:right;text-align:right;}"]})]})},g=function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.pageX-t.left,c=e.pageY-t.top;console.log("Clicked at "+n+", "+c)},v=function(e){var t=e.canvasRef;return Object(c.jsxs)("div",{id:"content",className:"jsx-3141200938",children:[Object(c.jsx)("textarea",{id:"textarea",rows:8,cols:100,className:"jsx-3141200938"}),Object(c.jsx)("canvas",{ref:t,width:2080,height:300,onClick:g,className:"jsx-3141200938"}),Object(c.jsx)(j.a,{id:"3141200938",children:["div.jsx-3141200938{width:100%;text-align:center;}","textarea.jsx-3141200938{font-family:Hack,Inconsolata,Menlo,Monaco,monospace;font-size:16pt;box-sizing:border-box;border:none;width:1044px;display:block;margin:0 auto;}","canvas.jsx-3141200938{border:2px solid #444;width:1040px;height:150px;display:block;margin:0 auto;}"]})]})},h=n("eRSt"),O=n("t1q6"),y=n("xgb5"),m=function(){var e=Object(p.useRef)(null),t=Object(p.useState)(!0),n=t[0],o=t[1];Object(y.a)("keydown",(function(e){r.a.isFocusedOnInputs()||f.onKeydown(e)}));var i=Object(p.useRef)();return Object(p.useEffect)((function(){r.a.setRef(i),f.startUI(e)}),[]),Object(c.jsxs)(c.Fragment,{children:[n?Object(c.jsx)(O.a,{initialOpenState:n,preloadNow:function(){f.startAudio(),o(!1)}}):null,Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{}),Object(c.jsx)(a.a,{ref:i,localStorageKeyPrefix:"piano",style:{float:"left"}}),Object(c.jsx)(h.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(v,{canvasRef:e})]})]})},S=!0;t.default=function(){return Object(c.jsx)(m,{})}},ngH8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/piano/v1",function(){return n("nbY2")}])},puqk:function(e,t,n){"use strict";(function(e){var c=n("q1tI");t.a=function(t,n,a,r){void 0===a&&(a=e),void 0===r&&(r={});var o=Object(c.useRef)(),i=r.capture,s=r.passive,l=r.once;Object(c.useEffect)((function(){o.current=n}),[n]),Object(c.useEffect)((function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)},n={capture:i,passive:s,once:l};return a.addEventListener(t,e,n),function(){a.removeEventListener(t,e,n)}}}),[t,a,i,s,l])}}).call(this,n("yLpj"))},t1q6:function(e,t,n){"use strict";var c=n("nKUr"),a=n("q1tI"),r=n("xgb5"),o=n("kfFl"),i=n("yv+Y"),s=n("EQI2"),l=n("++HY"),u=n("+JwS"),f=n("Z3vd");t.a=function(e){var t=e.initialOpenState,n=e.preloadNow,d=Object(a.useState)(t),j=d[0],b=d[1],p=function(e,t){b(!1)};return Object(r.a)("keydown",(function(e){p()})),Object(a.useEffect)((function(){return function(){}}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)(o.a,{onClose:p,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",open:j,onExited:n,children:[Object(c.jsx)(i.a,{id:"dialog-title",children:"Let's Make Music"}),Object(c.jsx)(s.a,{children:Object(c.jsx)(l.a,{id:"dialog-description",children:"This is going to be fun!"})}),Object(c.jsx)(u.a,{children:Object(c.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(e){p()},children:"OK"})})]})})}}},[["ngH8",0,1,3,2,4,5,6,8]]]);