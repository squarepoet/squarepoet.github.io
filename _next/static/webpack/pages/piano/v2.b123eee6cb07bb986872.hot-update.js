webpackHotUpdate_N_E("pages/piano/v2",{

/***/ "./apps/shared/sound/Musical.ts":
/*!**************************************!*\
  !*** ./apps/shared/sound/Musical.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\n\n\n// musical.js\n// https://github.com/PencilCode/musical.js\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// WAVETABLE-BUILDER\n// wavetable is a table of names for nonstandard waveforms.\n// The table maps names to objects that have wave: and freq:\n// properties. The wave: property is a PeriodicWave to use\n// for the oscillator.  The freq: property, if present,\n// is a map from higher frequencies to more PeriodicWave\n// objects; when a frequency higher than the given threshold\n// is requested, the alternate PeriodicWave is used.\nvar makeWavetable = function makeWavetable(ac) {\n  return function (wavedata) {\n    function makePeriodicWave(data) {\n      var n = data.real.length,\n          real = new Float32Array(n),\n          imag = new Float32Array(n),\n          j;\n\n      for (j = 0; j < n; ++j) {\n        real[j] = data.real[j];\n        imag[j] = data.imag[j];\n      }\n\n      try {\n        // Latest API naming.\n        return ac.createPeriodicWave(real, imag);\n      } catch (e) {}\n\n      try {\n        // Earlier API naming.\n        return ac.createWaveTable(real, imag);\n      } catch (e) {}\n\n      return null;\n    }\n\n    function makeMultiple(data, mult, amt) {\n      var result = {\n        real: [],\n        imag: []\n      },\n          j,\n          n = data.real.length,\n          m;\n\n      for (j = 0; j < n; ++j) {\n        m = Math.log(mult[Math.min(j, mult.length - 1)]);\n        result.real.push(data.real[j] * Math.exp(amt * m));\n        result.imag.push(data.imag[j] * Math.exp(amt * m));\n      }\n\n      return result;\n    }\n\n    var result = {},\n        k,\n        d,\n        n,\n        j,\n        ff,\n        record,\n        wave,\n        pw;\n\n    for (k in wavedata) {\n      d = wavedata[k];\n      wave = makePeriodicWave(d);\n\n      if (!wave) {\n        continue;\n      }\n\n      record = {\n        wave: wave\n      }; // A strategy for computing higher frequency waveforms: apply\n      // multipliers to each harmonic according to d.mult.  These\n      // multipliers can be interpolated and applied at any number\n      // of transition frequencies.\n\n      if (d.mult) {\n        ff = wavedata[k].freq;\n        record.freq = {};\n\n        for (j = 0; j < ff.length; ++j) {\n          wave = makePeriodicWave(makeMultiple(d, d.mult, (j + 1) / ff.length));\n\n          if (wave) {\n            record.freq[ff[j]] = wave;\n          }\n        }\n      } // This wave has some default filter settings.\n\n\n      if (d.defs) {\n        record.defs = d.defs;\n      }\n\n      result[k] = record;\n    }\n\n    return result;\n  }({\n    // Currently the only nonstandard waveform is \"piano\".\n    // It is based on the first 32 harmonics from the example:\n    // https://github.com/GoogleChrome/web-audio-samples\n    // /blob/gh-pages/samples/audio/wave-tables/Piano\n    // That is a terrific sound for the lowest piano tones.\n    // For higher tones, interpolate to a customzed wave\n    // shape created by hand, and apply a lowpass filter.\n    piano: {\n      real: [0, 0, -0.203569, 0.5, -0.401676, 0.137128, -0.104117, 0.115965, -0.004413, 0.067884, -0.00888, 0.0793, -0.038756, 0.011882, -0.030883, 0.027608, -0.013429, 0.00393, -0.014029, 0.00972, -0.007653, 0.007866, -0.032029, 0.046127, -0.024155, 0.023095, -0.005522, 0.004511, -0.003593, 0.011248, -0.004919, 0.008505],\n      imag: [0, 0.147621, 0, 0.000007, -0.00001, 0.000005, -0.000006, 0.000009, 0, 0.000008, -0.000001, 0.000014, -0.000008, 0.000003, -0.000009, 0.000009, -0.000005, 0.000002, -0.000007, 0.000005, -0.000005, 0.000005, -0.000023, 0.000037, -0.000021, 0.000022, -0.000006, 0.000005, -0.000004, 0.000014, -0.000007, 0.000012],\n      // How to adjust the harmonics for the higest notes.\n      mult: [1, 1, 0.18, 0.016, 0.01, 0.01, 0.01, 0.004, 0.014, 0.02, 0.014, 0.004, 0.002, 0.00001],\n      // The frequencies at which to interpolate the harmonics.\n      freq: [65, 80, 100, 135, 180, 240, 620, 1360],\n      // The default filter settings to use for the piano wave.\n      // TODO: this approach attenuates low notes too much -\n      // this should be fixed.\n      defs: {\n        wave: \"piano\",\n        gain: 0.5,\n        attack: 0.002,\n        decay: 0.25,\n        sustain: 0.03,\n        release: 0.1,\n        decayfollow: 0.7,\n        cutoff: 800,\n        cutfollow: 0.1,\n        resonance: 1,\n        detune: 0.9994\n      }\n    }\n  });\n}; // END WAVETABLE-BUILDER\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// UTILS\n\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Utils);\n  }\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Utils, null, [{\n    key: \"isAudioPresent\",\n    // Tests for the presence of HTML5 Web Audio (or webkit's version).\n    value: function isAudioPresent() {\n      return !!(global.AudioContext || global.webkitAudioContext);\n    } // All our audio funnels through the same AudioContext with a\n    // DynamicsCompressorNode used as the main output, to compress the\n    // dynamic range of all audio.  getAudioTop sets this up.\n\n  }, {\n    key: \"getAudioTop\",\n    value: function getAudioTop() {\n      if (Utils._audioTop) {\n        return Utils._audioTop;\n      }\n\n      if (!Utils.isAudioPresent()) {\n        return null;\n      }\n\n      var ac = new (global.AudioContext || global.webkitAudioContext)();\n      Utils._audioTop = {\n        ac: ac,\n        wavetable: makeWavetable(ac),\n        out: null,\n        currentStart: null\n      };\n      Utils.resetAudio();\n      return Utils._audioTop;\n    } // When audio needs to be interrupted globally (e.g., when you press the\n    // stop button in the IDE), resetAudio does the job.\n\n  }, {\n    key: \"resetAudio\",\n    value: function resetAudio() {\n      if (Utils._audioTop) {\n        var atop = Utils._audioTop; // Disconnect the top-level node and make a new one.\n\n        if (atop.out) {\n          atop.out.disconnect();\n          atop.out = null;\n          atop.currentStart = null;\n        }\n\n        var dcn = atop.ac.createDynamicsCompressor();\n        dcn.ratio.setValueAtTime(16, 0);\n        dcn.attack.setValueAtTime(0.0005, 0); // dcn.ratio = 16; // RONYEH: .ratio is a READ ONLY property.\n        // dcn.attack = 0.0005; // RONYEH: .ratio is a READ ONLY property.\n\n        dcn.connect(atop.ac.destination);\n        atop.out = dcn;\n      }\n    } // For precise scheduling of future notes, the AudioContext currentTime is\n    // cached and is held constant until the script releases to the event loop.\n\n  }, {\n    key: \"audioCurrentStartTime\",\n    value: function audioCurrentStartTime() {\n      var atop = Utils.getAudioTop();\n\n      if (atop.currentStart != null) {\n        return atop.currentStart;\n      } // A delay could be added below to introduce a universal delay in\n      // all beginning sounds (without skewing durations for scheduled\n      // sequences).\n\n\n      atop.currentStart = Math.max(0.25, atop.ac.currentTime\n      /* + 0.0 delay */\n      );\n      setTimeout(function () {\n        atop.currentStart = null;\n      }, 0);\n      return atop.currentStart;\n    } // Converts a midi note number to a frequency in Hz.\n\n  }, {\n    key: \"midiToFrequency\",\n    value: function midiToFrequency(midi) {\n      return 440 * Math.pow(2, (midi - 69) / 12);\n    } // Some constants.\n\n  }, {\n    key: \"frequencyToMidi\",\n    // Converts a frequency in Hz to the closest midi number.\n    value: function frequencyToMidi(freq) {\n      return Math.round(69 + Math.log(freq / 440) * 12 / Math.LN2);\n    } // Converts an ABC pitch (such as \"^G,,\") to a midi note number.\n\n  }, {\n    key: \"pitchToMidi\",\n    value: function pitchToMidi(pitch) {\n      var m = /^(\\^+|_+|=|)([A-Ga-g])([,']*)$/.exec(pitch);\n\n      if (!m) {\n        return null;\n      }\n\n      var octave = m[3].replace(/,/g, \"\").length - m[3].replace(/'/g, \"\").length;\n      var semitone = Utils.noteNum[m[2]] + Utils.accSym[m[1].charAt(0)] * m[1].length + 12 * octave;\n      return semitone + 60; // 60 = midi code middle \"C\".\n    } // Converts a midi number to an ABC notation pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(midi) {\n      var index = (midi - 72) % 12;\n\n      if (midi > 60 || index != 0) {\n        index += 12;\n      }\n\n      var octaves = Math.round((midi - index - 60) / 12),\n          result = Utils.noteName[index];\n\n      while (octaves != 0) {\n        result += octaves > 0 ? \"'\" : \",\";\n        octaves += octaves > 0 ? -1 : 1;\n      }\n\n      return result;\n    } // Converts an ABC pitch to a frequency in Hz.\n\n  }, {\n    key: \"pitchToFrequency\",\n    value: function pitchToFrequency(pitch) {\n      return Utils.midiToFrequency(Utils.pitchToMidi(pitch));\n    } // The default sound is a square wave with a pretty quick decay to zero.\n\n  }, {\n    key: \"makeTimbre\",\n    // Norrmalizes a timbre object by making a copy that has exactly\n    // the right set of timbre fields, defaulting when needed.\n    // A timbre can specify any of the fields of defaultTimbre; any\n    // unspecified fields are treated as they are set in defaultTimbre.\n    value: function makeTimbre(options, atop) {\n      if (!options) {\n        options = {};\n      }\n\n      if (typeof options == \"string\") {\n        // Abbreviation: name a wave to get a default timbre for that wave.\n        options = {\n          wave: options\n        };\n      }\n\n      var result = {},\n          key,\n          wt = atop && atop.wavetable && atop.wavetable[options.wave];\n\n      for (key in Utils.defaultTimbre) {\n        if (options.hasOwnProperty(key)) {\n          result[key] = options[key];\n        } else if (wt && wt.defs && wt.defs.hasOwnProperty(key)) {\n          result[key] = wt.defs[key];\n        } else {\n          result[key] = Utils.defaultTimbre[key];\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getWhiteNoiseBuf\",\n    // cache\n    value: function getWhiteNoiseBuf() {\n      if (whiteNoiseBuf == null) {\n        var ac = Utils.getAudioTop().ac,\n            bufferSize = 2 * ac.sampleRate,\n            whiteNoiseBuf = ac.createBuffer(1, bufferSize, ac.sampleRate),\n            output = whiteNoiseBuf.getChannelData(0);\n\n        for (var i = 0; i < bufferSize; i++) {\n          output[i] = Math.random() * 2 - 1;\n        }\n      }\n\n      return whiteNoiseBuf;\n    } // This utility function creates an oscillator at the given frequency\n    // and the given wavename.  It supports lookups in a static wavetable,\n    // defined right below.\n\n  }, {\n    key: \"makeOscillator\",\n    value: function makeOscillator(atop, wavename, freq) {\n      if (wavename == \"noise\") {\n        var whiteNoise = atop.ac.createBufferSource();\n        whiteNoise.buffer = Utils.getWhiteNoiseBuf();\n        whiteNoise.loop = true;\n        return whiteNoise;\n      }\n\n      var wavetable = atop.wavetable,\n          o = atop.ac.createOscillator(),\n          k,\n          pwave,\n          bwf,\n          wf;\n\n      try {\n        if (wavetable.hasOwnProperty(wavename)) {\n          // Use a customized wavetable.\n          pwave = wavetable[wavename].wave;\n\n          if (wavetable[wavename].freq) {\n            bwf = 0; // Look for a higher-frequency variant.\n\n            for (k in wavetable[wavename].freq) {\n              wf = Number(k);\n\n              if (freq > wf && wf > bwf) {\n                bwf = wf;\n                pwave = wavetable[wavename].freq[bwf];\n              }\n            }\n          }\n\n          if (!o.setPeriodicWave && o.setWaveTable) {\n            // The old API name: Safari 7 still uses this.\n            o.setWaveTable(pwave);\n          } else {\n            // The new API name.\n            o.setPeriodicWave(pwave);\n          }\n        } else {\n          o.type = wavename;\n        }\n      } catch (e) {\n        if (window.console) {\n          window.console.log(e);\n        } // If unrecognized, just use square.\n        // TODO: support \"noise\" or other wave shapes.\n\n\n        o.type = \"square\";\n      } // o.frequency.value = freq; // RONYEH REMOVED DUE TO SOME BUG.\n\n\n      o.frequency.setTargetAtTime(freq, atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n      return o;\n    }\n  }]);\n\n  return Utils;\n}(); // END UTILS\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Parses an ABC file to an object with the following structure:\n// {\n//   X: value from the X: lines in header (\\n separated for multiple values)\n//   V: value from the V:myname lines that appear before K:\n//   (etc): for all the one-letter header-names.\n//   K: value from the K: lines in header.\n//   tempo: Q: line parsed as beatsecs\n//   timbre: ... I:timbre line as parsed by makeTimbre\n//   voice: {\n//     myname: { // voice with id \"myname\"\n//       V: value from the V:myname lines (from the body)\n//       stems: [...] as parsed by parseABCstems\n//    }\n//  }\n// }\n// ABC files are idiosyncratic to parse: the written specifications\n// do not necessarily reflect the defacto standard implemented by\n// ABC content on the web.  This implementation is designed to be\n// practical, working on content as it appears on the web, and only\n// using the written standard as a guideline.\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"_audioTop\", null);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteNum\", {\n  C: 0,\n  D: 2,\n  E: 4,\n  F: 5,\n  G: 7,\n  A: 9,\n  B: 11,\n  c: 12,\n  d: 14,\n  e: 16,\n  f: 17,\n  g: 19,\n  a: 21,\n  b: 23\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"accSym\", {\n  \"^\": 1,\n  \"\": 0,\n  \"=\": 0,\n  _: -1\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"noteName\", [\"C\", \"^C\", \"D\", \"_E\", \"E\", \"F\", \"^F\", \"G\", \"_A\", \"A\", \"_B\", \"B\", \"c\", \"^c\", \"d\", \"_e\", \"e\", \"f\", \"^f\", \"g\", \"_a\", \"a\", \"_b\", \"b\"]);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"defaultTimbre\", {\n  wave: \"square\",\n  // Oscillator type.\n  gain: 0.1,\n  // Overall gain at maximum attack.\n  attack: 0.002,\n  // Attack time at the beginning of a tone.\n  decay: 0.4,\n  // Rate of exponential decay after attack.\n  decayfollow: 0,\n  // Amount of decay shortening for higher notes.\n  sustain: 0,\n  // Portion of gain to sustain indefinitely.\n  release: 0.1,\n  // Release time after a tone is done.\n  cutoff: 0,\n  // Low-pass filter cutoff frequency.\n  cutfollow: 0,\n  // Cutoff adjustment, a multiple of oscillator freq.\n  resonance: 0,\n  // Low-pass filter resonance.\n  detune: 0 // Detune factor for a second oscillator.\n\n});\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Utils, \"whiteNoiseBuf\", null);\n\nvar ABCheader = /^([A-Za-z]):\\s*(.*)$/;\nvar ABCtoken = /(?:\\[[A-Za-z]:[^\\]]*\\])|\\s+|%[^\\n]*|![^\\s!:|\\[\\]]*!|\\+[^+|!]*\\+|[_<>@^]?\"[^\"]*\"|\\[|\\]|>+|<+|(?:(?:\\^+|_+|=|)[A-Ga-g](?:,+|'+|))|\\(\\d+(?::\\d+){0,2}|\\d*\\/\\d+|\\d+\\/?|\\/+|[xzXZ]|\\[?\\|\\]?|:?\\|:?|::|./g;\n\nfunction parseABCFile(str) {\n  var lines = str.split(\"\\n\"),\n      result = {},\n      context = result,\n      timbre,\n      j,\n      k,\n      header,\n      stems,\n      key = {},\n      accent = {\n    slurred: 0\n  },\n      voiceid,\n      out; // ABC files are parsed one line at a time.\n\n  for (j = 0; j < lines.length; ++j) {\n    // First, check to see if the line is a header line.\n    header = ABCheader.exec(lines[j]);\n\n    if (header) {\n      handleInformation(header[1], header[2].trim());\n    } else if (/^\\s*(?:%.*)?$/.test(lines[j])) {\n      // Skip blank and comment lines.\n      continue;\n    } else {\n      // Parse the notes.\n      parseABCNotes(lines[j]);\n    }\n  }\n\n  var infer = [\"unitnote\", \"unitbeat\", \"tempo\"];\n\n  if (result.hasOwnProperty(\"voice\") && result.voice !== null) {\n    out = [];\n\n    for (j in result.voice) {\n      if (result.voice[j].stems && result.voice[j].stems.length) {\n        // Calculate times for all the tied notes.  This happens at the end\n        // because in principle, the first note of a song could be tied all\n        // the way through to the last note.\n        processTies(result.voice[j].stems); // Bring up inferred tempo values from voices if not specified\n        // in the header.\n\n        for (k = 0; k < infer.length; ++k) {\n          if (!(infer[k] in result) && infer[k] in result.voice[j]) {\n            result[infer[k]] = result.voice[j][infer[k]];\n          }\n        } // Remove this internal state variable;\n\n\n        delete result.voice[j].accent;\n      } else {\n        out.push(j);\n      }\n    } // Delete any voices that had no stems.\n\n\n    for (j = 0; j < out.length; ++j) {\n      delete result.voice[out[j]];\n    }\n  }\n\n  return result; ////////////////////////////////////////////////////////////////////////\n  // Parsing helper functions below.\n  ////////////////////////////////////////////////////////////////////////\n  // Processes header fields such as V: voice, which may appear at the\n  // top of the ABC file, or in the ABC body in a [V:voice] directive.\n\n  function handleInformation(field, value) {\n    // The following headers are recognized and processed.\n    switch (field) {\n      case \"V\":\n        // A V: header switches voices if in the body.\n        // If in the header, then it is just advisory.\n        if (context !== result) {\n          startVoiceContext(value.split(\" \")[0]);\n        }\n\n        break;\n\n      case \"M\":\n        parseMeter(value, context);\n        break;\n\n      case \"L\":\n        parseUnitNote(value, context);\n        break;\n\n      case \"Q\":\n        parseTempo(value, context);\n        break;\n    } // All headers (including unrecognized ones) are\n    // just accumulated as properties. Repeated header\n    // lines are accumulated as multiline properties.\n\n\n    if (context.hasOwnProperty(field)) {\n      context[field] += \"\\n\" + value;\n    } else {\n      context[field] = value;\n    } // The K header is special: it should be the last one\n    // before the voices and notes begin.\n\n\n    if (field == \"K\") {\n      key = keysig(value);\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n    }\n  } // Shifts context to a voice with the given id given.  If no id\n  // given, then just sticks with the current voice.  If the current\n  // voice is unnamed and empty, renames the current voice.\n\n\n  function startVoiceContext(id) {\n    id = id || \"\";\n\n    if (!id && context !== result) {\n      return;\n    }\n\n    if (!result.voice) {\n      result.voice = {};\n    }\n\n    if (result.voice.hasOwnProperty(id)) {\n      // Resume a named voice.\n      context = result.voice[id];\n      accent = context.accent;\n    } else {\n      // Start a new voice.\n      context = {\n        id: id,\n        accent: {\n          slurred: 0\n        }\n      };\n      result.voice[id] = context;\n      accent = context.accent;\n    }\n  } // For picking a default voice, looks for the first voice name.\n\n\n  function firstVoiceName() {\n    if (result.V) {\n      return result.V.split(/\\s+/)[0];\n    } else {\n      return \"\";\n    }\n  } // Parses a single line of ABC notes (i.e., not a header line).\n  //\n  // We process an ABC song stream by dividing it into tokens, each of\n  // which is a pitch, duration, or special decoration symbol; then\n  // we process each decoration individually, and we process each\n  // stem as a group using parseStem.\n  // The structure of a single ABC note is something like this:\n  //\n  // NOTE -> STACCATO? PITCH DURATION? TIE?\n  //\n  // I.e., it always has a pitch, and it is prefixed by some optional\n  // decorations such as a (.) staccato marking, and it is suffixed by\n  // an optional duration and an optional tie (-) marking.\n  //\n  // A stem is either a note or a bracketed series of notes, followed\n  // by duration and tie.\n  //\n  // STEM -> NOTE   OR    '[' NOTE * ']' DURAITON? TIE?\n  //\n  // Then a song is just a sequence of stems interleaved with other\n  // decorations such as dynamics markings and measure delimiters.\n\n\n  function parseABCNotes(str) {\n    var tokens = str.match(ABCtoken),\n        parsed = null,\n        index = 0,\n        dotted = 0,\n        beatlet = null,\n        t;\n\n    if (!tokens) {\n      return null;\n    }\n\n    while (index < tokens.length) {\n      // Ignore %comments and !markings!\n      if (/^[\\s%]/.test(tokens[index])) {\n        index++;\n        continue;\n      } // Handle inline [X:...] information fields\n\n\n      if (/^\\[[A-Za-z]:[^\\]]*\\]$/.test(tokens[index])) {\n        handleInformation(tokens[index].substring(1, 2), tokens[index].substring(3, tokens[index].length - 1).trim());\n        index++;\n        continue;\n      } // Handled dotted notation abbreviations.\n\n\n      if (/</.test(tokens[index])) {\n        dotted = -tokens[index++].length;\n        continue;\n      }\n\n      if (/>/.test(tokens[index])) {\n        dotted = tokens[index++].length;\n        continue;\n      }\n\n      if (/^\\(\\d+(?::\\d+)*/.test(tokens[index])) {\n        beatlet = parseBeatlet(tokens[index++]);\n        continue;\n      }\n\n      if (/^[!+].*[!+]$/.test(tokens[index])) {\n        parseDecoration(tokens[index++], accent);\n        continue;\n      }\n\n      if (/^.?\".*\"$/.test(tokens[index])) {\n        // Ignore double-quoted tokens (chords and general text annotations).\n        index++;\n        continue;\n      }\n\n      if (/^[()]$/.test(tokens[index])) {\n        if (tokens[index++] == \"(\") {\n          accent.slurred += 1;\n        } else {\n          accent.slurred -= 1;\n\n          if (accent.slurred <= 0) {\n            accent.slurred = 0;\n\n            if (context.stems && context.stems.length >= 1) {\n              // The last notes in a slur are not slurred.\n              slurStem(context.stems[context.stems.length - 1], false);\n            }\n          }\n        }\n\n        continue;\n      } // Handle measure markings by clearing accidentals.\n\n\n      if (/\\|/.test(tokens[index])) {\n        for (t in accent) {\n          if (t.length == 1) {\n            // Single-letter accent properties are note accidentals.\n            delete accent[t];\n          }\n        }\n\n        index++;\n        continue;\n      }\n\n      parsed = parseStem(tokens, index, key, accent); // Skip unparsable bits\n\n      if (parsed === null) {\n        index++;\n        continue;\n      } // Process a parsed stem.\n\n\n      if (beatlet) {\n        scaleStem(parsed.stem, beatlet.time);\n        beatlet.count -= 1;\n\n        if (!beatlet.count) {\n          beatlet = null;\n        }\n      } // If syncopated with > or < notation, shift part of a beat\n      // between this stem and the previous one.\n\n\n      if (dotted && context.stems && context.stems.length) {\n        if (dotted > 0) {\n          t = (1 - Math.pow(0.5, dotted)) * parsed.stem.time;\n        } else {\n          t = (Math.pow(0.5, -dotted) - 1) * context.stems[context.stems.length - 1].time;\n        }\n\n        syncopateStem(context.stems[context.stems.length - 1], t);\n        syncopateStem(parsed.stem, -t);\n      }\n\n      dotted = 0; // Slur all the notes contained within a strem.\n\n      if (accent.slurred) {\n        slurStem(parsed.stem, true);\n      } // Start a default voice if we're not in a voice yet.\n\n\n      if (context === result) {\n        startVoiceContext(firstVoiceName());\n      }\n\n      if (!(\"stems\" in context)) {\n        context.stems = [];\n      } // Add the stem to the sequence of stems for this voice.\n\n\n      context.stems.push(parsed.stem); // Advance the parsing index since a stem is multiple tokens.\n\n      index = parsed.index;\n    }\n  } // Parse M: lines.  \"3/4\" is 3/4 time and \"C\" is 4/4 (common) time.\n\n\n  function parseMeter(mline, beatinfo) {\n    var d = /^C/.test(mline) ? 4 / 4 : durationToTime(mline);\n\n    if (!d) {\n      return;\n    }\n\n    if (!beatinfo.unitnote) {\n      if (d < 0.75) {\n        beatinfo.unitnote = 1 / 16;\n      } else {\n        beatinfo.unitnote = 1 / 8;\n      }\n    }\n  } // Parse L: lines, e.g., \"1/8\".\n\n\n  function parseUnitNote(lline, beatinfo) {\n    var d = durationToTime(lline);\n\n    if (!d) {\n      return;\n    }\n\n    beatinfo.unitnote = d;\n  } // Parse Q: line, e.g., \"1/4=66\".\n\n\n  function parseTempo(qline, beatinfo) {\n    var parts = qline.split(/\\s+|=/),\n        j,\n        unit = null,\n        tempo = null;\n\n    for (j = 0; j < parts.length; ++j) {\n      // It could be reversed, like \"66=1/4\", or just \"120\", so\n      // determine what is going on by looking for a slash etc.\n      if (parts[j].indexOf(\"/\") >= 0 || /^[1-4]$/.test(parts[j])) {\n        // The note-unit (e.g., 1/4).\n        unit = unit || durationToTime(parts[j]);\n      } else {\n        // The tempo-number (e.g., 120)\n        tempo = tempo || Number(parts[j]);\n      }\n    }\n\n    if (unit) {\n      beatinfo.unitbeat = unit;\n    }\n\n    if (tempo) {\n      beatinfo.tempo = tempo;\n    }\n  } // Run through all the notes, adding up time for tied notes,\n  // and marking notes that were held over with holdover = true.\n\n\n  function processTies(stems) {\n    var tied = {},\n        nextTied,\n        j,\n        k,\n        note,\n        firstNote;\n\n    for (j = 0; j < stems.length; ++j) {\n      nextTied = {};\n\n      for (k = 0; k < stems[j].notes.length; ++k) {\n        firstNote = note = stems[j].notes[k];\n\n        if (tied.hasOwnProperty(note.pitch)) {\n          // Pitch was tied from before.\n          firstNote = tied[note.pitch]; // Get the earliest note in the tie.\n\n          firstNote.time += note.time; // Extend its time.\n\n          note.holdover = true; // Silence this note as a holdover.\n        }\n\n        if (note.tie) {\n          // This note is tied with the next.\n          nextTied[note.pitch] = firstNote; // Save it away.\n        }\n      }\n\n      tied = nextTied;\n    }\n  } // Returns a map of A-G -> accidentals, according to the key signature.\n  // When n is zero, there are no accidentals (e.g., C major or A minor).\n  // When n is positive, there are n sharps (e.g., for G major, n = 1).\n  // When n is negative, there are -n flats (e.g., for F major, n = -1).\n\n\n  function accidentals(n) {\n    var sharps = \"FCGDAEB\",\n        result = {},\n        j;\n\n    if (!n) {\n      return result;\n    }\n\n    if (n > 0) {\n      // Handle sharps.\n      for (j = 0; j < n && j < 7; ++j) {\n        result[sharps.charAt(j)] = \"^\";\n      }\n    } else {\n      // Flats are in the opposite order.\n      for (j = 0; j > n && j > -7; --j) {\n        result[sharps.charAt(6 + j)] = \"_\";\n      }\n    }\n\n    return result;\n  } // Decodes the key signature line (e.g., K: C#m) at the front of an ABC tune.\n  // Supports the whole range of scale systems listed in the ABC spec.\n\n\n  function keysig(keyname) {\n    if (!keyname) {\n      return {};\n    }\n\n    var kkey,\n        sigcodes = {\n      // Major\n      \"c#\": 7,\n      \"f#\": 6,\n      b: 5,\n      e: 4,\n      a: 3,\n      d: 2,\n      g: 1,\n      c: 0,\n      f: -1,\n      bb: -2,\n      eb: -3,\n      ab: -4,\n      db: -5,\n      gb: -6,\n      cb: -7,\n      // Minor\n      \"a#m\": 7,\n      \"d#m\": 6,\n      \"g#m\": 5,\n      \"c#m\": 4,\n      \"f#m\": 3,\n      bm: 2,\n      em: 1,\n      am: 0,\n      dm: -1,\n      gm: -2,\n      cm: -3,\n      fm: -4,\n      bbm: -5,\n      ebm: -6,\n      abm: -7,\n      // Mixolydian\n      \"g#mix\": 7,\n      \"c#mix\": 6,\n      \"f#mix\": 5,\n      bmix: 4,\n      emix: 3,\n      amix: 2,\n      dmix: 1,\n      gmix: 0,\n      cmix: -1,\n      fmix: -2,\n      bbmix: -3,\n      ebmix: -4,\n      abmix: -5,\n      dbmix: -6,\n      gbmix: -7,\n      // Dorian\n      \"d#dor\": 7,\n      \"g#dor\": 6,\n      \"c#dor\": 5,\n      \"f#dor\": 4,\n      bdor: 3,\n      edor: 2,\n      ador: 1,\n      ddor: 0,\n      gdor: -1,\n      cdor: -2,\n      fdor: -3,\n      bbdor: -4,\n      ebdor: -5,\n      abdor: -6,\n      dbdor: -7,\n      // Phrygian\n      \"e#phr\": 7,\n      \"a#phr\": 6,\n      \"d#phr\": 5,\n      \"g#phr\": 4,\n      \"c#phr\": 3,\n      \"f#phr\": 2,\n      bphr: 1,\n      ephr: 0,\n      aphr: -1,\n      dphr: -2,\n      gphr: -3,\n      cphr: -4,\n      fphr: -5,\n      bbphr: -6,\n      ebphr: -7,\n      // Lydian\n      \"f#lyd\": 7,\n      blyd: 6,\n      elyd: 5,\n      alyd: 4,\n      dlyd: 3,\n      glyd: 2,\n      clyd: 1,\n      flyd: 0,\n      bblyd: -1,\n      eblyd: -2,\n      ablyd: -3,\n      dblyd: -4,\n      gblyd: -5,\n      cblyd: -6,\n      fblyd: -7,\n      // Locrian\n      \"b#loc\": 7,\n      \"e#loc\": 6,\n      \"a#loc\": 5,\n      \"d#loc\": 4,\n      \"g#loc\": 3,\n      \"c#loc\": 2,\n      \"f#loc\": 1,\n      bloc: 0,\n      eloc: -1,\n      aloc: -2,\n      dloc: -3,\n      gloc: -4,\n      cloc: -5,\n      floc: -6,\n      bbloc: -7\n    };\n    var k = keyname.replace(/\\s+/g, \"\").toLowerCase().substr(0, 5);\n    var scale = k.match(/maj|min|mix|dor|phr|lyd|loc|m/);\n\n    if (scale) {\n      if (scale == \"maj\") {\n        kkey = k.substr(0, scale.index);\n      } else if (scale == \"min\") {\n        kkey = k.substr(0, scale.index + 1);\n      } else {\n        kkey = k.substr(0, scale.index + scale[0].length);\n      }\n    } else {\n      kkey = /^[a-g][#b]?/.exec(k) || \"\";\n    }\n\n    var result = accidentals(sigcodes[kkey]);\n    var extras = keyname.substr(kkey.length).match(/(_+|=|\\^+)[a-g]/gi);\n\n    if (extras) {\n      for (var j = 0; j < extras.length; ++j) {\n        var note = extras[j].charAt(extras[j].length - 1).toUpperCase();\n\n        if (extras[j].charAt(0) == \"=\") {\n          delete result[note];\n        } else {\n          result[note] = extras[j].substr(0, extras[j].length - 1);\n        }\n      }\n    }\n\n    return result;\n  } // Additively adjusts the beats for a stem and the contained notes.\n\n\n  function syncopateStem(stem, t) {\n    var j,\n        note,\n        stemtime = stem.time,\n        newtime = stemtime + t;\n    stem.time = newtime;\n    syncopateStem;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j]; // Only adjust a note's duration if it matched the stem's duration.\n\n      if (note.time == stemtime) {\n        note.time = newtime;\n      }\n    }\n  } // Marks everything in the stem with the slur attribute (or deletes it).\n\n\n  function slurStem(stem, addSlur) {\n    var j, note;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      note = stem.notes[j];\n\n      if (addSlur) {\n        note.slurred = true;\n      } else if (note.slurred) {\n        delete note.slurred;\n      }\n    }\n  } // Scales the beats for a stem and the contained notes.\n\n\n  function scaleStem(stem, s) {\n    var j;\n    stem.time *= s;\n\n    for (j = 0; j < stem.notes.length; ++j) {\n      stem.notes[j].time *= s;\n    }\n  } // Parses notation of the form (3 or (5:2:10, which means to do\n  // the following 3 notes in the space of 2 notes, or to do the following\n  // 10 notes at the rate of 5 notes per 2 beats.\n\n\n  function parseBeatlet(token) {\n    var m = /^\\((\\d+)(?::(\\d+)(?::(\\d+))?)?$/.exec(token);\n\n    if (!m) {\n      return null;\n    }\n\n    var count = Number(m[1]),\n        beats = Number(m[2]) || 2,\n        duration = Number(m[3]) || count;\n    return {\n      time: beats / count,\n      count: duration\n    };\n  } // Parse !ppp! markings.\n\n\n  function parseDecoration(token, accent) {\n    if (token.length < 2) {\n      return;\n    }\n\n    token = token.substring(1, token.length - 1);\n\n    switch (token) {\n      case \"pppp\":\n      case \"ppp\":\n        accent.dynamics = 0.2;\n        break;\n\n      case \"pp\":\n        accent.dynamics = 0.4;\n        break;\n\n      case \"p\":\n        accent.dynamics = 0.6;\n        break;\n\n      case \"mp\":\n        accent.dynamics = 0.8;\n        break;\n\n      case \"mf\":\n        accent.dynamics = 1.0;\n        break;\n\n      case \"f\":\n        accent.dynamics = 1.2;\n        break;\n\n      case \"ff\":\n        accent.dynamics = 1.4;\n        break;\n\n      case \"fff\":\n      case \"ffff\":\n        accent.dynamics = 1.5;\n        break;\n    }\n  } // Parses a stem, which may be a single note, or which may be\n  // a chorded note.\n\n\n  function parseStem(tokens, index, key, accent) {\n    var notes = [],\n        duration = \"\",\n        staccato = false,\n        noteDuration,\n        noteTime,\n        velocity,\n        lastNote = null,\n        minStemTime = Infinity,\n        j; // A single staccato marking applies to the entire stem.\n\n    if (index < tokens.length && \".\" == tokens[index]) {\n      staccato = true;\n      index++;\n    }\n\n    if (index < tokens.length && tokens[index] == \"[\") {\n      // Deal with [CEG] chorded notation.\n      index++; // Scan notes within the chord.\n\n      while (index < tokens.length) {\n        // Ignore and space and %comments.\n        if (/^[\\s%]/.test(tokens[index])) {\n          index++;\n          continue;\n        }\n\n        if (/[A-Ga-g]/.test(tokens[index])) {\n          // Grab a pitch.\n          lastNote = {\n            pitch: applyAccent(tokens[index++], key, accent),\n            tie: false\n          };\n          lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n          notes.push(lastNote);\n        } else if (/[xzXZ]/.test(tokens[index])) {\n          // Grab a rest.\n          lastNote = null;\n          index++;\n        } else if (\".\" == tokens[index]) {\n          // A staccato mark applies to the entire stem.\n          staccato = true;\n          index++;\n          continue;\n        } else {\n          // Stop parsing the stem if something is unrecognized.\n          break;\n        } // After a pitch or rest, look for a duration.\n\n\n        if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n          noteDuration = tokens[index++];\n          noteTime = durationToTime(noteDuration);\n        } else {\n          noteDuration = \"\";\n          noteTime = 1;\n        } // If it's a note (not a rest), store the duration\n\n\n        if (lastNote) {\n          lastNote.duration = noteDuration;\n          lastNote.time = noteTime;\n        } // When a stem has more than one duration, use the shortest\n        // one for timing. The standard says to pick the first one,\n        // but in practice, transcribed music online seems to\n        // follow the rule that the stem's duration is determined\n        // by the shortest contained duration.\n\n\n        if (noteTime && noteTime < minStemTime) {\n          duration = noteDuration;\n          minStemTime = noteTime;\n        } // After a duration, look for a tie mark.  Individual notes\n        // within a stem can be tied.\n\n\n        if (index < tokens.length && \"-\" == tokens[index]) {\n          if (lastNote) {\n            notes[notes.length - 1].tie = true;\n          }\n\n          index++;\n        }\n      } // The last thing in a chord should be a ].  If it isn't, then\n      // this doesn't look like a stem after all, and return null.\n\n\n      if (tokens[index] != \"]\") {\n        return null;\n      }\n\n      index++;\n    } else if (index < tokens.length && /[A-Ga-g]/.test(tokens[index])) {\n      // Grab a single note.\n      lastNote = {\n        pitch: applyAccent(tokens[index++], key, accent),\n        tie: false,\n        duration: \"\",\n        time: 1\n      };\n      lastNote.frequency = Utils.pitchToFrequency(lastNote.pitch);\n      notes.push(lastNote);\n    } else if (index < tokens.length && /^[xzXZ]$/.test(tokens[index])) {\n      // Grab a rest - no pitch.\n      index++;\n    } else {\n      // Something we don't recognize - not a stem.\n      return null;\n    } // Right after a [chord], note, or rest, look for a duration marking.\n\n\n    if (index < tokens.length && /^(?![\\s%!]).*[\\d\\/]/.test(tokens[index])) {\n      duration = tokens[index++];\n      noteTime = durationToTime(duration); // Apply the duration to all the ntoes in the stem.\n      // NOTE: spec suggests multiplying this duration, but that\n      // idiom is not seen (so far) in practice.\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].duration = duration;\n        notes[j].time = noteTime;\n      }\n    } // Then look for a trailing tie marking.  Will tie every note in a chord.\n\n\n    if (index < tokens.length && \"-\" == tokens[index]) {\n      index++;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].tie = true;\n      }\n    }\n\n    if (accent.dynamics) {\n      velocity = accent.dynamics;\n\n      for (j = 0; j < notes.length; ++j) {\n        notes[j].velocity = velocity;\n      }\n    }\n\n    return {\n      index: index,\n      stem: {\n        notes: notes,\n        duration: duration,\n        staccato: staccato,\n        time: durationToTime(duration)\n      }\n    };\n  } // Normalizes pitch markings by stripping leading = if present.\n\n\n  function stripNatural(pitch) {\n    if (pitch.length > 0 && pitch.charAt(0) == \"=\") {\n      return pitch.substr(1);\n    }\n\n    return pitch;\n  } // Processes an accented pitch, automatically applying accidentals\n  // that have accumulated within the measure, and also saving\n  // explicit accidentals to continue to apply in the measure.\n\n\n  function applyAccent(pitch, key, accent) {\n    var m = /^(\\^+|_+|=|)([A-Ga-g])(.*)$/.exec(pitch),\n        letter;\n\n    if (!m) {\n      return pitch;\n    } // Note that an accidental in one octave applies in other octaves.\n\n\n    letter = m[2].toUpperCase();\n\n    if (m[1].length > 0) {\n      // When there is an explicit accidental, then remember it for\n      // the rest of the measure.\n      accent[letter] = m[1];\n      return stripNatural(pitch);\n    }\n\n    if (accent.hasOwnProperty(letter)) {\n      // Accidentals from this measure apply to unaccented notes.\n      return stripNatural(accent[letter] + m[2] + m[3]);\n    }\n\n    if (key.hasOwnProperty(letter)) {\n      // Key signatures apply by default.\n      return stripNatural(key[letter] + m[2] + m[3]);\n    }\n\n    return stripNatural(pitch);\n  } // Converts an ABC duration to a number (e.g., \"/3\"->0.333 or \"11/2\"->1.5).\n\n\n  function durationToTime(duration) {\n    var m = /^(\\d*)(?:\\/(\\d*))?$|^(\\/+)$/.exec(duration),\n        n,\n        d,\n        i = 0,\n        ilen;\n    if (!m) return;\n    if (m[3]) return Math.pow(0.5, m[3].length);\n    d = m[2] ? parseFloat(m[2]) : /\\//.test(duration) ? 2 : 1; // Handle mixed frations:\n\n    ilen = 0;\n    n = m[1] ? parseFloat(m[1]) : 1;\n\n    if (m[2]) {\n      while (ilen + 1 < m[1].length && n > d) {\n        ilen += 1;\n        i = parseFloat(m[1].substring(0, ilen));\n        n = parseFloat(m[1].substring(ilen));\n      }\n    }\n\n    return i + n / d;\n  }\n} //////////////////////////////////////////////////////////////////////////////////////////////////\n// INSTRUMENTS\n//\n// All further details of audio handling are encapsulated in the Instrument\n// class, which knows how to synthesize a basic timbre; how to play and\n// schedule a tone; and how to parse and sequence a song written in ABC\n// notation.\n// The constructor accepts a timbre string or object, specifying\n// its default sound.  The main mechanisms in Instrument are for handling\n// sequencing of a (potentially large) set of notes over a (potentially\n// long) period of time.  The overall strategy:\n//\n//                       Events:      'noteon'        'noteoff'\n//                                      |               |\n// tone()-(quick tones)->| _startSet -->| _finishSet -->| _cleanupSet -->|\n//   \\                   |  /           | Playing tones | Done tones     |\n//    \\---- _queue ------|-/                                             |\n//      of future tones  |3 secs ahead sent to WebAudio, removed when done\n//\n// The reason for this queuing is to reduce the complexity of the\n// node graph sent to WebAudio: at any time, WebAudio is only\n// responsible for about 2 seconds of music.  If a graph with too\n// too many nodes is sent to WebAudio at once, output distorts badly.\n\n\nvar Instrument = /*#__PURE__*/function () {\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, null, [{\n    key: \"pitchToMidi\",\n    // Seconds to delay all audiable timing.\n    // Seconds before an event to reexamine queue.\n    // Seconds ahead to put notes in WebAudio.\n    // Default duration of a tone.\n    // Silent time before disconnecting nodes.\n    // Accepts either an ABC pitch or a midi number and converts to midi.\n    value: function pitchToMidi(n) {\n      if (typeof n == \"string\") {\n        return Utils.pitchToMidi(n);\n      }\n\n      return n;\n    } // Accepts either an ABC pitch or a midi number and converts to ABC pitch.\n\n  }, {\n    key: \"midiToPitch\",\n    value: function midiToPitch(n) {\n      if (typeof n == \"number\") {\n        return Utils.midiToPitch(n);\n      }\n\n      return n;\n    }\n  }]);\n\n  function Instrument(options) {\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Instrument);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_out\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_atop\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_timbre\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_queue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_minQueueTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_maxScheduledTime\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_unsortedQueue\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_startSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_finishSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_cleanupSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_callbackSet\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_handlers\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_now\", void 0);\n\n    Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"_pollTimer\", void 0);\n\n    this._atop = Utils.getAudioTop(); // Audio context.\n\n    this._timbre = Utils.makeTimbre(options, this._atop); // The instrument's timbre.\n\n    this._queue = []; // A queue of future tones to play.\n\n    this._minQueueTime = Infinity; // The earliest time in _queue.\n\n    this._maxScheduledTime = 0; // The latest time in _queue.\n\n    this._unsortedQueue = false; // True if _queue is unsorted.\n\n    this._startSet = []; // Unstarted tones already sent to WebAudio.\n\n    this._finishSet = {}; // Started tones playing in WebAudio.\n\n    this._cleanupSet = []; // Tones waiting for cleanup.\n\n    this._callbackSet = []; // A set of scheduled callbacks.\n\n    this._handlers = {}; // 'noteon' and 'noteoff' handlers.\n\n    this._now = null; // A cached current-time value.\n\n    if (Utils.isAudioPresent()) {\n      this.silence(); // Initializes top-level audio node.\n    }\n  } // Sets the default timbre for the instrument.  See defaultTimbre.\n\n\n  Object(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Instrument, [{\n    key: \"setTimbre\",\n    value: function setTimbre(t) {\n      this._timbre = Utils.makeTimbre(t, this._atop); // Saves a copy.\n    } // Returns the default timbre for the instrument as an object.\n\n  }, {\n    key: \"getTimbre\",\n    value: function getTimbre(t) {\n      return Utils.makeTimbre(this._timbre, this._atop); // Makes a copy.\n    } // Sets the overall volume for the instrument immediately.\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(v) {\n      // Without an audio system, volume cannot be set.\n      if (!this._out) {\n        return;\n      }\n\n      if (!isNaN(v)) {\n        this._out.gain.value = v;\n      }\n    } // Sets the overall volume for the instrument.\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume(v) {\n      // Without an audio system, volume is stuck at zero.\n      if (!this._out) {\n        return 0.0;\n      }\n\n      return this._out.gain.value;\n    } // Silences the instrument immediately by reinitializing the audio\n    // graph for this instrument and emptying or flushing all queues in the\n    // scheduler.  Carefully notifies all notes that have started but not\n    // yet finished, and sequences that are awaiting scheduled callbacks.\n    // Does not notify notes that have not yet started.\n\n  }, {\n    key: \"silence\",\n    value: function silence() {\n      var j,\n          finished,\n          callbacks,\n          initvolume = 1; // Clear future notes.\n\n      this._queue.length = 0;\n      this._minQueueTime = Infinity;\n      this._maxScheduledTime = 0; // Don't notify notes that haven't started yet.\n\n      this._startSet.length = 0; // Flush finish callbacks that are promised.\n\n      finished = this._finishSet;\n      this._finishSet = {}; // Flush one-time callacks that are promised.\n\n      callbacks = this._callbackSet;\n      this._callbackSet = []; // Disconnect the audio graph for this instrument.\n\n      if (this._out) {\n        this._out.disconnect();\n\n        initvolume = this._out.gain.value;\n      } // Reinitialize the audio graph: all audio for the instrument\n      // multiplexes through a single gain node with a master volume.\n\n\n      this._atop = Utils.getAudioTop();\n      this._out = this._atop.ac.createGain(); // this._out.gain.value = initvolume; // RONYEH REMOVED DUE TO BUG.\n\n      this._out.gain.setTargetAtTime(initvolume, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n\n      this._out.connect(this._atop.out); // As a last step, call all promised notifications.\n\n\n      for (j in finished) {\n        this._trigger(\"noteoff\", finished[j]);\n      }\n\n      for (j = 0; j < callbacks.length; ++j) {\n        callbacks[j].callback();\n      }\n    } // Future notes are scheduled relative to now(), which provides\n    // access to audioCurrentStartTime(), a time that holds steady\n    // until the script releases to the event loop.  When _now is\n    // non-null, it indicates that scheduling is already in progress.\n    // The timer-driven _doPoll function clears the cached _now.\n\n  }, {\n    key: \"now\",\n    value: function now() {\n      if (this._now != null) {\n        return this._now;\n      }\n\n      this._startPollTimer(true); // passing (true) sets this._now.\n\n\n      return this._now;\n    } // Register an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"on\",\n    value: function on(eventname, cb) {\n      if (!this._handlers.hasOwnProperty(eventname)) {\n        this._handlers[eventname] = [];\n      }\n\n      this._handlers[eventname].push(cb);\n    } // Unregister an event handler.  Done without jQuery to reduce dependencies.\n\n  }, {\n    key: \"off\",\n    value: function off(eventname, cb) {\n      if (this._handlers.hasOwnProperty(eventname)) {\n        if (!cb) {\n          this._handlers[eventname] = [];\n        } else {\n          var j,\n              hunt = this._handlers[eventname];\n\n          for (j = 0; j < hunt.length; ++j) {\n            if (hunt[j] === cb) {\n              hunt.splice(j, 1);\n              j -= 1;\n            }\n          }\n        }\n      }\n    } // Trigger an event, notifying any registered handlers.\n\n  }, {\n    key: \"_trigger\",\n    value: function _trigger(eventname, record) {\n      var cb = this._handlers[eventname],\n          j;\n\n      if (!cb) {\n        return;\n      }\n\n      if (cb.length == 1) {\n        // Special, common case of one handler: no copy needed.\n        cb[0](record);\n        return;\n      } // Copy the array of callbacks before iterating, because the\n      // main this._handlers copy could be changed by a handler.\n      // You get notified if-and-only-if you are registered\n      // at the starting moment of _trigger.\n\n\n      cb = cb.slice();\n\n      for (j = 0; j < cb.length; ++j) {\n        cb[j](record);\n      }\n    } // Tells the WebAudio API to play a tone (now or soon).  The passed\n    // record specifies a start time and release time, an ADSR envelope,\n    // and other timbre parameters.  This function sets up a WebAudio\n    // node graph for the tone generators and filters for the tone.\n\n  }, {\n    key: \"_makeSound\",\n    value: function _makeSound(record) {\n      var timbre = record.timbre || this._timbre,\n          starttime = record.time + Instrument.timeOffset,\n          releasetime = starttime + record.duration,\n          attacktime = Math.min(releasetime, starttime + timbre.attack),\n          decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n          decaystarttime = attacktime,\n          stoptime = releasetime + timbre.release,\n          doubled = timbre.detune && timbre.detune != 1.0,\n          amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n          ac = this._atop.ac,\n          g,\n          f,\n          o,\n          o2,\n          pwave,\n          k,\n          wf,\n          bwf; // Only hook up tone generators if it is an audible sound.\n\n      if (record.duration > 0 && record.velocity > 0) {\n        g = ac.createGain();\n        g.gain.setValueAtTime(0, starttime);\n        g.gain.linearRampToValueAtTime(amp, attacktime); // For the beginning of the decay, use linearRampToValue instead\n        // of setTargetAtTime, because it avoids http://crbug.com/254942.\n\n        while (decaystarttime < attacktime + 1 / 32 && decaystarttime + 1 / 256 < releasetime) {\n          // Just trace out the curve in increments of 1/256 sec\n          // for up to 1/32 seconds.\n          decaystarttime += 1 / 256;\n          g.gain.linearRampToValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - decaystarttime) / decaytime)), decaystarttime);\n        } // For the rest of the decay, use setTargetAtTime.\n\n\n        g.gain.setTargetAtTime(amp * timbre.sustain, decaystarttime, decaytime); // Then at release time, mark the value and ramp to zero.\n\n        g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n        g.gain.linearRampToValueAtTime(0, stoptime);\n        g.connect(this._out); // Hook up a low-pass filter if cutoff is specified.\n\n        if (!timbre.cutoff && !timbre.cutfollow || timbre.cutoff == Infinity) {\n          f = g;\n        } else {\n          // Apply the cutoff frequency adjusted using cutfollow.\n          f = ac.createBiquadFilter(); // f.frequency.value = timbre.cutoff + record.frequency * timbre.cutfollow; // RONYEH REMOVED DUE TO BUG.\n          // f.Q.value = timbre.resonance; // RONYEH REMOVED DUE TO BUG.\n\n          f.frequency.setTargetAtTime(timbre.cutoff + record.frequency * timbre.cutfollow, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.Q.setTargetAtTime(timbre.resonance, this._atop.ac.currentTime, 0.001); // RONYEH ADDED\n\n          f.connect(g);\n        } // Hook up the main oscillator.\n\n\n        o = Utils.makeOscillator(this._atop, timbre.wave, record.frequency);\n        o.connect(f);\n        o.start(starttime);\n        o.stop(stoptime); // Hook up a detuned oscillator.\n\n        if (doubled) {\n          o2 = Utils.makeOscillator(this._atop, timbre.wave, record.frequency * timbre.detune);\n          o2.connect(f);\n          o2.start(starttime);\n          o2.stop(stoptime);\n        } // Store nodes in the record so that they can be modified\n        // in case the tone is truncated later.\n\n\n        record.gainNode = g;\n        record.oscillators = [o];\n\n        if (doubled) {\n          record.oscillators.push(o2);\n        }\n\n        record.cleanuptime = stoptime;\n      } else {\n        // Inaudible sounds are scheduled: their purpose is to truncate\n        // audible tones at the same pitch.  But duration is set to zero\n        // so that they are cleaned up quickly.\n        record.duration = 0;\n      }\n\n      this._startSet.push(record);\n    } // Truncates a sound previously scheduled by _makeSound by using\n    // cancelScheduledValues and directly ramping down to zero.\n    // Can only be used to shorten a sound.\n\n  }, {\n    key: \"_truncateSound\",\n    value: function _truncateSound(record, truncatetime) {\n      if (truncatetime < record.time + record.duration) {\n        record.duration = Math.max(0, truncatetime - record.time);\n\n        if (record.gainNode) {\n          var timbre = record.timbre || this._timbre,\n              starttime = record.time + Instrument.timeOffset,\n              releasetime = truncatetime + Instrument.timeOffset,\n              attacktime = Math.min(releasetime, starttime + timbre.attack),\n              decaytime = timbre.decay * Math.pow(440 / record.frequency, timbre.decayfollow),\n              stoptime = releasetime + timbre.release,\n              cleanuptime = stoptime + Instrument.cleanupDelay,\n              doubled = timbre.detune && timbre.detune != 1.0,\n              amp = timbre.gain * record.velocity * (doubled ? 0.5 : 1.0),\n              j,\n              g = record.gainNode; // Cancel any envelope points after the new releasetime.\n\n          g.gain.cancelScheduledValues(releasetime);\n\n          if (releasetime <= starttime) {\n            // Release before start?  Totally silence the note.\n            g.gain.setValueAtTime(0, releasetime);\n          } else if (releasetime <= attacktime) {\n            // Release before attack is done?  Interrupt ramp up.\n            // g.gain.linearRampToValueAtTime((amp * (releasetime - starttime)) / (attacktime - starttime));\n            g.gain.linearRampToValueAtTime(amp * (releasetime - starttime) / (attacktime - starttime), starttime); // RONYEH ADDED SECOND PARAM \"starttime\".\n          } else {\n            // Release during decay?  Interrupt decay down.\n            g.gain.setValueAtTime(amp * (timbre.sustain + (1 - timbre.sustain) * Math.exp((attacktime - releasetime) / decaytime)), releasetime);\n          } // Then ramp down to zero according to record.release.\n\n\n          g.gain.linearRampToValueAtTime(0, stoptime); // After stoptime, stop the oscillators.  This is necessary to\n          // eliminate extra work for WebAudio for no-longer-audible notes.\n\n          if (record.oscillators) {\n            for (j = 0; j < record.oscillators.length; ++j) {\n              record.oscillators[j].stop(stoptime);\n            }\n          } // Schedule disconnect.\n\n\n          record.cleanuptime = cleanuptime;\n        }\n      }\n    } // The core scheduling loop is managed by Instrument._doPoll.  It reads\n    // the audiocontext's current time and pushes tone records from one\n    // stage to the next.\n    //\n    // 1. The first stage is the _queue, which has tones that have not\n    //    yet been given to WebAudio. This loop scans _queue to find\n    //    notes that need to begin in the next few seconds; then it\n    //    sends those to WebAduio and moves them to _startSet. Because\n    //    scheduled songs can be long, _queue can be large.\n    //\n    // 2. Second is _startSet, which has tones that have been given to\n    //    WebAudio, but whose start times have not yet elapsed. When\n    //    the time advances past the start time of a record, a 'noteon'\n    //    notification is fired for the tone, and it is moved to\n    //    _finishSet.\n    //\n    // 3. _finishSet represents the notes that are currently sounding.\n    //    The programming model for Instrument is that only one tone of\n    //    a specific frequency may be played at once within a Instrument,\n    //    so only one tone of a given frequency may exist in _finishSet\n    //    at once.  When there is a conflict, the sooner-to-end-note\n    //    is truncated.\n    //\n    // 4. After a note is released, it may have a litle release time\n    //    (depending on timbre.release), after which the nodes can\n    //    be totally disconnected and cleaned up.  _cleanupSet holds\n    //    notes for which we are awaiting cleanup.\n\n  }, {\n    key: \"_doPoll\",\n    value: function _doPoll() {\n      this._pollTimer = null;\n      this._now = null;\n\n      if (window.hasOwnProperty(\"interrupted\") && window[\"interrupted\"] === true) {\n        this.silence();\n        return;\n      } // The shortest time we can delay is 1 / 1000 secs, so if an event\n      // is within the next 0.5 ms, now is the closest moment, and we go\n      // ahead and process it.\n\n\n      var instant = this._atop.ac.currentTime + 1 / 2000,\n          callbacks = [],\n          j,\n          work,\n          when,\n          freq,\n          record,\n          conflict,\n          save,\n          cb; // Schedule a batch of notes\n\n      if (this._minQueueTime - instant <= Instrument.bufferSecs) {\n        if (this._unsortedQueue) {\n          this._queue.sort(function (a, b) {\n            if (a.time != b.time) {\n              return a.time - b.time;\n            }\n\n            if (a.duration != b.duration) {\n              return a.duration - b.duration;\n            }\n\n            return a.frequency - b.frequency;\n          });\n\n          this._unsortedQueue = false;\n        }\n\n        for (j = 0; j < this._queue.length; ++j) {\n          if (this._queue[j].time - instant > Instrument.bufferSecs) {\n            break;\n          }\n        }\n\n        if (j > 0) {\n          work = this._queue.splice(0, j);\n\n          for (j = 0; j < work.length; ++j) {\n            this._makeSound(work[j]);\n          }\n\n          this._minQueueTime = this._queue.length > 0 ? this._queue[0].time : Infinity;\n        }\n      } // Disconnect notes from the cleanup set.\n\n\n      for (j = 0; j < this._cleanupSet.length; ++j) {\n        record = this._cleanupSet[j];\n\n        if (record.cleanuptime < instant) {\n          if (record.gainNode) {\n            // This explicit disconnect is needed or else Chrome's WebAudio\n            // starts getting overloaded after a couple thousand notes.\n            record.gainNode.disconnect();\n            record.gainNode = null;\n          }\n\n          this._cleanupSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes finishing.\n\n\n      for (freq in this._finishSet) {\n        record = this._finishSet[freq];\n        when = record.time + record.duration;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 0],\n            f: this._trigger,\n            t: this,\n            a: [\"noteoff\", record]\n          });\n\n          if (record.cleanuptime != Infinity) {\n            this._cleanupSet.push(record);\n          }\n\n          delete this._finishSet[freq];\n        }\n      } // Call any specific one-time callbacks that were registered.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        cb = this._callbackSet[j];\n        when = cb.time;\n\n        if (when <= instant) {\n          callbacks.push({\n            order: [when, 1],\n            f: cb.callback,\n            t: null,\n            a: []\n          });\n\n          this._callbackSet.splice(j, 1);\n\n          j -= 1;\n        }\n      } // Notify about any notes starting.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        if (this._startSet[j].time <= instant) {\n          save = record = this._startSet[j];\n          freq = record.frequency;\n          conflict = null;\n\n          if (this._finishSet.hasOwnProperty(freq)) {\n            // If there is already a note at the same frequency playing,\n            // then release the one that starts first, immediately.\n            conflict = this._finishSet[freq];\n\n            if (conflict.time < record.time || conflict.time == record.time && conflict.duration < record.duration) {\n              // Our new sound conflicts with an old one: end the old one\n              // and notify immediately of its noteoff event.\n              this._truncateSound(conflict, record.time);\n\n              callbacks.push({\n                order: [record.time, 0],\n                f: this._trigger,\n                t: this,\n                a: [\"noteoff\", conflict]\n              });\n              delete this._finishSet[freq];\n            } else {\n              // A conflict from the future has already scheduled,\n              // so our own note shouldn't sound.  Truncate ourselves\n              // immediately, and suppress our own noteon and noteoff.\n              this._truncateSound(record, conflict.time);\n\n              conflict = record;\n            }\n          }\n\n          this._startSet.splice(j, 1);\n\n          j -= 1;\n\n          if (record.duration > 0 && record.velocity > 0 && conflict !== record) {\n            this._finishSet[freq] = record;\n            callbacks.push({\n              order: [record.time, 2],\n              f: this._trigger,\n              t: this,\n              a: [\"noteon\", record]\n            });\n          }\n        }\n      } // Schedule the next _doPoll.\n\n\n      this._startPollTimer(); // Sort callbacks according to the \"order\" tuple, so earlier events\n      // are notified first.\n\n\n      callbacks.sort(function (a, b) {\n        if (a.order[0] != b.order[0]) {\n          return a.order[0] - b.order[0];\n        } // tiebreak by notifying 'noteoff' first and 'noteon' last.\n\n\n        return a.order[1] - b.order[1];\n      }); // At the end, call all the callbacks without depending on \"this\" state.\n\n      for (j = 0; j < callbacks.length; ++j) {\n        cb = callbacks[j];\n        cb.f.apply(cb.t, cb.a);\n      }\n    } // Schedules the next _doPoll call by examining times in the various\n    // sets and determining the soonest event that needs _doPoll processing.\n\n  }, {\n    key: \"_startPollTimer\",\n    value: function _startPollTimer() {\n      var setnow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      // If we have already done a \"setnow\", then pollTimer is zero-timeout\n      // and cannot be faster.\n      if (this._pollTimer && this._now != null) {\n        return;\n      }\n\n      var self = this,\n          poll = function poll() {\n        self._doPoll();\n      },\n          earliest = Infinity,\n          j,\n          delay;\n\n      if (this._pollTimer) {\n        // Clear any old timer\n        clearTimeout(this._pollTimer);\n        this._pollTimer = null;\n      }\n\n      if (setnow) {\n        // When scheduling tones, cache _now and keep a zero-timeout poll.\n        // _now will be cleared the next time we execute _doPoll.\n        this._now = Utils.audioCurrentStartTime();\n        this._pollTimer = setTimeout(poll, 0);\n        return;\n      } // Timer due to notes starting: wake up for 'noteon' notification.\n\n\n      for (j = 0; j < this._startSet.length; ++j) {\n        earliest = Math.min(earliest, this._startSet[j].time);\n      } // Timer due to notes finishing: wake up for 'noteoff' notification.\n\n\n      for (j in this._finishSet) {\n        earliest = Math.min(earliest, this._finishSet[j].time + this._finishSet[j].duration);\n      } // Timer due to scheduled callback.\n\n\n      for (j = 0; j < this._callbackSet.length; ++j) {\n        earliest = Math.min(earliest, this._callbackSet[j].time);\n      } // Timer due to cleanup: add a second to give some time to batch up.\n\n\n      if (this._cleanupSet.length > 0) {\n        earliest = Math.min(earliest, this._cleanupSet[0].cleanuptime + 1);\n      } // Timer due to sequencer events: subtract a little time to stay ahead.\n\n\n      earliest = Math.min(earliest, this._minQueueTime - Instrument.dequeueTime);\n      delay = Math.max(0.001, earliest - this._atop.ac.currentTime); // If there are no future events, then we do not need a timer.\n\n      if (isNaN(delay) || delay == Infinity) {\n        return;\n      } // Use the Javascript timer to wake up at the right moment.\n\n\n      this._pollTimer = setTimeout(poll, Math.round(delay * 1000));\n    } // The low-level tone function.\n\n  }, {\n    key: \"tone\",\n    value: function tone(pitch, duration, velocity, delay, timbre, origin) {\n      // If audio is not present, this is a no-op.\n      if (!this._atop) {\n        return;\n      } // Called with an object instead of listed args.\n\n\n      if (typeof pitch == \"object\") {\n        if (velocity == null) velocity = pitch.velocity;\n        if (duration == null) duration = pitch.duration;\n        if (delay == null) delay = pitch.delay;\n        if (timbre == null) timbre = pitch.timbre;\n        if (origin == null) origin = pitch.origin;\n        pitch = pitch.pitch;\n      } // Convert pitch from various formats to Hz frequency and a midi num.\n\n\n      var midi, frequency;\n\n      if (!pitch) {\n        pitch = \"C\";\n      }\n\n      if (isNaN(pitch)) {\n        midi = Utils.pitchToMidi(pitch);\n        frequency = Utils.midiToFrequency(midi);\n      } else {\n        frequency = Number(pitch);\n\n        if (frequency < 0) {\n          midi = -frequency;\n          frequency = Utils.midiToFrequency(midi);\n        } else {\n          midi = Utils.frequencyToMidi(frequency);\n        }\n      }\n\n      if (!timbre) {\n        timbre = this._timbre;\n      } // If there is a custom timbre, validate and copy it.\n\n\n      if (timbre !== this._timbre) {\n        var given = timbre,\n            key;\n        timbre = {};\n\n        for (key in Utils.defaultTimbre) {\n          if (key in given) {\n            timbre[key] = given[key];\n          } else {\n            timbre[key] = Utils.defaultTimbre[key]; // RONYEH: There was a typo bug in the original Musical.js. It was caught by our TypeScript compiler.\n          }\n        }\n      } // Create the record for a tone.\n\n\n      var ac = this._atop.ac,\n          now = this.now(),\n          time = now + (delay || 0),\n          record = {\n        time: time,\n        on: false,\n        frequency: frequency,\n        midi: midi,\n        velocity: velocity == null ? 1 : velocity,\n        duration: duration == null ? Instrument.toneLength : duration,\n        timbre: timbre,\n        instrument: this,\n        gainNode: null,\n        oscillators: null,\n        cleanuptime: Infinity,\n        origin: origin // save the origin of the tone for visible feedback\n\n      };\n\n      if (time < now + Instrument.bufferSecs) {\n        // The tone starts soon!  Give it directly to WebAudio.\n        this._makeSound(record);\n      } else {\n        // The tone is later: queue it.\n        if (!this._unsortedQueue && this._queue.length && time < this._queue[this._queue.length - 1].time) {\n          this._unsortedQueue = true;\n        }\n\n        this._queue.push(record);\n\n        this._minQueueTime = Math.min(this._minQueueTime, record.time);\n      }\n    } // The low-level callback scheduling method.\n\n  }, {\n    key: \"schedule\",\n    value: function schedule(delay, callback) {\n      this._callbackSet.push({\n        time: this.now() + delay,\n        callback: callback\n      });\n    } // The high-level sequencing method.\n\n  }, {\n    key: \"play\",\n    value: function play(abcstring) {\n      var args = Array.prototype.slice.call(arguments),\n          done = null,\n          opts = {},\n          subfile,\n          abcfile,\n          argindex,\n          tempo,\n          timbre,\n          k,\n          delay,\n          maxdelay = 0,\n          attenuate,\n          voicename,\n          stems,\n          ni,\n          vn,\n          j,\n          stem,\n          note,\n          beatsecs,\n          secs,\n          v,\n          files = []; // Look for continuation as last argument.\n\n      if (args.length && \"function\" == typeof args[args.length - 1]) {\n        done = args.pop();\n      }\n\n      if (!this._atop) {\n        if (done) {\n          done();\n        }\n\n        return;\n      } // Look for options as first object.\n\n\n      argindex = 0;\n\n      if (\"object\" == typeof args[0]) {\n        // Copy own properties into an options object.\n        for (k in args[0]) {\n          if (args[0].hasOwnProperty(k)) {\n            opts[k] = args[0][k];\n          }\n        }\n\n        argindex = 1; // If a song is supplied by options object, process it.\n\n        if (opts.hasOwnProperty(\"song\")) {\n          args.push(opts[\"song\"]);\n        }\n      } // Parse any number of ABC files as input.\n\n\n      for (; argindex < args.length; ++argindex) {\n        // Handle splitting of ABC subfiles at X: lines.\n        subfile = args[argindex].split(/\\n(?=X:)/);\n\n        for (k = 0; k < subfile.length; ++k) {\n          abcfile = parseABCFile(subfile[k]);\n          if (!abcfile) continue; // Take tempo markings from the first file, and share them.\n\n          if (!opts.hasOwnProperty(\"tempo\") && abcfile.tempo) {\n            opts[\"tempo\"] = abcfile.tempo;\n\n            if (abcfile.unitbeat) {\n              opts[\"tempo\"] = opts[\"tempo\"] * abcfile.unitbeat / (abcfile.unitnote || 1);\n            }\n          } // Ignore files without songs.\n\n\n          if (!abcfile.voice) continue;\n          files.push(abcfile);\n        }\n      } // Default tempo to 120 if nothing else is specified.\n\n\n      if (!opts.hasOwnProperty(\"tempo\")) {\n        opts[\"tempo\"] = 120;\n      } // Default volume to 1 if nothing is specified.\n\n\n      if (!opts.hasOwnProperty(\"volume\")) {\n        opts[\"volume\"] = 1;\n      }\n\n      beatsecs = 60.0 / opts[\"tempo\"]; // Schedule all notes from all the files.\n\n      for (k = 0; k < files.length; ++k) {\n        abcfile = files[k]; // Each file can have multiple voices (e.g., left and right hands)\n\n        for (vn in abcfile.voice) {\n          // Each voice could have a separate timbre.\n          timbre = Utils.makeTimbre(opts[\"timbre\"] || abcfile.voice[vn].timbre || abcfile.timbre || this._timbre, this._atop); // Each voice has a series of stems (notes or chords).\n\n          stems = abcfile.voice[vn].stems;\n          if (!stems) continue; // Starting at delay zero (now), schedule all tones.\n\n          delay = 0;\n\n          for (ni = 0; ni < stems.length; ++ni) {\n            stem = stems[ni]; // Attenuate chords to reduce clipping.\n\n            attenuate = 1 / Math.sqrt(stem.notes.length); // Schedule every note inside a stem.\n\n            for (j = 0; j < stem.notes.length; ++j) {\n              note = stem.notes[j];\n\n              if (note.holdover) {\n                // Skip holdover notes from ties.\n                continue;\n              }\n\n              secs = (note.time || stem.time) * beatsecs;\n\n              if (stem.staccato) {\n                // Shorten staccato notes.\n                secs = Math.min(Math.min(secs, beatsecs / 16), timbre.attack + timbre.decay);\n              } else if (!note.slurred && secs >= 1 / 8) {\n                // Separate unslurred notes by about a 30th of a second.\n                secs -= 1 / 32;\n              }\n\n              v = (note.velocity || 1) * attenuate * opts[\"volume\"]; // This is innsermost part of the inner loop!\n\n              this.tone( // Play the tone:\n              note.pitch, // at the given pitch\n              secs, // for the given duration\n              v, // with the given volume\n              delay, // starting at the proper time\n              timbre, // with the selected timbre\n              note // the origin object for visual feedback\n              );\n            }\n\n            delay += stem.time * beatsecs; // Advance the sequenced time.\n          }\n\n          maxdelay = Math.max(delay, maxdelay);\n        }\n      }\n\n      this._maxScheduledTime = Math.max(this._maxScheduledTime, this.now() + maxdelay);\n\n      if (done) {\n        // Schedule a \"done\" callback after all sequencing is complete.\n        this.schedule(maxdelay, done);\n      }\n    }\n  }]);\n\n  return Instrument;\n}(); //\n// END INSTRUMENT\n//////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////\n// Musical JS\n\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"timeOffset\", 0.0625);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"dequeueTime\", 0.5);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"bufferSecs\", 2);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"toneLength\", 1);\n\nObject(_Users_ronyeh_Code_S_Web_squarepoet_github_io_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Instrument, \"cleanupDelay\", 0.1);\n\nvar _Instrument = Instrument;\nvar _parseABCFile = parseABCFile;\nvar Musical;\n\n(function (_Musical) {\n  var parseABCFile = _Musical.parseABCFile = _parseABCFile;\n})(Musical || (Musical = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Musical);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwcy9zaGFyZWQvc291bmQvTXVzaWNhbC50cz8wN2IxIl0sIm5hbWVzIjpbIm1ha2VXYXZldGFibGUiLCJhYyIsIndhdmVkYXRhIiwibWFrZVBlcmlvZGljV2F2ZSIsImRhdGEiLCJuIiwicmVhbCIsImxlbmd0aCIsIkZsb2F0MzJBcnJheSIsImltYWciLCJqIiwiY3JlYXRlUGVyaW9kaWNXYXZlIiwiZSIsImNyZWF0ZVdhdmVUYWJsZSIsIm1ha2VNdWx0aXBsZSIsIm11bHQiLCJhbXQiLCJyZXN1bHQiLCJtIiwiTWF0aCIsImxvZyIsIm1pbiIsInB1c2giLCJleHAiLCJrIiwiZCIsImZmIiwicmVjb3JkIiwid2F2ZSIsInB3IiwiZnJlcSIsImRlZnMiLCJwaWFubyIsImdhaW4iLCJhdHRhY2siLCJkZWNheSIsInN1c3RhaW4iLCJyZWxlYXNlIiwiZGVjYXlmb2xsb3ciLCJjdXRvZmYiLCJjdXRmb2xsb3ciLCJyZXNvbmFuY2UiLCJkZXR1bmUiLCJVdGlscyIsImdsb2JhbCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIl9hdWRpb1RvcCIsImlzQXVkaW9QcmVzZW50Iiwid2F2ZXRhYmxlIiwib3V0IiwiY3VycmVudFN0YXJ0IiwicmVzZXRBdWRpbyIsImF0b3AiLCJkaXNjb25uZWN0IiwiZGNuIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwicmF0aW8iLCJzZXRWYWx1ZUF0VGltZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImdldEF1ZGlvVG9wIiwibWF4IiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwibWlkaSIsInBvdyIsInJvdW5kIiwiTE4yIiwicGl0Y2giLCJleGVjIiwib2N0YXZlIiwicmVwbGFjZSIsInNlbWl0b25lIiwibm90ZU51bSIsImFjY1N5bSIsImNoYXJBdCIsImluZGV4Iiwib2N0YXZlcyIsIm5vdGVOYW1lIiwibWlkaVRvRnJlcXVlbmN5IiwicGl0Y2hUb01pZGkiLCJvcHRpb25zIiwia2V5Iiwid3QiLCJkZWZhdWx0VGltYnJlIiwiaGFzT3duUHJvcGVydHkiLCJ3aGl0ZU5vaXNlQnVmIiwiYnVmZmVyU2l6ZSIsInNhbXBsZVJhdGUiLCJjcmVhdGVCdWZmZXIiLCJvdXRwdXQiLCJnZXRDaGFubmVsRGF0YSIsImkiLCJyYW5kb20iLCJ3YXZlbmFtZSIsIndoaXRlTm9pc2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJnZXRXaGl0ZU5vaXNlQnVmIiwibG9vcCIsIm8iLCJjcmVhdGVPc2NpbGxhdG9yIiwicHdhdmUiLCJid2YiLCJ3ZiIsIk51bWJlciIsInNldFBlcmlvZGljV2F2ZSIsInNldFdhdmVUYWJsZSIsInR5cGUiLCJ3aW5kb3ciLCJjb25zb2xlIiwiZnJlcXVlbmN5Iiwic2V0VGFyZ2V0QXRUaW1lIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJBIiwiQiIsImMiLCJmIiwiZyIsImEiLCJiIiwiXyIsIkFCQ2hlYWRlciIsIkFCQ3Rva2VuIiwicGFyc2VBQkNGaWxlIiwic3RyIiwibGluZXMiLCJzcGxpdCIsImNvbnRleHQiLCJ0aW1icmUiLCJoZWFkZXIiLCJzdGVtcyIsImFjY2VudCIsInNsdXJyZWQiLCJ2b2ljZWlkIiwiaGFuZGxlSW5mb3JtYXRpb24iLCJ0cmltIiwidGVzdCIsInBhcnNlQUJDTm90ZXMiLCJpbmZlciIsInZvaWNlIiwicHJvY2Vzc1RpZXMiLCJmaWVsZCIsInZhbHVlIiwic3RhcnRWb2ljZUNvbnRleHQiLCJwYXJzZU1ldGVyIiwicGFyc2VVbml0Tm90ZSIsInBhcnNlVGVtcG8iLCJrZXlzaWciLCJmaXJzdFZvaWNlTmFtZSIsImlkIiwiViIsInRva2VucyIsIm1hdGNoIiwicGFyc2VkIiwiZG90dGVkIiwiYmVhdGxldCIsInQiLCJzdWJzdHJpbmciLCJwYXJzZUJlYXRsZXQiLCJwYXJzZURlY29yYXRpb24iLCJzbHVyU3RlbSIsInBhcnNlU3RlbSIsInNjYWxlU3RlbSIsInN0ZW0iLCJ0aW1lIiwiY291bnQiLCJzeW5jb3BhdGVTdGVtIiwibWxpbmUiLCJiZWF0aW5mbyIsImR1cmF0aW9uVG9UaW1lIiwidW5pdG5vdGUiLCJsbGluZSIsInFsaW5lIiwicGFydHMiLCJ1bml0IiwidGVtcG8iLCJpbmRleE9mIiwidW5pdGJlYXQiLCJ0aWVkIiwibmV4dFRpZWQiLCJub3RlIiwiZmlyc3ROb3RlIiwibm90ZXMiLCJob2xkb3ZlciIsInRpZSIsImFjY2lkZW50YWxzIiwic2hhcnBzIiwia2V5bmFtZSIsImtrZXkiLCJzaWdjb2RlcyIsImJiIiwiZWIiLCJhYiIsImRiIiwiZ2IiLCJjYiIsImJtIiwiZW0iLCJhbSIsImRtIiwiZ20iLCJjbSIsImZtIiwiYmJtIiwiZWJtIiwiYWJtIiwiYm1peCIsImVtaXgiLCJhbWl4IiwiZG1peCIsImdtaXgiLCJjbWl4IiwiZm1peCIsImJibWl4IiwiZWJtaXgiLCJhYm1peCIsImRibWl4IiwiZ2JtaXgiLCJiZG9yIiwiZWRvciIsImFkb3IiLCJkZG9yIiwiZ2RvciIsImNkb3IiLCJmZG9yIiwiYmJkb3IiLCJlYmRvciIsImFiZG9yIiwiZGJkb3IiLCJicGhyIiwiZXBociIsImFwaHIiLCJkcGhyIiwiZ3BociIsImNwaHIiLCJmcGhyIiwiYmJwaHIiLCJlYnBociIsImJseWQiLCJlbHlkIiwiYWx5ZCIsImRseWQiLCJnbHlkIiwiY2x5ZCIsImZseWQiLCJiYmx5ZCIsImVibHlkIiwiYWJseWQiLCJkYmx5ZCIsImdibHlkIiwiY2JseWQiLCJmYmx5ZCIsImJsb2MiLCJlbG9jIiwiYWxvYyIsImRsb2MiLCJnbG9jIiwiY2xvYyIsImZsb2MiLCJiYmxvYyIsInRvTG93ZXJDYXNlIiwic3Vic3RyIiwic2NhbGUiLCJleHRyYXMiLCJ0b1VwcGVyQ2FzZSIsInN0ZW10aW1lIiwibmV3dGltZSIsImFkZFNsdXIiLCJzIiwidG9rZW4iLCJiZWF0cyIsImR1cmF0aW9uIiwiZHluYW1pY3MiLCJzdGFjY2F0byIsIm5vdGVEdXJhdGlvbiIsIm5vdGVUaW1lIiwidmVsb2NpdHkiLCJsYXN0Tm90ZSIsIm1pblN0ZW1UaW1lIiwiSW5maW5pdHkiLCJhcHBseUFjY2VudCIsInBpdGNoVG9GcmVxdWVuY3kiLCJzdHJpcE5hdHVyYWwiLCJsZXR0ZXIiLCJpbGVuIiwicGFyc2VGbG9hdCIsIkluc3RydW1lbnQiLCJtaWRpVG9QaXRjaCIsIl9hdG9wIiwiX3RpbWJyZSIsIm1ha2VUaW1icmUiLCJfcXVldWUiLCJfbWluUXVldWVUaW1lIiwiX21heFNjaGVkdWxlZFRpbWUiLCJfdW5zb3J0ZWRRdWV1ZSIsIl9zdGFydFNldCIsIl9maW5pc2hTZXQiLCJfY2xlYW51cFNldCIsIl9jYWxsYmFja1NldCIsIl9oYW5kbGVycyIsIl9ub3ciLCJzaWxlbmNlIiwidiIsIl9vdXQiLCJpc05hTiIsImZpbmlzaGVkIiwiY2FsbGJhY2tzIiwiaW5pdHZvbHVtZSIsImNyZWF0ZUdhaW4iLCJfdHJpZ2dlciIsImNhbGxiYWNrIiwiX3N0YXJ0UG9sbFRpbWVyIiwiZXZlbnRuYW1lIiwiaHVudCIsInNwbGljZSIsInNsaWNlIiwic3RhcnR0aW1lIiwidGltZU9mZnNldCIsInJlbGVhc2V0aW1lIiwiYXR0YWNrdGltZSIsImRlY2F5dGltZSIsImRlY2F5c3RhcnR0aW1lIiwic3RvcHRpbWUiLCJkb3VibGVkIiwiYW1wIiwibzIiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsIlEiLCJtYWtlT3NjaWxsYXRvciIsInN0YXJ0Iiwic3RvcCIsImdhaW5Ob2RlIiwib3NjaWxsYXRvcnMiLCJjbGVhbnVwdGltZSIsInRydW5jYXRldGltZSIsImNsZWFudXBEZWxheSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsIl9wb2xsVGltZXIiLCJpbnN0YW50Iiwid29yayIsIndoZW4iLCJjb25mbGljdCIsInNhdmUiLCJidWZmZXJTZWNzIiwic29ydCIsIl9tYWtlU291bmQiLCJvcmRlciIsIl90cnVuY2F0ZVNvdW5kIiwiYXBwbHkiLCJzZXRub3ciLCJzZWxmIiwicG9sbCIsIl9kb1BvbGwiLCJlYXJsaWVzdCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9DdXJyZW50U3RhcnRUaW1lIiwiZGVxdWV1ZVRpbWUiLCJvcmlnaW4iLCJmcmVxdWVuY3lUb01pZGkiLCJnaXZlbiIsIm5vdyIsIm9uIiwidG9uZUxlbmd0aCIsImluc3RydW1lbnQiLCJhYmNzdHJpbmciLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXJndW1lbnRzIiwiZG9uZSIsIm9wdHMiLCJzdWJmaWxlIiwiYWJjZmlsZSIsImFyZ2luZGV4IiwibWF4ZGVsYXkiLCJhdHRlbnVhdGUiLCJ2b2ljZW5hbWUiLCJuaSIsInZuIiwiYmVhdHNlY3MiLCJzZWNzIiwiZmlsZXMiLCJwb3AiLCJzcXJ0IiwidG9uZSIsInNjaGVkdWxlIiwiX0luc3RydW1lbnQiLCJfcGFyc2VBQkNGaWxlIiwiTXVzaWNhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFVQyxFQUFWLEVBQWM7QUFDaEMsU0FBUSxVQUFVQyxRQUFWLEVBQW9CO0FBQ3hCLGFBQVNDLGdCQUFULENBQTBCQyxJQUExQixFQUFnQztBQUM1QixVQUFJQyxDQUFDLEdBQUdELElBQUksQ0FBQ0UsSUFBTCxDQUFVQyxNQUFsQjtBQUFBLFVBQ0lELElBQUksR0FBRyxJQUFJRSxZQUFKLENBQWlCSCxDQUFqQixDQURYO0FBQUEsVUFFSUksSUFBSSxHQUFHLElBQUlELFlBQUosQ0FBaUJILENBQWpCLENBRlg7QUFBQSxVQUdJSyxDQUhKOztBQUlBLFdBQUtBLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR0wsQ0FBaEIsRUFBbUIsRUFBRUssQ0FBckIsRUFBd0I7QUFDcEJKLFlBQUksQ0FBQ0ksQ0FBRCxDQUFKLEdBQVVOLElBQUksQ0FBQ0UsSUFBTCxDQUFVSSxDQUFWLENBQVY7QUFDQUQsWUFBSSxDQUFDQyxDQUFELENBQUos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QSxhQUFLZ0IsUUFBTCxDQUFjWCxRQUFkLEVBQXdCTCxJQUF4QjtBQUNIO0FBQ0o7Ozs7S0FHTDtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7d0pBbHhCTXRGLFUsZ0JBQ2tCLE07O3dKQURsQkEsVSxpQkFFbUIsRzs7d0pBRm5CQSxVLGdCQUdrQixDOzt3SkFIbEJBLFUsZ0JBSWtCLEM7O3dKQUpsQkEsVSxrQkFLb0IsRzs7QUErd0IxQixJQUFNdUcsV0FBVyxHQUFHdkcsVUFBcEI7QUFDQSxJQUFNd0csYUFBYSxHQUFHM1EsWUFBdEI7Ozs7QUFJVyxNQUFNQSxZQUFZLDJCQUFHMlEsYUFBckI7R0FGREMsTyxLQUFBQSxPOztBQUtLQSxzRUFBZiIsImZpbGUiOiIuL2FwcHMvc2hhcmVkL3NvdW5kL011c2ljYWwudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtdXNpY2FsLmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vUGVuY2lsQ29kZS9tdXNpY2FsLmpzXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXQVZFVEFCTEUtQlVJTERFUlxuXG4vLyB3YXZldGFibGUgaXMgYSB0YWJsZSBvZiBuYW1lcyBmb3Igbm9uc3RhbmRhcmQgd2F2ZWZvcm1zLlxuLy8gVGhlIHRhYmxlIG1hcHMgbmFtZXMgdG8gb2JqZWN0cyB0aGF0IGhhdmUgd2F2ZTogYW5kIGZyZXE6XG4vLyBwcm9wZXJ0aWVzLiBUaGUgd2F2ZTogcHJvcGVydHkgaXMgYSBQZXJpb2RpY1dhdmUgdG8gdXNlXG4vLyBmb3IgdGhlIG9zY2lsbGF0b3IuICBUaGUgZnJlcTogcHJvcGVydHksIGlmIHByZXNlbnQsXG4vLyBpcyBhIG1hcCBmcm9tIGhpZ2hlciBmcmVxdWVuY2llcyB0byBtb3JlIFBlcmlvZGljV2F2ZVxuLy8gb2JqZWN0czsgd2hlbiBhIGZyZXF1ZW5jeSBoaWdoZXIgdGhhbiB0aGUgZ2l2ZW4gdGhyZXNob2xkXG4vLyBpcyByZXF1ZXN0ZWQsIHRoZSBhbHRlcm5hdGUgUGVyaW9kaWNXYXZlIGlzIHVzZWQuXG5cbmNvbnN0IG1ha2VXYXZldGFibGUgPSBmdW5jdGlvbiAoYWMpIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uICh3YXZlZGF0YSkge1xuICAgICAgICBmdW5jdGlvbiBtYWtlUGVyaW9kaWNXYXZlKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBuID0gZGF0YS5yZWFsLmxlbmd0aCxcbiAgICAgICAgICAgICAgICByZWFsID0gbmV3IEZsb2F0MzJBcnJheShuKSxcbiAgICAgICAgICAgICAgICBpbWFnID0gbmV3IEZsb2F0MzJBcnJheShuKSxcbiAgICAgICAgICAgICAgICBqO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIHJlYWxbal0gPSBkYXRhLnJlYWxbal07XG4gICAgICAgICAgICAgICAgaW1hZ1tqXSA9IGRhdGEuaW1hZ1tqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gTGF0ZXN0IEFQSSBuYW1pbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjLmNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEVhcmxpZXIgQVBJIG5hbWluZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gYWMuY3JlYXRlV2F2ZVRhYmxlKHJlYWwsIGltYWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VNdWx0aXBsZShkYXRhLCBtdWx0LCBhbXQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7IHJlYWw6IFtdLCBpbWFnOiBbXSB9LFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbiA9IGRhdGEucmVhbC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICBtID0gTWF0aC5sb2cobXVsdFtNYXRoLm1pbihqLCBtdWx0Lmxlbmd0aCAtIDEpXSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlYWwucHVzaChkYXRhLnJlYWxbal0gKiBNYXRoLmV4cChhbXQgKiBtKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmltYWcucHVzaChkYXRhLmltYWdbal0gKiBNYXRoLmV4cChhbXQgKiBtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgbixcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBmZixcbiAgICAgICAgICAgIHJlY29yZCxcbiAgICAgICAgICAgIHdhdmUsXG4gICAgICAgICAgICBwdztcbiAgICAgICAgZm9yIChrIGluIHdhdmVkYXRhKSB7XG4gICAgICAgICAgICBkID0gd2F2ZWRhdGFba107XG4gICAgICAgICAgICB3YXZlID0gbWFrZVBlcmlvZGljV2F2ZShkKTtcbiAgICAgICAgICAgIGlmICghd2F2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkID0geyB3YXZlOiB3YXZlIH07XG4gICAgICAgICAgICAvLyBBIHN0cmF0ZWd5IGZvciBjb21wdXRpbmcgaGlnaGVyIGZyZXF1ZW5jeSB3YXZlZm9ybXM6IGFwcGx5XG4gICAgICAgICAgICAvLyBtdWx0aXBsaWVycyB0byBlYWNoIGhhcm1vbmljIGFjY29yZGluZyB0byBkLm11bHQuICBUaGVzZVxuICAgICAgICAgICAgLy8gbXVsdGlwbGllcnMgY2FuIGJlIGludGVycG9sYXRlZCBhbmQgYXBwbGllZCBhdCBhbnkgbnVtYmVyXG4gICAgICAgICAgICAvLyBvZiB0cmFuc2l0aW9uIGZyZXF1ZW5jaWVzLlxuICAgICAgICAgICAgaWYgKGQubXVsdCkge1xuICAgICAgICAgICAgICAgIGZmID0gd2F2ZWRhdGFba10uZnJlcTtcbiAgICAgICAgICAgICAgICByZWNvcmQuZnJlcSA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBmZi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB3YXZlID0gbWFrZVBlcmlvZGljV2F2ZShtYWtlTXVsdGlwbGUoZCwgZC5tdWx0LCAoaiArIDEpIC8gZmYubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuZnJlcVtmZltqXV0gPSB3YXZlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyB3YXZlIGhhcyBzb21lIGRlZmF1bHQgZmlsdGVyIHNldHRpbmdzLlxuICAgICAgICAgICAgaWYgKGQuZGVmcykge1xuICAgICAgICAgICAgICAgIHJlY29yZC5kZWZzID0gZC5kZWZzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W2tdID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkoe1xuICAgICAgICAvLyBDdXJyZW50bHkgdGhlIG9ubHkgbm9uc3RhbmRhcmQgd2F2ZWZvcm0gaXMgXCJwaWFub1wiLlxuICAgICAgICAvLyBJdCBpcyBiYXNlZCBvbiB0aGUgZmlyc3QgMzIgaGFybW9uaWNzIGZyb20gdGhlIGV4YW1wbGU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLWF1ZGlvLXNhbXBsZXNcbiAgICAgICAgLy8gL2Jsb2IvZ2gtcGFnZXMvc2FtcGxlcy9hdWRpby93YXZlLXRhYmxlcy9QaWFub1xuICAgICAgICAvLyBUaGF0IGlzIGEgdGVycmlmaWMgc291bmQgZm9yIHRoZSBsb3dlc3QgcGlhbm8gdG9uZXMuXG4gICAgICAgIC8vIEZvciBoaWdoZXIgdG9uZXMsIGludGVycG9sYXRlIHRvIGEgY3VzdG9temVkIHdhdmVcbiAgICAgICAgLy8gc2hhcGUgY3JlYXRlZCBieSBoYW5kLCBhbmQgYXBwbHkgYSBsb3dwYXNzIGZpbHRlci5cbiAgICAgICAgcGlhbm86IHtcbiAgICAgICAgICAgIHJlYWw6IFtcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgLTAuMjAzNTY5LFxuICAgICAgICAgICAgICAgIDAuNSxcbiAgICAgICAgICAgICAgICAtMC40MDE2NzYsXG4gICAgICAgICAgICAgICAgMC4xMzcxMjgsXG4gICAgICAgICAgICAgICAgLTAuMTA0MTE3LFxuICAgICAgICAgICAgICAgIDAuMTE1OTY1LFxuICAgICAgICAgICAgICAgIC0wLjAwNDQxMyxcbiAgICAgICAgICAgICAgICAwLjA2Nzg4NCxcbiAgICAgICAgICAgICAgICAtMC4wMDg4OCxcbiAgICAgICAgICAgICAgICAwLjA3OTMsXG4gICAgICAgICAgICAgICAgLTAuMDM4NzU2LFxuICAgICAgICAgICAgICAgIDAuMDExODgyLFxuICAgICAgICAgICAgICAgIC0wLjAzMDg4MyxcbiAgICAgICAgICAgICAgICAwLjAyNzYwOCxcbiAgICAgICAgICAgICAgICAtMC4wMTM0MjksXG4gICAgICAgICAgICAgICAgMC4wMDM5MyxcbiAgICAgICAgICAgICAgICAtMC4wMTQwMjksXG4gICAgICAgICAgICAgICAgMC4wMDk3MixcbiAgICAgICAgICAgICAgICAtMC4wMDc2NTMsXG4gICAgICAgICAgICAgICAgMC4wMDc4NjYsXG4gICAgICAgICAgICAgICAgLTAuMDMyMDI5LFxuICAgICAgICAgICAgICAgIDAuMDQ2MTI3LFxuICAgICAgICAgICAgICAgIC0wLjAyNDE1NSxcbiAgICAgICAgICAgICAgICAwLjAyMzA5NSxcbiAgICAgICAgICAgICAgICAtMC4wMDU1MjIsXG4gICAgICAgICAgICAgICAgMC4wMDQ1MTEsXG4gICAgICAgICAgICAgICAgLTAuMDAzNTkzLFxuICAgICAgICAgICAgICAgIDAuMDExMjQ4LFxuICAgICAgICAgICAgICAgIC0wLjAwNDkxOSxcbiAgICAgICAgICAgICAgICAwLjAwODUwNSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbWFnOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLjE0NzYyMSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA3LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAxLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNixcbiAgICAgICAgICAgICAgICAwLjAwMDAwOSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAuMDAwMDA4LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwMSxcbiAgICAgICAgICAgICAgICAwLjAwMDAxNCxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDgsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDMsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA5LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA5LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNSxcbiAgICAgICAgICAgICAgICAwLjAwMDAwMixcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgMC4wMDAwMDUsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAyMyxcbiAgICAgICAgICAgICAgICAwLjAwMDAzNyxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMjEsXG4gICAgICAgICAgICAgICAgMC4wMDAwMjIsXG4gICAgICAgICAgICAgICAgLTAuMDAwMDA2LFxuICAgICAgICAgICAgICAgIDAuMDAwMDA1LFxuICAgICAgICAgICAgICAgIC0wLjAwMDAwNCxcbiAgICAgICAgICAgICAgICAwLjAwMDAxNCxcbiAgICAgICAgICAgICAgICAtMC4wMDAwMDcsXG4gICAgICAgICAgICAgICAgMC4wMDAwMTIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gSG93IHRvIGFkanVzdCB0aGUgaGFybW9uaWNzIGZvciB0aGUgaGlnZXN0IG5vdGVzLlxuICAgICAgICAgICAgbXVsdDogWzEsIDEsIDAuMTgsIDAuMDE2LCAwLjAxLCAwLjAxLCAwLjAxLCAwLjAwNCwgMC4wMTQsIDAuMDIsIDAuMDE0LCAwLjAwNCwgMC4wMDIsIDAuMDAwMDFdLFxuICAgICAgICAgICAgLy8gVGhlIGZyZXF1ZW5jaWVzIGF0IHdoaWNoIHRvIGludGVycG9sYXRlIHRoZSBoYXJtb25pY3MuXG4gICAgICAgICAgICBmcmVxOiBbNjUsIDgwLCAxMDAsIDEzNSwgMTgwLCAyNDAsIDYyMCwgMTM2MF0sXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MgdG8gdXNlIGZvciB0aGUgcGlhbm8gd2F2ZS5cbiAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgYXBwcm9hY2ggYXR0ZW51YXRlcyBsb3cgbm90ZXMgdG9vIG11Y2ggLVxuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgYmUgZml4ZWQuXG4gICAgICAgICAgICBkZWZzOiB7IHdhdmU6IFwicGlhbm9cIiwgZ2FpbjogMC41LCBhdHRhY2s6IDAuMDAyLCBkZWNheTogMC4yNSwgc3VzdGFpbjogMC4wMywgcmVsZWFzZTogMC4xLCBkZWNheWZvbGxvdzogMC43LCBjdXRvZmY6IDgwMCwgY3V0Zm9sbG93OiAwLjEsIHJlc29uYW5jZTogMSwgZGV0dW5lOiAwLjk5OTQgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbi8vIEVORCBXQVZFVEFCTEUtQlVJTERFUlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFVUSUxTXG5cbmNsYXNzIFV0aWxzIHtcbiAgICAvLyBUZXN0cyBmb3IgdGhlIHByZXNlbmNlIG9mIEhUTUw1IFdlYiBBdWRpbyAob3Igd2Via2l0J3MgdmVyc2lvbikuXG4gICAgc3RhdGljIGlzQXVkaW9QcmVzZW50KCkge1xuICAgICAgICByZXR1cm4gISEoZ2xvYmFsLkF1ZGlvQ29udGV4dCB8fCBnbG9iYWwud2Via2l0QXVkaW9Db250ZXh0KTtcbiAgICB9XG5cbiAgICAvLyBBbGwgb3VyIGF1ZGlvIGZ1bm5lbHMgdGhyb3VnaCB0aGUgc2FtZSBBdWRpb0NvbnRleHQgd2l0aCBhXG4gICAgLy8gRHluYW1pY3NDb21wcmVzc29yTm9kZSB1c2VkIGFzIHRoZSBtYWluIG91dHB1dCwgdG8gY29tcHJlc3MgdGhlXG4gICAgLy8gZHluYW1pYyByYW5nZSBvZiBhbGwgYXVkaW8uICBnZXRBdWRpb1RvcCBzZXRzIHRoaXMgdXAuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2F1ZGlvVG9wID0gbnVsbDtcbiAgICBzdGF0aWMgZ2V0QXVkaW9Ub3AoKSB7XG4gICAgICAgIGlmIChVdGlscy5fYXVkaW9Ub3ApIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5fYXVkaW9Ub3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFVdGlscy5pc0F1ZGlvUHJlc2VudCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWMgPSBuZXcgKGdsb2JhbC5BdWRpb0NvbnRleHQgfHwgZ2xvYmFsLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcbiAgICAgICAgVXRpbHMuX2F1ZGlvVG9wID0ge1xuICAgICAgICAgICAgYWM6IGFjLFxuICAgICAgICAgICAgd2F2ZXRhYmxlOiBtYWtlV2F2ZXRhYmxlKGFjKSxcbiAgICAgICAgICAgIG91dDogbnVsbCxcbiAgICAgICAgICAgIGN1cnJlbnRTdGFydDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgVXRpbHMucmVzZXRBdWRpbygpO1xuICAgICAgICByZXR1cm4gVXRpbHMuX2F1ZGlvVG9wO1xuICAgIH1cblxuICAgIC8vIFdoZW4gYXVkaW8gbmVlZHMgdG8gYmUgaW50ZXJydXB0ZWQgZ2xvYmFsbHkgKGUuZy4sIHdoZW4geW91IHByZXNzIHRoZVxuICAgIC8vIHN0b3AgYnV0dG9uIGluIHRoZSBJREUpLCByZXNldEF1ZGlvIGRvZXMgdGhlIGpvYi5cbiAgICBzdGF0aWMgcmVzZXRBdWRpbygpIHtcbiAgICAgICAgaWYgKFV0aWxzLl9hdWRpb1RvcCkge1xuICAgICAgICAgICAgdmFyIGF0b3AgPSBVdGlscy5fYXVkaW9Ub3A7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSB0b3AtbGV2ZWwgbm9kZSBhbmQgbWFrZSBhIG5ldyBvbmUuXG4gICAgICAgICAgICBpZiAoYXRvcC5vdXQpIHtcbiAgICAgICAgICAgICAgICBhdG9wLm91dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYXRvcC5vdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGF0b3AuY3VycmVudFN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkY24gPSBhdG9wLmFjLmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO1xuICAgICAgICAgICAgZGNuLnJhdGlvLnNldFZhbHVlQXRUaW1lKDE2LCAwKTtcbiAgICAgICAgICAgIGRjbi5hdHRhY2suc2V0VmFsdWVBdFRpbWUoMC4wMDA1LCAwKTtcbiAgICAgICAgICAgIC8vIGRjbi5yYXRpbyA9IDE2OyAvLyBST05ZRUg6IC5yYXRpbyBpcyBhIFJFQUQgT05MWSBwcm9wZXJ0eS5cbiAgICAgICAgICAgIC8vIGRjbi5hdHRhY2sgPSAwLjAwMDU7IC8vIFJPTllFSDogLnJhdGlvIGlzIGEgUkVBRCBPTkxZIHByb3BlcnR5LlxuICAgICAgICAgICAgZGNuLmNvbm5lY3QoYXRvcC5hYy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBhdG9wLm91dCA9IGRjbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvciBwcmVjaXNlIHNjaGVkdWxpbmcgb2YgZnV0dXJlIG5vdGVzLCB0aGUgQXVkaW9Db250ZXh0IGN1cnJlbnRUaW1lIGlzXG4gICAgLy8gY2FjaGVkIGFuZCBpcyBoZWxkIGNvbnN0YW50IHVudGlsIHRoZSBzY3JpcHQgcmVsZWFzZXMgdG8gdGhlIGV2ZW50IGxvb3AuXG4gICAgc3RhdGljIGF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpIHtcbiAgICAgICAgdmFyIGF0b3AgPSBVdGlscy5nZXRBdWRpb1RvcCgpO1xuICAgICAgICBpZiAoYXRvcC5jdXJyZW50U3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGF0b3AuY3VycmVudFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgZGVsYXkgY291bGQgYmUgYWRkZWQgYmVsb3cgdG8gaW50cm9kdWNlIGEgdW5pdmVyc2FsIGRlbGF5IGluXG4gICAgICAgIC8vIGFsbCBiZWdpbm5pbmcgc291bmRzICh3aXRob3V0IHNrZXdpbmcgZHVyYXRpb25zIGZvciBzY2hlZHVsZWRcbiAgICAgICAgLy8gc2VxdWVuY2VzKS5cbiAgICAgICAgYXRvcC5jdXJyZW50U3RhcnQgPSBNYXRoLm1heCgwLjI1LCBhdG9wLmFjLmN1cnJlbnRUaW1lIC8qICsgMC4wIGRlbGF5ICovKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhdG9wLmN1cnJlbnRTdGFydCA9IG51bGw7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm4gYXRvcC5jdXJyZW50U3RhcnQ7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgYSBtaWRpIG5vdGUgbnVtYmVyIHRvIGEgZnJlcXVlbmN5IGluIEh6LlxuICAgIHN0YXRpYyBtaWRpVG9GcmVxdWVuY3kobWlkaSkge1xuICAgICAgICByZXR1cm4gNDQwICogTWF0aC5wb3coMiwgKG1pZGkgLSA2OSkgLyAxMik7XG4gICAgfVxuXG4gICAgLy8gU29tZSBjb25zdGFudHMuXG4gICAgc3RhdGljIG5vdGVOdW0gPSB7IEM6IDAsIEQ6IDIsIEU6IDQsIEY6IDUsIEc6IDcsIEE6IDksIEI6IDExLCBjOiAxMiwgZDogMTQsIGU6IDE2LCBmOiAxNywgZzogMTksIGE6IDIxLCBiOiAyMyB9O1xuICAgIHN0YXRpYyBhY2NTeW0gPSB7IFwiXlwiOiAxLCBcIlwiOiAwLCBcIj1cIjogMCwgXzogLTEgfTtcbiAgICBzdGF0aWMgbm90ZU5hbWUgPSBbXCJDXCIsIFwiXkNcIiwgXCJEXCIsIFwiX0VcIiwgXCJFXCIsIFwiRlwiLCBcIl5GXCIsIFwiR1wiLCBcIl9BXCIsIFwiQVwiLCBcIl9CXCIsIFwiQlwiLCBcImNcIiwgXCJeY1wiLCBcImRcIiwgXCJfZVwiLCBcImVcIiwgXCJmXCIsIFwiXmZcIiwgXCJnXCIsIFwiX2FcIiwgXCJhXCIsIFwiX2JcIiwgXCJiXCJdO1xuXG4gICAgLy8gQ29udmVydHMgYSBmcmVxdWVuY3kgaW4gSHogdG8gdGhlIGNsb3Nlc3QgbWlkaSBudW1iZXIuXG4gICAgc3RhdGljIGZyZXF1ZW5jeVRvTWlkaShmcmVxKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDY5ICsgKE1hdGgubG9nKGZyZXEgLyA0NDApICogMTIpIC8gTWF0aC5MTjIpO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIGFuIEFCQyBwaXRjaCAoc3VjaCBhcyBcIl5HLCxcIikgdG8gYSBtaWRpIG5vdGUgbnVtYmVyLlxuICAgIHN0YXRpYyBwaXRjaFRvTWlkaShwaXRjaCkge1xuICAgICAgICB2YXIgbSA9IC9eKFxcXit8Xyt8PXwpKFtBLUdhLWddKShbLCddKikkLy5leGVjKHBpdGNoKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2N0YXZlID0gbVszXS5yZXBsYWNlKC8sL2csIFwiXCIpLmxlbmd0aCAtIG1bM10ucmVwbGFjZSgvJy9nLCBcIlwiKS5sZW5ndGg7XG4gICAgICAgIHZhciBzZW1pdG9uZSA9IFV0aWxzLm5vdGVOdW1bbVsyXV0gKyBVdGlscy5hY2NTeW1bbVsxXS5jaGFyQXQoMCldICogbVsxXS5sZW5ndGggKyAxMiAqIG9jdGF2ZTtcbiAgICAgICAgcmV0dXJuIHNlbWl0b25lICsgNjA7IC8vIDYwID0gbWlkaSBjb2RlIG1pZGRsZSBcIkNcIi5cbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0cyBhIG1pZGkgbnVtYmVyIHRvIGFuIEFCQyBub3RhdGlvbiBwaXRjaC5cbiAgICBzdGF0aWMgbWlkaVRvUGl0Y2gobWlkaSkge1xuICAgICAgICB2YXIgaW5kZXggPSAobWlkaSAtIDcyKSAlIDEyO1xuICAgICAgICBpZiAobWlkaSA+IDYwIHx8IGluZGV4ICE9IDApIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvY3RhdmVzID0gTWF0aC5yb3VuZCgobWlkaSAtIGluZGV4IC0gNjApIC8gMTIpLFxuICAgICAgICAgICAgcmVzdWx0ID0gVXRpbHMubm90ZU5hbWVbaW5kZXhdO1xuICAgICAgICB3aGlsZSAob2N0YXZlcyAhPSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gb2N0YXZlcyA+IDAgPyBcIidcIiA6IFwiLFwiO1xuICAgICAgICAgICAgb2N0YXZlcyArPSBvY3RhdmVzID4gMCA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIGFuIEFCQyBwaXRjaCB0byBhIGZyZXF1ZW5jeSBpbiBIei5cbiAgICBzdGF0aWMgcGl0Y2hUb0ZyZXF1ZW5jeShwaXRjaCkge1xuICAgICAgICByZXR1cm4gVXRpbHMubWlkaVRvRnJlcXVlbmN5KFV0aWxzLnBpdGNoVG9NaWRpKHBpdGNoKSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlZmF1bHQgc291bmQgaXMgYSBzcXVhcmUgd2F2ZSB3aXRoIGEgcHJldHR5IHF1aWNrIGRlY2F5IHRvIHplcm8uXG4gICAgc3RhdGljIGRlZmF1bHRUaW1icmUgPSB7XG4gICAgICAgIHdhdmU6IFwic3F1YXJlXCIsIC8vIE9zY2lsbGF0b3IgdHlwZS5cbiAgICAgICAgZ2FpbjogMC4xLCAvLyBPdmVyYWxsIGdhaW4gYXQgbWF4aW11bSBhdHRhY2suXG4gICAgICAgIGF0dGFjazogMC4wMDIsIC8vIEF0dGFjayB0aW1lIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSB0b25lLlxuICAgICAgICBkZWNheTogMC40LCAvLyBSYXRlIG9mIGV4cG9uZW50aWFsIGRlY2F5IGFmdGVyIGF0dGFjay5cbiAgICAgICAgZGVjYXlmb2xsb3c6IDAsIC8vIEFtb3VudCBvZiBkZWNheSBzaG9ydGVuaW5nIGZvciBoaWdoZXIgbm90ZXMuXG4gICAgICAgIHN1c3RhaW46IDAsIC8vIFBvcnRpb24gb2YgZ2FpbiB0byBzdXN0YWluIGluZGVmaW5pdGVseS5cbiAgICAgICAgcmVsZWFzZTogMC4xLCAvLyBSZWxlYXNlIHRpbWUgYWZ0ZXIgYSB0b25lIGlzIGRvbmUuXG4gICAgICAgIGN1dG9mZjogMCwgLy8gTG93LXBhc3MgZmlsdGVyIGN1dG9mZiBmcmVxdWVuY3kuXG4gICAgICAgIGN1dGZvbGxvdzogMCwgLy8gQ3V0b2ZmIGFkanVzdG1lbnQsIGEgbXVsdGlwbGUgb2Ygb3NjaWxsYXRvciBmcmVxLlxuICAgICAgICByZXNvbmFuY2U6IDAsIC8vIExvdy1wYXNzIGZpbHRlciByZXNvbmFuY2UuXG4gICAgICAgIGRldHVuZTogMCwgLy8gRGV0dW5lIGZhY3RvciBmb3IgYSBzZWNvbmQgb3NjaWxsYXRvci5cbiAgICB9O1xuXG4gICAgLy8gTm9ycm1hbGl6ZXMgYSB0aW1icmUgb2JqZWN0IGJ5IG1ha2luZyBhIGNvcHkgdGhhdCBoYXMgZXhhY3RseVxuICAgIC8vIHRoZSByaWdodCBzZXQgb2YgdGltYnJlIGZpZWxkcywgZGVmYXVsdGluZyB3aGVuIG5lZWRlZC5cbiAgICAvLyBBIHRpbWJyZSBjYW4gc3BlY2lmeSBhbnkgb2YgdGhlIGZpZWxkcyBvZiBkZWZhdWx0VGltYnJlOyBhbnlcbiAgICAvLyB1bnNwZWNpZmllZCBmaWVsZHMgYXJlIHRyZWF0ZWQgYXMgdGhleSBhcmUgc2V0IGluIGRlZmF1bHRUaW1icmUuXG4gICAgc3RhdGljIG1ha2VUaW1icmUob3B0aW9ucywgYXRvcCkge1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gQWJicmV2aWF0aW9uOiBuYW1lIGEgd2F2ZSB0byBnZXQgYSBkZWZhdWx0IHRpbWJyZSBmb3IgdGhhdCB3YXZlLlxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2F2ZTogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHd0ID0gYXRvcCAmJiBhdG9wLndhdmV0YWJsZSAmJiBhdG9wLndhdmV0YWJsZVtvcHRpb25zLndhdmVdO1xuICAgICAgICBmb3IgKGtleSBpbiBVdGlscy5kZWZhdWx0VGltYnJlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHd0ICYmIHd0LmRlZnMgJiYgd3QuZGVmcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB3dC5kZWZzW2tleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gVXRpbHMuZGVmYXVsdFRpbWJyZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHdoaXRlTm9pc2VCdWYgPSBudWxsOyAvLyBjYWNoZVxuICAgIHN0YXRpYyBnZXRXaGl0ZU5vaXNlQnVmKCkge1xuICAgICAgICBpZiAod2hpdGVOb2lzZUJ1ZiA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYWMgPSBVdGlscy5nZXRBdWRpb1RvcCgpLmFjLFxuICAgICAgICAgICAgICAgIGJ1ZmZlclNpemUgPSAyICogYWMuc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICB3aGl0ZU5vaXNlQnVmID0gYWMuY3JlYXRlQnVmZmVyKDEsIGJ1ZmZlclNpemUsIGFjLnNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHdoaXRlTm9pc2VCdWYuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIG91dHB1dFtpXSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2hpdGVOb2lzZUJ1ZjtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHV0aWxpdHkgZnVuY3Rpb24gY3JlYXRlcyBhbiBvc2NpbGxhdG9yIGF0IHRoZSBnaXZlbiBmcmVxdWVuY3lcbiAgICAvLyBhbmQgdGhlIGdpdmVuIHdhdmVuYW1lLiAgSXQgc3VwcG9ydHMgbG9va3VwcyBpbiBhIHN0YXRpYyB3YXZldGFibGUsXG4gICAgLy8gZGVmaW5lZCByaWdodCBiZWxvdy5cbiAgICBzdGF0aWMgbWFrZU9zY2lsbGF0b3IoYXRvcCwgd2F2ZW5hbWUsIGZyZXEpIHtcbiAgICAgICAgaWYgKHdhdmVuYW1lID09IFwibm9pc2VcIikge1xuICAgICAgICAgICAgdmFyIHdoaXRlTm9pc2UgPSBhdG9wLmFjLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgd2hpdGVOb2lzZS5idWZmZXIgPSBVdGlscy5nZXRXaGl0ZU5vaXNlQnVmKCk7XG4gICAgICAgICAgICB3aGl0ZU5vaXNlLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHdoaXRlTm9pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdhdmV0YWJsZSA9IGF0b3Aud2F2ZXRhYmxlLFxuICAgICAgICAgICAgbyA9IGF0b3AuYWMuY3JlYXRlT3NjaWxsYXRvcigpLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHB3YXZlLFxuICAgICAgICAgICAgYndmLFxuICAgICAgICAgICAgd2Y7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAod2F2ZXRhYmxlLmhhc093blByb3BlcnR5KHdhdmVuYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGN1c3RvbWl6ZWQgd2F2ZXRhYmxlLlxuICAgICAgICAgICAgICAgIHB3YXZlID0gd2F2ZXRhYmxlW3dhdmVuYW1lXS53YXZlO1xuICAgICAgICAgICAgICAgIGlmICh3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgYndmID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYSBoaWdoZXItZnJlcXVlbmN5IHZhcmlhbnQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoayBpbiB3YXZldGFibGVbd2F2ZW5hbWVdLmZyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdmID0gTnVtYmVyKGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXEgPiB3ZiAmJiB3ZiA+IGJ3Zikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ3ZiA9IHdmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3YXZlID0gd2F2ZXRhYmxlW3dhdmVuYW1lXS5mcmVxW2J3Zl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvLnNldFBlcmlvZGljV2F2ZSAmJiBvLnNldFdhdmVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb2xkIEFQSSBuYW1lOiBTYWZhcmkgNyBzdGlsbCB1c2VzIHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIG8uc2V0V2F2ZVRhYmxlKHB3YXZlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmV3IEFQSSBuYW1lLlxuICAgICAgICAgICAgICAgICAgICBvLnNldFBlcmlvZGljV2F2ZShwd2F2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnR5cGUgPSB3YXZlbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdW5yZWNvZ25pemVkLCBqdXN0IHVzZSBzcXVhcmUuXG4gICAgICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IFwibm9pc2VcIiBvciBvdGhlciB3YXZlIHNoYXBlcy5cbiAgICAgICAgICAgIG8udHlwZSA9IFwic3F1YXJlXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gU09NRSBCVUcuXG4gICAgICAgIG8uZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZShmcmVxLCBhdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cbi8vIEVORCBVVElMU1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gUGFyc2VzIGFuIEFCQyBmaWxlIHRvIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuLy8ge1xuLy8gICBYOiB2YWx1ZSBmcm9tIHRoZSBYOiBsaW5lcyBpbiBoZWFkZXIgKFxcbiBzZXBhcmF0ZWQgZm9yIG11bHRpcGxlIHZhbHVlcylcbi8vICAgVjogdmFsdWUgZnJvbSB0aGUgVjpteW5hbWUgbGluZXMgdGhhdCBhcHBlYXIgYmVmb3JlIEs6XG4vLyAgIChldGMpOiBmb3IgYWxsIHRoZSBvbmUtbGV0dGVyIGhlYWRlci1uYW1lcy5cbi8vICAgSzogdmFsdWUgZnJvbSB0aGUgSzogbGluZXMgaW4gaGVhZGVyLlxuLy8gICB0ZW1wbzogUTogbGluZSBwYXJzZWQgYXMgYmVhdHNlY3Ncbi8vICAgdGltYnJlOiAuLi4gSTp0aW1icmUgbGluZSBhcyBwYXJzZWQgYnkgbWFrZVRpbWJyZVxuLy8gICB2b2ljZToge1xuLy8gICAgIG15bmFtZTogeyAvLyB2b2ljZSB3aXRoIGlkIFwibXluYW1lXCJcbi8vICAgICAgIFY6IHZhbHVlIGZyb20gdGhlIFY6bXluYW1lIGxpbmVzIChmcm9tIHRoZSBib2R5KVxuLy8gICAgICAgc3RlbXM6IFsuLi5dIGFzIHBhcnNlZCBieSBwYXJzZUFCQ3N0ZW1zXG4vLyAgICB9XG4vLyAgfVxuLy8gfVxuLy8gQUJDIGZpbGVzIGFyZSBpZGlvc3luY3JhdGljIHRvIHBhcnNlOiB0aGUgd3JpdHRlbiBzcGVjaWZpY2F0aW9uc1xuLy8gZG8gbm90IG5lY2Vzc2FyaWx5IHJlZmxlY3QgdGhlIGRlZmFjdG8gc3RhbmRhcmQgaW1wbGVtZW50ZWQgYnlcbi8vIEFCQyBjb250ZW50IG9uIHRoZSB3ZWIuICBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGRlc2lnbmVkIHRvIGJlXG4vLyBwcmFjdGljYWwsIHdvcmtpbmcgb24gY29udGVudCBhcyBpdCBhcHBlYXJzIG9uIHRoZSB3ZWIsIGFuZCBvbmx5XG4vLyB1c2luZyB0aGUgd3JpdHRlbiBzdGFuZGFyZCBhcyBhIGd1aWRlbGluZS5cblxudmFyIEFCQ2hlYWRlciA9IC9eKFtBLVphLXpdKTpcXHMqKC4qKSQvO1xudmFyIEFCQ3Rva2VuID0gLyg/OlxcW1tBLVphLXpdOlteXFxdXSpcXF0pfFxccyt8JVteXFxuXSp8IVteXFxzITp8XFxbXFxdXSohfFxcK1teK3whXSpcXCt8W188PkBeXT9cIlteXCJdKlwifFxcW3xcXF18Pit8PCt8KD86KD86XFxeK3xfK3w9fClbQS1HYS1nXSg/OiwrfCcrfCkpfFxcKFxcZCsoPzo6XFxkKyl7MCwyfXxcXGQqXFwvXFxkK3xcXGQrXFwvP3xcXC8rfFt4elhaXXxcXFs/XFx8XFxdP3w6P1xcfDo/fDo6fC4vZztcblxuZnVuY3Rpb24gcGFyc2VBQkNGaWxlKHN0cikge1xuICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgcmVzdWx0OiBhbnkgPSB7fSxcbiAgICAgICAgY29udGV4dCA9IHJlc3VsdCxcbiAgICAgICAgdGltYnJlLFxuICAgICAgICBqLFxuICAgICAgICBrLFxuICAgICAgICBoZWFkZXIsXG4gICAgICAgIHN0ZW1zLFxuICAgICAgICBrZXkgPSB7fSxcbiAgICAgICAgYWNjZW50ID0geyBzbHVycmVkOiAwIH0sXG4gICAgICAgIHZvaWNlaWQsXG4gICAgICAgIG91dDtcbiAgICAvLyBBQkMgZmlsZXMgYXJlIHBhcnNlZCBvbmUgbGluZSBhdCBhIHRpbWUuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIC8vIEZpcnN0LCBjaGVjayB0byBzZWUgaWYgdGhlIGxpbmUgaXMgYSBoZWFkZXIgbGluZS5cbiAgICAgICAgaGVhZGVyID0gQUJDaGVhZGVyLmV4ZWMobGluZXNbal0pO1xuICAgICAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgICAgICBoYW5kbGVJbmZvcm1hdGlvbihoZWFkZXJbMV0sIGhlYWRlclsyXS50cmltKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKC9eXFxzKig/OiUuKik/JC8udGVzdChsaW5lc1tqXSkpIHtcbiAgICAgICAgICAgIC8vIFNraXAgYmxhbmsgYW5kIGNvbW1lbnQgbGluZXMuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBub3Rlcy5cbiAgICAgICAgICAgIHBhcnNlQUJDTm90ZXMobGluZXNbal0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbmZlciA9IFtcInVuaXRub3RlXCIsIFwidW5pdGJlYXRcIiwgXCJ0ZW1wb1wiXTtcbiAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KFwidm9pY2VcIikgJiYgcmVzdWx0LnZvaWNlICE9PSBudWxsKSB7XG4gICAgICAgIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGogaW4gcmVzdWx0LnZvaWNlKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnZvaWNlW2pdLnN0ZW1zICYmIHJlc3VsdC52b2ljZVtqXS5zdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGltZXMgZm9yIGFsbCB0aGUgdGllZCBub3Rlcy4gIFRoaXMgaGFwcGVucyBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpbiBwcmluY2lwbGUsIHRoZSBmaXJzdCBub3RlIG9mIGEgc29uZyBjb3VsZCBiZSB0aWVkIGFsbFxuICAgICAgICAgICAgICAgIC8vIHRoZSB3YXkgdGhyb3VnaCB0byB0aGUgbGFzdCBub3RlLlxuICAgICAgICAgICAgICAgIHByb2Nlc3NUaWVzKHJlc3VsdC52b2ljZVtqXS5zdGVtcyk7XG4gICAgICAgICAgICAgICAgLy8gQnJpbmcgdXAgaW5mZXJyZWQgdGVtcG8gdmFsdWVzIGZyb20gdm9pY2VzIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgaGVhZGVyLlxuICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBpbmZlci5sZW5ndGg7ICsraykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbmZlcltrXSBpbiByZXN1bHQpICYmIGluZmVyW2tdIGluIHJlc3VsdC52b2ljZVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZmVyW2tdXSA9IHJlc3VsdC52b2ljZVtqXVtpbmZlcltrXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaW50ZXJuYWwgc3RhdGUgdmFyaWFibGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC52b2ljZVtqXS5hY2NlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERlbGV0ZSBhbnkgdm9pY2VzIHRoYXQgaGFkIG5vIHN0ZW1zLlxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgb3V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnZvaWNlW291dFtqXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIFBhcnNpbmcgaGVscGVyIGZ1bmN0aW9ucyBiZWxvdy5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFByb2Nlc3NlcyBoZWFkZXIgZmllbGRzIHN1Y2ggYXMgVjogdm9pY2UsIHdoaWNoIG1heSBhcHBlYXIgYXQgdGhlXG4gICAgLy8gdG9wIG9mIHRoZSBBQkMgZmlsZSwgb3IgaW4gdGhlIEFCQyBib2R5IGluIGEgW1Y6dm9pY2VdIGRpcmVjdGl2ZS5cbiAgICBmdW5jdGlvbiBoYW5kbGVJbmZvcm1hdGlvbihmaWVsZCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBoZWFkZXJzIGFyZSByZWNvZ25pemVkIGFuZCBwcm9jZXNzZWQuXG4gICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgLy8gQSBWOiBoZWFkZXIgc3dpdGNoZXMgdm9pY2VzIGlmIGluIHRoZSBib2R5LlxuICAgICAgICAgICAgICAgIC8vIElmIGluIHRoZSBoZWFkZXIsIHRoZW4gaXQgaXMganVzdCBhZHZpc29yeS5cbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Vm9pY2VDb250ZXh0KHZhbHVlLnNwbGl0KFwiIFwiKVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICBwYXJzZU1ldGVyKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VVbml0Tm90ZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUVwiOlxuICAgICAgICAgICAgICAgIHBhcnNlVGVtcG8odmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsbCBoZWFkZXJzIChpbmNsdWRpbmcgdW5yZWNvZ25pemVkIG9uZXMpIGFyZVxuICAgICAgICAvLyBqdXN0IGFjY3VtdWxhdGVkIGFzIHByb3BlcnRpZXMuIFJlcGVhdGVkIGhlYWRlclxuICAgICAgICAvLyBsaW5lcyBhcmUgYWNjdW11bGF0ZWQgYXMgbXVsdGlsaW5lIHByb3BlcnRpZXMuXG4gICAgICAgIGlmIChjb250ZXh0Lmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29udGV4dFtmaWVsZF0gKz0gXCJcXG5cIiArIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dFtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgSyBoZWFkZXIgaXMgc3BlY2lhbDogaXQgc2hvdWxkIGJlIHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyBiZWZvcmUgdGhlIHZvaWNlcyBhbmQgbm90ZXMgYmVnaW4uXG4gICAgICAgIGlmIChmaWVsZCA9PSBcIktcIikge1xuICAgICAgICAgICAga2V5ID0ga2V5c2lnKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzdGFydFZvaWNlQ29udGV4dChmaXJzdFZvaWNlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNoaWZ0cyBjb250ZXh0IHRvIGEgdm9pY2Ugd2l0aCB0aGUgZ2l2ZW4gaWQgZ2l2ZW4uICBJZiBubyBpZFxuICAgIC8vIGdpdmVuLCB0aGVuIGp1c3Qgc3RpY2tzIHdpdGggdGhlIGN1cnJlbnQgdm9pY2UuICBJZiB0aGUgY3VycmVudFxuICAgIC8vIHZvaWNlIGlzIHVubmFtZWQgYW5kIGVtcHR5LCByZW5hbWVzIHRoZSBjdXJyZW50IHZvaWNlLlxuICAgIGZ1bmN0aW9uIHN0YXJ0Vm9pY2VDb250ZXh0KGlkKSB7XG4gICAgICAgIGlkID0gaWQgfHwgXCJcIjtcbiAgICAgICAgaWYgKCFpZCAmJiBjb250ZXh0ICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlc3VsdC52b2ljZSkge1xuICAgICAgICAgICAgcmVzdWx0LnZvaWNlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC52b2ljZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgICAgIC8vIFJlc3VtZSBhIG5hbWVkIHZvaWNlLlxuICAgICAgICAgICAgY29udGV4dCA9IHJlc3VsdC52b2ljZVtpZF07XG4gICAgICAgICAgICBhY2NlbnQgPSBjb250ZXh0LmFjY2VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IHZvaWNlLlxuICAgICAgICAgICAgY29udGV4dCA9IHsgaWQ6IGlkLCBhY2NlbnQ6IHsgc2x1cnJlZDogMCB9IH07XG4gICAgICAgICAgICByZXN1bHQudm9pY2VbaWRdID0gY29udGV4dDtcbiAgICAgICAgICAgIGFjY2VudCA9IGNvbnRleHQuYWNjZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIHBpY2tpbmcgYSBkZWZhdWx0IHZvaWNlLCBsb29rcyBmb3IgdGhlIGZpcnN0IHZvaWNlIG5hbWUuXG4gICAgZnVuY3Rpb24gZmlyc3RWb2ljZU5hbWUoKSB7XG4gICAgICAgIGlmIChyZXN1bHQuVikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5WLnNwbGl0KC9cXHMrLylbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhcnNlcyBhIHNpbmdsZSBsaW5lIG9mIEFCQyBub3RlcyAoaS5lLiwgbm90IGEgaGVhZGVyIGxpbmUpLlxuICAgIC8vXG4gICAgLy8gV2UgcHJvY2VzcyBhbiBBQkMgc29uZyBzdHJlYW0gYnkgZGl2aWRpbmcgaXQgaW50byB0b2tlbnMsIGVhY2ggb2ZcbiAgICAvLyB3aGljaCBpcyBhIHBpdGNoLCBkdXJhdGlvbiwgb3Igc3BlY2lhbCBkZWNvcmF0aW9uIHN5bWJvbDsgdGhlblxuICAgIC8vIHdlIHByb2Nlc3MgZWFjaCBkZWNvcmF0aW9uIGluZGl2aWR1YWxseSwgYW5kIHdlIHByb2Nlc3MgZWFjaFxuICAgIC8vIHN0ZW0gYXMgYSBncm91cCB1c2luZyBwYXJzZVN0ZW0uXG4gICAgLy8gVGhlIHN0cnVjdHVyZSBvZiBhIHNpbmdsZSBBQkMgbm90ZSBpcyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICAgIC8vXG4gICAgLy8gTk9URSAtPiBTVEFDQ0FUTz8gUElUQ0ggRFVSQVRJT04/IFRJRT9cbiAgICAvL1xuICAgIC8vIEkuZS4sIGl0IGFsd2F5cyBoYXMgYSBwaXRjaCwgYW5kIGl0IGlzIHByZWZpeGVkIGJ5IHNvbWUgb3B0aW9uYWxcbiAgICAvLyBkZWNvcmF0aW9ucyBzdWNoIGFzIGEgKC4pIHN0YWNjYXRvIG1hcmtpbmcsIGFuZCBpdCBpcyBzdWZmaXhlZCBieVxuICAgIC8vIGFuIG9wdGlvbmFsIGR1cmF0aW9uIGFuZCBhbiBvcHRpb25hbCB0aWUgKC0pIG1hcmtpbmcuXG4gICAgLy9cbiAgICAvLyBBIHN0ZW0gaXMgZWl0aGVyIGEgbm90ZSBvciBhIGJyYWNrZXRlZCBzZXJpZXMgb2Ygbm90ZXMsIGZvbGxvd2VkXG4gICAgLy8gYnkgZHVyYXRpb24gYW5kIHRpZS5cbiAgICAvL1xuICAgIC8vIFNURU0gLT4gTk9URSAgIE9SICAgICdbJyBOT1RFICogJ10nIERVUkFJVE9OPyBUSUU/XG4gICAgLy9cbiAgICAvLyBUaGVuIGEgc29uZyBpcyBqdXN0IGEgc2VxdWVuY2Ugb2Ygc3RlbXMgaW50ZXJsZWF2ZWQgd2l0aCBvdGhlclxuICAgIC8vIGRlY29yYXRpb25zIHN1Y2ggYXMgZHluYW1pY3MgbWFya2luZ3MgYW5kIG1lYXN1cmUgZGVsaW1pdGVycy5cbiAgICBmdW5jdGlvbiBwYXJzZUFCQ05vdGVzKHN0cikge1xuICAgICAgICB2YXIgdG9rZW5zID0gc3RyLm1hdGNoKEFCQ3Rva2VuKSxcbiAgICAgICAgICAgIHBhcnNlZCA9IG51bGwsXG4gICAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgICBkb3R0ZWQgPSAwLFxuICAgICAgICAgICAgYmVhdGxldCA9IG51bGwsXG4gICAgICAgICAgICB0O1xuICAgICAgICBpZiAoIXRva2Vucykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gSWdub3JlICVjb21tZW50cyBhbmQgIW1hcmtpbmdzIVxuICAgICAgICAgICAgaWYgKC9eW1xccyVdLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbmxpbmUgW1g6Li4uXSBpbmZvcm1hdGlvbiBmaWVsZHNcbiAgICAgICAgICAgIGlmICgvXlxcW1tBLVphLXpdOlteXFxdXSpcXF0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5mb3JtYXRpb24odG9rZW5zW2luZGV4XS5zdWJzdHJpbmcoMSwgMiksIHRva2Vuc1tpbmRleF0uc3Vic3RyaW5nKDMsIHRva2Vuc1tpbmRleF0ubGVuZ3RoIC0gMSkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlZCBkb3R0ZWQgbm90YXRpb24gYWJicmV2aWF0aW9ucy5cbiAgICAgICAgICAgIGlmICgvPC8udGVzdCh0b2tlbnNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGRvdHRlZCA9IC10b2tlbnNbaW5kZXgrK10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC8+Ly50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgZG90dGVkID0gdG9rZW5zW2luZGV4KytdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXlxcKFxcZCsoPzo6XFxkKykqLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgYmVhdGxldCA9IHBhcnNlQmVhdGxldCh0b2tlbnNbaW5kZXgrK10pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eWyErXS4qWyErXSQvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBwYXJzZURlY29yYXRpb24odG9rZW5zW2luZGV4KytdLCBhY2NlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eLj9cIi4qXCIkLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGRvdWJsZS1xdW90ZWQgdG9rZW5zIChjaG9yZHMgYW5kIGdlbmVyYWwgdGV4dCBhbm5vdGF0aW9ucykuXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXlsoKV0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpbmRleCsrXSA9PSBcIihcIikge1xuICAgICAgICAgICAgICAgICAgICBhY2NlbnQuc2x1cnJlZCArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VudC5zbHVycmVkIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NlbnQuc2x1cnJlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlbnQuc2x1cnJlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zdGVtcyAmJiBjb250ZXh0LnN0ZW1zLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxhc3Qgbm90ZXMgaW4gYSBzbHVyIGFyZSBub3Qgc2x1cnJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVyU3RlbShjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBtZWFzdXJlIG1hcmtpbmdzIGJ5IGNsZWFyaW5nIGFjY2lkZW50YWxzLlxuICAgICAgICAgICAgaWYgKC9cXHwvLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHQgaW4gYWNjZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUtbGV0dGVyIGFjY2VudCBwcm9wZXJ0aWVzIGFyZSBub3RlIGFjY2lkZW50YWxzLlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjY2VudFt0XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VkID0gcGFyc2VTdGVtKHRva2VucywgaW5kZXgsIGtleSwgYWNjZW50KTtcbiAgICAgICAgICAgIC8vIFNraXAgdW5wYXJzYWJsZSBiaXRzXG4gICAgICAgICAgICBpZiAocGFyc2VkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgYSBwYXJzZWQgc3RlbS5cbiAgICAgICAgICAgIGlmIChiZWF0bGV0KSB7XG4gICAgICAgICAgICAgICAgc2NhbGVTdGVtKHBhcnNlZC5zdGVtLCBiZWF0bGV0LnRpbWUpO1xuICAgICAgICAgICAgICAgIGJlYXRsZXQuY291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAoIWJlYXRsZXQuY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVhdGxldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgc3luY29wYXRlZCB3aXRoID4gb3IgPCBub3RhdGlvbiwgc2hpZnQgcGFydCBvZiBhIGJlYXRcbiAgICAgICAgICAgIC8vIGJldHdlZW4gdGhpcyBzdGVtIGFuZCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgICAgaWYgKGRvdHRlZCAmJiBjb250ZXh0LnN0ZW1zICYmIGNvbnRleHQuc3RlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvdHRlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9ICgxIC0gTWF0aC5wb3coMC41LCBkb3R0ZWQpKSAqIHBhcnNlZC5zdGVtLnRpbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IChNYXRoLnBvdygwLjUsIC1kb3R0ZWQpIC0gMSkgKiBjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0udGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3luY29wYXRlU3RlbShjb250ZXh0LnN0ZW1zW2NvbnRleHQuc3RlbXMubGVuZ3RoIC0gMV0sIHQpO1xuICAgICAgICAgICAgICAgIHN5bmNvcGF0ZVN0ZW0ocGFyc2VkLnN0ZW0sIC10KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvdHRlZCA9IDA7XG4gICAgICAgICAgICAvLyBTbHVyIGFsbCB0aGUgbm90ZXMgY29udGFpbmVkIHdpdGhpbiBhIHN0cmVtLlxuICAgICAgICAgICAgaWYgKGFjY2VudC5zbHVycmVkKSB7XG4gICAgICAgICAgICAgICAgc2x1clN0ZW0ocGFyc2VkLnN0ZW0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RhcnQgYSBkZWZhdWx0IHZvaWNlIGlmIHdlJ3JlIG5vdCBpbiBhIHZvaWNlIHlldC5cbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzdGFydFZvaWNlQ29udGV4dChmaXJzdFZvaWNlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKFwic3RlbXNcIiBpbiBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3RlbXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgc3RlbSB0byB0aGUgc2VxdWVuY2Ugb2Ygc3RlbXMgZm9yIHRoaXMgdm9pY2UuXG4gICAgICAgICAgICBjb250ZXh0LnN0ZW1zLnB1c2gocGFyc2VkLnN0ZW0pO1xuICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgcGFyc2luZyBpbmRleCBzaW5jZSBhIHN0ZW0gaXMgbXVsdGlwbGUgdG9rZW5zLlxuICAgICAgICAgICAgaW5kZXggPSBwYXJzZWQuaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQYXJzZSBNOiBsaW5lcy4gIFwiMy80XCIgaXMgMy80IHRpbWUgYW5kIFwiQ1wiIGlzIDQvNCAoY29tbW9uKSB0aW1lLlxuICAgIGZ1bmN0aW9uIHBhcnNlTWV0ZXIobWxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgIHZhciBkID0gL15DLy50ZXN0KG1saW5lKSA/IDQgLyA0IDogZHVyYXRpb25Ub1RpbWUobWxpbmUpO1xuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJlYXRpbmZvLnVuaXRub3RlKSB7XG4gICAgICAgICAgICBpZiAoZCA8IDAuNzUpIHtcbiAgICAgICAgICAgICAgICBiZWF0aW5mby51bml0bm90ZSA9IDEgLyAxNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmVhdGluZm8udW5pdG5vdGUgPSAxIC8gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBQYXJzZSBMOiBsaW5lcywgZS5nLiwgXCIxLzhcIi5cbiAgICBmdW5jdGlvbiBwYXJzZVVuaXROb3RlKGxsaW5lLCBiZWF0aW5mbykge1xuICAgICAgICB2YXIgZCA9IGR1cmF0aW9uVG9UaW1lKGxsaW5lKTtcbiAgICAgICAgaWYgKCFkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmVhdGluZm8udW5pdG5vdGUgPSBkO1xuICAgIH1cbiAgICAvLyBQYXJzZSBROiBsaW5lLCBlLmcuLCBcIjEvND02NlwiLlxuICAgIGZ1bmN0aW9uIHBhcnNlVGVtcG8ocWxpbmUsIGJlYXRpbmZvKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHFsaW5lLnNwbGl0KC9cXHMrfD0vKSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICB1bml0ID0gbnVsbCxcbiAgICAgICAgICAgIHRlbXBvID0gbnVsbDtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAvLyBJdCBjb3VsZCBiZSByZXZlcnNlZCwgbGlrZSBcIjY2PTEvNFwiLCBvciBqdXN0IFwiMTIwXCIsIHNvXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hhdCBpcyBnb2luZyBvbiBieSBsb29raW5nIGZvciBhIHNsYXNoIGV0Yy5cbiAgICAgICAgICAgIGlmIChwYXJ0c1tqXS5pbmRleE9mKFwiL1wiKSA+PSAwIHx8IC9eWzEtNF0kLy50ZXN0KHBhcnRzW2pdKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBub3RlLXVuaXQgKGUuZy4sIDEvNCkuXG4gICAgICAgICAgICAgICAgdW5pdCA9IHVuaXQgfHwgZHVyYXRpb25Ub1RpbWUocGFydHNbal0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGVtcG8tbnVtYmVyIChlLmcuLCAxMjApXG4gICAgICAgICAgICAgICAgdGVtcG8gPSB0ZW1wbyB8fCBOdW1iZXIocGFydHNbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1bml0KSB7XG4gICAgICAgICAgICBiZWF0aW5mby51bml0YmVhdCA9IHVuaXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBvKSB7XG4gICAgICAgICAgICBiZWF0aW5mby50ZW1wbyA9IHRlbXBvO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJ1biB0aHJvdWdoIGFsbCB0aGUgbm90ZXMsIGFkZGluZyB1cCB0aW1lIGZvciB0aWVkIG5vdGVzLFxuICAgIC8vIGFuZCBtYXJraW5nIG5vdGVzIHRoYXQgd2VyZSBoZWxkIG92ZXIgd2l0aCBob2xkb3ZlciA9IHRydWUuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1RpZXMoc3RlbXMpIHtcbiAgICAgICAgdmFyIHRpZWQgPSB7fSxcbiAgICAgICAgICAgIG5leHRUaWVkLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgZmlyc3ROb3RlO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIG5leHRUaWVkID0ge307XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgc3RlbXNbal0ubm90ZXMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICBmaXJzdE5vdGUgPSBub3RlID0gc3RlbXNbal0ubm90ZXNba107XG4gICAgICAgICAgICAgICAgaWYgKHRpZWQuaGFzT3duUHJvcGVydHkobm90ZS5waXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGl0Y2ggd2FzIHRpZWQgZnJvbSBiZWZvcmUuXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Tm90ZSA9IHRpZWRbbm90ZS5waXRjaF07IC8vIEdldCB0aGUgZWFybGllc3Qgbm90ZSBpbiB0aGUgdGllLlxuICAgICAgICAgICAgICAgICAgICBmaXJzdE5vdGUudGltZSArPSBub3RlLnRpbWU7IC8vIEV4dGVuZCBpdHMgdGltZS5cbiAgICAgICAgICAgICAgICAgICAgbm90ZS5ob2xkb3ZlciA9IHRydWU7IC8vIFNpbGVuY2UgdGhpcyBub3RlIGFzIGEgaG9sZG92ZXIuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3RlLnRpZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG5vdGUgaXMgdGllZCB3aXRoIHRoZSBuZXh0LlxuICAgICAgICAgICAgICAgICAgICBuZXh0VGllZFtub3RlLnBpdGNoXSA9IGZpcnN0Tm90ZTsgLy8gU2F2ZSBpdCBhd2F5LlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpZWQgPSBuZXh0VGllZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgbWFwIG9mIEEtRyAtPiBhY2NpZGVudGFscywgYWNjb3JkaW5nIHRvIHRoZSBrZXkgc2lnbmF0dXJlLlxuICAgIC8vIFdoZW4gbiBpcyB6ZXJvLCB0aGVyZSBhcmUgbm8gYWNjaWRlbnRhbHMgKGUuZy4sIEMgbWFqb3Igb3IgQSBtaW5vcikuXG4gICAgLy8gV2hlbiBuIGlzIHBvc2l0aXZlLCB0aGVyZSBhcmUgbiBzaGFycHMgKGUuZy4sIGZvciBHIG1ham9yLCBuID0gMSkuXG4gICAgLy8gV2hlbiBuIGlzIG5lZ2F0aXZlLCB0aGVyZSBhcmUgLW4gZmxhdHMgKGUuZy4sIGZvciBGIG1ham9yLCBuID0gLTEpLlxuICAgIGZ1bmN0aW9uIGFjY2lkZW50YWxzKG4pIHtcbiAgICAgICAgdmFyIHNoYXJwcyA9IFwiRkNHREFFQlwiLFxuICAgICAgICAgICAgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICBqO1xuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2hhcnBzLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG4gJiYgaiA8IDc7ICsraikge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtzaGFycHMuY2hhckF0KGopXSA9IFwiXlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmxhdHMgYXJlIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPiBuICYmIGogPiAtNzsgLS1qKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3NoYXJwcy5jaGFyQXQoNiArIGopXSA9IFwiX1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIERlY29kZXMgdGhlIGtleSBzaWduYXR1cmUgbGluZSAoZS5nLiwgSzogQyNtKSBhdCB0aGUgZnJvbnQgb2YgYW4gQUJDIHR1bmUuXG4gICAgLy8gU3VwcG9ydHMgdGhlIHdob2xlIHJhbmdlIG9mIHNjYWxlIHN5c3RlbXMgbGlzdGVkIGluIHRoZSBBQkMgc3BlYy5cbiAgICBmdW5jdGlvbiBrZXlzaWcoa2V5bmFtZSkge1xuICAgICAgICBpZiAoIWtleW5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2tleSxcbiAgICAgICAgICAgIHNpZ2NvZGVzID0ge1xuICAgICAgICAgICAgICAgIC8vIE1ham9yXG4gICAgICAgICAgICAgICAgXCJjI1wiOiA3LFxuICAgICAgICAgICAgICAgIFwiZiNcIjogNixcbiAgICAgICAgICAgICAgICBiOiA1LFxuICAgICAgICAgICAgICAgIGU6IDQsXG4gICAgICAgICAgICAgICAgYTogMyxcbiAgICAgICAgICAgICAgICBkOiAyLFxuICAgICAgICAgICAgICAgIGc6IDEsXG4gICAgICAgICAgICAgICAgYzogMCxcbiAgICAgICAgICAgICAgICBmOiAtMSxcbiAgICAgICAgICAgICAgICBiYjogLTIsXG4gICAgICAgICAgICAgICAgZWI6IC0zLFxuICAgICAgICAgICAgICAgIGFiOiAtNCxcbiAgICAgICAgICAgICAgICBkYjogLTUsXG4gICAgICAgICAgICAgICAgZ2I6IC02LFxuICAgICAgICAgICAgICAgIGNiOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBNaW5vclxuICAgICAgICAgICAgICAgIFwiYSNtXCI6IDcsXG4gICAgICAgICAgICAgICAgXCJkI21cIjogNixcbiAgICAgICAgICAgICAgICBcImcjbVwiOiA1LFxuICAgICAgICAgICAgICAgIFwiYyNtXCI6IDQsXG4gICAgICAgICAgICAgICAgXCJmI21cIjogMyxcbiAgICAgICAgICAgICAgICBibTogMixcbiAgICAgICAgICAgICAgICBlbTogMSxcbiAgICAgICAgICAgICAgICBhbTogMCxcbiAgICAgICAgICAgICAgICBkbTogLTEsXG4gICAgICAgICAgICAgICAgZ206IC0yLFxuICAgICAgICAgICAgICAgIGNtOiAtMyxcbiAgICAgICAgICAgICAgICBmbTogLTQsXG4gICAgICAgICAgICAgICAgYmJtOiAtNSxcbiAgICAgICAgICAgICAgICBlYm06IC02LFxuICAgICAgICAgICAgICAgIGFibTogLTcsXG4gICAgICAgICAgICAgICAgLy8gTWl4b2x5ZGlhblxuICAgICAgICAgICAgICAgIFwiZyNtaXhcIjogNyxcbiAgICAgICAgICAgICAgICBcImMjbWl4XCI6IDYsXG4gICAgICAgICAgICAgICAgXCJmI21peFwiOiA1LFxuICAgICAgICAgICAgICAgIGJtaXg6IDQsXG4gICAgICAgICAgICAgICAgZW1peDogMyxcbiAgICAgICAgICAgICAgICBhbWl4OiAyLFxuICAgICAgICAgICAgICAgIGRtaXg6IDEsXG4gICAgICAgICAgICAgICAgZ21peDogMCxcbiAgICAgICAgICAgICAgICBjbWl4OiAtMSxcbiAgICAgICAgICAgICAgICBmbWl4OiAtMixcbiAgICAgICAgICAgICAgICBiYm1peDogLTMsXG4gICAgICAgICAgICAgICAgZWJtaXg6IC00LFxuICAgICAgICAgICAgICAgIGFibWl4OiAtNSxcbiAgICAgICAgICAgICAgICBkYm1peDogLTYsXG4gICAgICAgICAgICAgICAgZ2JtaXg6IC03LFxuICAgICAgICAgICAgICAgIC8vIERvcmlhblxuICAgICAgICAgICAgICAgIFwiZCNkb3JcIjogNyxcbiAgICAgICAgICAgICAgICBcImcjZG9yXCI6IDYsXG4gICAgICAgICAgICAgICAgXCJjI2RvclwiOiA1LFxuICAgICAgICAgICAgICAgIFwiZiNkb3JcIjogNCxcbiAgICAgICAgICAgICAgICBiZG9yOiAzLFxuICAgICAgICAgICAgICAgIGVkb3I6IDIsXG4gICAgICAgICAgICAgICAgYWRvcjogMSxcbiAgICAgICAgICAgICAgICBkZG9yOiAwLFxuICAgICAgICAgICAgICAgIGdkb3I6IC0xLFxuICAgICAgICAgICAgICAgIGNkb3I6IC0yLFxuICAgICAgICAgICAgICAgIGZkb3I6IC0zLFxuICAgICAgICAgICAgICAgIGJiZG9yOiAtNCxcbiAgICAgICAgICAgICAgICBlYmRvcjogLTUsXG4gICAgICAgICAgICAgICAgYWJkb3I6IC02LFxuICAgICAgICAgICAgICAgIGRiZG9yOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBQaHJ5Z2lhblxuICAgICAgICAgICAgICAgIFwiZSNwaHJcIjogNyxcbiAgICAgICAgICAgICAgICBcImEjcGhyXCI6IDYsXG4gICAgICAgICAgICAgICAgXCJkI3BoclwiOiA1LFxuICAgICAgICAgICAgICAgIFwiZyNwaHJcIjogNCxcbiAgICAgICAgICAgICAgICBcImMjcGhyXCI6IDMsXG4gICAgICAgICAgICAgICAgXCJmI3BoclwiOiAyLFxuICAgICAgICAgICAgICAgIGJwaHI6IDEsXG4gICAgICAgICAgICAgICAgZXBocjogMCxcbiAgICAgICAgICAgICAgICBhcGhyOiAtMSxcbiAgICAgICAgICAgICAgICBkcGhyOiAtMixcbiAgICAgICAgICAgICAgICBncGhyOiAtMyxcbiAgICAgICAgICAgICAgICBjcGhyOiAtNCxcbiAgICAgICAgICAgICAgICBmcGhyOiAtNSxcbiAgICAgICAgICAgICAgICBiYnBocjogLTYsXG4gICAgICAgICAgICAgICAgZWJwaHI6IC03LFxuICAgICAgICAgICAgICAgIC8vIEx5ZGlhblxuICAgICAgICAgICAgICAgIFwiZiNseWRcIjogNyxcbiAgICAgICAgICAgICAgICBibHlkOiA2LFxuICAgICAgICAgICAgICAgIGVseWQ6IDUsXG4gICAgICAgICAgICAgICAgYWx5ZDogNCxcbiAgICAgICAgICAgICAgICBkbHlkOiAzLFxuICAgICAgICAgICAgICAgIGdseWQ6IDIsXG4gICAgICAgICAgICAgICAgY2x5ZDogMSxcbiAgICAgICAgICAgICAgICBmbHlkOiAwLFxuICAgICAgICAgICAgICAgIGJibHlkOiAtMSxcbiAgICAgICAgICAgICAgICBlYmx5ZDogLTIsXG4gICAgICAgICAgICAgICAgYWJseWQ6IC0zLFxuICAgICAgICAgICAgICAgIGRibHlkOiAtNCxcbiAgICAgICAgICAgICAgICBnYmx5ZDogLTUsXG4gICAgICAgICAgICAgICAgY2JseWQ6IC02LFxuICAgICAgICAgICAgICAgIGZibHlkOiAtNyxcbiAgICAgICAgICAgICAgICAvLyBMb2NyaWFuXG4gICAgICAgICAgICAgICAgXCJiI2xvY1wiOiA3LFxuICAgICAgICAgICAgICAgIFwiZSNsb2NcIjogNixcbiAgICAgICAgICAgICAgICBcImEjbG9jXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJkI2xvY1wiOiA0LFxuICAgICAgICAgICAgICAgIFwiZyNsb2NcIjogMyxcbiAgICAgICAgICAgICAgICBcImMjbG9jXCI6IDIsXG4gICAgICAgICAgICAgICAgXCJmI2xvY1wiOiAxLFxuICAgICAgICAgICAgICAgIGJsb2M6IDAsXG4gICAgICAgICAgICAgICAgZWxvYzogLTEsXG4gICAgICAgICAgICAgICAgYWxvYzogLTIsXG4gICAgICAgICAgICAgICAgZGxvYzogLTMsXG4gICAgICAgICAgICAgICAgZ2xvYzogLTQsXG4gICAgICAgICAgICAgICAgY2xvYzogLTUsXG4gICAgICAgICAgICAgICAgZmxvYzogLTYsXG4gICAgICAgICAgICAgICAgYmJsb2M6IC03LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIGsgPSBrZXluYW1lLnJlcGxhY2UoL1xccysvZywgXCJcIikudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwgNSk7XG4gICAgICAgIHZhciBzY2FsZSA9IGsubWF0Y2goL21hanxtaW58bWl4fGRvcnxwaHJ8bHlkfGxvY3xtLyk7XG4gICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgaWYgKHNjYWxlID09IFwibWFqXCIpIHtcbiAgICAgICAgICAgICAgICBra2V5ID0gay5zdWJzdHIoMCwgc2NhbGUuaW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzY2FsZSA9PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAga2tleSA9IGsuc3Vic3RyKDAsIHNjYWxlLmluZGV4ICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGtrZXkgPSBrLnN1YnN0cigwLCBzY2FsZS5pbmRleCArIHNjYWxlWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBra2V5ID0gL15bYS1nXVsjYl0/Ly5leGVjKGspIHx8IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGFjY2lkZW50YWxzKHNpZ2NvZGVzW2trZXldKTtcbiAgICAgICAgdmFyIGV4dHJhcyA9IGtleW5hbWUuc3Vic3RyKGtrZXkubGVuZ3RoKS5tYXRjaCgvKF8rfD18XFxeKylbYS1nXS9naSk7XG4gICAgICAgIGlmIChleHRyYXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXh0cmFzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdGUgPSBleHRyYXNbal0uY2hhckF0KGV4dHJhc1tqXS5sZW5ndGggLSAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChleHRyYXNbal0uY2hhckF0KDApID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXN1bHRbbm90ZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25vdGVdID0gZXh0cmFzW2pdLnN1YnN0cigwLCBleHRyYXNbal0ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEFkZGl0aXZlbHkgYWRqdXN0cyB0aGUgYmVhdHMgZm9yIGEgc3RlbSBhbmQgdGhlIGNvbnRhaW5lZCBub3Rlcy5cbiAgICBmdW5jdGlvbiBzeW5jb3BhdGVTdGVtKHN0ZW0sIHQpIHtcbiAgICAgICAgdmFyIGosXG4gICAgICAgICAgICBub3RlLFxuICAgICAgICAgICAgc3RlbXRpbWUgPSBzdGVtLnRpbWUsXG4gICAgICAgICAgICBuZXd0aW1lID0gc3RlbXRpbWUgKyB0O1xuICAgICAgICBzdGVtLnRpbWUgPSBuZXd0aW1lO1xuICAgICAgICBzeW5jb3BhdGVTdGVtO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICAvLyBPbmx5IGFkanVzdCBhIG5vdGUncyBkdXJhdGlvbiBpZiBpdCBtYXRjaGVkIHRoZSBzdGVtJ3MgZHVyYXRpb24uXG4gICAgICAgICAgICBpZiAobm90ZS50aW1lID09IHN0ZW10aW1lKSB7XG4gICAgICAgICAgICAgICAgbm90ZS50aW1lID0gbmV3dGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNYXJrcyBldmVyeXRoaW5nIGluIHRoZSBzdGVtIHdpdGggdGhlIHNsdXIgYXR0cmlidXRlIChvciBkZWxldGVzIGl0KS5cbiAgICBmdW5jdGlvbiBzbHVyU3RlbShzdGVtLCBhZGRTbHVyKSB7XG4gICAgICAgIHZhciBqLCBub3RlO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RlbS5ub3Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbm90ZSA9IHN0ZW0ubm90ZXNbal07XG4gICAgICAgICAgICBpZiAoYWRkU2x1cikge1xuICAgICAgICAgICAgICAgIG5vdGUuc2x1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vdGUuc2x1cnJlZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RlLnNsdXJyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU2NhbGVzIHRoZSBiZWF0cyBmb3IgYSBzdGVtIGFuZCB0aGUgY29udGFpbmVkIG5vdGVzLlxuICAgIGZ1bmN0aW9uIHNjYWxlU3RlbShzdGVtLCBzKSB7XG4gICAgICAgIHZhciBqO1xuICAgICAgICBzdGVtLnRpbWUgKj0gcztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0ZW0ubm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHN0ZW0ubm90ZXNbal0udGltZSAqPSBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlcyBub3RhdGlvbiBvZiB0aGUgZm9ybSAoMyBvciAoNToyOjEwLCB3aGljaCBtZWFucyB0byBkb1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgMyBub3RlcyBpbiB0aGUgc3BhY2Ugb2YgMiBub3Rlcywgb3IgdG8gZG8gdGhlIGZvbGxvd2luZ1xuICAgIC8vIDEwIG5vdGVzIGF0IHRoZSByYXRlIG9mIDUgbm90ZXMgcGVyIDIgYmVhdHMuXG4gICAgZnVuY3Rpb24gcGFyc2VCZWF0bGV0KHRva2VuKSB7XG4gICAgICAgIHZhciBtID0gL15cXCgoXFxkKykoPzo6KFxcZCspKD86OihcXGQrKSk/KT8kLy5leGVjKHRva2VuKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY291bnQgPSBOdW1iZXIobVsxXSksXG4gICAgICAgICAgICBiZWF0cyA9IE51bWJlcihtWzJdKSB8fCAyLFxuICAgICAgICAgICAgZHVyYXRpb24gPSBOdW1iZXIobVszXSkgfHwgY291bnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lOiBiZWF0cyAvIGNvdW50LFxuICAgICAgICAgICAgY291bnQ6IGR1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBQYXJzZSAhcHBwISBtYXJraW5ncy5cbiAgICBmdW5jdGlvbiBwYXJzZURlY29yYXRpb24odG9rZW4sIGFjY2VudCkge1xuICAgICAgICBpZiAodG9rZW4ubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDEsIHRva2VuLmxlbmd0aCAtIDEpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIFwicHBwcFwiOlxuICAgICAgICAgICAgY2FzZSBcInBwcFwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcFwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDAuNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC42O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1wXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMC44O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1mXCI6XG4gICAgICAgICAgICAgICAgYWNjZW50LmR5bmFtaWNzID0gMS4wO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAxLjI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmZcIjpcbiAgICAgICAgICAgICAgICBhY2NlbnQuZHluYW1pY3MgPSAxLjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmZmXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmZmZlwiOlxuICAgICAgICAgICAgICAgIGFjY2VudC5keW5hbWljcyA9IDEuNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBQYXJzZXMgYSBzdGVtLCB3aGljaCBtYXkgYmUgYSBzaW5nbGUgbm90ZSwgb3Igd2hpY2ggbWF5IGJlXG4gICAgLy8gYSBjaG9yZGVkIG5vdGUuXG4gICAgZnVuY3Rpb24gcGFyc2VTdGVtKHRva2VucywgaW5kZXgsIGtleSwgYWNjZW50KSB7XG4gICAgICAgIHZhciBub3RlcyA9IFtdLFxuICAgICAgICAgICAgZHVyYXRpb24gPSBcIlwiLFxuICAgICAgICAgICAgc3RhY2NhdG8gPSBmYWxzZSxcbiAgICAgICAgICAgIG5vdGVEdXJhdGlvbixcbiAgICAgICAgICAgIG5vdGVUaW1lLFxuICAgICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgICAgICBsYXN0Tm90ZSA9IG51bGwsXG4gICAgICAgICAgICBtaW5TdGVtVGltZSA9IEluZmluaXR5LFxuICAgICAgICAgICAgajtcbiAgICAgICAgLy8gQSBzaW5nbGUgc3RhY2NhdG8gbWFya2luZyBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgc3RlbS5cbiAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi5cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICBzdGFjY2F0byA9IHRydWU7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW2luZGV4XSA9PSBcIltcIikge1xuICAgICAgICAgICAgLy8gRGVhbCB3aXRoIFtDRUddIGNob3JkZWQgbm90YXRpb24uXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgLy8gU2NhbiBub3RlcyB3aXRoaW4gdGhlIGNob3JkLlxuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbmQgc3BhY2UgYW5kICVjb21tZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoL15bXFxzJV0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvW0EtR2EtZ10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiBhIHBpdGNoLlxuICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoOiBhcHBseUFjY2VudCh0b2tlbnNbaW5kZXgrK10sIGtleSwgYWNjZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlLmZyZXF1ZW5jeSA9IFV0aWxzLnBpdGNoVG9GcmVxdWVuY3kobGFzdE5vdGUucGl0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBub3Rlcy5wdXNoKGxhc3ROb3RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9beHpYWl0vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiBhIHJlc3QuXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb3RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiLlwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBzdGFjY2F0byBtYXJrIGFwcGxpZXMgdG8gdGhlIGVudGlyZSBzdGVtLlxuICAgICAgICAgICAgICAgICAgICBzdGFjY2F0byA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgcGFyc2luZyB0aGUgc3RlbSBpZiBzb21ldGhpbmcgaXMgdW5yZWNvZ25pemVkLlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgYSBwaXRjaCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL14oPyFbXFxzJSFdKS4qW1xcZFxcL10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUR1cmF0aW9uID0gdG9rZW5zW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBub3RlVGltZSA9IGR1cmF0aW9uVG9UaW1lKG5vdGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZUR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgbm90ZVRpbWUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgbm90ZSAobm90IGEgcmVzdCksIHN0b3JlIHRoZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgIGlmIChsYXN0Tm90ZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm90ZS5kdXJhdGlvbiA9IG5vdGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vdGUudGltZSA9IG5vdGVUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGEgc3RlbSBoYXMgbW9yZSB0aGFuIG9uZSBkdXJhdGlvbiwgdXNlIHRoZSBzaG9ydGVzdFxuICAgICAgICAgICAgICAgIC8vIG9uZSBmb3IgdGltaW5nLiBUaGUgc3RhbmRhcmQgc2F5cyB0byBwaWNrIHRoZSBmaXJzdCBvbmUsXG4gICAgICAgICAgICAgICAgLy8gYnV0IGluIHByYWN0aWNlLCB0cmFuc2NyaWJlZCBtdXNpYyBvbmxpbmUgc2VlbXMgdG9cbiAgICAgICAgICAgICAgICAvLyBmb2xsb3cgdGhlIHJ1bGUgdGhhdCB0aGUgc3RlbSdzIGR1cmF0aW9uIGlzIGRldGVybWluZWRcbiAgICAgICAgICAgICAgICAvLyBieSB0aGUgc2hvcnRlc3QgY29udGFpbmVkIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChub3RlVGltZSAmJiBub3RlVGltZSA8IG1pblN0ZW1UaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbm90ZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBtaW5TdGVtVGltZSA9IG5vdGVUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZnRlciBhIGR1cmF0aW9uLCBsb29rIGZvciBhIHRpZSBtYXJrLiAgSW5kaXZpZHVhbCBub3Rlc1xuICAgICAgICAgICAgICAgIC8vIHdpdGhpbiBhIHN0ZW0gY2FuIGJlIHRpZWQuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiBcIi1cIiA9PSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Tm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoIC0gMV0udGllID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBsYXN0IHRoaW5nIGluIGEgY2hvcmQgc2hvdWxkIGJlIGEgXS4gIElmIGl0IGlzbid0LCB0aGVuXG4gICAgICAgICAgICAvLyB0aGlzIGRvZXNuJ3QgbG9vayBsaWtlIGEgc3RlbSBhZnRlciBhbGwsIGFuZCByZXR1cm4gbnVsbC5cbiAgICAgICAgICAgIGlmICh0b2tlbnNbaW5kZXhdICE9IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgdG9rZW5zLmxlbmd0aCAmJiAvW0EtR2EtZ10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgIC8vIEdyYWIgYSBzaW5nbGUgbm90ZS5cbiAgICAgICAgICAgIGxhc3ROb3RlID0ge1xuICAgICAgICAgICAgICAgIHBpdGNoOiBhcHBseUFjY2VudCh0b2tlbnNbaW5kZXgrK10sIGtleSwgYWNjZW50KSxcbiAgICAgICAgICAgICAgICB0aWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBcIlwiLFxuICAgICAgICAgICAgICAgIHRpbWU6IDEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGFzdE5vdGUuZnJlcXVlbmN5ID0gVXRpbHMucGl0Y2hUb0ZyZXF1ZW5jeShsYXN0Tm90ZS5waXRjaCk7XG4gICAgICAgICAgICBub3Rlcy5wdXNoKGxhc3ROb3RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL15beHpYWl0kLy50ZXN0KHRva2Vuc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAvLyBHcmFiIGEgcmVzdCAtIG5vIHBpdGNoLlxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZSBkb24ndCByZWNvZ25pemUgLSBub3QgYSBzdGVtLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmlnaHQgYWZ0ZXIgYSBbY2hvcmRdLCBub3RlLCBvciByZXN0LCBsb29rIGZvciBhIGR1cmF0aW9uIG1hcmtpbmcuXG4gICAgICAgIGlmIChpbmRleCA8IHRva2Vucy5sZW5ndGggJiYgL14oPyFbXFxzJSFdKS4qW1xcZFxcL10vLnRlc3QodG9rZW5zW2luZGV4XSkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gdG9rZW5zW2luZGV4KytdO1xuICAgICAgICAgICAgbm90ZVRpbWUgPSBkdXJhdGlvblRvVGltZShkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgZHVyYXRpb24gdG8gYWxsIHRoZSBudG9lcyBpbiB0aGUgc3RlbS5cbiAgICAgICAgICAgIC8vIE5PVEU6IHNwZWMgc3VnZ2VzdHMgbXVsdGlwbHlpbmcgdGhpcyBkdXJhdGlvbiwgYnV0IHRoYXRcbiAgICAgICAgICAgIC8vIGlkaW9tIGlzIG5vdCBzZWVuIChzbyBmYXIpIGluIHByYWN0aWNlLlxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbm90ZXNbal0uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS50aW1lID0gbm90ZVRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlbiBsb29rIGZvciBhIHRyYWlsaW5nIHRpZSBtYXJraW5nLiAgV2lsbCB0aWUgZXZlcnkgbm90ZSBpbiBhIGNob3JkLlxuICAgICAgICBpZiAoaW5kZXggPCB0b2tlbnMubGVuZ3RoICYmIFwiLVwiID09IHRva2Vuc1tpbmRleF0pIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBub3Rlc1tqXS50aWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhY2NlbnQuZHluYW1pY3MpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gYWNjZW50LmR5bmFtaWNzO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vdGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbm90ZXNbal0udmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgc3RlbToge1xuICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RhY2NhdG86IHN0YWNjYXRvLFxuICAgICAgICAgICAgICAgIHRpbWU6IGR1cmF0aW9uVG9UaW1lKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIE5vcm1hbGl6ZXMgcGl0Y2ggbWFya2luZ3MgYnkgc3RyaXBwaW5nIGxlYWRpbmcgPSBpZiBwcmVzZW50LlxuICAgIGZ1bmN0aW9uIHN0cmlwTmF0dXJhbChwaXRjaCkge1xuICAgICAgICBpZiAocGl0Y2gubGVuZ3RoID4gMCAmJiBwaXRjaC5jaGFyQXQoMCkgPT0gXCI9XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBwaXRjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpdGNoO1xuICAgIH1cbiAgICAvLyBQcm9jZXNzZXMgYW4gYWNjZW50ZWQgcGl0Y2gsIGF1dG9tYXRpY2FsbHkgYXBwbHlpbmcgYWNjaWRlbnRhbHNcbiAgICAvLyB0aGF0IGhhdmUgYWNjdW11bGF0ZWQgd2l0aGluIHRoZSBtZWFzdXJlLCBhbmQgYWxzbyBzYXZpbmdcbiAgICAvLyBleHBsaWNpdCBhY2NpZGVudGFscyB0byBjb250aW51ZSB0byBhcHBseSBpbiB0aGUgbWVhc3VyZS5cbiAgICBmdW5jdGlvbiBhcHBseUFjY2VudChwaXRjaCwga2V5LCBhY2NlbnQpIHtcbiAgICAgICAgdmFyIG0gPSAvXihcXF4rfF8rfD18KShbQS1HYS1nXSkoLiopJC8uZXhlYyhwaXRjaCksXG4gICAgICAgICAgICBsZXR0ZXI7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpdGNoO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGUgdGhhdCBhbiBhY2NpZGVudGFsIGluIG9uZSBvY3RhdmUgYXBwbGllcyBpbiBvdGhlciBvY3RhdmVzLlxuICAgICAgICBsZXR0ZXIgPSBtWzJdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChtWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYW4gZXhwbGljaXQgYWNjaWRlbnRhbCwgdGhlbiByZW1lbWJlciBpdCBmb3JcbiAgICAgICAgICAgIC8vIHRoZSByZXN0IG9mIHRoZSBtZWFzdXJlLlxuICAgICAgICAgICAgYWNjZW50W2xldHRlcl0gPSBtWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChwaXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjY2VudC5oYXNPd25Qcm9wZXJ0eShsZXR0ZXIpKSB7XG4gICAgICAgICAgICAvLyBBY2NpZGVudGFscyBmcm9tIHRoaXMgbWVhc3VyZSBhcHBseSB0byB1bmFjY2VudGVkIG5vdGVzLlxuICAgICAgICAgICAgcmV0dXJuIHN0cmlwTmF0dXJhbChhY2NlbnRbbGV0dGVyXSArIG1bMl0gKyBtWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5Lmhhc093blByb3BlcnR5KGxldHRlcikpIHtcbiAgICAgICAgICAgIC8vIEtleSBzaWduYXR1cmVzIGFwcGx5IGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICByZXR1cm4gc3RyaXBOYXR1cmFsKGtleVtsZXR0ZXJdICsgbVsyXSArIG1bM10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpcE5hdHVyYWwocGl0Y2gpO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0cyBhbiBBQkMgZHVyYXRpb24gdG8gYSBudW1iZXIgKGUuZy4sIFwiLzNcIi0+MC4zMzMgb3IgXCIxMS8yXCItPjEuNSkuXG4gICAgZnVuY3Rpb24gZHVyYXRpb25Ub1RpbWUoZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG0gPSAvXihcXGQqKSg/OlxcLyhcXGQqKSk/JHxeKFxcLyspJC8uZXhlYyhkdXJhdGlvbiksXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgaWxlbjtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIGlmIChtWzNdKSByZXR1cm4gTWF0aC5wb3coMC41LCBtWzNdLmxlbmd0aCk7XG4gICAgICAgIGQgPSBtWzJdID8gcGFyc2VGbG9hdChtWzJdKSA6IC9cXC8vLnRlc3QoZHVyYXRpb24pID8gMiA6IDE7XG4gICAgICAgIC8vIEhhbmRsZSBtaXhlZCBmcmF0aW9uczpcbiAgICAgICAgaWxlbiA9IDA7XG4gICAgICAgIG4gPSBtWzFdID8gcGFyc2VGbG9hdChtWzFdKSA6IDE7XG4gICAgICAgIGlmIChtWzJdKSB7XG4gICAgICAgICAgICB3aGlsZSAoaWxlbiArIDEgPCBtWzFdLmxlbmd0aCAmJiBuID4gZCkge1xuICAgICAgICAgICAgICAgIGlsZW4gKz0gMTtcbiAgICAgICAgICAgICAgICBpID0gcGFyc2VGbG9hdChtWzFdLnN1YnN0cmluZygwLCBpbGVuKSk7XG4gICAgICAgICAgICAgICAgbiA9IHBhcnNlRmxvYXQobVsxXS5zdWJzdHJpbmcoaWxlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpICsgbiAvIGQ7XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSU5TVFJVTUVOVFNcbi8vXG4vLyBBbGwgZnVydGhlciBkZXRhaWxzIG9mIGF1ZGlvIGhhbmRsaW5nIGFyZSBlbmNhcHN1bGF0ZWQgaW4gdGhlIEluc3RydW1lbnRcbi8vIGNsYXNzLCB3aGljaCBrbm93cyBob3cgdG8gc3ludGhlc2l6ZSBhIGJhc2ljIHRpbWJyZTsgaG93IHRvIHBsYXkgYW5kXG4vLyBzY2hlZHVsZSBhIHRvbmU7IGFuZCBob3cgdG8gcGFyc2UgYW5kIHNlcXVlbmNlIGEgc29uZyB3cml0dGVuIGluIEFCQ1xuLy8gbm90YXRpb24uXG5cbi8vIFRoZSBjb25zdHJ1Y3RvciBhY2NlcHRzIGEgdGltYnJlIHN0cmluZyBvciBvYmplY3QsIHNwZWNpZnlpbmdcbi8vIGl0cyBkZWZhdWx0IHNvdW5kLiAgVGhlIG1haW4gbWVjaGFuaXNtcyBpbiBJbnN0cnVtZW50IGFyZSBmb3IgaGFuZGxpbmdcbi8vIHNlcXVlbmNpbmcgb2YgYSAocG90ZW50aWFsbHkgbGFyZ2UpIHNldCBvZiBub3RlcyBvdmVyIGEgKHBvdGVudGlhbGx5XG4vLyBsb25nKSBwZXJpb2Qgb2YgdGltZS4gIFRoZSBvdmVyYWxsIHN0cmF0ZWd5OlxuLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICBFdmVudHM6ICAgICAgJ25vdGVvbicgICAgICAgICdub3Rlb2ZmJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4vLyB0b25lKCktKHF1aWNrIHRvbmVzKS0+fCBfc3RhcnRTZXQgLS0+fCBfZmluaXNoU2V0IC0tPnwgX2NsZWFudXBTZXQgLS0+fFxuLy8gICBcXCAgICAgICAgICAgICAgICAgICB8ICAvICAgICAgICAgICB8IFBsYXlpbmcgdG9uZXMgfCBEb25lIHRvbmVzICAgICB8XG4vLyAgICBcXC0tLS0gX3F1ZXVlIC0tLS0tLXwtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbi8vICAgICAgb2YgZnV0dXJlIHRvbmVzICB8MyBzZWNzIGFoZWFkIHNlbnQgdG8gV2ViQXVkaW8sIHJlbW92ZWQgd2hlbiBkb25lXG4vL1xuLy8gVGhlIHJlYXNvbiBmb3IgdGhpcyBxdWV1aW5nIGlzIHRvIHJlZHVjZSB0aGUgY29tcGxleGl0eSBvZiB0aGVcbi8vIG5vZGUgZ3JhcGggc2VudCB0byBXZWJBdWRpbzogYXQgYW55IHRpbWUsIFdlYkF1ZGlvIGlzIG9ubHlcbi8vIHJlc3BvbnNpYmxlIGZvciBhYm91dCAyIHNlY29uZHMgb2YgbXVzaWMuICBJZiBhIGdyYXBoIHdpdGggdG9vXG4vLyB0b28gbWFueSBub2RlcyBpcyBzZW50IHRvIFdlYkF1ZGlvIGF0IG9uY2UsIG91dHB1dCBkaXN0b3J0cyBiYWRseS5cblxuY2xhc3MgSW5zdHJ1bWVudCB7XG4gICAgc3RhdGljIHRpbWVPZmZzZXQgPSAwLjA2MjU7IC8vIFNlY29uZHMgdG8gZGVsYXkgYWxsIGF1ZGlhYmxlIHRpbWluZy5cbiAgICBzdGF0aWMgZGVxdWV1ZVRpbWUgPSAwLjU7IC8vIFNlY29uZHMgYmVmb3JlIGFuIGV2ZW50IHRvIHJlZXhhbWluZSBxdWV1ZS5cbiAgICBzdGF0aWMgYnVmZmVyU2VjcyA9IDI7IC8vIFNlY29uZHMgYWhlYWQgdG8gcHV0IG5vdGVzIGluIFdlYkF1ZGlvLlxuICAgIHN0YXRpYyB0b25lTGVuZ3RoID0gMTsgLy8gRGVmYXVsdCBkdXJhdGlvbiBvZiBhIHRvbmUuXG4gICAgc3RhdGljIGNsZWFudXBEZWxheSA9IDAuMTsgLy8gU2lsZW50IHRpbWUgYmVmb3JlIGRpc2Nvbm5lY3Rpbmcgbm9kZXMuXG5cbiAgICAvLyBBY2NlcHRzIGVpdGhlciBhbiBBQkMgcGl0Y2ggb3IgYSBtaWRpIG51bWJlciBhbmQgY29udmVydHMgdG8gbWlkaS5cbiAgICBzdGF0aWMgcGl0Y2hUb01pZGkobikge1xuICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLnBpdGNoVG9NaWRpKG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cblxuICAgIC8vIEFjY2VwdHMgZWl0aGVyIGFuIEFCQyBwaXRjaCBvciBhIG1pZGkgbnVtYmVyIGFuZCBjb252ZXJ0cyB0byBBQkMgcGl0Y2guXG4gICAgc3RhdGljIG1pZGlUb1BpdGNoKG4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5taWRpVG9QaXRjaChuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG5cbiAgICBfb3V0O1xuICAgIF9hdG9wO1xuICAgIF90aW1icmU7XG4gICAgX3F1ZXVlO1xuICAgIF9taW5RdWV1ZVRpbWU7XG4gICAgX21heFNjaGVkdWxlZFRpbWU7XG4gICAgX3Vuc29ydGVkUXVldWU7XG4gICAgX3N0YXJ0U2V0O1xuICAgIF9maW5pc2hTZXQ7XG4gICAgX2NsZWFudXBTZXQ7XG4gICAgX2NhbGxiYWNrU2V0O1xuICAgIF9oYW5kbGVycztcbiAgICBfbm93O1xuICAgIF9wb2xsVGltZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogYW55KSB7XG4gICAgICAgIHRoaXMuX2F0b3AgPSBVdGlscy5nZXRBdWRpb1RvcCgpOyAvLyBBdWRpbyBjb250ZXh0LlxuICAgICAgICB0aGlzLl90aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKG9wdGlvbnMsIHRoaXMuX2F0b3ApOyAvLyBUaGUgaW5zdHJ1bWVudCdzIHRpbWJyZS5cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTsgLy8gQSBxdWV1ZSBvZiBmdXR1cmUgdG9uZXMgdG8gcGxheS5cbiAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gSW5maW5pdHk7IC8vIFRoZSBlYXJsaWVzdCB0aW1lIGluIF9xdWV1ZS5cbiAgICAgICAgdGhpcy5fbWF4U2NoZWR1bGVkVGltZSA9IDA7IC8vIFRoZSBsYXRlc3QgdGltZSBpbiBfcXVldWUuXG4gICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSBmYWxzZTsgLy8gVHJ1ZSBpZiBfcXVldWUgaXMgdW5zb3J0ZWQuXG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0ID0gW107IC8vIFVuc3RhcnRlZCB0b25lcyBhbHJlYWR5IHNlbnQgdG8gV2ViQXVkaW8uXG4gICAgICAgIHRoaXMuX2ZpbmlzaFNldCA9IHt9OyAvLyBTdGFydGVkIHRvbmVzIHBsYXlpbmcgaW4gV2ViQXVkaW8uXG4gICAgICAgIHRoaXMuX2NsZWFudXBTZXQgPSBbXTsgLy8gVG9uZXMgd2FpdGluZyBmb3IgY2xlYW51cC5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQgPSBbXTsgLy8gQSBzZXQgb2Ygc2NoZWR1bGVkIGNhbGxiYWNrcy5cbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTsgLy8gJ25vdGVvbicgYW5kICdub3Rlb2ZmJyBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5fbm93ID0gbnVsbDsgLy8gQSBjYWNoZWQgY3VycmVudC10aW1lIHZhbHVlLlxuICAgICAgICBpZiAoVXRpbHMuaXNBdWRpb1ByZXNlbnQoKSkge1xuICAgICAgICAgICAgdGhpcy5zaWxlbmNlKCk7IC8vIEluaXRpYWxpemVzIHRvcC1sZXZlbCBhdWRpbyBub2RlLlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0cyB0aGUgZGVmYXVsdCB0aW1icmUgZm9yIHRoZSBpbnN0cnVtZW50LiAgU2VlIGRlZmF1bHRUaW1icmUuXG4gICAgc2V0VGltYnJlKHQpIHtcbiAgICAgICAgdGhpcy5fdGltYnJlID0gVXRpbHMubWFrZVRpbWJyZSh0LCB0aGlzLl9hdG9wKTsgLy8gU2F2ZXMgYSBjb3B5LlxuICAgIH1cblxuICAgIC8vIFJldHVybnMgdGhlIGRlZmF1bHQgdGltYnJlIGZvciB0aGUgaW5zdHJ1bWVudCBhcyBhbiBvYmplY3QuXG4gICAgZ2V0VGltYnJlKHQpIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLm1ha2VUaW1icmUodGhpcy5fdGltYnJlLCB0aGlzLl9hdG9wKTsgLy8gTWFrZXMgYSBjb3B5LlxuICAgIH1cblxuICAgIC8vIFNldHMgdGhlIG92ZXJhbGwgdm9sdW1lIGZvciB0aGUgaW5zdHJ1bWVudCBpbW1lZGlhdGVseS5cbiAgICBzZXRWb2x1bWUodikge1xuICAgICAgICAvLyBXaXRob3V0IGFuIGF1ZGlvIHN5c3RlbSwgdm9sdW1lIGNhbm5vdCBiZSBzZXQuXG4gICAgICAgIGlmICghdGhpcy5fb3V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc05hTih2KSkge1xuICAgICAgICAgICAgdGhpcy5fb3V0LmdhaW4udmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0cyB0aGUgb3ZlcmFsbCB2b2x1bWUgZm9yIHRoZSBpbnN0cnVtZW50LlxuICAgIGdldFZvbHVtZSh2KSB7XG4gICAgICAgIC8vIFdpdGhvdXQgYW4gYXVkaW8gc3lzdGVtLCB2b2x1bWUgaXMgc3R1Y2sgYXQgemVyby5cbiAgICAgICAgaWYgKCF0aGlzLl9vdXQpIHtcbiAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX291dC5nYWluLnZhbHVlO1xuICAgIH1cblxuICAgIC8vIFNpbGVuY2VzIHRoZSBpbnN0cnVtZW50IGltbWVkaWF0ZWx5IGJ5IHJlaW5pdGlhbGl6aW5nIHRoZSBhdWRpb1xuICAgIC8vIGdyYXBoIGZvciB0aGlzIGluc3RydW1lbnQgYW5kIGVtcHR5aW5nIG9yIGZsdXNoaW5nIGFsbCBxdWV1ZXMgaW4gdGhlXG4gICAgLy8gc2NoZWR1bGVyLiAgQ2FyZWZ1bGx5IG5vdGlmaWVzIGFsbCBub3RlcyB0aGF0IGhhdmUgc3RhcnRlZCBidXQgbm90XG4gICAgLy8geWV0IGZpbmlzaGVkLCBhbmQgc2VxdWVuY2VzIHRoYXQgYXJlIGF3YWl0aW5nIHNjaGVkdWxlZCBjYWxsYmFja3MuXG4gICAgLy8gRG9lcyBub3Qgbm90aWZ5IG5vdGVzIHRoYXQgaGF2ZSBub3QgeWV0IHN0YXJ0ZWQuXG4gICAgc2lsZW5jZSgpIHtcbiAgICAgICAgdmFyIGosXG4gICAgICAgICAgICBmaW5pc2hlZCxcbiAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIGluaXR2b2x1bWUgPSAxO1xuXG4gICAgICAgIC8vIENsZWFyIGZ1dHVyZSBub3Rlcy5cbiAgICAgICAgdGhpcy5fcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuX21heFNjaGVkdWxlZFRpbWUgPSAwO1xuXG4gICAgICAgIC8vIERvbid0IG5vdGlmeSBub3RlcyB0aGF0IGhhdmVuJ3Qgc3RhcnRlZCB5ZXQuXG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0Lmxlbmd0aCA9IDA7XG5cbiAgICAgICAgLy8gRmx1c2ggZmluaXNoIGNhbGxiYWNrcyB0aGF0IGFyZSBwcm9taXNlZC5cbiAgICAgICAgZmluaXNoZWQgPSB0aGlzLl9maW5pc2hTZXQ7XG4gICAgICAgIHRoaXMuX2ZpbmlzaFNldCA9IHt9O1xuXG4gICAgICAgIC8vIEZsdXNoIG9uZS10aW1lIGNhbGxhY2tzIHRoYXQgYXJlIHByb21pc2VkLlxuICAgICAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja1NldDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQgPSBbXTtcblxuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBncmFwaCBmb3IgdGhpcyBpbnN0cnVtZW50LlxuICAgICAgICBpZiAodGhpcy5fb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vdXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgaW5pdHZvbHVtZSA9IHRoaXMuX291dC5nYWluLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVpbml0aWFsaXplIHRoZSBhdWRpbyBncmFwaDogYWxsIGF1ZGlvIGZvciB0aGUgaW5zdHJ1bWVudFxuICAgICAgICAvLyBtdWx0aXBsZXhlcyB0aHJvdWdoIGEgc2luZ2xlIGdhaW4gbm9kZSB3aXRoIGEgbWFzdGVyIHZvbHVtZS5cbiAgICAgICAgdGhpcy5fYXRvcCA9IFV0aWxzLmdldEF1ZGlvVG9wKCk7XG4gICAgICAgIHRoaXMuX291dCA9IHRoaXMuX2F0b3AuYWMuY3JlYXRlR2FpbigpO1xuICAgICAgICAvLyB0aGlzLl9vdXQuZ2Fpbi52YWx1ZSA9IGluaXR2b2x1bWU7IC8vIFJPTllFSCBSRU1PVkVEIERVRSBUTyBCVUcuXG4gICAgICAgIHRoaXMuX291dC5nYWluLnNldFRhcmdldEF0VGltZShpbml0dm9sdW1lLCB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICB0aGlzLl9vdXQuY29ubmVjdCh0aGlzLl9hdG9wLm91dCk7XG5cbiAgICAgICAgLy8gQXMgYSBsYXN0IHN0ZXAsIGNhbGwgYWxsIHByb21pc2VkIG5vdGlmaWNhdGlvbnMuXG4gICAgICAgIGZvciAoaiBpbiBmaW5pc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihcIm5vdGVvZmZcIiwgZmluaXNoZWRbal0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNhbGxiYWNrc1tqXS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRnV0dXJlIG5vdGVzIGFyZSBzY2hlZHVsZWQgcmVsYXRpdmUgdG8gbm93KCksIHdoaWNoIHByb3ZpZGVzXG4gICAgLy8gYWNjZXNzIHRvIGF1ZGlvQ3VycmVudFN0YXJ0VGltZSgpLCBhIHRpbWUgdGhhdCBob2xkcyBzdGVhZHlcbiAgICAvLyB1bnRpbCB0aGUgc2NyaXB0IHJlbGVhc2VzIHRvIHRoZSBldmVudCBsb29wLiAgV2hlbiBfbm93IGlzXG4gICAgLy8gbm9uLW51bGwsIGl0IGluZGljYXRlcyB0aGF0IHNjaGVkdWxpbmcgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcy5cbiAgICAvLyBUaGUgdGltZXItZHJpdmVuIF9kb1BvbGwgZnVuY3Rpb24gY2xlYXJzIHRoZSBjYWNoZWQgX25vdy5cbiAgICBub3coKSB7XG4gICAgICAgIGlmICh0aGlzLl9ub3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vdztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydFBvbGxUaW1lcih0cnVlKTsgLy8gcGFzc2luZyAodHJ1ZSkgc2V0cyB0aGlzLl9ub3cuXG4gICAgICAgIHJldHVybiB0aGlzLl9ub3c7XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgYW4gZXZlbnQgaGFuZGxlci4gIERvbmUgd2l0aG91dCBqUXVlcnkgdG8gcmVkdWNlIGRlcGVuZGVuY2llcy5cbiAgICBvbihldmVudG5hbWUsIGNiKSB7XG4gICAgICAgIGlmICghdGhpcy5faGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV0ucHVzaChjYik7XG4gICAgfVxuXG4gICAgLy8gVW5yZWdpc3RlciBhbiBldmVudCBoYW5kbGVyLiAgRG9uZSB3aXRob3V0IGpRdWVyeSB0byByZWR1Y2UgZGVwZW5kZW5jaWVzLlxuICAgIG9mZihldmVudG5hbWUsIGNiKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudG5hbWUpKSB7XG4gICAgICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRuYW1lXSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaixcbiAgICAgICAgICAgICAgICAgICAgaHVudCA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50bmFtZV07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGh1bnQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh1bnRbal0gPT09IGNiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodW50LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyaWdnZXIgYW4gZXZlbnQsIG5vdGlmeWluZyBhbnkgcmVnaXN0ZXJlZCBoYW5kbGVycy5cbiAgICBfdHJpZ2dlcihldmVudG5hbWUsIHJlY29yZCkge1xuICAgICAgICB2YXIgY2IgPSB0aGlzLl9oYW5kbGVyc1tldmVudG5hbWVdLFxuICAgICAgICAgICAgajtcbiAgICAgICAgaWYgKCFjYikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYi5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCwgY29tbW9uIGNhc2Ugb2Ygb25lIGhhbmRsZXI6IG5vIGNvcHkgbmVlZGVkLlxuICAgICAgICAgICAgY2JbMF0ocmVjb3JkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3B5IHRoZSBhcnJheSBvZiBjYWxsYmFja3MgYmVmb3JlIGl0ZXJhdGluZywgYmVjYXVzZSB0aGVcbiAgICAgICAgLy8gbWFpbiB0aGlzLl9oYW5kbGVycyBjb3B5IGNvdWxkIGJlIGNoYW5nZWQgYnkgYSBoYW5kbGVyLlxuICAgICAgICAvLyBZb3UgZ2V0IG5vdGlmaWVkIGlmLWFuZC1vbmx5LWlmIHlvdSBhcmUgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBhdCB0aGUgc3RhcnRpbmcgbW9tZW50IG9mIF90cmlnZ2VyLlxuICAgICAgICBjYiA9IGNiLnNsaWNlKCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY2Jbal0ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRlbGxzIHRoZSBXZWJBdWRpbyBBUEkgdG8gcGxheSBhIHRvbmUgKG5vdyBvciBzb29uKS4gIFRoZSBwYXNzZWRcbiAgICAvLyByZWNvcmQgc3BlY2lmaWVzIGEgc3RhcnQgdGltZSBhbmQgcmVsZWFzZSB0aW1lLCBhbiBBRFNSIGVudmVsb3BlLFxuICAgIC8vIGFuZCBvdGhlciB0aW1icmUgcGFyYW1ldGVycy4gIFRoaXMgZnVuY3Rpb24gc2V0cyB1cCBhIFdlYkF1ZGlvXG4gICAgLy8gbm9kZSBncmFwaCBmb3IgdGhlIHRvbmUgZ2VuZXJhdG9ycyBhbmQgZmlsdGVycyBmb3IgdGhlIHRvbmUuXG4gICAgX21ha2VTb3VuZChyZWNvcmQpIHtcbiAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgc3RhcnR0aW1lID0gcmVjb3JkLnRpbWUgKyBJbnN0cnVtZW50LnRpbWVPZmZzZXQsXG4gICAgICAgICAgICByZWxlYXNldGltZSA9IHN0YXJ0dGltZSArIHJlY29yZC5kdXJhdGlvbixcbiAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICBkZWNheXRpbWUgPSB0aW1icmUuZGVjYXkgKiBNYXRoLnBvdyg0NDAgLyByZWNvcmQuZnJlcXVlbmN5LCB0aW1icmUuZGVjYXlmb2xsb3cpLFxuICAgICAgICAgICAgZGVjYXlzdGFydHRpbWUgPSBhdHRhY2t0aW1lLFxuICAgICAgICAgICAgc3RvcHRpbWUgPSByZWxlYXNldGltZSArIHRpbWJyZS5yZWxlYXNlLFxuICAgICAgICAgICAgZG91YmxlZCA9IHRpbWJyZS5kZXR1bmUgJiYgdGltYnJlLmRldHVuZSAhPSAxLjAsXG4gICAgICAgICAgICBhbXAgPSB0aW1icmUuZ2FpbiAqIHJlY29yZC52ZWxvY2l0eSAqIChkb3VibGVkID8gMC41IDogMS4wKSxcbiAgICAgICAgICAgIGFjID0gdGhpcy5fYXRvcC5hYyxcbiAgICAgICAgICAgIGcsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIG8yLFxuICAgICAgICAgICAgcHdhdmUsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgd2YsXG4gICAgICAgICAgICBid2Y7XG4gICAgICAgIC8vIE9ubHkgaG9vayB1cCB0b25lIGdlbmVyYXRvcnMgaWYgaXQgaXMgYW4gYXVkaWJsZSBzb3VuZC5cbiAgICAgICAgaWYgKHJlY29yZC5kdXJhdGlvbiA+IDAgJiYgcmVjb3JkLnZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgZyA9IGFjLmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCBzdGFydHRpbWUpO1xuICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGFtcCwgYXR0YWNrdGltZSk7XG4gICAgICAgICAgICAvLyBGb3IgdGhlIGJlZ2lubmluZyBvZiB0aGUgZGVjYXksIHVzZSBsaW5lYXJSYW1wVG9WYWx1ZSBpbnN0ZWFkXG4gICAgICAgICAgICAvLyBvZiBzZXRUYXJnZXRBdFRpbWUsIGJlY2F1c2UgaXQgYXZvaWRzIGh0dHA6Ly9jcmJ1Zy5jb20vMjU0OTQyLlxuICAgICAgICAgICAgd2hpbGUgKGRlY2F5c3RhcnR0aW1lIDwgYXR0YWNrdGltZSArIDEgLyAzMiAmJiBkZWNheXN0YXJ0dGltZSArIDEgLyAyNTYgPCByZWxlYXNldGltZSkge1xuICAgICAgICAgICAgICAgIC8vIEp1c3QgdHJhY2Ugb3V0IHRoZSBjdXJ2ZSBpbiBpbmNyZW1lbnRzIG9mIDEvMjU2IHNlY1xuICAgICAgICAgICAgICAgIC8vIGZvciB1cCB0byAxLzMyIHNlY29uZHMuXG4gICAgICAgICAgICAgICAgZGVjYXlzdGFydHRpbWUgKz0gMSAvIDI1NjtcbiAgICAgICAgICAgICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoYW1wICogKHRpbWJyZS5zdXN0YWluICsgKDEgLSB0aW1icmUuc3VzdGFpbikgKiBNYXRoLmV4cCgoYXR0YWNrdGltZSAtIGRlY2F5c3RhcnR0aW1lKSAvIGRlY2F5dGltZSkpLCBkZWNheXN0YXJ0dGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGRlY2F5LCB1c2Ugc2V0VGFyZ2V0QXRUaW1lLlxuICAgICAgICAgICAgZy5nYWluLnNldFRhcmdldEF0VGltZShhbXAgKiB0aW1icmUuc3VzdGFpbiwgZGVjYXlzdGFydHRpbWUsIGRlY2F5dGltZSk7XG4gICAgICAgICAgICAvLyBUaGVuIGF0IHJlbGVhc2UgdGltZSwgbWFyayB0aGUgdmFsdWUgYW5kIHJhbXAgdG8gemVyby5cbiAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gcmVsZWFzZXRpbWUpIC8gZGVjYXl0aW1lKSksIHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgIGcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBzdG9wdGltZSk7XG4gICAgICAgICAgICBnLmNvbm5lY3QodGhpcy5fb3V0KTtcbiAgICAgICAgICAgIC8vIEhvb2sgdXAgYSBsb3ctcGFzcyBmaWx0ZXIgaWYgY3V0b2ZmIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmICgoIXRpbWJyZS5jdXRvZmYgJiYgIXRpbWJyZS5jdXRmb2xsb3cpIHx8IHRpbWJyZS5jdXRvZmYgPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBmID0gZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGN1dG9mZiBmcmVxdWVuY3kgYWRqdXN0ZWQgdXNpbmcgY3V0Zm9sbG93LlxuICAgICAgICAgICAgICAgIGYgPSBhYy5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBmLmZyZXF1ZW5jeS52YWx1ZSA9IHRpbWJyZS5jdXRvZmYgKyByZWNvcmQuZnJlcXVlbmN5ICogdGltYnJlLmN1dGZvbGxvdzsgLy8gUk9OWUVIIFJFTU9WRUQgRFVFIFRPIEJVRy5cbiAgICAgICAgICAgICAgICAvLyBmLlEudmFsdWUgPSB0aW1icmUucmVzb25hbmNlOyAvLyBST05ZRUggUkVNT1ZFRCBEVUUgVE8gQlVHLlxuICAgICAgICAgICAgICAgIGYuZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZSh0aW1icmUuY3V0b2ZmICsgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5jdXRmb2xsb3csIHRoaXMuX2F0b3AuYWMuY3VycmVudFRpbWUsIDAuMDAxKTsgLy8gUk9OWUVIIEFEREVEXG4gICAgICAgICAgICAgICAgZi5RLnNldFRhcmdldEF0VGltZSh0aW1icmUucmVzb25hbmNlLCB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lLCAwLjAwMSk7IC8vIFJPTllFSCBBRERFRFxuICAgICAgICAgICAgICAgIGYuY29ubmVjdChnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhvb2sgdXAgdGhlIG1haW4gb3NjaWxsYXRvci5cbiAgICAgICAgICAgIG8gPSBVdGlscy5tYWtlT3NjaWxsYXRvcih0aGlzLl9hdG9wLCB0aW1icmUud2F2ZSwgcmVjb3JkLmZyZXF1ZW5jeSk7XG4gICAgICAgICAgICBvLmNvbm5lY3QoZik7XG4gICAgICAgICAgICBvLnN0YXJ0KHN0YXJ0dGltZSk7XG4gICAgICAgICAgICBvLnN0b3Aoc3RvcHRpbWUpO1xuICAgICAgICAgICAgLy8gSG9vayB1cCBhIGRldHVuZWQgb3NjaWxsYXRvci5cbiAgICAgICAgICAgIGlmIChkb3VibGVkKSB7XG4gICAgICAgICAgICAgICAgbzIgPSBVdGlscy5tYWtlT3NjaWxsYXRvcih0aGlzLl9hdG9wLCB0aW1icmUud2F2ZSwgcmVjb3JkLmZyZXF1ZW5jeSAqIHRpbWJyZS5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIG8yLmNvbm5lY3QoZik7XG4gICAgICAgICAgICAgICAgbzIuc3RhcnQoc3RhcnR0aW1lKTtcbiAgICAgICAgICAgICAgICBvMi5zdG9wKHN0b3B0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIG5vZGVzIGluIHRoZSByZWNvcmQgc28gdGhhdCB0aGV5IGNhbiBiZSBtb2RpZmllZFxuICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgdG9uZSBpcyB0cnVuY2F0ZWQgbGF0ZXIuXG4gICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBnO1xuICAgICAgICAgICAgcmVjb3JkLm9zY2lsbGF0b3JzID0gW29dO1xuICAgICAgICAgICAgaWYgKGRvdWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnMucHVzaChvMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQuY2xlYW51cHRpbWUgPSBzdG9wdGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluYXVkaWJsZSBzb3VuZHMgYXJlIHNjaGVkdWxlZDogdGhlaXIgcHVycG9zZSBpcyB0byB0cnVuY2F0ZVxuICAgICAgICAgICAgLy8gYXVkaWJsZSB0b25lcyBhdCB0aGUgc2FtZSBwaXRjaC4gIEJ1dCBkdXJhdGlvbiBpcyBzZXQgdG8gemVyb1xuICAgICAgICAgICAgLy8gc28gdGhhdCB0aGV5IGFyZSBjbGVhbmVkIHVwIHF1aWNrbHkuXG4gICAgICAgICAgICByZWNvcmQuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0U2V0LnB1c2gocmVjb3JkKTtcbiAgICB9XG4gICAgLy8gVHJ1bmNhdGVzIGEgc291bmQgcHJldmlvdXNseSBzY2hlZHVsZWQgYnkgX21ha2VTb3VuZCBieSB1c2luZ1xuICAgIC8vIGNhbmNlbFNjaGVkdWxlZFZhbHVlcyBhbmQgZGlyZWN0bHkgcmFtcGluZyBkb3duIHRvIHplcm8uXG4gICAgLy8gQ2FuIG9ubHkgYmUgdXNlZCB0byBzaG9ydGVuIGEgc291bmQuXG4gICAgX3RydW5jYXRlU291bmQocmVjb3JkLCB0cnVuY2F0ZXRpbWUpIHtcbiAgICAgICAgaWYgKHRydW5jYXRldGltZSA8IHJlY29yZC50aW1lICsgcmVjb3JkLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICByZWNvcmQuZHVyYXRpb24gPSBNYXRoLm1heCgwLCB0cnVuY2F0ZXRpbWUgLSByZWNvcmQudGltZSk7XG4gICAgICAgICAgICBpZiAocmVjb3JkLmdhaW5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWJyZSA9IHJlY29yZC50aW1icmUgfHwgdGhpcy5fdGltYnJlLFxuICAgICAgICAgICAgICAgICAgICBzdGFydHRpbWUgPSByZWNvcmQudGltZSArIEluc3RydW1lbnQudGltZU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZXRpbWUgPSB0cnVuY2F0ZXRpbWUgKyBJbnN0cnVtZW50LnRpbWVPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGF0dGFja3RpbWUgPSBNYXRoLm1pbihyZWxlYXNldGltZSwgc3RhcnR0aW1lICsgdGltYnJlLmF0dGFjayksXG4gICAgICAgICAgICAgICAgICAgIGRlY2F5dGltZSA9IHRpbWJyZS5kZWNheSAqIE1hdGgucG93KDQ0MCAvIHJlY29yZC5mcmVxdWVuY3ksIHRpbWJyZS5kZWNheWZvbGxvdyksXG4gICAgICAgICAgICAgICAgICAgIHN0b3B0aW1lID0gcmVsZWFzZXRpbWUgKyB0aW1icmUucmVsZWFzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cHRpbWUgPSBzdG9wdGltZSArIEluc3RydW1lbnQuY2xlYW51cERlbGF5LFxuICAgICAgICAgICAgICAgICAgICBkb3VibGVkID0gdGltYnJlLmRldHVuZSAmJiB0aW1icmUuZGV0dW5lICE9IDEuMCxcbiAgICAgICAgICAgICAgICAgICAgYW1wID0gdGltYnJlLmdhaW4gKiByZWNvcmQudmVsb2NpdHkgKiAoZG91YmxlZCA/IDAuNSA6IDEuMCksXG4gICAgICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgICAgIGcgPSByZWNvcmQuZ2Fpbk5vZGU7XG4gICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGFueSBlbnZlbG9wZSBwb2ludHMgYWZ0ZXIgdGhlIG5ldyByZWxlYXNldGltZS5cbiAgICAgICAgICAgICAgICBnLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsZWFzZXRpbWUgPD0gc3RhcnR0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgYmVmb3JlIHN0YXJ0PyAgVG90YWxseSBzaWxlbmNlIHRoZSBub3RlLlxuICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgcmVsZWFzZXRpbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVsZWFzZXRpbWUgPD0gYXR0YWNrdGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWxlYXNlIGJlZm9yZSBhdHRhY2sgaXMgZG9uZT8gIEludGVycnVwdCByYW1wIHVwLlxuICAgICAgICAgICAgICAgICAgICAvLyBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoKGFtcCAqIChyZWxlYXNldGltZSAtIHN0YXJ0dGltZSkpIC8gKGF0dGFja3RpbWUgLSBzdGFydHRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKChhbXAgKiAocmVsZWFzZXRpbWUgLSBzdGFydHRpbWUpKSAvIChhdHRhY2t0aW1lIC0gc3RhcnR0aW1lKSwgc3RhcnR0aW1lKTsgLy8gUk9OWUVIIEFEREVEIFNFQ09ORCBQQVJBTSBcInN0YXJ0dGltZVwiLlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbGVhc2UgZHVyaW5nIGRlY2F5PyAgSW50ZXJydXB0IGRlY2F5IGRvd24uXG4gICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZShhbXAgKiAodGltYnJlLnN1c3RhaW4gKyAoMSAtIHRpbWJyZS5zdXN0YWluKSAqIE1hdGguZXhwKChhdHRhY2t0aW1lIC0gcmVsZWFzZXRpbWUpIC8gZGVjYXl0aW1lKSksIHJlbGVhc2V0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhlbiByYW1wIGRvd24gdG8gemVybyBhY2NvcmRpbmcgdG8gcmVjb3JkLnJlbGVhc2UuXG4gICAgICAgICAgICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHN0b3B0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBBZnRlciBzdG9wdGltZSwgc3RvcCB0aGUgb3NjaWxsYXRvcnMuICBUaGlzIGlzIG5lY2Vzc2FyeSB0b1xuICAgICAgICAgICAgICAgIC8vIGVsaW1pbmF0ZSBleHRyYSB3b3JrIGZvciBXZWJBdWRpbyBmb3Igbm8tbG9uZ2VyLWF1ZGlibGUgbm90ZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5vc2NpbGxhdG9ycykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcmVjb3JkLm9zY2lsbGF0b3JzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQub3NjaWxsYXRvcnNbal0uc3RvcChzdG9wdGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgZGlzY29ubmVjdC5cbiAgICAgICAgICAgICAgICByZWNvcmQuY2xlYW51cHRpbWUgPSBjbGVhbnVwdGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgY29yZSBzY2hlZHVsaW5nIGxvb3AgaXMgbWFuYWdlZCBieSBJbnN0cnVtZW50Ll9kb1BvbGwuICBJdCByZWFkc1xuICAgIC8vIHRoZSBhdWRpb2NvbnRleHQncyBjdXJyZW50IHRpbWUgYW5kIHB1c2hlcyB0b25lIHJlY29yZHMgZnJvbSBvbmVcbiAgICAvLyBzdGFnZSB0byB0aGUgbmV4dC5cbiAgICAvL1xuICAgIC8vIDEuIFRoZSBmaXJzdCBzdGFnZSBpcyB0aGUgX3F1ZXVlLCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIG5vdFxuICAgIC8vICAgIHlldCBiZWVuIGdpdmVuIHRvIFdlYkF1ZGlvLiBUaGlzIGxvb3Agc2NhbnMgX3F1ZXVlIHRvIGZpbmRcbiAgICAvLyAgICBub3RlcyB0aGF0IG5lZWQgdG8gYmVnaW4gaW4gdGhlIG5leHQgZmV3IHNlY29uZHM7IHRoZW4gaXRcbiAgICAvLyAgICBzZW5kcyB0aG9zZSB0byBXZWJBZHVpbyBhbmQgbW92ZXMgdGhlbSB0byBfc3RhcnRTZXQuIEJlY2F1c2VcbiAgICAvLyAgICBzY2hlZHVsZWQgc29uZ3MgY2FuIGJlIGxvbmcsIF9xdWV1ZSBjYW4gYmUgbGFyZ2UuXG4gICAgLy9cbiAgICAvLyAyLiBTZWNvbmQgaXMgX3N0YXJ0U2V0LCB3aGljaCBoYXMgdG9uZXMgdGhhdCBoYXZlIGJlZW4gZ2l2ZW4gdG9cbiAgICAvLyAgICBXZWJBdWRpbywgYnV0IHdob3NlIHN0YXJ0IHRpbWVzIGhhdmUgbm90IHlldCBlbGFwc2VkLiBXaGVuXG4gICAgLy8gICAgdGhlIHRpbWUgYWR2YW5jZXMgcGFzdCB0aGUgc3RhcnQgdGltZSBvZiBhIHJlY29yZCwgYSAnbm90ZW9uJ1xuICAgIC8vICAgIG5vdGlmaWNhdGlvbiBpcyBmaXJlZCBmb3IgdGhlIHRvbmUsIGFuZCBpdCBpcyBtb3ZlZCB0b1xuICAgIC8vICAgIF9maW5pc2hTZXQuXG4gICAgLy9cbiAgICAvLyAzLiBfZmluaXNoU2V0IHJlcHJlc2VudHMgdGhlIG5vdGVzIHRoYXQgYXJlIGN1cnJlbnRseSBzb3VuZGluZy5cbiAgICAvLyAgICBUaGUgcHJvZ3JhbW1pbmcgbW9kZWwgZm9yIEluc3RydW1lbnQgaXMgdGhhdCBvbmx5IG9uZSB0b25lIG9mXG4gICAgLy8gICAgYSBzcGVjaWZpYyBmcmVxdWVuY3kgbWF5IGJlIHBsYXllZCBhdCBvbmNlIHdpdGhpbiBhIEluc3RydW1lbnQsXG4gICAgLy8gICAgc28gb25seSBvbmUgdG9uZSBvZiBhIGdpdmVuIGZyZXF1ZW5jeSBtYXkgZXhpc3QgaW4gX2ZpbmlzaFNldFxuICAgIC8vICAgIGF0IG9uY2UuICBXaGVuIHRoZXJlIGlzIGEgY29uZmxpY3QsIHRoZSBzb29uZXItdG8tZW5kLW5vdGVcbiAgICAvLyAgICBpcyB0cnVuY2F0ZWQuXG4gICAgLy9cbiAgICAvLyA0LiBBZnRlciBhIG5vdGUgaXMgcmVsZWFzZWQsIGl0IG1heSBoYXZlIGEgbGl0bGUgcmVsZWFzZSB0aW1lXG4gICAgLy8gICAgKGRlcGVuZGluZyBvbiB0aW1icmUucmVsZWFzZSksIGFmdGVyIHdoaWNoIHRoZSBub2RlcyBjYW5cbiAgICAvLyAgICBiZSB0b3RhbGx5IGRpc2Nvbm5lY3RlZCBhbmQgY2xlYW5lZCB1cC4gIF9jbGVhbnVwU2V0IGhvbGRzXG4gICAgLy8gICAgbm90ZXMgZm9yIHdoaWNoIHdlIGFyZSBhd2FpdGluZyBjbGVhbnVwLlxuICAgIF9kb1BvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuX25vdyA9IG51bGw7XG4gICAgICAgIGlmICh3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJpbnRlcnJ1cHRlZFwiKSAmJiB3aW5kb3dbXCJpbnRlcnJ1cHRlZFwiXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaWxlbmNlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHNob3J0ZXN0IHRpbWUgd2UgY2FuIGRlbGF5IGlzIDEgLyAxMDAwIHNlY3MsIHNvIGlmIGFuIGV2ZW50XG4gICAgICAgIC8vIGlzIHdpdGhpbiB0aGUgbmV4dCAwLjUgbXMsIG5vdyBpcyB0aGUgY2xvc2VzdCBtb21lbnQsIGFuZCB3ZSBnb1xuICAgICAgICAvLyBhaGVhZCBhbmQgcHJvY2VzcyBpdC5cbiAgICAgICAgdmFyIGluc3RhbnQgPSB0aGlzLl9hdG9wLmFjLmN1cnJlbnRUaW1lICsgMSAvIDIwMDAsXG4gICAgICAgICAgICBjYWxsYmFja3MgPSBbXSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICB3b3JrLFxuICAgICAgICAgICAgd2hlbixcbiAgICAgICAgICAgIGZyZXEsXG4gICAgICAgICAgICByZWNvcmQsXG4gICAgICAgICAgICBjb25mbGljdCxcbiAgICAgICAgICAgIHNhdmUsXG4gICAgICAgICAgICBjYjtcbiAgICAgICAgLy8gU2NoZWR1bGUgYSBiYXRjaCBvZiBub3Rlc1xuICAgICAgICBpZiAodGhpcy5fbWluUXVldWVUaW1lIC0gaW5zdGFudCA8PSBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91bnNvcnRlZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS50aW1lICE9IGIudGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudGltZSAtIGIudGltZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYS5kdXJhdGlvbiAhPSBiLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5kdXJhdGlvbiAtIGIuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZnJlcXVlbmN5IC0gYi5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5zb3J0ZWRRdWV1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX3F1ZXVlLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlW2pdLnRpbWUgLSBpbnN0YW50ID4gSW5zdHJ1bWVudC5idWZmZXJTZWNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIHdvcmsgPSB0aGlzLl9xdWV1ZS5zcGxpY2UoMCwgaik7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHdvcmsubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZVNvdW5kKHdvcmtbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9taW5RdWV1ZVRpbWUgPSB0aGlzLl9xdWV1ZS5sZW5ndGggPiAwID8gdGhpcy5fcXVldWVbMF0udGltZSA6IEluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERpc2Nvbm5lY3Qgbm90ZXMgZnJvbSB0aGUgY2xlYW51cCBzZXQuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9jbGVhbnVwU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9jbGVhbnVwU2V0W2pdO1xuICAgICAgICAgICAgaWYgKHJlY29yZC5jbGVhbnVwdGltZSA8IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmdhaW5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZXhwbGljaXQgZGlzY29ubmVjdCBpcyBuZWVkZWQgb3IgZWxzZSBDaHJvbWUncyBXZWJBdWRpb1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydHMgZ2V0dGluZyBvdmVybG9hZGVkIGFmdGVyIGEgY291cGxlIHRob3VzYW5kIG5vdGVzLlxuICAgICAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQuZ2Fpbk5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhbnVwU2V0LnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICBqIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90aWZ5IGFib3V0IGFueSBub3RlcyBmaW5pc2hpbmcuXG4gICAgICAgIGZvciAoZnJlcSBpbiB0aGlzLl9maW5pc2hTZXQpIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2ZpbmlzaFNldFtmcmVxXTtcbiAgICAgICAgICAgIHdoZW4gPSByZWNvcmQudGltZSArIHJlY29yZC5kdXJhdGlvbjtcbiAgICAgICAgICAgIGlmICh3aGVuIDw9IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbd2hlbiwgMF0sXG4gICAgICAgICAgICAgICAgICAgIGY6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGE6IFtcIm5vdGVvZmZcIiwgcmVjb3JkXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmNsZWFudXB0aW1lICE9IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBTZXQucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZmluaXNoU2V0W2ZyZXFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENhbGwgYW55IHNwZWNpZmljIG9uZS10aW1lIGNhbGxiYWNrcyB0aGF0IHdlcmUgcmVnaXN0ZXJlZC5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2NhbGxiYWNrU2V0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBjYiA9IHRoaXMuX2NhbGxiYWNrU2V0W2pdO1xuICAgICAgICAgICAgd2hlbiA9IGNiLnRpbWU7XG4gICAgICAgICAgICBpZiAod2hlbiA8PSBpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3doZW4sIDFdLFxuICAgICAgICAgICAgICAgICAgICBmOiBjYi5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYTogW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RpZnkgYWJvdXQgYW55IG5vdGVzIHN0YXJ0aW5nLlxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fc3RhcnRTZXQubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydFNldFtqXS50aW1lIDw9IGluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBzYXZlID0gcmVjb3JkID0gdGhpcy5fc3RhcnRTZXRbal07XG4gICAgICAgICAgICAgICAgZnJlcSA9IHJlY29yZC5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgY29uZmxpY3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maW5pc2hTZXQuaGFzT3duUHJvcGVydHkoZnJlcSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIG5vdGUgYXQgdGhlIHNhbWUgZnJlcXVlbmN5IHBsYXlpbmcsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVsZWFzZSB0aGUgb25lIHRoYXQgc3RhcnRzIGZpcnN0LCBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25mbGljdC50aW1lIDwgcmVjb3JkLnRpbWUgfHwgKGNvbmZsaWN0LnRpbWUgPT0gcmVjb3JkLnRpbWUgJiYgY29uZmxpY3QuZHVyYXRpb24gPCByZWNvcmQuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdXIgbmV3IHNvdW5kIGNvbmZsaWN0cyB3aXRoIGFuIG9sZCBvbmU6IGVuZCB0aGUgb2xkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG5vdGlmeSBpbW1lZGlhdGVseSBvZiBpdHMgbm90ZW9mZiBldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RydW5jYXRlU291bmQoY29uZmxpY3QsIHJlY29yZC50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3JlY29yZC50aW1lLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOiB0aGlzLl90cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9mZlwiLCBjb25mbGljdF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9maW5pc2hTZXRbZnJlcV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIGNvbmZsaWN0IGZyb20gdGhlIGZ1dHVyZSBoYXMgYWxyZWFkeSBzY2hlZHVsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBvdXIgb3duIG5vdGUgc2hvdWxkbid0IHNvdW5kLiAgVHJ1bmNhdGUgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSwgYW5kIHN1cHByZXNzIG91ciBvd24gbm90ZW9uIGFuZCBub3Rlb2ZmLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ1bmNhdGVTb3VuZChyZWNvcmQsIGNvbmZsaWN0LnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSByZWNvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRTZXQuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGogLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmR1cmF0aW9uID4gMCAmJiByZWNvcmQudmVsb2NpdHkgPiAwICYmIGNvbmZsaWN0ICE9PSByZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoU2V0W2ZyZXFdID0gcmVjb3JkO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogW3JlY29yZC50aW1lLCAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGY6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYTogW1wibm90ZW9uXCIsIHJlY29yZF0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTY2hlZHVsZSB0aGUgbmV4dCBfZG9Qb2xsLlxuICAgICAgICB0aGlzLl9zdGFydFBvbGxUaW1lcigpO1xuXG4gICAgICAgIC8vIFNvcnQgY2FsbGJhY2tzIGFjY29yZGluZyB0byB0aGUgXCJvcmRlclwiIHR1cGxlLCBzbyBlYXJsaWVyIGV2ZW50c1xuICAgICAgICAvLyBhcmUgbm90aWZpZWQgZmlyc3QuXG4gICAgICAgIGNhbGxiYWNrcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYS5vcmRlclswXSAhPSBiLm9yZGVyWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJbMF0gLSBiLm9yZGVyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGllYnJlYWsgYnkgbm90aWZ5aW5nICdub3Rlb2ZmJyBmaXJzdCBhbmQgJ25vdGVvbicgbGFzdC5cbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyWzFdIC0gYi5vcmRlclsxXTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEF0IHRoZSBlbmQsIGNhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aG91dCBkZXBlbmRpbmcgb24gXCJ0aGlzXCIgc3RhdGUuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNiID0gY2FsbGJhY2tzW2pdO1xuICAgICAgICAgICAgY2IuZi5hcHBseShjYi50LCBjYi5hKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTY2hlZHVsZXMgdGhlIG5leHQgX2RvUG9sbCBjYWxsIGJ5IGV4YW1pbmluZyB0aW1lcyBpbiB0aGUgdmFyaW91c1xuICAgIC8vIHNldHMgYW5kIGRldGVybWluaW5nIHRoZSBzb29uZXN0IGV2ZW50IHRoYXQgbmVlZHMgX2RvUG9sbCBwcm9jZXNzaW5nLlxuICAgIF9zdGFydFBvbGxUaW1lcihzZXRub3c6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSBhIFwic2V0bm93XCIsIHRoZW4gcG9sbFRpbWVyIGlzIHplcm8tdGltZW91dFxuICAgICAgICAvLyBhbmQgY2Fubm90IGJlIGZhc3Rlci5cbiAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lciAmJiB0aGlzLl9ub3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZG9Qb2xsKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWFybGllc3QgPSBJbmZpbml0eSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBkZWxheTtcbiAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lcikge1xuICAgICAgICAgICAgLy8gQ2xlYXIgYW55IG9sZCB0aW1lclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3BvbGxUaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9wb2xsVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRub3cpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gc2NoZWR1bGluZyB0b25lcywgY2FjaGUgX25vdyBhbmQga2VlcCBhIHplcm8tdGltZW91dCBwb2xsLlxuICAgICAgICAgICAgLy8gX25vdyB3aWxsIGJlIGNsZWFyZWQgdGhlIG5leHQgdGltZSB3ZSBleGVjdXRlIF9kb1BvbGwuXG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBVdGlscy5hdWRpb0N1cnJlbnRTdGFydFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IHNldFRpbWVvdXQocG9sbCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIG5vdGVzIHN0YXJ0aW5nOiB3YWtlIHVwIGZvciAnbm90ZW9uJyBub3RpZmljYXRpb24uXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9zdGFydFNldC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fc3RhcnRTZXRbal0udGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIG5vdGVzIGZpbmlzaGluZzogd2FrZSB1cCBmb3IgJ25vdGVvZmYnIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgZm9yIChqIGluIHRoaXMuX2ZpbmlzaFNldCkge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fZmluaXNoU2V0W2pdLnRpbWUgKyB0aGlzLl9maW5pc2hTZXRbal0uZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRpbWVyIGR1ZSB0byBzY2hlZHVsZWQgY2FsbGJhY2suXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9jYWxsYmFja1NldC5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fY2FsbGJhY2tTZXRbal0udGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGltZXIgZHVlIHRvIGNsZWFudXA6IGFkZCBhIHNlY29uZCB0byBnaXZlIHNvbWUgdGltZSB0byBiYXRjaCB1cC5cbiAgICAgICAgaWYgKHRoaXMuX2NsZWFudXBTZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZWFybGllc3QgPSBNYXRoLm1pbihlYXJsaWVzdCwgdGhpcy5fY2xlYW51cFNldFswXS5jbGVhbnVwdGltZSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRpbWVyIGR1ZSB0byBzZXF1ZW5jZXIgZXZlbnRzOiBzdWJ0cmFjdCBhIGxpdHRsZSB0aW1lIHRvIHN0YXkgYWhlYWQuXG4gICAgICAgIGVhcmxpZXN0ID0gTWF0aC5taW4oZWFybGllc3QsIHRoaXMuX21pblF1ZXVlVGltZSAtIEluc3RydW1lbnQuZGVxdWV1ZVRpbWUpO1xuXG4gICAgICAgIGRlbGF5ID0gTWF0aC5tYXgoMC4wMDEsIGVhcmxpZXN0IC0gdGhpcy5fYXRvcC5hYy5jdXJyZW50VGltZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGZ1dHVyZSBldmVudHMsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSB0aW1lci5cbiAgICAgICAgaWYgKGlzTmFOKGRlbGF5KSB8fCBkZWxheSA9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIHRoZSBKYXZhc2NyaXB0IHRpbWVyIHRvIHdha2UgdXAgYXQgdGhlIHJpZ2h0IG1vbWVudC5cbiAgICAgICAgdGhpcy5fcG9sbFRpbWVyID0gc2V0VGltZW91dChwb2xsLCBNYXRoLnJvdW5kKGRlbGF5ICogMTAwMCkpO1xuICAgIH1cblxuICAgIC8vIFRoZSBsb3ctbGV2ZWwgdG9uZSBmdW5jdGlvbi5cbiAgICB0b25lKHBpdGNoLCBkdXJhdGlvbiwgdmVsb2NpdHksIGRlbGF5LCB0aW1icmUsIG9yaWdpbikge1xuICAgICAgICAvLyBJZiBhdWRpbyBpcyBub3QgcHJlc2VudCwgdGhpcyBpcyBhIG5vLW9wLlxuICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxlZCB3aXRoIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGxpc3RlZCBhcmdzLlxuICAgICAgICBpZiAodHlwZW9mIHBpdGNoID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA9PSBudWxsKSB2ZWxvY2l0eSA9IHBpdGNoLnZlbG9jaXR5O1xuICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09IG51bGwpIGR1cmF0aW9uID0gcGl0Y2guZHVyYXRpb247XG4gICAgICAgICAgICBpZiAoZGVsYXkgPT0gbnVsbCkgZGVsYXkgPSBwaXRjaC5kZWxheTtcbiAgICAgICAgICAgIGlmICh0aW1icmUgPT0gbnVsbCkgdGltYnJlID0gcGl0Y2gudGltYnJlO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiA9PSBudWxsKSBvcmlnaW4gPSBwaXRjaC5vcmlnaW47XG4gICAgICAgICAgICBwaXRjaCA9IHBpdGNoLnBpdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCBwaXRjaCBmcm9tIHZhcmlvdXMgZm9ybWF0cyB0byBIeiBmcmVxdWVuY3kgYW5kIGEgbWlkaSBudW0uXG4gICAgICAgIHZhciBtaWRpLCBmcmVxdWVuY3k7XG4gICAgICAgIGlmICghcGl0Y2gpIHtcbiAgICAgICAgICAgIHBpdGNoID0gXCJDXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHBpdGNoKSkge1xuICAgICAgICAgICAgbWlkaSA9IFV0aWxzLnBpdGNoVG9NaWRpKHBpdGNoKTtcbiAgICAgICAgICAgIGZyZXF1ZW5jeSA9IFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShtaWRpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyZXF1ZW5jeSA9IE51bWJlcihwaXRjaCk7XG4gICAgICAgICAgICBpZiAoZnJlcXVlbmN5IDwgMCkge1xuICAgICAgICAgICAgICAgIG1pZGkgPSAtZnJlcXVlbmN5O1xuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IFV0aWxzLm1pZGlUb0ZyZXF1ZW5jeShtaWRpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWlkaSA9IFV0aWxzLmZyZXF1ZW5jeVRvTWlkaShmcmVxdWVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aW1icmUpIHtcbiAgICAgICAgICAgIHRpbWJyZSA9IHRoaXMuX3RpbWJyZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGN1c3RvbSB0aW1icmUsIHZhbGlkYXRlIGFuZCBjb3B5IGl0LlxuICAgICAgICBpZiAodGltYnJlICE9PSB0aGlzLl90aW1icmUpIHtcbiAgICAgICAgICAgIHZhciBnaXZlbiA9IHRpbWJyZSxcbiAgICAgICAgICAgICAgICBrZXk7XG4gICAgICAgICAgICB0aW1icmUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIFV0aWxzLmRlZmF1bHRUaW1icmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGdpdmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWJyZVtrZXldID0gZ2l2ZW5ba2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aW1icmVba2V5XSA9IFV0aWxzLmRlZmF1bHRUaW1icmVba2V5XTsgLy8gUk9OWUVIOiBUaGVyZSB3YXMgYSB0eXBvIGJ1ZyBpbiB0aGUgb3JpZ2luYWwgTXVzaWNhbC5qcy4gSXQgd2FzIGNhdWdodCBieSBvdXIgVHlwZVNjcmlwdCBjb21waWxlci5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHJlY29yZCBmb3IgYSB0b25lLlxuICAgICAgICB2YXIgYWMgPSB0aGlzLl9hdG9wLmFjLFxuICAgICAgICAgICAgbm93ID0gdGhpcy5ub3coKSxcbiAgICAgICAgICAgIHRpbWUgPSBub3cgKyAoZGVsYXkgfHwgMCksXG4gICAgICAgICAgICByZWNvcmQgPSB7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgICAgICAgICBvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBmcmVxdWVuY3ksXG4gICAgICAgICAgICAgICAgbWlkaTogbWlkaSxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogdmVsb2NpdHkgPT0gbnVsbCA/IDEgOiB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gPT0gbnVsbCA/IEluc3RydW1lbnQudG9uZUxlbmd0aCA6IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHRpbWJyZTogdGltYnJlLFxuICAgICAgICAgICAgICAgIGluc3RydW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3NjaWxsYXRvcnM6IG51bGwsXG4gICAgICAgICAgICAgICAgY2xlYW51cHRpbWU6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIG9yaWdpbjogb3JpZ2luLCAvLyBzYXZlIHRoZSBvcmlnaW4gb2YgdGhlIHRvbmUgZm9yIHZpc2libGUgZmVlZGJhY2tcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRpbWUgPCBub3cgKyBJbnN0cnVtZW50LmJ1ZmZlclNlY3MpIHtcbiAgICAgICAgICAgIC8vIFRoZSB0b25lIHN0YXJ0cyBzb29uISAgR2l2ZSBpdCBkaXJlY3RseSB0byBXZWJBdWRpby5cbiAgICAgICAgICAgIHRoaXMuX21ha2VTb3VuZChyZWNvcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIHRvbmUgaXMgbGF0ZXI6IHF1ZXVlIGl0LlxuICAgICAgICAgICAgaWYgKCF0aGlzLl91bnNvcnRlZFF1ZXVlICYmIHRoaXMuX3F1ZXVlLmxlbmd0aCAmJiB0aW1lIDwgdGhpcy5fcXVldWVbdGhpcy5fcXVldWUubGVuZ3RoIC0gMV0udGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Vuc29ydGVkUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgdGhpcy5fbWluUXVldWVUaW1lID0gTWF0aC5taW4odGhpcy5fbWluUXVldWVUaW1lLCByZWNvcmQudGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVGhlIGxvdy1sZXZlbCBjYWxsYmFjayBzY2hlZHVsaW5nIG1ldGhvZC5cbiAgICBzY2hlZHVsZShkZWxheSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTZXQucHVzaCh7IHRpbWU6IHRoaXMubm93KCkgKyBkZWxheSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgaGlnaC1sZXZlbCBzZXF1ZW5jaW5nIG1ldGhvZC5cbiAgICBwbGF5KGFiY3N0cmluZykge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICBkb25lID0gbnVsbCxcbiAgICAgICAgICAgIG9wdHMgPSB7fSxcbiAgICAgICAgICAgIHN1YmZpbGUsXG4gICAgICAgICAgICBhYmNmaWxlLFxuICAgICAgICAgICAgYXJnaW5kZXgsXG4gICAgICAgICAgICB0ZW1wbyxcbiAgICAgICAgICAgIHRpbWJyZSxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIG1heGRlbGF5ID0gMCxcbiAgICAgICAgICAgIGF0dGVudWF0ZSxcbiAgICAgICAgICAgIHZvaWNlbmFtZSxcbiAgICAgICAgICAgIHN0ZW1zLFxuICAgICAgICAgICAgbmksXG4gICAgICAgICAgICB2bixcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBzdGVtLFxuICAgICAgICAgICAgbm90ZSxcbiAgICAgICAgICAgIGJlYXRzZWNzLFxuICAgICAgICAgICAgc2VjcyxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBmaWxlcyA9IFtdO1xuICAgICAgICAvLyBMb29rIGZvciBjb250aW51YXRpb24gYXMgbGFzdCBhcmd1bWVudC5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBkb25lID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2F0b3ApIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvb2sgZm9yIG9wdGlvbnMgYXMgZmlyc3Qgb2JqZWN0LlxuICAgICAgICBhcmdpbmRleCA9IDA7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAgICAgICAvLyBDb3B5IG93biBwcm9wZXJ0aWVzIGludG8gYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICAgICAgICBmb3IgKGsgaW4gYXJnc1swXSlcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRzW2tdID0gYXJnc1swXVtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdpbmRleCA9IDE7XG4gICAgICAgICAgICAvLyBJZiBhIHNvbmcgaXMgc3VwcGxpZWQgYnkgb3B0aW9ucyBvYmplY3QsIHByb2Nlc3MgaXQuXG4gICAgICAgICAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eShcInNvbmdcIikpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2gob3B0c1tcInNvbmdcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIGFueSBudW1iZXIgb2YgQUJDIGZpbGVzIGFzIGlucHV0LlxuICAgICAgICBmb3IgKDsgYXJnaW5kZXggPCBhcmdzLmxlbmd0aDsgKythcmdpbmRleCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHNwbGl0dGluZyBvZiBBQkMgc3ViZmlsZXMgYXQgWDogbGluZXMuXG4gICAgICAgICAgICBzdWJmaWxlID0gYXJnc1thcmdpbmRleF0uc3BsaXQoL1xcbig/PVg6KS8pO1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHN1YmZpbGUubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICBhYmNmaWxlID0gcGFyc2VBQkNGaWxlKHN1YmZpbGVba10pO1xuICAgICAgICAgICAgICAgIGlmICghYWJjZmlsZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gVGFrZSB0ZW1wbyBtYXJraW5ncyBmcm9tIHRoZSBmaXJzdCBmaWxlLCBhbmQgc2hhcmUgdGhlbS5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoXCJ0ZW1wb1wiKSAmJiBhYmNmaWxlLnRlbXBvKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHNbXCJ0ZW1wb1wiXSA9IGFiY2ZpbGUudGVtcG87XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYmNmaWxlLnVuaXRiZWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzW1widGVtcG9cIl0gPSAob3B0c1tcInRlbXBvXCJdICogYWJjZmlsZS51bml0YmVhdCkgLyAoYWJjZmlsZS51bml0bm90ZSB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZmlsZXMgd2l0aG91dCBzb25ncy5cbiAgICAgICAgICAgICAgICBpZiAoIWFiY2ZpbGUudm9pY2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goYWJjZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCB0ZW1wbyB0byAxMjAgaWYgbm90aGluZyBlbHNlIGlzIHNwZWNpZmllZC5cbiAgICAgICAgaWYgKCFvcHRzLmhhc093blByb3BlcnR5KFwidGVtcG9cIikpIHtcbiAgICAgICAgICAgIG9wdHNbXCJ0ZW1wb1wiXSA9IDEyMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHZvbHVtZSB0byAxIGlmIG5vdGhpbmcgaXMgc3BlY2lmaWVkLlxuICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoXCJ2b2x1bWVcIikpIHtcbiAgICAgICAgICAgIG9wdHNbXCJ2b2x1bWVcIl0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGJlYXRzZWNzID0gNjAuMCAvIG9wdHNbXCJ0ZW1wb1wiXTtcbiAgICAgICAgLy8gU2NoZWR1bGUgYWxsIG5vdGVzIGZyb20gYWxsIHRoZSBmaWxlcy5cbiAgICAgICAgZm9yIChrID0gMDsgayA8IGZpbGVzLmxlbmd0aDsgKytrKSB7XG4gICAgICAgICAgICBhYmNmaWxlID0gZmlsZXNba107XG4gICAgICAgICAgICAvLyBFYWNoIGZpbGUgY2FuIGhhdmUgbXVsdGlwbGUgdm9pY2VzIChlLmcuLCBsZWZ0IGFuZCByaWdodCBoYW5kcylcbiAgICAgICAgICAgIGZvciAodm4gaW4gYWJjZmlsZS52b2ljZSkge1xuICAgICAgICAgICAgICAgIC8vIEVhY2ggdm9pY2UgY291bGQgaGF2ZSBhIHNlcGFyYXRlIHRpbWJyZS5cbiAgICAgICAgICAgICAgICB0aW1icmUgPSBVdGlscy5tYWtlVGltYnJlKG9wdHNbXCJ0aW1icmVcIl0gfHwgYWJjZmlsZS52b2ljZVt2bl0udGltYnJlIHx8IGFiY2ZpbGUudGltYnJlIHx8IHRoaXMuX3RpbWJyZSwgdGhpcy5fYXRvcCk7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCB2b2ljZSBoYXMgYSBzZXJpZXMgb2Ygc3RlbXMgKG5vdGVzIG9yIGNob3JkcykuXG4gICAgICAgICAgICAgICAgc3RlbXMgPSBhYmNmaWxlLnZvaWNlW3ZuXS5zdGVtcztcbiAgICAgICAgICAgICAgICBpZiAoIXN0ZW1zKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydGluZyBhdCBkZWxheSB6ZXJvIChub3cpLCBzY2hlZHVsZSBhbGwgdG9uZXMuXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobmkgPSAwOyBuaSA8IHN0ZW1zLmxlbmd0aDsgKytuaSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVtID0gc3RlbXNbbmldO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbnVhdGUgY2hvcmRzIHRvIHJlZHVjZSBjbGlwcGluZy5cbiAgICAgICAgICAgICAgICAgICAgYXR0ZW51YXRlID0gMSAvIE1hdGguc3FydChzdGVtLm5vdGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNjaGVkdWxlIGV2ZXJ5IG5vdGUgaW5zaWRlIGEgc3RlbS5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0ZW0ubm90ZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgPSBzdGVtLm5vdGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuaG9sZG92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGhvbGRvdmVyIG5vdGVzIGZyb20gdGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgPSAobm90ZS50aW1lIHx8IHN0ZW0udGltZSkgKiBiZWF0c2VjcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVtLnN0YWNjYXRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvcnRlbiBzdGFjY2F0byBub3Rlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzID0gTWF0aC5taW4oTWF0aC5taW4oc2VjcywgYmVhdHNlY3MgLyAxNiksIHRpbWJyZS5hdHRhY2sgKyB0aW1icmUuZGVjYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbm90ZS5zbHVycmVkICYmIHNlY3MgPj0gMSAvIDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXBhcmF0ZSB1bnNsdXJyZWQgbm90ZXMgYnkgYWJvdXQgYSAzMHRoIG9mIGEgc2Vjb25kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgLT0gMSAvIDMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IChub3RlLnZlbG9jaXR5IHx8IDEpICogYXR0ZW51YXRlICogb3B0c1tcInZvbHVtZVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgaW5uc2VybW9zdCBwYXJ0IG9mIHRoZSBpbm5lciBsb29wIVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBsYXkgdGhlIHRvbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5waXRjaCwgLy8gYXQgdGhlIGdpdmVuIHBpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjcywgLy8gZm9yIHRoZSBnaXZlbiBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYsIC8vIHdpdGggdGhlIGdpdmVuIHZvbHVtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5LCAvLyBzdGFydGluZyBhdCB0aGUgcHJvcGVyIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1icmUsIC8vIHdpdGggdGhlIHNlbGVjdGVkIHRpbWJyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgLy8gdGhlIG9yaWdpbiBvYmplY3QgZm9yIHZpc3VhbCBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxheSArPSBzdGVtLnRpbWUgKiBiZWF0c2VjczsgLy8gQWR2YW5jZSB0aGUgc2VxdWVuY2VkIHRpbWUuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1heGRlbGF5ID0gTWF0aC5tYXgoZGVsYXksIG1heGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhTY2hlZHVsZWRUaW1lID0gTWF0aC5tYXgodGhpcy5fbWF4U2NoZWR1bGVkVGltZSwgdGhpcy5ub3coKSArIG1heGRlbGF5KTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGEgXCJkb25lXCIgY2FsbGJhY2sgYWZ0ZXIgYWxsIHNlcXVlbmNpbmcgaXMgY29tcGxldGUuXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlKG1heGRlbGF5LCBkb25lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy9cbi8vIEVORCBJTlNUUlVNRU5UXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTXVzaWNhbCBKU1xuXG5jb25zdCBfSW5zdHJ1bWVudCA9IEluc3RydW1lbnQ7XG5jb25zdCBfcGFyc2VBQkNGaWxlID0gcGFyc2VBQkNGaWxlO1xuXG5uYW1lc3BhY2UgTXVzaWNhbCB7XG4gICAgZXhwb3J0IHR5cGUgSW5zdHJ1bWVudCA9IEluc3RydW1lbnQ7XG4gICAgZXhwb3J0IGNvbnN0IHBhcnNlQUJDRmlsZSA9IF9wYXJzZUFCQ0ZpbGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE11c2ljYWw7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apps/shared/sound/Musical.ts\n");

/***/ })

})