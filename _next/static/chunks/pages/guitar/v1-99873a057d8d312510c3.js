_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{BsWD:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("a3WO");function a(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},DSFK:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},KcGB:function(t,e,n){"use strict";var r=n("nKUr"),a=n("MX0m"),s=n.n(a);e.a=function(){return Object(r.jsxs)("div",{className:"jsx-1877042469",children:["shift + esc \u2192 clear",Object(r.jsx)("br",{className:"jsx-1877042469"}),"cmd + c \u2192 copy ",Object(r.jsx)("br",{className:"jsx-1877042469"}),"arrow keys \u2192 adjust",Object(r.jsx)("br",{className:"jsx-1877042469"}),"tab \u2192 combine",Object(r.jsx)(s.a,{id:"1877042469",children:["div.jsx-1877042469{float:right;text-align:right;font-size:70%;line-height:150%;margin-left:20px;}"]})]})}},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DSFK");var a=n("BsWD"),s=n("PYwp");function i(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}}(t,e)||Object(a.a)(t,e)||Object(s.a)()}},OTm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return d}));var r=n("1OyB"),a=n("vuIU"),s=n("rePB"),i=n("B7GI"),o=n("XlTo");function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,s=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function t(e){var n=this;Object(r.a)(this,t),Object(s.a)(this,"filesToLoad",[]);var a,i=c(e);try{var l=function(){var t=a.value,e=new o.i(t,(function(){console.log("Preloaded "+t)}));n.filesToLoad.push(e)};for(i.s();!(a=i.n()).done;)l()}catch(u){i.e(u)}finally{i.f()}},h=function t(){Object(r.a)(this,t)};Object(s.a)(h,"isRunning",!1);var f,p=h;!function(t){t[t.SynthBasic=0]="SynthBasic",t[t.SynthFM=1]="SynthFM",t[t.SynthAM=2]="SynthAM",t[t.SynthMusicalJS=3]="SynthMusicalJS",t[t.Sampled_1=4]="Sampled_1",t[t.Sampled_2=5]="Sampled_2",t[t.SynthPluck=6]="SynthPluck",t[t.COUNT=7]="COUNT"}(f||(f={}));var d=function(t){var e=parseInt(t);return!isNaN(e)&&e>=0&&e<f.COUNT?e:f.SynthBasic},y=function(){function t(e){if(Object(r.a)(this,t),Object(s.a)(this,"type",f.SynthBasic),Object(s.a)(this,"toneJS_SynthOrSampler",null),Object(s.a)(this,"toneJS_Pluck",null),Object(s.a)(this,"musicalJS_Synth",null),Object(s.a)(this,"isReady",!1),Object(s.a)(this,"preloader",null),Object(s.a)(this,"samplesMap",void 0),Object(s.a)(this,"baseURL",""),this.type=e,this.type===f.SynthMusicalJS)console.log("Creating a Musical JS Instrument"),this.musicalJS_Synth=new i.a.Instrument("piano"),this.isReady=!0;else switch(console.log("Creating a Tone JS Instrument"),p.isRunning||o.k().then((function(){console.log("Tone is Ready!"),p.isRunning=!0})),this.type){case f.Sampled_1:this.baseURL="/s/m/grand/",this.samplesMap={C1:"4.mp3",C2:"16.mp3",C3:"28.mp3",D3:"30.mp3",E3:"32.mp3",G3:"35.mp3",A3:"37.mp3",B3:"39.mp3",C4:"40.mp3",D4:"42.mp3",E4:"44.mp3",F4:"45.mp3",G4:"47.mp3",A4:"49.mp3",C5:"52.mp3",F5:"57.mp3",A5:"61.mp3",C6:"64.mp3",F6:"69.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.01});break;case f.Sampled_2:this.baseURL="/s/m/bright/",this.samplesMap={C1:"4.mp3",G1:"11.mp3",C2:"16.mp3",G2:"23.mp3",C3:"28.mp3",G3:"35.mp3",C4:"40.mp3",G4:"47.mp3",C5:"52.mp3",G5:"59.mp3",C6:"64.mp3",G6:"71.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSamplerInstrument({attack:.05});break;case f.SynthFM:this.toneJS_SynthOrSampler=new o.f(o.c).toDestination(),this.isReady=!0;break;case f.SynthAM:this.toneJS_SynthOrSampler=new o.f(o.a).toDestination(),this.isReady=!0;break;case f.SynthPluck:console.log("%cThe pluck synth is currently really shitty. Please do not proceed. \ud83d\ude49","color:red;font-size:16px;font-weight:bold;"),this.toneJS_Pluck=new o.e({attackNoise:.2,dampening:2e3,resonance:.982,release:1}).toDestination(),this.isReady=!0;break;case f.SynthBasic:default:this.toneJS_SynthOrSampler=new o.f(o.h).toDestination(),this.isReady=!0}}return Object(a.a)(t,[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e>0?" for ".concat(e," seconds"):"",a=" at velocity = "+n;console.log("Instrument: PLAY "+t+r+a);var s=t+20,i=o.d(s,"midi").toNote();this.toneJS_SynthOrSampler?e>0?this.toneJS_SynthOrSampler.triggerAttackRelease(i,e,o.j(),n):this.toneJS_SynthOrSampler.triggerAttack(i,o.j(),n):this.toneJS_Pluck?this.toneJS_Pluck.triggerAttack(i):this.musicalJS_Synth.tone(-s)}},{key:"stop",value:function(t){if(console.log("Instrument: STOP "+t),this.toneJS_SynthOrSampler){var e=t+20,n=o.d(e,"midi").toNote();this.toneJS_SynthOrSampler.triggerRelease(n)}}},{key:"setupSamplerInstrument",value:function(t){var e=this;this.isReady=!1;var n=[];for(var r in this.samplesMap){var a=this.samplesMap[r];n.push(this.baseURL+a)}this.preloader=new u(n);var s={urls:this.samplesMap,baseUrl:this.baseURL,attack:t.attack,release:.8,curve:"exponential",onload:function(){e.isReady=!0}};this.toneJS_SynthOrSampler=new o.g(s).toDestination()}},{key:"dispose",value:function(){this.preloader=null,this.toneJS_SynthOrSampler&&(this.toneJS_SynthOrSampler.dispose(),this.toneJS_SynthOrSampler=null),this.toneJS_Pluck&&(this.toneJS_Pluck.dispose(),this.toneJS_Pluck=null),this.musicalJS_Synth&&(this.musicalJS_Synth=null)}},{key:"isInitialized",get:function(){return this.isReady}}]),t}();e.b=y},PYwp:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},eRSt:function(t,e,n){"use strict";var r=n("nKUr"),a=n("MX0m"),s=n.n(a);e.a=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-1079321350"}),Object(r.jsx)(s.a,{id:"1079321350",children:["div.jsx-1079321350{clear:both;}"]})]})}},jLID:function(t,e,n){"use strict";n.r(e),n.d(e,"__N_SSG",(function(){return G}));var r=n("nKUr"),a=n("ODXe"),s=n("MX0m"),i=n.n(s),o=n("KcGB"),c=n("1OyB"),l=n("vuIU"),u=n("rePB"),h=n("WKqS"),f=n("OTm4"),p=null,d=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],y={1:44,2:39,3:35,4:30,5:25,6:20},b=function(){function t(){Object(c.a)(this,t),Object(u.a)(this,"setGuitarTab",void 0),Object(u.a)(this,"getGuitarTab",void 0),Object(u.a)(this,"getGuitarTabTextArea",void 0),Object(u.a)(this,"getGuitarCanvas",void 0),Object(u.a)(this,"noteOffsetForString",[0,7,2,10,5,0,7]),Object(u.a)(this,"piano",null),Object(u.a)(this,"fretOffset",0),Object(u.a)(this,"stringOffset",0),Object(u.a)(this,"noteGroups",[]),Object(u.a)(this,"keyboardLabels",[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l",";"],["z","x","c","v","b","n","m",",",".","/"]]),Object(u.a)(this,"keyCodeToFret",{90:0,88:1,67:2,86:3,66:4,78:5,77:6,188:7,190:8,191:9,65:0,83:1,68:2,70:3,71:4,72:5,74:6,75:7,76:8,186:9,59:9,222:10,81:0,87:1,69:2,82:3,84:4,89:5,85:6,73:7,79:8,80:9,219:10,221:11,220:12,49:0,50:1,51:2,52:3,53:4,54:5,55:6,56:7,57:8,48:9,189:10,187:11}),Object(u.a)(this,"keyCodeToString",{90:4,88:4,67:4,86:4,66:4,78:4,77:4,188:4,190:4,191:4,65:3,83:3,68:3,70:3,71:3,72:3,74:3,75:3,76:3,186:3,59:3,222:3,81:2,87:2,69:2,82:2,84:2,89:2,85:2,73:2,79:2,80:2,219:2,221:2,220:2,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,48:1,189:1,187:1}),this.setupCopyHandler()}return Object(l.a)(t,[{key:"setupCopyHandler",value:function(){var t=this;document.querySelector("html").addEventListener("copy",(function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.setData("text/plain",t.getNoteGroupsAsSpaceDelimitedString())})),document.querySelector("html").addEventListener("cut",(function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.setData("text/plain",t.getNoteGroupsAsSpaceDelimitedString()),setTimeout((function(){t.resetData()}),100)}))}},{key:"resetOffsets",value:function(){this.fretOffset=0,this.stringOffset=0,this.saveAndShowData()}},{key:"resetData",value:function(){this.noteGroups=[],this.saveAndShowData()}},{key:"deleteLastGroup",value:function(){this.noteGroups.pop(),this.saveAndShowData()}},{key:"saveAndShowData",value:function(){this.updateGuitarTabInTextArea(),this.drawFrets()}},{key:"updateGuitarTabInTextArea",value:function(){this.setGuitarTab(this.getNoteGroupsAsSpaceDelimitedString())}},{key:"getNoteGroupsAsSpaceDelimitedString",value:function(){return this.noteGroups.join(" ")}},{key:"splitNoteGroup",value:function(t){var e={6:"X",5:"X",4:"X",3:"X",2:"X",1:"X"};if(6==t.length)for(var n=t.toUpperCase().split("").reverse(),r=1;r<=6;r++)"X"!=n[r-1]&&(e[r]=n[r-1]);else{var a=t.split("_"),s=a[0],i=a[1];e[s]=i}return e}},{key:"mergeGroupIntoArray",value:function(t,e){if(console.log(t+" "+e),6==t.length)for(var n=t.toUpperCase().split(""),r=0;r<6;r++)"X"!=n[r]&&(e[r]=n[r]);else{var a=t.split("_"),s=a[0],i=parseInt(a[1]);i>9&&(i=i.toString(16).toUpperCase()),e[6-s]=i}}},{key:"mergeLastTwoGroups",value:function(){if(!(this.noteGroups.length<2)){var t=this.noteGroups.pop(),e=this.noteGroups.pop(),n=["X","X","X","X","X","X"];this.mergeGroupIntoArray(e,n),this.mergeGroupIntoArray(t,n),this.noteGroups.push(n.join("")),this.saveAndShowData()}}},{key:"drawStringsAndFrets",value:function(t){t.fillStyle="rgba(255,255,255,0.1)",t.fillRect(0,0,30,280),t.lineWidth=1;for(var e=1;e<=6;e++){t.beginPath();var n=.08*e;t.strokeStyle="rgba(255,255,255,".concat(n,")"),t.moveTo(0,40*e),t.lineTo(1040,40*e),t.stroke()}t.beginPath(),t.lineWidth=1,t.strokeStyle="rgba(255,255,255,0.5)";for(var r=1;r<=11;r++){var a=85*r+20;t.beginPath(),t.moveTo(a,0),t.lineTo(a,280),t.stroke()}}},{key:"getMostRecentNoteGroup",value:function(){var t=this.noteGroups[this.noteGroups.length-1];return this.splitNoteGroup(t)}},{key:"playMostRecentGroup",value:function(){if(0!==this.noteGroups.length)for(var t=this.getMostRecentNoteGroup(),e=1;e<=6;e++){var n=t[e];if("X"!=n){n=parseInt(n);var r=y[e]+n;this.playPianoNote(r)}}else console.log("No note groups to play.")}},{key:"playPianoNote",value:function(t){console.log("PLAY "+t),p.play(t,.4,.8)}},{key:"drawMostRecentGroup",value:function(t){if(0!=this.noteGroups.length)for(var e=this.getMostRecentNoteGroup(),n=1;n<=6;n++){var r=e[n];if("X"!=r){var a=85*(r=parseInt(r))+(0==r?15:-22.5),s=40*n;t.beginPath(),t.arc(a,s,14,0,2*Math.PI),t.fillStyle="rgba(180,180,0,0.5)",t.fill()}}}},{key:"drawFrets",value:function(){var t=this.getGuitarCanvas();if(t&&t.getContext){var e=t.getContext("2d");e&&(e.fillStyle="#131313",e.fillRect(0,0,t.width,t.height),this.drawStringsAndFrets(e),this.drawKeyLabels(e),this.drawMostRecentGroup(e))}}},{key:"drawKeyLabels",value:function(t){t.font="14px Tahoma",t.lineJoin="round",t.lineWidth=6;for(var e=1;e<=6;e++)for(var n=0;n<=12;n++){var r=0==n?10:-27.5,a=this.noteOffsetForString[e],s=d[(a+n)%12];t.fillStyle="C"===s?"#F55":"#FFF";var i=85*n+r,o=40*e+6;t.fillText(s,i,o)}t.font="15px Hack, Consolas, Courier",t.fillStyle="#FF4";for(var c=1;c<=4;c++)for(var l=0;l<10;l++){var u=this.keyboardLabels[c-1][l],h=l+this.fretOffset,f=85*h+(0==h?10:-27.5),p=40*(c+this.stringOffset)+22;t.fillText(u,f,p)}}},{key:"loadNoteGroupsFromGuitarTab",value:function(t){var e=t.trim();this.noteGroups=""==e?[]:e.split(" "),this.updateGuitarTabInTextArea()}},{key:"play",value:function(t,e){if(this.keyCodeToFret.hasOwnProperty(t)){var n=this.keyCodeToFret[t]+this.fretOffset;console.log("Adjusted Fret "+n);var r=this.keyCodeToString[t]+this.stringOffset,a=this.noteOffsetForString[r],s=d[(a+n)%12].toLowerCase();h.a.isNoteSharp(s)&&e++,h.a.isNoteFlat(s)&&e--,n+=e,this.noteGroups.push(r+"_"+n);var i=y[r]+n;this.playPianoNote(i),this.saveAndShowData()}}},{key:"onKeyDown",value:function(t){if(p||(p=new f.b(f.a.SynthBasic)),(!t.metaKey||37==t.keyCode||39==t.keyCode)&&!t.altKey){var e=0;switch(t.ctrlKey?e=-1:t.shiftKey&&(e=1),t.preventDefault(),t.keyCode){case 32:this.playMostRecentGroup();break;case 192:console.log("SHIFT + `"),this.resetData();break;case 27:t.shiftKey?this.resetData():this.resetOffsets();break;case 8:this.deleteLastGroup();break;case 9:this.mergeLastTwoGroups();break;case 37:this.fretOffset--,this.fretOffset<0&&(this.fretOffset=0),this.drawFrets();break;case 39:this.fretOffset++,this.fretOffset>3&&(this.fretOffset=3),this.drawFrets();break;case 38:this.stringOffset--,this.stringOffset<0&&(this.stringOffset=0),this.drawFrets();break;case 40:this.stringOffset++,this.stringOffset>2&&(this.stringOffset=2),this.drawFrets();break;default:this.play(t.keyCode,e)}}}}]),t}(),m=n("nZzK"),S=n("eRSt"),v=n("q1tI"),g=n("xgb5"),O=n("094J"),j=Object(O.a)("guitar_tab"),k=null;k=new b;var w=function(){var t=j(""),e=Object(a.a)(t,2),n=e[0],s=e[1],c=Object(v.useRef)(),l=Object(v.useRef)(),u=Object(v.useRef)();return Object(g.a)("keydown",(function(t){h.a.isFocusedOnInputs()||k.onKeyDown(t)})),Object(v.useEffect)((function(){h.a.setRef(u),k.setGuitarTab=s,k.getGuitarTab=function(){return n},k.getGuitarTabTextArea=function(){return c.current},k.getGuitarCanvas=function(){return l.current},k.loadNoteGroupsFromGuitarTab(n),k.drawFrets()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.a,{}),Object(r.jsx)("div",{className:"jsx-3851496053",children:Object(r.jsx)(m.a,{ref:u,localStorageKeyPrefix:"guitar",style:{float:"left"}})}),Object(r.jsx)(S.a,{}),Object(r.jsx)("br",{className:"jsx-3851496053"}),Object(r.jsxs)("div",{className:"jsx-3851496053 content",children:[Object(r.jsx)("textarea",{ref:c,rows:3,cols:80,defaultValue:n,readOnly:!0,className:"jsx-3851496053 textarea"}),Object(r.jsx)("canvas",{ref:l,width:"1040",height:"280",className:"jsx-3851496053 canvas"})]}),Object(r.jsx)(i.a,{id:"3641922067",children:["body{margin:15px 20px;}"]}),Object(r.jsx)(i.a,{id:"4277798255",children:[".content.jsx-3851496053{width:100%;text-align:center;}",".textarea.jsx-3851496053{font-family:Inconsolata,Menlo,Monaco,Courier,monospace;font-size:16pt;width:100%;background-color:#444;color:#ddd;}",".canvas.jsx-3851496053{border:1px solid rgba(0,0,0,0.2);}"]})]})},G=!0;e.default=function(){return Object(r.jsx)(w,{})}},wCx2:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guitar/v1",function(){return n("jLID")}])}},[["wCx2",0,1,3,2,4,6]]]);