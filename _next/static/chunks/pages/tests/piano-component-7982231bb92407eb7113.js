_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"4vIH":function(e,t,n){"use strict";n.r(t);var s,i=n("nKUr"),r=n("OTm4"),a=n("q1tI");function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw r}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var c=new Set,u=function(){function e(e){s.play(e),c.add(e)}function t(){var e,t=o(c);try{for(t.s();!(e=t.n()).done;){var n=e.value;s.stop(n)}}catch(i){t.e(i)}finally{t.f()}c.clear()}return Object(a.useEffect)((function(){}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){s=new r.b(r.a.SynthBasic)},children:"Start Tone"}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:t,children:"Stop Piano Sounds"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"scales",children:"Choose a scale:"})," ",Object(i.jsxs)("select",{name:"scales",id:"scales",children:[Object(i.jsx)("option",{value:"cmajor",children:"C Major"}),Object(i.jsx)("option",{value:"aminor",children:"A Minor"}),Object(i.jsx)("option",{value:"gmajor",children:"G Major"}),Object(i.jsx)("option",{value:"amajor",children:"A Major"})]})]}),Object(i.jsx)("div",{onClick:t,children:"STOP ALL SOUNDS"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"1"}),Object(i.jsx)("div",{children:"2"}),Object(i.jsx)("div",{children:"3"}),Object(i.jsx)("div",{children:"4"}),Object(i.jsx)("div",{children:"5"}),Object(i.jsx)("div",{children:"6"}),Object(i.jsx)("div",{children:"7"}),Object(i.jsx)("div",{onClick:function(){return e(40)},children:"C"}),Object(i.jsx)("div",{onClick:function(){return e(42)},children:"D"}),Object(i.jsx)("div",{children:"3"}),Object(i.jsx)("div",{children:"4"}),Object(i.jsx)("div",{children:"5"}),Object(i.jsx)("div",{children:"6"}),Object(i.jsx)("div",{onClick:function(){return e(51)},children:"B"}),Object(i.jsx)("div",{onClick:function(){return e(52)},children:"C"}),Object(i.jsx)("div",{children:"2"}),Object(i.jsx)("div",{children:"3"}),Object(i.jsx)("div",{children:"4"}),Object(i.jsx)("div",{children:"5"}),Object(i.jsx)("div",{children:"6"}),Object(i.jsx)("div",{children:"7"})]})]})};t.default=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"A Simple Piano Component"}),Object(i.jsx)(u,{})]})}},OTm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return d}));var s=n("1OyB"),i=n("vuIU"),r=n("rePB"),a=n("B7GI"),o=n("XlTo");function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var u=function e(t){var n=this;Object(s.a)(this,e),Object(r.a)(this,"filesToLoad",[]);var i,a=l(t);try{var c=function(){var e=i.value,t=new o.k(e,(function(){console.log("Preloaded "+e)}));n.filesToLoad.push(t)};for(a.s();!(i=a.n()).done;)c()}catch(u){a.e(u)}finally{a.f()}},h=function e(){Object(s.a)(this,e)};Object(r.a)(h,"isRunning",!1);var p,m=h;!function(e){e[e.SynthBasic=0]="SynthBasic",e[e.SynthFM=1]="SynthFM",e[e.SynthAM=2]="SynthAM",e[e.SynthFatSawtooth=3]="SynthFatSawtooth",e[e.SynthMusicalJS=4]="SynthMusicalJS",e[e.Sampled_1=5]="Sampled_1",e[e.Sampled_2=6]="Sampled_2",e[e.SynthTest1=7]="SynthTest1",e[e.SynthTest2=8]="SynthTest2",e[e.SynthTest3=9]="SynthTest3",e[e.COUNT=10]="COUNT"}(p||(p={}));var d=function(e){var t=parseInt(e);return!isNaN(t)&&t>=0&&t<p.COUNT?t:p.SynthBasic},y=0,S=function(){function e(t){if(Object(s.a)(this,e),Object(r.a)(this,"id",0),Object(r.a)(this,"type",p.SynthBasic),Object(r.a)(this,"toneJS_Instrument",void 0),Object(r.a)(this,"musicalJS_Instrument",null),Object(r.a)(this,"isReady",!1),Object(r.a)(this,"preloader",null),Object(r.a)(this,"samplesMap",void 0),Object(r.a)(this,"baseURL",""),Object(r.a)(this,"play_Helper",void 0),Object(r.a)(this,"stop",void 0),Object(r.a)(this,"silence",void 0),this.id=y,y++,console.log("Created Instrument ID: "+this.id),console.log("So far, we have created "+y+" instruments."),this.type=t,this.type===p.SynthMusicalJS)console.log("Creating a Musical JS Instrument"),this.musicalJS_Instrument=new a.a.Instrument("piano"),this.isReady=!0,this.play_Helper=this.play_HelperMusicalJS,this.stop=this.stop_doNothing,this.silence=this.silence_musicalJS;else switch(console.log("Creating a Tone JS Instrument"),m.isRunning||o.o().then((function(){console.log("Tone is Ready!"),m.isRunning=!0})),this.type){case p.SynthBasic:default:this.setupBasicInstrument(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.Sampled_1:this.setupSampledInstrument1(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.Sampled_2:this.setupSampledInstrument2(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.SynthFM:this.setupFMInstrument(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.SynthAM:this.setupAMInstrument(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.SynthFatSawtooth:this.setupFatSawtoothInstrument(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.SynthTest1:this.setupTestInstrument1(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNoParams,this.silence=this.silence_triggerRelease;break;case p.SynthTest2:this.setupTestInstrument2(),this.play_Helper=this.play_HelperToneJS,this.stop=this.stop_triggerReleaseNote,this.silence=this.silence_releaseAll;break;case p.SynthTest3:this.setupTestInstrument3(),this.play_Helper=this.play_HelperToneJS_PluckSynth,this.stop=this.stop_triggerReleaseNoParams,this.silence=this.silence_triggerRelease}}return Object(i.a)(e,[{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n>1?n=1:n<0&&(n=0),t<0&&(t=0);var s=t>0?" for ".concat(t," seconds"):"",i=" at velocity = "+n;console.log("Instrument: PLAY "+e+s+i);var r=e+20;this.play_Helper(r,t,n)}},{key:"play_HelperMusicalJS",value:function(e,t,n){this.musicalJS_Instrument.tone(-e)}},{key:"play_HelperToneJS",value:function(e,t,n){try{var s=o.m(e);t>0?this.toneJS_Instrument.triggerAttackRelease(s,t,o.n(),n):this.toneJS_Instrument.triggerAttack(s,o.n(),n)}catch(i){console.log(i)}}},{key:"play_HelperToneJS_PluckSynth",value:function(e,t,n){try{var s=o.m(e);this.toneJS_Instrument.triggerAttack(s)}catch(i){console.log(i)}}},{key:"stop_doNothing",value:function(e){}},{key:"stop_triggerReleaseNoParams",value:function(e){this.toneJS_Instrument.triggerRelease()}},{key:"stop_triggerReleaseNote",value:function(e){var t=e+20,n=o.m(t);this.toneJS_Instrument.triggerRelease(n)}},{key:"setupSampledInstrument1",value:function(){this.baseURL="/s/m/grand/",this.samplesMap={C1:"4.mp3",C2:"16.mp3",C3:"28.mp3",D3:"30.mp3",E3:"32.mp3",G3:"35.mp3",A3:"37.mp3",B3:"39.mp3",C4:"40.mp3",D4:"42.mp3",E4:"44.mp3",F4:"45.mp3",G4:"47.mp3",A4:"49.mp3",C5:"52.mp3",F5:"57.mp3",A5:"61.mp3",C6:"64.mp3",F6:"69.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSampledInstrument({attack:.01})}},{key:"setupSampledInstrument2",value:function(){this.baseURL="/s/m/bright/",this.samplesMap={C1:"4.mp3",G1:"11.mp3",C2:"16.mp3",G2:"23.mp3",C3:"28.mp3",G3:"35.mp3",C4:"40.mp3",G4:"47.mp3",C5:"52.mp3",G5:"59.mp3",C6:"64.mp3",G6:"71.mp3",C7:"76.mp3",G7:"83.mp3",C8:"88.mp3"},this.setupSampledInstrument({attack:.05})}},{key:"setupSampledInstrument",value:function(e){var t=this;this.isReady=!1;var n=[];for(var s in this.samplesMap){var i=this.samplesMap[s];n.push(this.baseURL+i)}this.preloader=new u(n);var r={urls:this.samplesMap,baseUrl:this.baseURL,attack:e.attack,release:.8,curve:"exponential",onload:function(){t.isReady=!0}};this.toneJS_Instrument=new o.i(r).toDestination()}},{key:"setupBasicInstrument",value:function(){console.log("Basic");var e=new o.g(o.j);e.toDestination(),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupFMInstrument",value:function(){console.log("SynthFM");var e=new o.g(o.c);e.toDestination(),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupFatSawtoothInstrument",value:function(){console.log("SynthFatSawtooth");var e=new o.g(o.j,{oscillator:{type:"fatsawtooth",count:3,spread:22}}),t=new o.h({preDelay:.1,decay:1,wet:.55});e.chain(t,o.b),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupAMInstrument",value:function(){console.log("SynthAM");var e=new o.g(o.a),t=new o.h({preDelay:.1,decay:1,wet:.55}),n=new o.l(8);e.chain(t,n,o.b),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupTestInstrument1",value:function(){console.log("Test 1: MetalSynth");var e=new o.g(o.d),t=new o.h({preDelay:.1,decay:.8,wet:.66}),n=new o.l(-10);e.chain(t,n,o.b),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupTestInstrument2",value:function(){console.log("Test 2: MonoSynth");var e=new o.g(o.e);e.toDestination(),this.toneJS_Instrument=e,this.isReady=!0}},{key:"setupTestInstrument3",value:function(){console.log("Test 2: PluckSynth");var e=new o.f({attackNoise:.2,dampening:2e3,resonance:.982,release:1}),t=new o.h({preDelay:.1,decay:2,wet:.75});e.chain(t,o.b),this.toneJS_Instrument=e,this.isReady=!0}},{key:"silence_releaseAll",value:function(){this.toneJS_Instrument.releaseAll()}},{key:"silence_triggerRelease",value:function(){this.toneJS_Instrument.triggerRelease()}},{key:"silence_musicalJS",value:function(){this.musicalJS_Instrument.silence()}},{key:"dispose",value:function(){console.log("Disposing of Instrument ID: "+this.id),this.preloader=null,this.toneJS_Instrument&&(this.toneJS_Instrument.dispose(),this.toneJS_Instrument=null),this.musicalJS_Instrument&&(this.musicalJS_Instrument=null)}},{key:"isInitialized",get:function(){return this.isReady}}]),e}();t.b=S},cW0E:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tests/piano-component",function(){return n("4vIH")}])}},[["cW0E",0,1,2,3]]]);